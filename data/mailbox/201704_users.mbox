From users-return-65175-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sat Apr  1 08:03:53 2017
Return-Path: <users-return-65175-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D6B4C199C1
	for <apmail-camel-users-archive@www.apache.org>; Sat,  1 Apr 2017 08:03:53 +0000 (UTC)
Received: (qmail 8492 invoked by uid 500); 1 Apr 2017 08:03:53 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 8440 invoked by uid 500); 1 Apr 2017 08:03:53 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 8428 invoked by uid 99); 1 Apr 2017 08:03:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Apr 2017 08:03:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7145F1A0577
	for <users@camel.apache.org>; Sat,  1 Apr 2017 08:03:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.898
X-Spam-Level:
X-Spam-Status: No, score=-2.898 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=yahoo.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id cDoKVolyWWfM for <users@camel.apache.org>;
	Sat,  1 Apr 2017 08:03:50 +0000 (UTC)
Received: from nm22-vm1.bullet.mail.bf1.yahoo.com (nm22-vm1.bullet.mail.bf1.yahoo.com [98.139.212.127])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 641FA5FCDE
	for <users@camel.apache.org>; Sat,  1 Apr 2017 08:03:50 +0000 (UTC)
Received: from [98.139.170.182] by nm22.bullet.mail.bf1.yahoo.com with NNFMP; 01 Apr 2017 08:03:43 -0000
Received: from [68.142.230.64] by tm25.bullet.mail.bf1.yahoo.com with NNFMP; 01 Apr 2017 08:03:43 -0000
Received: from [127.0.0.1] by smtp221.mail.bf1.yahoo.com with NNFMP; 01 Apr 2017 08:03:43 -0000
X-Yahoo-Newman-Id: 666914.46887.bm@smtp221.mail.bf1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: 9dGsZbgVM1kTTIBOlo_Dj99YKnKgMmhuAlZJ9_jW6dbqPz3
 6ndYxWjMkzOPEJY0t5T.QpLcKfW7ywmcs82o.ACdAUFbbauChAPZWM4I0A.Q
 kkqjJ85KxfYBbbTpp194ZB_eelIe8bs0IW2hh5CAdKGloUAsTC7hHjkWjrAz
 HPpSfudeIs0ajeImCU_hHMCyGXNqGvLRT3e4tPmVaPzbl2rLxs101s.L8W2T
 b8ydu9Oz2ArjH19y9UWaaYgd5pciDs1P446ssDkPdrFBhAvunR3TaWy_hX5N
 BrAZBFvcqqw2gL1zRIi_QQwSDv62XMU5ysUvrU32_S5HcqEMLboYLGHr0kVD
 ye5utJaygviOf3uRzxIfNQ6FDSnc1zL_jz6jHjvRdt9W7FSP0aAwbWLjF.T8
 o9GjLC4tjnXLedeg8xOecriw.uWAbsxnT4Mc_VZ5cHYJ0BwSFkE8qLluKdTd
 RkX3Wyr52pJbTSMKEJch69ICoFlNyDvmdKB7thYSCtQ9bTUIrLH6uOpKxW6F
 CmgN.wGUop9tIERqEOzXMalUVFIm6OIPfmEG8.OWwNCl1R2TsBuK3DUaDkHR
 2guHH
X-Yahoo-SMTP: uvldg1aswBDAGjrCtRmdM_TbPcQ-
From: Martin Lichtin <lichtin@yahoo.com.INVALID>
Subject: Re: Using rollback() inside onException
To: users@camel.apache.org
References: <372543053.7798552.1490962739780.ref@mail.yahoo.com>
 <372543053.7798552.1490962739780@mail.yahoo.com>
 <B7875AF6-3BB6-4805-95AD-793EDF867B7C@pronoia-solutions.com>
Message-ID: <9fc782d6-7d5d-9e16-a038-f1c68e41ff6b@yahoo.com>
Date: Sat, 1 Apr 2017 10:03:48 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.3; WOW64; rv:45.0) Gecko/20100101
 Thunderbird/45.8.0
MIME-Version: 1.0
In-Reply-To: <B7875AF6-3BB6-4805-95AD-793EDF867B7C@pronoia-solutions.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Thanks, indeed it all works as expected without using rollback().
I had cases of onException().handled(true)....rollback().end() that could be simplified to onException()....end().


On 31.03.2017 17:10, Quinn Stevenson wrote:
> I don’t this this would make sense for handling java.lang.Exception - I think you’re right about Camel doing the same action by default.
>
> I guess if there was some other exception you were handling (i.e. handled(true)), you may want to call rollback - but I can’t think of a really good example right of hand.  The place’s I’ve used rollback() (actually markRollbackOnly() - I’ve never used rollback()) are in routes where something besides an exception determines whether or not I want to rollback the transaction.
>
> For what it’s worth ...
>
>
>> On Mar 31, 2017, at 6:18 AM, Martin Lichtin<lichtin@yahoo.com.INVALID>  wrote:
>>
>> Hi
>> Wanted to ask, what would be a reason to explicitly call rollback() in an onException().
>>
>> For example, would this make sense?
>>
>>
>> .onException(Exception.class).rollback().end()
>>
>> I'm under the expression above line could just be left out, as Camel anyway lets
>>
>> the exception up and that will cause the transaction to roll back.


From users-return-65176-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sat Apr  1 08:49:43 2017
Return-Path: <users-return-65176-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BB96A19AAB
	for <apmail-camel-users-archive@www.apache.org>; Sat,  1 Apr 2017 08:49:43 +0000 (UTC)
Received: (qmail 38520 invoked by uid 500); 1 Apr 2017 08:49:43 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 38497 invoked by uid 500); 1 Apr 2017 08:49:43 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 38486 invoked by uid 99); 1 Apr 2017 08:49:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Apr 2017 08:49:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1CDDB1A0711
	for <users@camel.apache.org>; Sat,  1 Apr 2017 08:49:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.966
X-Spam-Level: *
X-Spam-Status: No, score=1.966 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id sT7YllJRTF3B for <users@camel.apache.org>;
	Sat,  1 Apr 2017 08:49:39 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 346455F243
	for <users@camel.apache.org>; Sat,  1 Apr 2017 08:49:38 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 235A340366EA
	for <users@camel.apache.org>; Sat,  1 Apr 2017 01:23:27 -0700 (PDT)
Date: Sat, 1 Apr 2017 01:49:36 -0700 (MST)
From: preader <paul.reader@cubic.com>
To: users@camel.apache.org
Message-ID: <1491036576475-5796802.post@n5.nabble.com>
Subject: IOException: Stream closed - when forwarding HTTP request
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I'm doing an HTTP forward in a Camel Processor and getting a Stream closed
error as shown in the stack trace below. This used to work when using Camel
2.13.2, but it is no longer working now we're running Camel 2.17.1. I've
also tried 2.17.6 and 2.18.3 with the same result. The stack trace below is
when using 2.18.3.

The application runs on Tomcat 8.0.30, JDK 8.

Route configuration:
        from("servlet:///?matchOnUriPrefix=true")
        .to("restInboundRequestTransformer")   // This is the Processor that
is performing the forward.
        ...

Forwarding:
        httpReq.getRequestDispatcher(requestURI).forward(httpReq, httpRsp);
        ex.setProperty(Exchange.ROUTE_STOP, Boolean.TRUE);

https://issues.apache.org/jira/browse/CAMEL-10425 is very similar, but
indicates it is fixed in Camel 2.18.1.

This seems like a bug in Camel, but I'd appreciate any advice on whether
there is a better way for forwarding an HTTP request than what I'm doing.

org.apache.camel.RuntimeCamelException: java.io.IOException: Stream closed
	at org.apache.camel.http.common.HttpMessage.createBody(HttpMessage.java:74)
	at org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:47)
	at
org.apache.camel.http.common.DefaultHttpBinding.readBody(DefaultHttpBinding.java:184)
	at
org.apache.camel.http.common.DefaultHttpBinding.readRequest(DefaultHttpBinding.java:107)
	at org.apache.camel.http.common.HttpMessage.<init>(HttpMessage.java:52)
	at
org.apache.camel.http.common.CamelServlet.doService(CamelServlet.java:169)
	at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:74)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at
org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:719)
	at
org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:465)
	at
org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:390)
	at
org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:317)
	at
com.mycompany.camel.processor.RestInboundRequestTransformer.process(RestInboundRequestTransformer.java:98)
	at
org.apache.camel.impl.ProcessorEndpoint.onExchange(ProcessorEndpoint.java:103)
	at
org.apache.camel.impl.ProcessorEndpoint$1.process(ProcessorEndpoint.java:71)
	at
org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:145)
	at
org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:77)
	at
org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:542)
	at
org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:197)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:120)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:83)
	at
org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:197)
	at
org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:97)
	at
org.apache.camel.http.common.CamelServlet.doService(CamelServlet.java:195)
	at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:74)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at
org.apache.catalina.core.StandardContextValve.__invoke(StandardContextValve.java:106)
	at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java)
	at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at
org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:521)
	at
org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1096)
	at
org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:674)
	at
org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)
	at
org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)
	at
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at
org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.io.IOException: Stream closed
	at org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:372)
	at
org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:156)
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:196)
	at org.apache.camel.util.IOHelper.copy(IOHelper.java:169)
	at org.apache.camel.util.IOHelper.copyAndCloseInput(IOHelper.java:218)
	at org.apache.camel.util.IOHelper.copyAndCloseInput(IOHelper.java:214)
	at
org.apache.camel.http.common.HttpHelper.readResponseBodyFromInputStream(HttpHelper.java:244)
	at
org.apache.camel.http.common.HttpHelper.readRequestBodyFromServletRequest(HttpHelper.java:195)
	at
org.apache.camel.http.common.DefaultHttpBinding.parseBody(DefaultHttpBinding.java:572)
	at org.apache.camel.http.common.HttpMessage.createBody(HttpMessage.java:72)
	... 52 more






--
View this message in context: http://camel.465427.n5.nabble.com/IOException-Stream-closed-when-forwarding-HTTP-request-tp5796802.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65177-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sat Apr  1 11:09:33 2017
Return-Path: <users-return-65177-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F3F3619D49
	for <apmail-camel-users-archive@www.apache.org>; Sat,  1 Apr 2017 11:09:32 +0000 (UTC)
Received: (qmail 12940 invoked by uid 500); 1 Apr 2017 11:09:32 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 12892 invoked by uid 500); 1 Apr 2017 11:09:32 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 12878 invoked by uid 99); 1 Apr 2017 11:09:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Apr 2017 11:09:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A94D4188A08
	for <users@camel.apache.org>; Sat,  1 Apr 2017 11:09:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.481
X-Spam-Level: **
X-Spam-Status: No, score=2.481 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=ravenpack-com.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id GIlbSopBNVrs for <users@camel.apache.org>;
	Sat,  1 Apr 2017 11:09:30 +0000 (UTC)
Received: from mail-lf0-f54.google.com (mail-lf0-f54.google.com [209.85.215.54])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 04BA45F1A0
	for <users@camel.apache.org>; Sat,  1 Apr 2017 11:09:30 +0000 (UTC)
Received: by mail-lf0-f54.google.com with SMTP id z15so54045804lfd.1
        for <users@camel.apache.org>; Sat, 01 Apr 2017 04:09:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ravenpack-com.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=rcgugTTmM+0THNuo0bim6UYKsIFFk3MPTxMhMshQKeA=;
        b=Ms8wcD9+YLDDyR3zd65TDsWVDl+DozHuskcQQIl0eV1ImVtGrTfSeWmLImkDBPr3yW
         0ueJNmvfEuo/U+romgD1WYksfEspCXsLGJon7jFbFdYxBVq4Nq18U7+Q/Nu7+1TnzEDE
         KQ6Thi3a35/K/8FMVx8761lKtNB6yX/ZPS9CSx3hpcVz+ssMg/9P8MNoJ9Gk/xsuAfHI
         bA8mZ7o79rv4sJICrrYvgGKTkekKVrSdYPCIjG7ef923b0JNiHkJb61eeOyX4Lzc+kEp
         J//HR+myPKr/6FXG/TC7iXS43/GMWYVcW1TUM7Mlxm0IFKV241NCWhO0ZPU+ktiw/YLq
         koFg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=rcgugTTmM+0THNuo0bim6UYKsIFFk3MPTxMhMshQKeA=;
        b=ive9Zm4i8cQSVnYqOYd0GmnrK8QNtfe7haIV8SvC1Hu+3GPWB6GqjZV+n0eT/5eWij
         /YMQe5FEqjc08iMnRxKXaroLWdL9obwtIpSP/rdQTHXoLh3Ztw0U1VEPEh5UIfpMFqVO
         e/E7jfq0WCAzcSxb6UuluTP3dCqeYtIhpz6xtasmHYYmGJd1/xQOlP3/Urjb2X8gNOrD
         NbKNK6VVQv2sht/PlpjzJqBLRz+nQdgAqjd09+iDhHIkquVMzB5Jl4WcOfzaxA9PWSwT
         bgRSglEOhZc1HHZnO/m0MnfVEv/dakmgjyUhectlpjwbTEEx15T96mRxfqxdHRcQHtL7
         5FnQ==
X-Gm-Message-State: AFeK/H3lEqF7KsdZgtvZFsJCW8v/09sbxSnX08K4F68wh5G+kzmeY7PsN3uAoXUrY6OEE7zep49iEuSkxaqQaAAE
X-Received: by 10.25.190.2 with SMTP id o2mr2561443lff.80.1491044962205; Sat,
 01 Apr 2017 04:09:22 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.25.39.67 with HTTP; Sat, 1 Apr 2017 04:09:21 -0700 (PDT)
Received: by 10.25.39.67 with HTTP; Sat, 1 Apr 2017 04:09:21 -0700 (PDT)
In-Reply-To: <CABD_Zr-1MfR7kP+xHv3AN2HAuH7=tBTK-s7m_9cwogysqYRxyA@mail.gmail.com>
References: <CADUzpe432nZf=O_bShjzw9qvqS7Xubc_Bvhf8eifhKPi=VNWSw@mail.gmail.com>
 <CADUzpe6YwyAgZGBSLC9g98oDUkMrnVZ-N_a7SiAsCihSWf-f7A@mail.gmail.com>
 <CADUzpe6F2TvY7kM6S6Kdk-UYpCNxwY77NXp8aR7Reh1PGCGJfQ@mail.gmail.com>
 <CADUzpe4Zp_qhvM2THyc6+L-Pd3nwivhGuyw=k+TZNL64pGPe_g@mail.gmail.com>
 <CADUzpe4_FoBQus3yMvk0m+K_jc8n-66MOC8KCEC7Tyvcv9-N5w@mail.gmail.com>
 <CADUzpe7TMoGVyHVbtDQWxE23coSZxVVwrEXwioTmVm923McZaQ@mail.gmail.com>
 <CADUzpe6QfQciTxY9Xx-8hTs_RQcY_ehzAyZAYvvRNqPaNnRVSQ@mail.gmail.com>
 <CADUzpe4bD6u_7n2Nivje26Uvqa_6GPw6qYWjNYRegnZ70aLeew@mail.gmail.com>
 <CADUzpe5bHsXJoFtwFEJ1_o8SrFQKT1bOmUF6EM8vkjg8NrTUpA@mail.gmail.com>
 <CADUzpe7upq4whYMdZ6PPiuQpvShGaFcLAntALN-Kaz6K-HdO2A@mail.gmail.com>
 <CADUzpe6Nj0vTfpdnHxsreDT8m_Q1Om8iHzF624yvw1BAQgtD9Q@mail.gmail.com>
 <CADUzpe4g=_e2BeWcvEug9Sj7LcbDVMEgRT=7S6nnvOMKXS0eMw@mail.gmail.com>
 <CADUzpe7pXptw7phTajnq_8-ho3CEdG39PrNF1NwFhcmLiiL8aw@mail.gmail.com>
 <CADUzpe7QgvpT8x80UPixxpHR_MXtDr3Y6Mn-oiHbnF=wP67AAw@mail.gmail.com> <CABD_Zr-1MfR7kP+xHv3AN2HAuH7=tBTK-s7m_9cwogysqYRxyA@mail.gmail.com>
From: Artur Jablonski <ajablonski@ravenpack.com>
Date: Sat, 1 Apr 2017 13:09:21 +0200
Message-ID: <CADUzpe5K4Qy=Dtu=9Qgnz4HoXXnLfp2UkShMgACy-n-Kv77XZg@mail.gmail.com>
Subject: Re: Curious routing case
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c1a087c51199b054c18f523

--94eb2c1a087c51199b054c18f523
Content-Type: text/plain; charset=UTF-8

Hey Zoran.

I read again the patterns you mentioned. In my use case the order of
processing within a group doesn't matter as long as two messages from the
same group are never processed in parallel. So i guess resenquencer is out
of the picture unless I didn't get the intention.

So what we are left with is the content based router. Sure. The message
comes, i can see what group it belongs two... And what next? Perhaps it's
the very first message from that group so I would need to trigger creating
route/processor for that group somehow, perhaps messages from this group
were processed before in which case the processor for the group should
already exist...




On 31 Mar 2017 7:58 p.m., "Zoran Regvart" <zoran@regvart.com> wrote:

> Hi Artur,
> have a look at Camel EIP page[1], what you describe sounds to me like
> Resequencer and Content based router patterns,
>
> zoran
>
> [1] https://camel.apache.org/eip.html
>
> On Fri, Mar 31, 2017 at 5:08 PM, Artur Jablonski
> <ajablonski@ravenpack.com> wrote:
> > Hello.
> >
> > I wonder if someone could push me in the right direction trying to
> express
> > quite curious case in Camel route.
> >
> > Imagine there's a stream of messages some of which can be processed in
> > parallel and some have to be processed serially. You can group the
> messages
> > that require serial processing together by looking at the message body.
> You
> > don't know upfront how many groups can occur in the stream.
> >
> > The way I thought about doing this is having a route for each message
> > group. Since I don't know upfront how many and what groups there will be
> > then I would need to create routes dynamically. If a message comes
> > belonging to a group that doesn't have it's handling route, then i could
> > create it (is that even possible??) Then if there's no messages coming
> for
> > a given group in some time I could remove the route for the group to
> > cleanup (is that possible?)
> >
> > New to Camel
> >
> > Thx!
> > Artur
>
>
>
> --
> Zoran Regvart
>

--94eb2c1a087c51199b054c18f523--

From users-return-65178-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr  3 05:31:57 2017
Return-Path: <users-return-65178-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6DFF419445
	for <apmail-camel-users-archive@www.apache.org>; Mon,  3 Apr 2017 05:31:57 +0000 (UTC)
Received: (qmail 74601 invoked by uid 500); 3 Apr 2017 05:31:56 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 74540 invoked by uid 500); 3 Apr 2017 05:31:56 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 74529 invoked by uid 99); 3 Apr 2017 05:31:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Apr 2017 05:31:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E5E38C3B61
	for <users@camel.apache.org>; Mon,  3 Apr 2017 05:31:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 8MyQtXGj-lVO for <users@camel.apache.org>;
	Mon,  3 Apr 2017 05:31:55 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 01B6F5FBA4
	for <users@camel.apache.org>; Mon,  3 Apr 2017 05:31:54 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 07B0A4051926
	for <users@camel.apache.org>; Sun,  2 Apr 2017 22:05:32 -0700 (PDT)
Date: Sun, 2 Apr 2017 22:31:54 -0700 (MST)
From: "dilip.pashupathi" <dilip.pashupathi@gmail.com>
To: users@camel.apache.org
Message-ID: <1491197514768-5796842.post@n5.nabble.com>
In-Reply-To: <CABD_Zr_=H4rQw2VArYNF-AMxPNR7Ndbx59qM8VuDO=zMZ_41yw@mail.gmail.com>
References: <AANLkTinZF3Qs7qVSf9iQmZGssz7PGqCPqrQ9fF3QZuEu@mail.gmail.com> <1292341153439-3304768.post@n5.nabble.com> <AANLkTim=Eb1o3Bx4ebdNLXzC70oat1Y8pzm+MGWwyVTU@mail.gmail.com> <1292348597679-3304969.post@n5.nabble.com> <AANLkTi=x1MM7sb7iGjW=h6KjRogC=nE0OQmjpEk38PRZ@mail.gmail.com> <1292488120575-3307566.post@n5.nabble.com> <AANLkTimiAcQG3sUMNWw_imX8Jg5_rpAPXRoFtWrEpDXk@mail.gmail.com> <1490964397877-5796783.post@n5.nabble.com> <1490969285939-5796786.post@n5.nabble.com> <CABD_Zr_=H4rQw2VArYNF-AMxPNR7Ndbx59qM8VuDO=zMZ_41yw@mail.gmail.com>
Subject: Re: Using ConsumerTemplate to fetch files.
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi, Thanks for the reply, 
The thing is we don't have multiple FTP servers. We have only one server
where all operations happens.

1. At the root folder of the FTP, there is file that needs to be deleted
2. Before deleting that file, the file should be taken as a backup and
placed in one of the subdirectory. 
3. After that from the request I need read the data and produce a file that
should be placed in the ftp root directory. 

For all the above only a single FTP server is available and there are three
different calls happening. 
First call is to download the file from 
ftp_site/somefile.js
Pass this on to
ftp_site/backup
Read the file from request params and place it in 
ftp_site/somefile_update_<date_time>.js





--
View this message in context: http://camel.465427.n5.nabble.com/Using-ConsumerTemplate-to-fetch-files-tp3304671p5796842.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65179-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr  3 06:56:58 2017
Return-Path: <users-return-65179-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5BDA519638
	for <apmail-camel-users-archive@www.apache.org>; Mon,  3 Apr 2017 06:56:58 +0000 (UTC)
Received: (qmail 60313 invoked by uid 500); 3 Apr 2017 06:56:57 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 60259 invoked by uid 500); 3 Apr 2017 06:56:57 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 60247 invoked by uid 99); 3 Apr 2017 06:56:57 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Apr 2017 06:56:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2647A18050B
	for <users@camel.apache.org>; Mon,  3 Apr 2017 06:56:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id kEx1ZdB5qzzw for <users@camel.apache.org>;
	Mon,  3 Apr 2017 06:56:56 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 27F585FC62
	for <users@camel.apache.org>; Mon,  3 Apr 2017 06:56:56 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 58D384052CAF
	for <users@camel.apache.org>; Sun,  2 Apr 2017 23:30:32 -0700 (PDT)
Date: Sun, 2 Apr 2017 23:56:55 -0700 (MST)
From: "dilip.pashupathi" <dilip.pashupathi@gmail.com>
To: users@camel.apache.org
Message-ID: <1491202615485-5796845.post@n5.nabble.com>
In-Reply-To: <1491197514768-5796842.post@n5.nabble.com>
References: <1292341153439-3304768.post@n5.nabble.com> <AANLkTim=Eb1o3Bx4ebdNLXzC70oat1Y8pzm+MGWwyVTU@mail.gmail.com> <1292348597679-3304969.post@n5.nabble.com> <AANLkTi=x1MM7sb7iGjW=h6KjRogC=nE0OQmjpEk38PRZ@mail.gmail.com> <1292488120575-3307566.post@n5.nabble.com> <AANLkTimiAcQG3sUMNWw_imX8Jg5_rpAPXRoFtWrEpDXk@mail.gmail.com> <1490964397877-5796783.post@n5.nabble.com> <1490969285939-5796786.post@n5.nabble.com> <CABD_Zr_=H4rQw2VArYNF-AMxPNR7Ndbx59qM8VuDO=zMZ_41yw@mail.gmail.com> <1491197514768-5796842.post@n5.nabble.com>
Subject: Re: Using ConsumerTemplate to fetch files.
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi, 

I also tried your suggestions like below

 from("ftp://username@localhost:8899/...<other_default_params>")
     .mulitcast().to("direct:processes-backup","direct:upload-fresh");

from("direct:process-backup")
   .bean(responseTranslator,"translate").


But when I started my jetty server where the service is deployed it stopped
with an error stating that "Connection Refused". 

I was trying to simulate if any exception happens then that should be caught
and thrown by onException handler. 

Here is is the basics of how this service is configured. We have three
different layers each separated by their own configurations. 
1. Application or App layer
2. Business - where logical stuff happens
3. Integration services - where the connection with backend is established
and request is sent to third party services for further processing. 

And for all this we are only using camels "direct" component only since we
don't have any use for other components. And these are deployed on "JBoss 7"
servers for actual integration test. And for local test we use Jetty Server. 

And since starting up the Jetty server will ping all the services and see if
the routes are all connectable, if any of them throws error our servers are
configured to stop there till the problem is resolved. 

hence I cannot use the "from" at the very beginning  to do a multicast as
well. 



--
View this message in context: http://camel.465427.n5.nabble.com/Using-ConsumerTemplate-to-fetch-files-tp3304671p5796845.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65180-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr  3 07:02:35 2017
Return-Path: <users-return-65180-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 160F819678
	for <apmail-camel-users-archive@www.apache.org>; Mon,  3 Apr 2017 07:02:35 +0000 (UTC)
Received: (qmail 68140 invoked by uid 500); 3 Apr 2017 07:02:34 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 68059 invoked by uid 500); 3 Apr 2017 07:02:34 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 68047 invoked by uid 99); 3 Apr 2017 07:02:34 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Apr 2017 07:02:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 5CCCAC036E
	for <users@camel.apache.org>; Mon,  3 Apr 2017 07:02:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MjHAu-Ly1P0F for <users@camel.apache.org>;
	Mon,  3 Apr 2017 07:02:32 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 8ABD45F23A
	for <users@camel.apache.org>; Mon,  3 Apr 2017 07:02:32 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 04A6E4052D39
	for <users@camel.apache.org>; Sun,  2 Apr 2017 23:36:09 -0700 (PDT)
Date: Mon, 3 Apr 2017 00:02:32 -0700 (MST)
From: "dilip.pashupathi" <dilip.pashupathi@gmail.com>
To: users@camel.apache.org
Message-ID: <1491202952197-5796846.post@n5.nabble.com>
In-Reply-To: <1491202615485-5796845.post@n5.nabble.com>
References: <AANLkTim=Eb1o3Bx4ebdNLXzC70oat1Y8pzm+MGWwyVTU@mail.gmail.com> <1292348597679-3304969.post@n5.nabble.com> <AANLkTi=x1MM7sb7iGjW=h6KjRogC=nE0OQmjpEk38PRZ@mail.gmail.com> <1292488120575-3307566.post@n5.nabble.com> <AANLkTimiAcQG3sUMNWw_imX8Jg5_rpAPXRoFtWrEpDXk@mail.gmail.com> <1490964397877-5796783.post@n5.nabble.com> <1490969285939-5796786.post@n5.nabble.com> <CABD_Zr_=H4rQw2VArYNF-AMxPNR7Ndbx59qM8VuDO=zMZ_41yw@mail.gmail.com> <1491197514768-5796842.post@n5.nabble.com> <1491202615485-5796845.post@n5.nabble.com>
Subject: Re: Using ConsumerTemplate to fetch files.
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi, 

Basic idea here is to capture any exception that may occur due to failure in
FTP connections or any other form of exception. Since the process is
happening inside the contentBackupProcessor, Camel is basically ignoring the
exception and continuing with the next operation as if nothing wrong
happened. 

Thanks
Dilip



--
View this message in context: http://camel.465427.n5.nabble.com/Using-ConsumerTemplate-to-fetch-files-tp3304671p5796846.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65181-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr  3 08:45:44 2017
Return-Path: <users-return-65181-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8C5FD19EF3
	for <apmail-camel-users-archive@www.apache.org>; Mon,  3 Apr 2017 08:45:44 +0000 (UTC)
Received: (qmail 31310 invoked by uid 500); 3 Apr 2017 08:45:44 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 31263 invoked by uid 500); 3 Apr 2017 08:45:44 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 31249 invoked by uid 99); 3 Apr 2017 08:45:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Apr 2017 08:45:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1A1B1C05A7
	for <users@camel.apache.org>; Mon,  3 Apr 2017 08:45:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.896
X-Spam-Level:
X-Spam-Status: No, score=-2.896 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=regvart.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id QfKuZe7yOCUB for <users@camel.apache.org>;
	Mon,  3 Apr 2017 08:45:42 +0000 (UTC)
Received: from mail-wr0-f174.google.com (mail-wr0-f174.google.com [209.85.128.174])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id B39B75F5C6
	for <users@camel.apache.org>; Mon,  3 Apr 2017 08:45:41 +0000 (UTC)
Received: by mail-wr0-f174.google.com with SMTP id l43so160626064wre.1
        for <users@camel.apache.org>; Mon, 03 Apr 2017 01:45:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=regvart.com; s=google;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=rxvIS/JV4e+GJMKkVA1CbE2dIgIU7aQLPE6vwpdKZII=;
        b=Tl+5rbuRdMfZGo+tM0dYUkBpaKyiUumSZNiRzFwUtThQcssbSc1ifzdTQd69hNEpkV
         OwfV/AowKpoXnWuwLVni/GN1P9tcWtRQcLpVzM2Ba5kGxK2EoLBNILx06C24ujQVYNEX
         rzqY4eRgZRkYDcRdOTgQi014HVd05vc0stLKs=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=rxvIS/JV4e+GJMKkVA1CbE2dIgIU7aQLPE6vwpdKZII=;
        b=I3fNDdfVvRtvvhaQUdm466zaJ1wfgfcwT0JCy4B6pJ2yYiEqOpXL+r/cD/lC0zis03
         sBf1jlokMU4Z+DSqr3huWSbg+ac336PypPMeenblqbk1anl9sdQw1rPXwdtDkQSkbgAN
         /t3ZzTlO0QQy/FIquVTQfu1LFcjWmuuO30p4zEWXQ9DURQ6QTGqnW1eX1u62WkND/thF
         Xs5MBbau2Qn8JvDIdk6JgeLsJu4nMkb1PzZSoKOs4XnzdEFgtUL8qiV5Qzwu9mmmBoRR
         NNtmuWRp/X5WIFXr+YyLlHUDyvuie8fM2uRb3GRMhqWKs8O9vgY+zlr7uCXlOfBNN2lM
         1jZg==
X-Gm-Message-State: AFeK/H2IUqtjI8UIbXanL6zjwd8FVL47BE664P0RZSn2W3f5Z6B7z1g/
	POCF4fGzT/Qj23vsJ0GeJWtmgawc3jzLagQ=
X-Received: by 10.28.210.13 with SMTP id j13mr2981729wmg.94.1491209135424;
 Mon, 03 Apr 2017 01:45:35 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.80.131.101 with HTTP; Mon, 3 Apr 2017 01:45:15 -0700 (PDT)
In-Reply-To: <1491197514768-5796842.post@n5.nabble.com>
References: <AANLkTinZF3Qs7qVSf9iQmZGssz7PGqCPqrQ9fF3QZuEu@mail.gmail.com>
 <1292341153439-3304768.post@n5.nabble.com> <AANLkTim=Eb1o3Bx4ebdNLXzC70oat1Y8pzm+MGWwyVTU@mail.gmail.com>
 <1292348597679-3304969.post@n5.nabble.com> <AANLkTi=x1MM7sb7iGjW=h6KjRogC=nE0OQmjpEk38PRZ@mail.gmail.com>
 <1292488120575-3307566.post@n5.nabble.com> <AANLkTimiAcQG3sUMNWw_imX8Jg5_rpAPXRoFtWrEpDXk@mail.gmail.com>
 <1490964397877-5796783.post@n5.nabble.com> <1490969285939-5796786.post@n5.nabble.com>
 <CABD_Zr_=H4rQw2VArYNF-AMxPNR7Ndbx59qM8VuDO=zMZ_41yw@mail.gmail.com> <1491197514768-5796842.post@n5.nabble.com>
From: Zoran Regvart <zoran@regvart.com>
Date: Mon, 3 Apr 2017 10:45:15 +0200
Message-ID: <CABD_Zr9X7Qs8mJNMZAOwPErs5iZfQJryt9TwM961yvH6fNSoNw@mail.gmail.com>
Subject: Re: Using ConsumerTemplate to fetch files.
To: users@camel.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Dilip,
doesn't a single ftp route with fileExist=Move fulfil your
requirements? You mention that you use direct routes so starting from
a direct route with body set to payload of the new file to be uploaded
to the FTP server and CamelFileName header set to the file name:

    from("direct:uploadAndBackup").to("ftp:...?fileExist=Move&moveExisting=backup")

I think you might be over thinking and creating an overly complex
solution for a relatively simple task you need to perform.

Checkout the options from file component[1] as they can be used in the
ftp component as noted in the fine documentation[2]

zoran

[1] https://camel.apache.org/file2.html
[2] https://camel.apache.org/ftp2.html

On Mon, Apr 3, 2017 at 7:31 AM, dilip.pashupathi
<dilip.pashupathi@gmail.com> wrote:
> 1. At the root folder of the FTP, there is file that needs to be deleted
> 2. Before deleting that file, the file should be taken as a backup and
> placed in one of the subdirectory.
> 3. After that from the request I need read the data and produce a file that
> should be placed in the ftp root directory.




-- 
Zoran Regvart

From users-return-65182-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr  3 09:17:38 2017
Return-Path: <users-return-65182-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0DB3719044
	for <apmail-camel-users-archive@www.apache.org>; Mon,  3 Apr 2017 09:17:38 +0000 (UTC)
Received: (qmail 348 invoked by uid 500); 3 Apr 2017 09:17:37 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 301 invoked by uid 500); 3 Apr 2017 09:17:37 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 289 invoked by uid 99); 3 Apr 2017 09:17:37 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Apr 2017 09:17:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 92A131809D6
	for <users@camel.apache.org>; Mon,  3 Apr 2017 09:17:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.396
X-Spam-Level:
X-Spam-Status: No, score=-2.396 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=regvart.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ZajJ7_62UABk for <users@camel.apache.org>;
	Mon,  3 Apr 2017 09:17:34 +0000 (UTC)
Received: from mail-wr0-f175.google.com (mail-wr0-f175.google.com [209.85.128.175])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 110375F642
	for <users@camel.apache.org>; Mon,  3 Apr 2017 09:17:34 +0000 (UTC)
Received: by mail-wr0-f175.google.com with SMTP id k6so154852513wre.2
        for <users@camel.apache.org>; Mon, 03 Apr 2017 02:17:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=regvart.com; s=google;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=m1rik94NaKaSYp+SV6zeGLcadg9RMZAdtdiHWcU7foE=;
        b=YUHzsu/TUSOdSYmBFhHElOCuUlSj0s7auGy6Q+wGSGRaNzogsaVNqHROLI+Fg/Nit7
         xYgMjw1F7CEUTqxzwVofg9i3dg5f+SwRpUUvLYYntk1T8zHd+zpUb1a61w6k+56U4vyx
         jPnkRCiZrpY2H918ldgYDu6l0gEOpki2wGLFI=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=m1rik94NaKaSYp+SV6zeGLcadg9RMZAdtdiHWcU7foE=;
        b=GZDel3SMsyqKxHFXOMMfz9HCXZMCVBP/jOx85zWaiXeXhYPLDcZ9xpc+u022itBZf1
         27aDPFrae9C89yXjyYUfFxUueC0B4mLI81pNxGxZKxKRhQWTDaA9lz8AfiXJyT1+3i2M
         3zY1f7YLhegWRc12b8Veo83Jk6szgKy4cuymOZWxmk0XsJYd0sUnEb0mLJr/YLQhbG6U
         uJAXvkzlyjMfIPmL5HcyoEKYFHNBDxP9OYnIjdvUHyQuPjHOYOjjxxaNxrVWbNy3IQhe
         3oraFWs909pw88HUq8heBaHJcu+hDW+7Po68PoVQKWglRH0GtZwFMsBPBWE9lgbc4AlA
         vasw==
X-Gm-Message-State: AFeK/H0o14d+EB46eQ0W3oQp4T8orm70cVuGLKU41X+UhigYhxRjlwCJ
	mjpO0s8K0nrTTD/Tlci2C9ekjCF67HK+KXk=
X-Received: by 10.28.210.13 with SMTP id j13mr3086444wmg.94.1491210614819;
 Mon, 03 Apr 2017 02:10:14 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.80.131.101 with HTTP; Mon, 3 Apr 2017 02:09:54 -0700 (PDT)
In-Reply-To: <CADUzpe5K4Qy=Dtu=9Qgnz4HoXXnLfp2UkShMgACy-n-Kv77XZg@mail.gmail.com>
References: <CADUzpe432nZf=O_bShjzw9qvqS7Xubc_Bvhf8eifhKPi=VNWSw@mail.gmail.com>
 <CADUzpe6YwyAgZGBSLC9g98oDUkMrnVZ-N_a7SiAsCihSWf-f7A@mail.gmail.com>
 <CADUzpe6F2TvY7kM6S6Kdk-UYpCNxwY77NXp8aR7Reh1PGCGJfQ@mail.gmail.com>
 <CADUzpe4Zp_qhvM2THyc6+L-Pd3nwivhGuyw=k+TZNL64pGPe_g@mail.gmail.com>
 <CADUzpe4_FoBQus3yMvk0m+K_jc8n-66MOC8KCEC7Tyvcv9-N5w@mail.gmail.com>
 <CADUzpe7TMoGVyHVbtDQWxE23coSZxVVwrEXwioTmVm923McZaQ@mail.gmail.com>
 <CADUzpe6QfQciTxY9Xx-8hTs_RQcY_ehzAyZAYvvRNqPaNnRVSQ@mail.gmail.com>
 <CADUzpe4bD6u_7n2Nivje26Uvqa_6GPw6qYWjNYRegnZ70aLeew@mail.gmail.com>
 <CADUzpe5bHsXJoFtwFEJ1_o8SrFQKT1bOmUF6EM8vkjg8NrTUpA@mail.gmail.com>
 <CADUzpe7upq4whYMdZ6PPiuQpvShGaFcLAntALN-Kaz6K-HdO2A@mail.gmail.com>
 <CADUzpe6Nj0vTfpdnHxsreDT8m_Q1Om8iHzF624yvw1BAQgtD9Q@mail.gmail.com>
 <CADUzpe4g=_e2BeWcvEug9Sj7LcbDVMEgRT=7S6nnvOMKXS0eMw@mail.gmail.com>
 <CADUzpe7pXptw7phTajnq_8-ho3CEdG39PrNF1NwFhcmLiiL8aw@mail.gmail.com>
 <CADUzpe7QgvpT8x80UPixxpHR_MXtDr3Y6Mn-oiHbnF=wP67AAw@mail.gmail.com>
 <CABD_Zr-1MfR7kP+xHv3AN2HAuH7=tBTK-s7m_9cwogysqYRxyA@mail.gmail.com> <CADUzpe5K4Qy=Dtu=9Qgnz4HoXXnLfp2UkShMgACy-n-Kv77XZg@mail.gmail.com>
From: Zoran Regvart <zoran@regvart.com>
Date: Mon, 3 Apr 2017 11:09:54 +0200
Message-ID: <CABD_Zr95vrZzdwYTZFoQcKy-s3Xe8oG1uSUf3k-=+TSBPyNaYQ@mail.gmail.com>
Subject: Re: Curious routing case
To: users@camel.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Artur,
I was thinking that the order of the messages would be important as
you need to process them sequentially.

So I think you could use the dynamic message routing[1] with
aggregator[2], something like:

    from("aws-sqs:...")
        .process("#preProcess")
        .toD("direct:${header.nextRoute}");

    from("direct:parallel")...;
    from("direct:sequential").aggregate(simple("${header.group}")).completion..;

So from yout SQS queue you would use a processor to pre-process
message whose responsibility would be to set the (custom) `nextRoute`
and (custom) `group` headers. `nextRoute` would be `parallel` or
`sequential`, and if `sequential` the messages would be aggregated
using the `group` header.

You would want to define your own custom aggregation strategy or use
the completion* options that are available to you. There also might be
need to use seda[3] to fine tune any parallel processing. You might
throw in there a data format unmarshaller[4] instead of the
`preProcess` processor and use something like `${body.xyz} == foo` in
the `toD` expression.

And I would guess that you need to examine transactions or persistence
at some point also in case your aggregation step runs for a long time
or if your use case is sensitive to message loss if interrupted --
which would undoubtedly lead you back to using queues to separate
those two ways of processing,

HTH,

zoran

[1] https://camel.apache.org/message-endpoint.html
[2] https://camel.apache.org/aggregator2.html
[3] https://camel.apache.org/seda.html
[4] https://camel.apache.org/data-format.html

On Sat, Apr 1, 2017 at 1:09 PM, Artur Jablonski
<ajablonski@ravenpack.com> wrote:
> Hey Zoran.
>
> I read again the patterns you mentioned. In my use case the order of
> processing within a group doesn't matter as long as two messages from the
> same group are never processed in parallel. So i guess resenquencer is out
> of the picture unless I didn't get the intention.
>
> So what we are left with is the content based router. Sure. The message
> comes, i can see what group it belongs two... And what next? Perhaps it's
> the very first message from that group so I would need to trigger creating
> route/processor for that group somehow, perhaps messages from this group
> were processed before in which case the processor for the group should
> already exist...
>
>
>
>
> On 31 Mar 2017 7:58 p.m., "Zoran Regvart" <zoran@regvart.com> wrote:
>
>> Hi Artur,
>> have a look at Camel EIP page[1], what you describe sounds to me like
>> Resequencer and Content based router patterns,
>>
>> zoran
>>
>> [1] https://camel.apache.org/eip.html
>>
>> On Fri, Mar 31, 2017 at 5:08 PM, Artur Jablonski
>> <ajablonski@ravenpack.com> wrote:
>> > Hello.
>> >
>> > I wonder if someone could push me in the right direction trying to
>> express
>> > quite curious case in Camel route.
>> >
>> > Imagine there's a stream of messages some of which can be processed in
>> > parallel and some have to be processed serially. You can group the
>> messages
>> > that require serial processing together by looking at the message body.
>> You
>> > don't know upfront how many groups can occur in the stream.
>> >
>> > The way I thought about doing this is having a route for each message
>> > group. Since I don't know upfront how many and what groups there will be
>> > then I would need to create routes dynamically. If a message comes
>> > belonging to a group that doesn't have it's handling route, then i could
>> > create it (is that even possible??) Then if there's no messages coming
>> for
>> > a given group in some time I could remove the route for the group to
>> > cleanup (is that possible?)
>> >
>> > New to Camel
>> >
>> > Thx!
>> > Artur
>>
>>
>>
>> --
>> Zoran Regvart
>>



-- 
Zoran Regvart

From users-return-65183-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr  3 11:36:44 2017
Return-Path: <users-return-65183-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4450F19688
	for <apmail-camel-users-archive@www.apache.org>; Mon,  3 Apr 2017 11:36:44 +0000 (UTC)
Received: (qmail 47191 invoked by uid 500); 3 Apr 2017 11:36:43 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 47135 invoked by uid 500); 3 Apr 2017 11:36:43 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 47123 invoked by uid 99); 3 Apr 2017 11:36:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Apr 2017 11:36:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 0E8EF1A036A
	for <users@camel.apache.org>; Mon,  3 Apr 2017 11:36:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.48
X-Spam-Level: **
X-Spam-Status: No, score=2.48 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=ravenpack-com.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id mFD5akiBTvMB for <users@camel.apache.org>;
	Mon,  3 Apr 2017 11:36:40 +0000 (UTC)
Received: from mail-lf0-f44.google.com (mail-lf0-f44.google.com [209.85.215.44])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 3AD9A5F1A0
	for <users@camel.apache.org>; Mon,  3 Apr 2017 11:36:40 +0000 (UTC)
Received: by mail-lf0-f44.google.com with SMTP id h125so71022323lfe.0
        for <users@camel.apache.org>; Mon, 03 Apr 2017 04:36:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ravenpack-com.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=UBVjzfrxf9qMxFf0h2c6WVXEZskr841+acBM0EPmwmE=;
        b=uqkltp7daBuvKJNS+hhT8almn4kR/lSTLf6VgMr1QhLHBRnQIS9uEjejud/KYT7epP
         jekMoHLAUA22QD/Ba7gokzEktynGhKN8AfWRggxfvkNBtZCAkk+LvR+c8K1DP7ffE++u
         sjhnzvE0P5EJca0Kzj4GWi0llVAQb3akOecsZvjSC+ctTN74KL4QW5j9vTtTDSDLLodA
         qCKb3a4REK5uHuWqSj+eSLJrjKNq99BdvGJoc6LhJ6ArRx1Vr/ErE563Ry5n98afWX6b
         qf1LGy5oeHQEkF2+Mxwq1mUpInOwDf3ho5Swc/Hbu1pxiSMPpu3fAVJ10qhRApyAbu8U
         cQ4g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=UBVjzfrxf9qMxFf0h2c6WVXEZskr841+acBM0EPmwmE=;
        b=LRjdeRhdum2b89PVyreZUoysIAHPuRVjTmb/SePybwyHJFxPozBRE9dh540sHyhbLI
         0lOjlBZ12pP9IqmpN69zqxwjLrcyTfaQwnAygrVBkqhhsAxXjXMFoXMfVSaCixY91kVc
         5AgRDLAeJA3Oq2p0G0hZRsvrndGNApUyWCWTVG2wnZq7NVeufkNxDD8nK0ABvMD1kaPj
         Z3rY4/iNz1w7IIaD3xZlmZgPegf/tPDRIzwvxlJbGCItiSE1BXl9VXRihrh/Z9TIDMuj
         GoYxyg8/lN1M8DSv6vpHRhYdzYseQ8r5f4Z76FuWl+GdXigJi7SbM7bvOSWb99XuJwr9
         iHnQ==
X-Gm-Message-State: AFeK/H24UUbVK/+1/aw5TBxpQTmFdjNa/I41YIeneWeUEngnHIs/T5Hn9mvnqc+0gfKZywWayZUi3gScCjpZzUrF
X-Received: by 10.25.206.135 with SMTP id e129mr4553806lfg.112.1491219392619;
 Mon, 03 Apr 2017 04:36:32 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.25.39.67 with HTTP; Mon, 3 Apr 2017 04:36:32 -0700 (PDT)
In-Reply-To: <CABD_Zr95vrZzdwYTZFoQcKy-s3Xe8oG1uSUf3k-=+TSBPyNaYQ@mail.gmail.com>
References: <CADUzpe432nZf=O_bShjzw9qvqS7Xubc_Bvhf8eifhKPi=VNWSw@mail.gmail.com>
 <CADUzpe6YwyAgZGBSLC9g98oDUkMrnVZ-N_a7SiAsCihSWf-f7A@mail.gmail.com>
 <CADUzpe6F2TvY7kM6S6Kdk-UYpCNxwY77NXp8aR7Reh1PGCGJfQ@mail.gmail.com>
 <CADUzpe4Zp_qhvM2THyc6+L-Pd3nwivhGuyw=k+TZNL64pGPe_g@mail.gmail.com>
 <CADUzpe4_FoBQus3yMvk0m+K_jc8n-66MOC8KCEC7Tyvcv9-N5w@mail.gmail.com>
 <CADUzpe7TMoGVyHVbtDQWxE23coSZxVVwrEXwioTmVm923McZaQ@mail.gmail.com>
 <CADUzpe6QfQciTxY9Xx-8hTs_RQcY_ehzAyZAYvvRNqPaNnRVSQ@mail.gmail.com>
 <CADUzpe4bD6u_7n2Nivje26Uvqa_6GPw6qYWjNYRegnZ70aLeew@mail.gmail.com>
 <CADUzpe5bHsXJoFtwFEJ1_o8SrFQKT1bOmUF6EM8vkjg8NrTUpA@mail.gmail.com>
 <CADUzpe7upq4whYMdZ6PPiuQpvShGaFcLAntALN-Kaz6K-HdO2A@mail.gmail.com>
 <CADUzpe6Nj0vTfpdnHxsreDT8m_Q1Om8iHzF624yvw1BAQgtD9Q@mail.gmail.com>
 <CADUzpe4g=_e2BeWcvEug9Sj7LcbDVMEgRT=7S6nnvOMKXS0eMw@mail.gmail.com>
 <CADUzpe7pXptw7phTajnq_8-ho3CEdG39PrNF1NwFhcmLiiL8aw@mail.gmail.com>
 <CADUzpe7QgvpT8x80UPixxpHR_MXtDr3Y6Mn-oiHbnF=wP67AAw@mail.gmail.com>
 <CABD_Zr-1MfR7kP+xHv3AN2HAuH7=tBTK-s7m_9cwogysqYRxyA@mail.gmail.com>
 <CADUzpe5K4Qy=Dtu=9Qgnz4HoXXnLfp2UkShMgACy-n-Kv77XZg@mail.gmail.com> <CABD_Zr95vrZzdwYTZFoQcKy-s3Xe8oG1uSUf3k-=+TSBPyNaYQ@mail.gmail.com>
From: Artur Jablonski <ajablonski@ravenpack.com>
Date: Mon, 3 Apr 2017 13:36:32 +0200
Message-ID: <CADUzpe71EqzOsSBk3XDx6hLAM9UTMYMOs6JPKaVgqQOp7H45TA@mail.gmail.com>
Subject: Re: Curious routing case
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1142057a2dfdfd054c4192f2

--001a1142057a2dfdfd054c4192f2
Content-Type: text/plain; charset=UTF-8

Hi Zoran,

Thank you for such detailed response. This looks very promising. i will
need to get my head around the aggregator pattern.
For this week I will be busy with other tasks, but I will get back to it as
soon as I can to see if I can get Camel work for the use case.

Cheerio
Artur

On Mon, Apr 3, 2017 at 11:09 AM, Zoran Regvart <zoran@regvart.com> wrote:

> Hi Artur,
> I was thinking that the order of the messages would be important as
> you need to process them sequentially.
>
> So I think you could use the dynamic message routing[1] with
> aggregator[2], something like:
>
>     from("aws-sqs:...")
>         .process("#preProcess")
>         .toD("direct:${header.nextRoute}");
>
>     from("direct:parallel")...;
>     from("direct:sequential").aggregate(simple("${header.
> group}")).completion..;
>
> So from yout SQS queue you would use a processor to pre-process
> message whose responsibility would be to set the (custom) `nextRoute`
> and (custom) `group` headers. `nextRoute` would be `parallel` or
> `sequential`, and if `sequential` the messages would be aggregated
> using the `group` header.
>
> You would want to define your own custom aggregation strategy or use
> the completion* options that are available to you. There also might be
> need to use seda[3] to fine tune any parallel processing. You might
> throw in there a data format unmarshaller[4] instead of the
> `preProcess` processor and use something like `${body.xyz} == foo` in
> the `toD` expression.
>
> And I would guess that you need to examine transactions or persistence
> at some point also in case your aggregation step runs for a long time
> or if your use case is sensitive to message loss if interrupted --
> which would undoubtedly lead you back to using queues to separate
> those two ways of processing,
>
> HTH,
>
> zoran
>
> [1] https://camel.apache.org/message-endpoint.html
> [2] https://camel.apache.org/aggregator2.html
> [3] https://camel.apache.org/seda.html
> [4] https://camel.apache.org/data-format.html
>
> On Sat, Apr 1, 2017 at 1:09 PM, Artur Jablonski
> <ajablonski@ravenpack.com> wrote:
> > Hey Zoran.
> >
> > I read again the patterns you mentioned. In my use case the order of
> > processing within a group doesn't matter as long as two messages from the
> > same group are never processed in parallel. So i guess resenquencer is
> out
> > of the picture unless I didn't get the intention.
> >
> > So what we are left with is the content based router. Sure. The message
> > comes, i can see what group it belongs two... And what next? Perhaps it's
> > the very first message from that group so I would need to trigger
> creating
> > route/processor for that group somehow, perhaps messages from this group
> > were processed before in which case the processor for the group should
> > already exist...
> >
> >
> >
> >
> > On 31 Mar 2017 7:58 p.m., "Zoran Regvart" <zoran@regvart.com> wrote:
> >
> >> Hi Artur,
> >> have a look at Camel EIP page[1], what you describe sounds to me like
> >> Resequencer and Content based router patterns,
> >>
> >> zoran
> >>
> >> [1] https://camel.apache.org/eip.html
> >>
> >> On Fri, Mar 31, 2017 at 5:08 PM, Artur Jablonski
> >> <ajablonski@ravenpack.com> wrote:
> >> > Hello.
> >> >
> >> > I wonder if someone could push me in the right direction trying to
> >> express
> >> > quite curious case in Camel route.
> >> >
> >> > Imagine there's a stream of messages some of which can be processed in
> >> > parallel and some have to be processed serially. You can group the
> >> messages
> >> > that require serial processing together by looking at the message
> body.
> >> You
> >> > don't know upfront how many groups can occur in the stream.
> >> >
> >> > The way I thought about doing this is having a route for each message
> >> > group. Since I don't know upfront how many and what groups there will
> be
> >> > then I would need to create routes dynamically. If a message comes
> >> > belonging to a group that doesn't have it's handling route, then i
> could
> >> > create it (is that even possible??) Then if there's no messages coming
> >> for
> >> > a given group in some time I could remove the route for the group to
> >> > cleanup (is that possible?)
> >> >
> >> > New to Camel
> >> >
> >> > Thx!
> >> > Artur
> >>
> >>
> >>
> >> --
> >> Zoran Regvart
> >>
>
>
>
> --
> Zoran Regvart
>

--001a1142057a2dfdfd054c4192f2--

From users-return-65184-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr  3 14:20:50 2017
Return-Path: <users-return-65184-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 37F051902D
	for <apmail-camel-users-archive@www.apache.org>; Mon,  3 Apr 2017 14:20:50 +0000 (UTC)
Received: (qmail 92949 invoked by uid 500); 3 Apr 2017 14:20:49 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 92887 invoked by uid 500); 3 Apr 2017 14:20:49 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 92871 invoked by uid 99); 3 Apr 2017 14:20:48 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Apr 2017 14:20:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A164DC0BC5
	for <users@camel.apache.org>; Mon,  3 Apr 2017 14:20:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id h6hHVK8Kj7sd for <users@camel.apache.org>;
	Mon,  3 Apr 2017 14:20:46 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 140975F5C6
	for <users@camel.apache.org>; Mon,  3 Apr 2017 14:20:46 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 67DE0405A5FB
	for <users@camel.apache.org>; Mon,  3 Apr 2017 06:54:19 -0700 (PDT)
Date: Mon, 3 Apr 2017 07:20:44 -0700 (MST)
From: JD Innocenti <jd.innocenti@gmail.com>
To: users@camel.apache.org
Message-ID: <1491229244820-5796879.post@n5.nabble.com>
Subject: AggregationStrategy: null body in new exchange
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi all,

I'm having a problem with the AggregationStrategy I implemented for an
application. In short, the newExchange parameters I receive (to follow the
same naming convention as in the  documentation
<https://camel.apache.org/aggregator.html>  ) always have a null body. 

To elaborate: my route is pretty simple. It downloads files from an FTP
server, transforms then into POJOs, aggregate those into a single POJO,
which is then marshalled and saved to a file. I'm working with JBoss
Developer Studio (an Eclipse derivative), and when I test from the IDE, this
works fine (behind the scenes, the IDE does "mvn clean package
org.apache.camel:camel-maven-plugin:run").

However, when I build an OSGi bundle of my application (with "mvn clean
install"), which I then deploy in JBoss Fuse (on Karaf), the deployment is
successful but my aggregator only receives null-bodied "newExchange" params.
The correlation expression I use is a simple constant, since all POJOs must
be aggregated.

I also posted about this issue on  StackOverflow
<https://stackoverflow.com/questions/43184357/different-behavior-of-apache-camel-aggregation-in-ide-and-when-deployed-in-jboss> 
, in case someone finds this post in the future ;)

Here's what the aggregation looks like in my Camel context:



And for the sake of completeness, here's the beginning of the aggregator:



(MyPojoClass is in the same package than the aggregator) 
With the above, once again, everything happens as expected in the IDE, but
when I deploy my application in Fuse, I get "Nothing to aggregate" all the
time.

I tried to set a header on all the messages and aggregate on the header
(instead of the constant I currently use), but the results are the same.

Please help, Camel user mailing list, you're my only hope. :)



--
View this message in context: http://camel.465427.n5.nabble.com/AggregationStrategy-null-body-in-new-exchange-tp5796879.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65185-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr  3 14:32:05 2017
Return-Path: <users-return-65185-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1448B190AA
	for <apmail-camel-users-archive@www.apache.org>; Mon,  3 Apr 2017 14:32:05 +0000 (UTC)
Received: (qmail 15572 invoked by uid 500); 3 Apr 2017 14:32:04 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 15523 invoked by uid 500); 3 Apr 2017 14:32:04 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 15512 invoked by uid 99); 3 Apr 2017 14:32:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Apr 2017 14:32:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id ECE6F1A7A5E
	for <users@camel.apache.org>; Mon,  3 Apr 2017 14:32:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.285
X-Spam-Level: **
X-Spam-Status: No, score=2.285 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id FPo6GUGY3FdL for <users@camel.apache.org>;
	Mon,  3 Apr 2017 14:32:01 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 9752C5FBB9
	for <users@camel.apache.org>; Mon,  3 Apr 2017 14:32:01 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id E2260405ABC4
	for <users@camel.apache.org>; Mon,  3 Apr 2017 07:05:35 -0700 (PDT)
Date: Mon, 3 Apr 2017 07:32:01 -0700 (MST)
From: Erin Bailey <erin.bailey@telus.com>
To: users@camel.apache.org
Message-ID: <1491229921378-5796882.post@n5.nabble.com>
Subject: TELUS Health
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

TELUS Health is currently looking for a Senior Developer Analyst with Apache
Camel experience to join our TELUS Health Exchange Product Development team
in either Toronto, Montreal or Ottawa.

https://telus.taleo.net/careersection/10000.th/jobdetail.ftl?lang=en&job=HEA02758-17 

If interested, please feel free to contact me at erin.bailey@telus.com

TELUS in Health has continued to develop its position and expand its
footprint in the healthcare sector with over 1,700 team members dedicated to
turning information into better health outcomes for Canadians. 

At TELUS, we believe that technology can have an important impact on
transforming healthcare by connecting doctors and other health practitioners
with one another and with their patients. Moreover, we are working towards
making prevention and wellness more accessible to everyone. 

Since 2008, the company has developed a broad cross-section of digital
solutions for all major stakeholders in the healthcare system, including
hospitals, physicians, pharmacists and extended healthcare providers, such
as physiotherapists and chiropractors. Our solutions are aimed at improving
the patient experience, increasing efficiencies and positively impacting
health outcomes.



--
View this message in context: http://camel.465427.n5.nabble.com/TELUS-Health-tp5796882.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65186-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr  3 14:58:12 2017
Return-Path: <users-return-65186-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0248319210
	for <apmail-camel-users-archive@www.apache.org>; Mon,  3 Apr 2017 14:58:12 +0000 (UTC)
Received: (qmail 85066 invoked by uid 500); 3 Apr 2017 14:58:11 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 85012 invoked by uid 500); 3 Apr 2017 14:58:11 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 84997 invoked by uid 99); 3 Apr 2017 14:58:11 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Apr 2017 14:58:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id ADD28C0461
	for <users@camel.apache.org>; Mon,  3 Apr 2017 14:58:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Ly7jCgif8F2a for <users@camel.apache.org>;
	Mon,  3 Apr 2017 14:58:10 +0000 (UTC)
Received: from mail-qk0-f180.google.com (mail-qk0-f180.google.com [209.85.220.180])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 3EECA5F397
	for <users@camel.apache.org>; Mon,  3 Apr 2017 14:58:09 +0000 (UTC)
Received: by mail-qk0-f180.google.com with SMTP id g195so44388680qke.2
        for <users@camel.apache.org>; Mon, 03 Apr 2017 07:58:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=N4guMToHZf2aDCFgwEG7ejGvvVcZMnv0M86PdWlK6y0=;
        b=Jd/s/wJ3HVjMER7ityr29oZZWbPMOX24QXUFh/nl1hSt5LNhsso6nJbW9JBBR1xM2c
         iDOAxD3egzXa+R/Vn2xmcvH+vfw75te4swstWCOT/oAY/s13vnrxxUu3mh2CTPF24fNm
         3Pi6FnURQwkQswZ/JXjMGVEKsa7r6WPEctivFjdb9vwDY31u9tiGvAKosDCg7+nQOeiy
         9rLaSjdBAU0DR5F0PcEZR6dv8qAgDQ3zs1hD61gfqd+LRVngnpXdA5OJkIngh7bSoPnY
         0DbYDRY+DRu4Jk9/DhnuR7zEK5PeY9SErczd82tEONqwXlY8rIHwbW46UIZwMBtEyq7T
         /phw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=N4guMToHZf2aDCFgwEG7ejGvvVcZMnv0M86PdWlK6y0=;
        b=IMpCSYHR5F/EeIOE/hxD8T4NmpzX04W8aKfM0EIR/plPHNepFYTrDUUpQYOdYRelIs
         sxRg+4kAGHC6JY/kphlYib5+2K9T/HwvqTtULgC3Ep7v453ERxkwxs0pi0Nx1Qdp+WRc
         B4YaoXiYpkCQN22sirMx1GUV81NSvwKhv8fishNggP66PaWm4rx4ReEtgAFAp59EEoTw
         SmNR35mfR5xV7JNaSB+gDCnTIH+aIKvAV9yMLDnIYH+gVLg/mKr0ykTq7ENFeL6D4cCj
         +yLlqZAurAcho5oWDpJfap69vq+2oOUOcDaI44yAMb6KSyRu0Zhe+aNLBNGAVfT4fxV1
         zTrQ==
X-Gm-Message-State: AFeK/H3FkVqw7O2ZCieJfsRIc25UtyWqkH260DddY+U2N+CW3nOXoZmGUCtWzlOMA6e6EmBf43cGRx3kSr0m1Q==
X-Received: by 10.55.115.67 with SMTP id o64mr17460161qkc.215.1491231488154;
 Mon, 03 Apr 2017 07:58:08 -0700 (PDT)
MIME-Version: 1.0
From: Cristiano Costantini <cristiano.costantini@gmail.com>
Date: Mon, 03 Apr 2017 14:57:57 +0000
Message-ID: <CAAPbCXh1WSVO4HY9s-hc75YcySczk46Lnkw4h9=Mbnxs4LaK0w@mail.gmail.com>
Subject: Name of the method with proxy
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: multipart/alternative; boundary=001a114ff3b621204d054c4463f9

--001a114ff3b621204d054c4463f9
Content-Type: text/plain; charset=UTF-8

Hello,

when using proxy in Camel (http://camel.apache.org/using-camelproxy.html)
in camel after 2.16.3 where "*parameter binding is enabled by default*",
how can I retrieve the name of the invoked method?

previously, on Camel 2.15, I used to "choice" over the method name
extracted with simple with the expression:

$simple{body.method.name}

If I want to use parameter binding, how can I route the incoming payload
depending on the method name?

(The interface I am using with the proxy has an half dozen of methods, each
one taking a single argument of type List<MyBean>)

thank you,

Cristiano

--001a114ff3b621204d054c4463f9--

From users-return-65187-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr  3 23:26:31 2017
Return-Path: <users-return-65187-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8004C19F81
	for <apmail-camel-users-archive@www.apache.org>; Mon,  3 Apr 2017 23:26:31 +0000 (UTC)
Received: (qmail 82023 invoked by uid 500); 3 Apr 2017 23:26:31 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 81963 invoked by uid 500); 3 Apr 2017 23:26:31 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 81952 invoked by uid 99); 3 Apr 2017 23:26:30 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Apr 2017 23:26:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4EC14C1F74
	for <users@camel.apache.org>; Mon,  3 Apr 2017 23:26:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.313
X-Spam-Level: **
X-Spam-Status: No, score=2.313 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id eAwi3n4V9m1Y for <users@camel.apache.org>;
	Mon,  3 Apr 2017 23:26:28 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 9FACE5FBFA
	for <users@camel.apache.org>; Mon,  3 Apr 2017 23:26:27 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id A602E40630FF
	for <users@camel.apache.org>; Mon,  3 Apr 2017 16:26:25 -0700 (PDT)
Date: Mon, 3 Apr 2017 16:26:25 -0700 (MST)
From: Gary <gary.mills@ge.com>
To: users@camel.apache.org
Message-ID: <1491261985771-5796884.post@n5.nabble.com>
Subject: javax.xml.bind.JAXBException:  doesnt contain ObjectFactory.class
 or jaxb.index
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

thank you in advance
I have my jaxb annotated class path defined in the Jaxb contextPath, I also
have the jaxb.index file with the simple name of the annotated class in it.
I continue to get the error in subject. ???? I even added the jaxb.index
physically under my classpath. Java 1.7, camel 2.15

here's my camel context
    <camelContext 
        id="Camel.Context.XML.Tranformer"
    	trace="false"
    	xmlns="http://camel.apache.org/schema/blueprint">
		<dataFormats>
    		<jaxb id="myJaxb" prettyPrint="true"
contextPath="com.ge.ip.zone3.decoders"/>
  		</dataFormats>
  		
    <route id="SmartSignal.Database.Xml.Translate.Route" autoStartup="true">
	    <from uri="{{inputUri}}" />
	    <log message="Received XML file ${file:name}" />
	    	<marshal ref="myJaxb" />
			
  		<log message="sending ${file:name} to output" />
	    <to uri="{{outputUri}}" />
     </route>
     
   </camelContext>
-----
under com.ge.ip.zone3.decoders 
jaxb.index
SSDatabaseDecoder.java
---------------
simple jaxb annotated class
--
package com.ge.ip.zone3.decoders;

import javax.xml.bind.annotation.XmlRootElement;
import javax.xml.bind.annotation.XmlElement;
import javax.xml.bind.annotation.XmlElementWrapper;
import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlAttribute;
import javax.xml.bind.annotation.XmlSeeAlso;
import java.util.List;
import java.util.Map;

@XmlRootElement(name = "TransferDataHeader")
@XmlAccessorType(XmlAccessType.FIELD)
public class SSDatabaseDecoder {

    @XmlElement(name = "ApplicationId")
//    @Field("ApplicationId")
    private String ApplicationId;
 
    @XmlElement(name = "Category")
//    @Field("Category")
    private String Category;
   
    @XmlElement(name = "ClientApplicationVersionBuild")
//    @Field("ClientApplicationVersionBuild")
    private String ClientApplicationVersionBuild;
    
    @XmlElement(name = "ClientApplicationVersionMajor")
//    @Field("ClientApplicationVersionMajor")
    private String ClientApplicationVersionMajor;

    @XmlElement(name = "ClientApplicationVersionMinor")
//    @Field("ClientApplicationVersionMinor")
    private String ClientApplicationVersionMinor;
    
    @XmlElement(name = "ClientApplicationVersionRevision")
//    @Field("ClientApplicationVersionRevision")
    private String ClientApplicationVersionRevision;

    @XmlElement(name = "ContractVersion")
//    @Field("ContractVersion")
    private String ContractVersion;
    
    @XmlElement(name = "ExportedUtcDate")
//    @Field("ExportedUtcDate")
    private String ExportedUtcDate;
    
    @XmlElement(name = "ExporterFirstName")
//    @Field("ExporterFirstName")
    private String ExporterFirstName;
    
    @XmlElement(name = "ExporterLastName")
//    @Field("ExporterLastName")
    private String ExporterLastName;
    
    @XmlElement(name = "ExporterLoginId")
//    @Field("ExporterLoginId")
    private String ExporterLoginId;

    @XmlElement(name = "HeaderVersion")
//    @Field("HeaderVersion")
    private String HeaderVersion;

    @XmlElement(name = "ImportedDate")
//    @Field("ImportedDate")
    private String ImportedDate;

    @XmlElement(name = "ImporterId")
//    @Field("ImporterId")
    private String ImporterId;
    
    @XmlElement(name = "InstallationId")
//    @Field("InstallationId")
    private String InstallationId;
   
    @XmlElement(name = "InstallationName")
//    @Field("InstallationName")
    private String InstallationName;
    
    @XmlElement(name = "ItemId")
//    @Field("ItemId")
    private String ItemId;
    
    @XmlElement(name = "ItemName")
//    @Field("ItemName")
    private String ItemName;

    @XmlElement(name = "ProductBuildNumber")
//    @Field("ProductBuildNumber")
    private String ProductBuildNumber;
    
    @XmlElement(name = "ProductPatchNumber")
//    @Field("ProductPatchNumber")
    private String ProductPatchNumber;
    
    @XmlElement(name = "ProductVersion")
//    @Field("ProductVersion")
    private String ProductVersion;

    @XmlElement(name = "ProductVersionMajor")
//    @Field("ProductVersionMajor")
    private String ProductVersionMajor;
    
    @XmlElement(name = "ProductVersionMinor")
//    @Field("ProductVersionMinor")
    private String ProductVersionMinor; 
    
    public SSDatabaseDecoder() {
    	super();
    }
    
    public String getApplicationId() {
        return ApplicationId;
    }

    public void setApplicationId(String ApplicationId) {
        this.ApplicationId = ApplicationId;
    }
    
    public String getCategory() {
        return Category;
    }

    public void setCategory(String Category) {
        this.Category = Category;
    }

    public String getClientApplicationVersionBuild() {
    	return ClientApplicationVersionBuild;
    }
    
    public void setClientApplicationVersionBuild(String
ClientApplicationVersionBuild) {
        this.ClientApplicationVersionBuild = ClientApplicationVersionBuild;
    }

    public String getClientApplicationVersionMajor() {
    	return ClientApplicationVersionMajor;
    }
    
    public void setClientApplicationVersionMajor(String
ClientApplicationVersionBuild) {
        this.ClientApplicationVersionMajor = ClientApplicationVersionMajor;
    }

    public String getClientApplicationVersionMinor() {
    	return ClientApplicationVersionMinor;
    }
    
    public void setClientApplicationVersionMinor(String
ClientApplicationVersionMinor) {
        this.ClientApplicationVersionMinor = ClientApplicationVersionMinor;
    }

    public String getClientApplicationVersionRevision() {
    	return ClientApplicationVersionRevision;
    }
    
    public void setClientApplicationVersionRevision(String
ClientApplicationVersionRevision) {
        this.ClientApplicationVersionRevision =
ClientApplicationVersionRevision;
    }

    public String getContractVersion() {
    	return ContractVersion;
    }
    
    public void setContractVersion(String ContractVersion) {
        this.ContractVersion = ContractVersion;
    }

    public String getExportedUtcDate() {
    	return ContractVersion;
    }
    
    public void setExportedUtcDate(String ExportedUtcDate) {
        this.ExportedUtcDate = ExportedUtcDate;
    }    

    public String getExporterFirstName() {
    	return ExporterFirstName;
    }
    
    public void setExporterFirstName(String ExporterFirstName) {
        this.ExporterFirstName = ExporterFirstName;
    }

    public String getExporterLastName() {
    	return ExporterLastName;
    }
    
    public void setExporterLastName(String ExporterLastName) {
        this.ExporterLastName = ExporterLastName;
    }    
    
    public String getExporterLoginId() {
    	return ExporterLoginId;
    }
    
    public void getExporterLoginId(String ExporterLoginId) {
        this.ExporterLoginId = ExporterLoginId;
    }    

    public String getHeaderVersion() {
    	return HeaderVersion;
    }
    
    public void setHeaderVersion(String HeaderVersion) {
        this.HeaderVersion = HeaderVersion;
    }
 
    public String getImportedDate() {
    	return ImportedDate;
    }
    
    public void setImportedDate(String ImportedDate) {
        this.ImportedDate = ImportedDate;
    }

    public String getImporterId() {
    	return ImporterId;
    }
    
    public void setImporterId(String ImporterId) {
        this.ImporterId = ImporterId;
    }

    public String getInstallationId() {
    	return InstallationId;
    }
    
    public void setInstallationId(String InstallationId) {
        this.InstallationId = InstallationId;
    }

    public String getInstallationName() {
    	return InstallationName;
    }
    
    public void setInstallationName(String InstallationName) {
        this.InstallationName = InstallationName;
    }

    public String getItemId() {
    	return ItemId;
    }
    
    public void setItemId(String ItemId) {
        this.ItemId = ItemId;
    }
    
    public String getItemName() {
    	return ItemName;
    }
    
    public void setItemName(String ItemName) {
        this.ItemName = ItemName;
    }

    public String getProductBuildNumber() {
    	return ProductBuildNumber;
    }
    
    public void setProductBuildNumber(String ProductBuildNumber) {
        this.ProductBuildNumber = ProductBuildNumber;
    }

    public String getProductPatchNumber() {
    	return ProductPatchNumber;
    }
    
    public void setProductPatchNumber(String ProductPatchNumber) {
        this.ProductPatchNumber = ProductPatchNumber;
    }
 
    public String getProductVersion() {
    	return ProductVersion;
    }
    
    public void setProductVersion(String ProductVersion) {
        this.ProductVersion = ProductVersion;
    }

    public String getProductVersionMajor() {
    	return ProductVersionMajor;
    }
    
    public void setProductVersionMajor(String ProductVersionMajor) {
        this.ProductVersionMajor = ProductVersionMajor;
    }

    public String getProductVersionMinor() {
    	return ProductVersionMinor;
    }
    
    public void setProductVersionMinor(String ProductVersionMinor) {
        this.ProductVersionMinor = ProductVersionMinor;
    }
    
}




-----
Gary Lee Mills
--
View this message in context: http://camel.465427.n5.nabble.com/javax-xml-bind-JAXBException-doesnt-contain-ObjectFactory-class-or-jaxb-index-tp5796884.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65188-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr  3 23:32:58 2017
Return-Path: <users-return-65188-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B214319042
	for <apmail-camel-users-archive@www.apache.org>; Mon,  3 Apr 2017 23:32:58 +0000 (UTC)
Received: (qmail 92322 invoked by uid 500); 3 Apr 2017 23:32:58 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 92264 invoked by uid 500); 3 Apr 2017 23:32:58 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 92253 invoked by uid 99); 3 Apr 2017 23:32:57 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Apr 2017 23:32:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8431B18063D
	for <users@camel.apache.org>; Mon,  3 Apr 2017 23:32:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -3.709
X-Spam-Level:
X-Spam-Status: No, score=-3.709 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_HI=-5, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id EKSTVTsYBI6v for <users@camel.apache.org>;
	Mon,  3 Apr 2017 23:32:54 +0000 (UTC)
Received: from smtpgw.sap-ag.de (smtpgw03.sap-ag.de [155.56.66.98])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id B6F245FBB9
	for <users@camel.apache.org>; Mon,  3 Apr 2017 23:32:53 +0000 (UTC)
From: "Goyal, Arpit" <arpit.goyal@sap.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: RE: Camel Http vs Camel Http4 - Content Type Header
Thread-Topic: Camel Http vs Camel Http4 - Content Type Header
Thread-Index: AdKDBsjC6BuVmCQTR6SzglZ6oAGKegADdsoAAAJ2wrAKaxsaYA==
Date: Mon, 3 Apr 2017 23:32:43 +0000
Message-ID: <ac960ff362d5444bbff5bcbb22ee04f0@sap.com>
References: <82c767ed74fc4a22bde87ae8b643283c@dewdfe13de47.global.corp.sap>
 <CA+wbgs16=e_1VQwR_fB4_oiBm-y4S70QmcWoLYxbONDvkKmWrw@mail.gmail.com>
 <968c6d4d8cfb4132b37f3c603ffd36e7@dewdfe13de47.global.corp.sap>
In-Reply-To: <968c6d4d8cfb4132b37f3c603ffd36e7@dewdfe13de47.global.corp.sap>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.21.23.236]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Hi Claus,

HttpProduce -- from camel-http4 library is setting the content-type 'text/p=
lain'  in method [1] line # 488 (camel version 2.16.3) even though we have =
set the Content-Type to be NULL - This is NOT the case with HttpProducer - =
from camel-http library.=20

By enabling the apache commons log, the headers are clearly visible.

The end-system we are invoking throws '415' due to the wrong Content Type p=
assed and if we DO NOT pass any content type it works. As at execution time=
 we can't determine the Content-Type, we want to pass it NULL.=20

Any possible way to achieve not sending of Content-Type header?=20

2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> POST /ser=
vice/scim/Users HTTP/1.1
2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> breadcrum=
bId: ID-i044312-33503-1491259732621-0-1
2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Content-L=
ength: 518
2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Content-T=
ype: text/plain							---- in this line.
2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Host: xxx=
xxxx
2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Connectio=
n: Keep-Alive
2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> User-Agen=
t: Apache-HttpClient/4.5.2 (Java/1.7.0_101)
2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Accept-En=
coding: gzip,deflate
2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Authoriza=
tion: Basic XXXXXXXX
2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "POST /servi=
ce/scim/Users HTTP/1.1[\r][\n]"
2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "breadcrumbI=
d: ID-i044312-33503-1491259732621-0-1[\r][\n]"
2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Content-Len=
gth: 518[\r][\n]"
2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Content-Typ=
e: text/plain[\r][\n]"						--- in this line
2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Host: xxxxx=
xxxx[\r][\n]"
2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Connection:=
 Keep-Alive[\r][\n]"
2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "User-Agent:=
 Apache-HttpClient/4.5.2 (Java/1.7.0_101)[\r][\n]"
2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Accept-Enco=
ding: gzip,deflate[\r][\n]"
2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Authorizati=
on: Basic XXXXXXXX[\r][\n]"
2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "[\r][\n]"
2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "{[\r][\n]"
2017/04/04 00:48:55:620 CEST [DEBUG] wire - http-outgoing-0 >> "}"

[1] - org.apache.camel.component.http4.HttpProducer.createRequestEntity(Exc=
hange)=20

Regards,
Arpit.


-----Original Message-----
From: souciance [mailto:souciance.eqdam.rashti@gmail.com]=20
Sent: Thursday, February 9, 2017 1:40 PM
To: users@camel.apache.org
Subject: Re: Camel Http vs Camel Http4 - Content Type Header

Well it should be pretty easy to setup a http server and see what headers
your route are sending and compare that to what the actual server wants. If
camel-http4 is suppressing some headers then perhaps try another component.

On Thu, Feb 9, 2017 at 10:32 PM, Goyal, Arpit [via Camel] <
ml-node+s465427n5793736h79@n5.nabble.com> wrote:

> Hi,
>
> We were on Camel-Http (2.16) and moving to Camel-Http4 (2.16) and saw tha=
t
> URL which worked with Camel-http now fails with Camel-Http4 with status
> code - 415 (Unsupported Media Type).
>
> Caused by: org.apache.camel.http.common.HttpOperationFailedException:
> HTTP operation failed invoking https://<host>:<port>/
> myservice/Users?authMethod=3DBasic with statusCode: 415
>
> Saw this discussion on Nabble - http://camel.465427.n5.nabble.
> com/Http4-Set-Header-Content-Type-not-passing-through-to-
> the-HTTP-Request-td5746414.html#a5752856
>
> Does this mean we CAN"T USE - Camel-HTTP4 ?
>
> Regards,
> Arpit.
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-
> Content-Type-Header-tp5793736.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dunsub=
scribe_by_code&node=3D465428&code=3Dc291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5=
jb218NDY1NDI4fDE1MzI5MTE2NTY=3D>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dmacro=
_viewer&id=3Dinstant_html%21nabble%3Aemail.naml&base=3Dnabble.naml.namespac=
es.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.=
template.NodeNamespace&breadcrumbs=3Dnotify_subscribers%21nabble%3Aemail.na=
ml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail=
.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Camel-Http-=
vs-Camel-Http4-Content-Type-Header-tp5793736p5793737.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65189-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 00:55:04 2017
Return-Path: <users-return-65189-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 38B201930B
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 00:55:04 +0000 (UTC)
Received: (qmail 11641 invoked by uid 500); 4 Apr 2017 00:55:03 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 11589 invoked by uid 500); 4 Apr 2017 00:55:03 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 11578 invoked by uid 99); 4 Apr 2017 00:55:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 00:55:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1396FC023E
	for <users@camel.apache.org>; Tue,  4 Apr 2017 00:55:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 3Rme0Yl7Lh2u for <users@camel.apache.org>;
	Tue,  4 Apr 2017 00:55:02 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 39FA55FBB9
	for <users@camel.apache.org>; Tue,  4 Apr 2017 00:55:02 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 2D74740644A7
	for <users@camel.apache.org>; Mon,  3 Apr 2017 17:55:01 -0700 (PDT)
Date: Mon, 3 Apr 2017 17:55:01 -0700 (MST)
From: urwithsumit <sumit.kushwaha@gmail.com>
To: users@camel.apache.org
Message-ID: <1491267301360-5796886.post@n5.nabble.com>
Subject: Camel Jetty & Cors not working
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

I am using Camel 2.18.2 and exposing REST api using camel Jetty component.
The enableCORS options is set to true. Still the call to the API from
angular 2 application is getting exception for CORS.

Definition for the REST URI: 
from("jetty:{{server.api.endpoint}}/file_monitor/report/all_file_updates?httpMethodRestrict=GET,OPTIONS&enableCORS=true&optionsEnabled=true")
				.setHeader(Exchange.CONTENT_TYPE, constant("application/json"))

exception: 
Response to preflight request doesn't pass access control check: No
'Access-Control-Allow-Origin' header is present on the requested resource. 

Any pointers on what i can correct?

Regards
Sumit




--
View this message in context: http://camel.465427.n5.nabble.com/Camel-Jetty-Cors-not-working-tp5796886.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65190-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:04:03 2017
Return-Path: <users-return-65190-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5785E19C84
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:04:03 +0000 (UTC)
Received: (qmail 53797 invoked by uid 500); 4 Apr 2017 07:04:02 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 53751 invoked by uid 500); 4 Apr 2017 07:04:02 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 89568 invoked by uid 99); 4 Apr 2017 05:30:17 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Mon, 3 Apr 2017 22:30:14 -0700 (MST)
From: syadav <b.srisailam@gmail.com>
To: users@camel.apache.org
Message-ID: <1491283814292-5796888.post@n5.nabble.com>
In-Reply-To: <1491283748309-5796887.post@n5.nabble.com>
References: <1491283748309-5796887.post@n5.nabble.com>
Subject: Re: impl cxf bus
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

And this I want in java code no xml. I dont want to use any xmls



--
View this message in context: http://camel.465427.n5.nabble.com/impl-cxf-bus-tp5796887p5796888.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65191-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:04:04 2017
Return-Path: <users-return-65191-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 49F6A19C85
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:04:04 +0000 (UTC)
Received: (qmail 54831 invoked by uid 500); 4 Apr 2017 07:04:03 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 54795 invoked by uid 500); 4 Apr 2017 07:04:03 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 89313 invoked by uid 99); 4 Apr 2017 05:29:11 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Mon, 3 Apr 2017 22:29:08 -0700 (MST)
From: syadav <b.srisailam@gmail.com>
To: users@camel.apache.org
Message-ID: <1491283748309-5796887.post@n5.nabble.com>
Subject: impl cxf bus
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi
I want to implement a custom  cxf bus for tomee as tomee is not able to
create cxf bus. So i what to implement cxf bus and force the tomee to use
this implemented class 

Please help me this.

Thanks



--
View this message in context: http://camel.465427.n5.nabble.com/impl-cxf-bus-tp5796887.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65192-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:14:39 2017
Return-Path: <users-return-65192-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 43F8419CE5
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:14:39 +0000 (UTC)
Received: (qmail 71435 invoked by uid 500); 4 Apr 2017 07:14:38 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 71389 invoked by uid 500); 4 Apr 2017 07:14:38 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 71377 invoked by uid 99); 4 Apr 2017 07:14:38 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 07:14:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C1FB01A01D9
	for <users@camel.apache.org>; Tue,  4 Apr 2017 07:14:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.692
X-Spam-Level: ***
X-Spam-Status: No, score=3.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id rZ9L46vy9cAB for <users@camel.apache.org>;
	Tue,  4 Apr 2017 07:14:36 +0000 (UTC)
Received: from mail-qt0-f172.google.com (mail-qt0-f172.google.com [209.85.216.172])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 39D9D5F5A2
	for <users@camel.apache.org>; Tue,  4 Apr 2017 07:14:36 +0000 (UTC)
Received: by mail-qt0-f172.google.com with SMTP id i34so131670472qtc.0
        for <users@camel.apache.org>; Tue, 04 Apr 2017 00:14:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=vt7tuYbW+TPqhn20RMx9FNCkk3v6j5CfgnmUK+F9KDI=;
        b=DZmCPv32xOLBB8JNua2t8EgwntCE+rhaU60q7VMOM0if4u5mWGP4PtPNDQT3ufrqNG
         ZpsHRvX8Fyhx9IGCAG4xGoEaQaseH2UV1glyC/7HEToXYXmGATOzUYTd7o3pkq61XZOx
         yVFvKprpJO3fkIpMhZDh99xjidJVxFclXt6R9zusdRmbfFxsjcBKPslWrWFi8bOPn8by
         M+TXHVfld8ITq/yttGfGebsyDs1gcAgH2+2JOvOn3WdU2qPYxLJi05C+jwfh3eplsTJL
         IwpwYC4umPWp/LC5FgD2jI1dO/nu54E82QWoRPxaRu0KZSvfSf1btwmOVjY4rta8hI2/
         rxAg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=vt7tuYbW+TPqhn20RMx9FNCkk3v6j5CfgnmUK+F9KDI=;
        b=OGwT1r8IjFRzPm1jB8sIaUccb3qqVVXxbGqY8Qm93w3wHC2fU5EDdXakYbbLjrPuMf
         yTO8SP9RBMC8eG3XDTt4RB27SxOj5z17wUj7P6TNAxCRnKA865AQmR8v/fvOTNZ8wpka
         tcufJI7O2tcVKiv+MQpiNzzQ+VYsw50zgkXSm8ud9/a2CJzsF5Vq5uk24A6U9DrvLqAs
         jBbGIR9mLbB+OpTtsIJEBDWFhVNBs4KmFLpb0ppgR4Qfqh0IVQL/TM+WXX0k1JMCyaXP
         zIZwfzIy+wiN1LXpMFPICNaYIN13bmFbHXGk33bQIAXk0BsIajp4orsHPGp/P3ddGosU
         feUA==
X-Gm-Message-State: AFeK/H3zxgMIBQfdbLmyUo/6sz8RCu8v5WCTktUgQ6UWMQAH+ybgaC5U3Crd8hC/5aorF+09RP0pK04B+GbogA==
X-Received: by 10.237.49.195 with SMTP id 61mr23798479qth.82.1491290074939;
 Tue, 04 Apr 2017 00:14:34 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.12.136.78 with HTTP; Tue, 4 Apr 2017 00:14:14 -0700 (PDT)
In-Reply-To: <1491283814292-5796888.post@n5.nabble.com>
References: <1491283748309-5796887.post@n5.nabble.com> <1491283814292-5796888.post@n5.nabble.com>
From: Romain Manni-Bucau <rmannibucau@gmail.com>
Date: Tue, 4 Apr 2017 09:14:14 +0200
Message-ID: <CACLE=7OV+QtQeWKZgMu60_9mT6bbKnfRpeQ1w-NHpjPSG0=rDw@mail.gmail.com>
Subject: Re: impl cxf bus
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c0b36182c8877054c5207e0

--94eb2c0b36182c8877054c5207e0
Content-Type: text/plain; charset=UTF-8

Hello,

with camel-cdi you just define a CDI bus:

@Dependent
@Named("mybus")
public class MyBus extends ExtensionManagerBus {
}

Then in your route you reference it by its name: .to(
"cxfbean:xxxxx?bus=#mybus")

Romain Manni-Bucau
@rmannibucau <https://twitter.com/rmannibucau> |  Blog
<https://blog-rmannibucau.rhcloud.com> | Old Blog
<http://rmannibucau.wordpress.com> | Github <https://github.com/rmannibucau> |
LinkedIn <https://www.linkedin.com/in/rmannibucau> | JavaEE Factory
<https://javaeefactory-rmannibucau.rhcloud.com>

2017-04-04 7:30 GMT+02:00 syadav <b.srisailam@gmail.com>:

> And this I want in java code no xml. I dont want to use any xmls
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.
> com/impl-cxf-bus-tp5796887p5796888.html
> Sent from the Camel - Users mailing list archive at Nabble.com.
>

--94eb2c0b36182c8877054c5207e0--

From users-return-65193-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:17:45 2017
Return-Path: <users-return-65193-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CB7A919CF2
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:17:45 +0000 (UTC)
Received: (qmail 75567 invoked by uid 500); 4 Apr 2017 07:17:45 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 75527 invoked by uid 500); 4 Apr 2017 07:17:45 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 73061 invoked by uid 99); 4 Apr 2017 07:16:22 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.798
X-Spam-Level:
X-Spam-Status: No, score=-0.798 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=sigmasys1.onmicrosoft.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=SIGMASYS1.onmicrosoft.com; s=selector1-sigmasystems-com01c;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version;
 bh=bKlov+m2j2LnSer6HIjEa+ULf9zIlwFg5ah0iLfn1EA=;
 b=hzTlYJl1r37iOlNg+Iio49KGbyWOVWAFz0+96nqgAPbRBkdGYQM6oWv5GYzudCz7c8dS6bN/vez1vFHupyQpgd6vodOhJz+Li97Xb9JX9KWklAChw3HZNNaM8gr3cTD0r2FlHZV9YR67tj+GOMBA9tn18CvEuSmWgLt+QvcrPwI=
From: Ayush Dixit <Ayush.Dixit@sigma-systems.com>
To: "users-subscribe@camel.apache.org" <users-subscribe@camel.apache.org>,
	"users@camel.apache.org" <users@camel.apache.org>
Subject: Performance issue in Camel SFTP component
Thread-Topic: Performance issue in Camel SFTP component
Thread-Index: AdKtEaZ99I3uUpCsSKyU5SgaYvJPwA==
Date: Tue, 4 Apr 2017 07:16:08 +0000
Message-ID: <CY4PR05MB288556474F742B4395CD66D3AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
authentication-results: camel.apache.org; dkim=none (message not signed)
 header.d=none;camel.apache.org; dmarc=none action=none
 header.from=sigma-systems.com;
x-originating-ip: [115.113.155.67]
x-microsoft-exchange-diagnostics: 1;CY4PR05MB2887;7:KkqsFd1B1t/8JOFjZqBnG/sQokgeZYtvKTqI/F/Q4f7Hb8D9sOOOS6l5iehjD1g9F6XXH6vEtxW0p7GPciS5JJd3yNBD4hx7P7AAyLw59CSDliISwBpFGRSOXx01D18euArZHsM6cz/8hr/Oji3bU46GJfHKZPR9d2ypftSsmKInTO6ewGk2jFNZm1AzUU4cNYXZUelHtkIBqf6cSKAo1drxWIumCNJGIkeDTPEm1C225u0+RiwPdS4fJ1pDXeUUxHbkWSEi64jvLFDkwJqpG8Csge9gRjEGpjzKAv+BxU3Xs+QrouDNGqdyDt2mS5lJOwGWubCW6xc7VdlJV87A0Q==
x-ms-office365-filtering-correlation-id: 6a91b285-6d3a-4bac-70e6-08d47b2a7784
x-microsoft-antispam: UriScan:;BCL:0;PCL:0;RULEID:(22001)(2017030254075)(201703131423075)(201703031133081);SRVR:CY4PR05MB2887;
x-microsoft-antispam-prvs: <CY4PR05MB28874EB60395648A6C58D01DAF0B0@CY4PR05MB2887.namprd05.prod.outlook.com>
x-exchange-antispam-report-test: UriScan:(212892494489503)(21748063052155);
x-exchange-antispam-report-cfa-test: BCL:0;PCL:0;RULEID:(102415395)(6040450)(601004)(2401047)(8121501046)(5005006)(3002001)(10201501046)(93006095)(93001095)(6041248)(201703131423075)(201702281528075)(201703061421075)(20161123555025)(20161123564025)(20161123562025)(20161123560025)(6072148);SRVR:CY4PR05MB2887;BCL:0;PCL:0;RULEID:;SRVR:CY4PR05MB2887;
x-forefront-prvs: 0267E514F9
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(39840400002)(39450400003)(39400400002)(39410400002)(174854003)(2906002)(2900100001)(7906003)(102836003)(790700001)(6116002)(551544002)(3846002)(7736002)(6506006)(122556002)(77096006)(8936002)(38730400002)(74316002)(2501003)(54356999)(66066001)(50986999)(33656002)(55016002)(86362001)(450100002)(99286003)(189998001)(99936001)(25786009)(54896002)(54556002)(81166006)(6306002)(7696004)(3660700001)(236005)(733005)(8676002)(9686003)(606005)(53936002)(5660300001)(861006)(3280700002)(19618635001)(6436002);DIR:OUT;SFP:1101;SCL:1;SRVR:CY4PR05MB2887;H:CY4PR05MB2885.namprd05.prod.outlook.com;FPR:;SPF:None;MLV:ovrnspm;PTR:InfoNoRecords;LANG:en;
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: multipart/related;
	boundary="_004_CY4PR05MB288556474F742B4395CD66D3AF0B0CY4PR05MB2885namp_";
	type="multipart/alternative"
MIME-Version: 1.0
X-OriginatorOrg: sigma-systems.com
X-MS-Exchange-CrossTenant-originalarrivaltime: 04 Apr 2017 07:16:08.7962
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: dba5b4ed-9d8f-46b1-95cb-4b550e5a68e1
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY4PR05MB2887

--_004_CY4PR05MB288556474F742B4395CD66D3AF0B0CY4PR05MB2885namp_
Content-Type: multipart/alternative;
	boundary="_000_CY4PR05MB288556474F742B4395CD66D3AF0B0CY4PR05MB2885namp_"

--_000_CY4PR05MB288556474F742B4395CD66D3AF0B0CY4PR05MB2885namp_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hi ,


We have implemented a camel route where we are having camel sftp producer t=
o transfer a files to remote SFTP location but on performance testing on cl=
ient environment and on our local environment we have observed degradation =
in the time for transferring files to remote SFTP location. Please find the=
 detailed analysis below. The we tried the various test in our local enviro=
nment. In each test we put around 22 files on camel file consumer and each =
file took below time to write the file. PFB details


=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
When target directory having 20,000 files. Camel sftp producer took around =
1 minute 43 second to a transfer file
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 - file:///data/users/s=
lvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.camel.component.f=
ile.FileConsumer> About to process file: GenericFile[/data/users/slvm02/smp=
53/domains/vmb/Icoms/iop_responses/1/ST30PERFORPMAJAR17020726.txt] using ex=
change: Exchange[ST30PERFORPMAJAR17020726.txt]
           INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 - file:///da=
ta/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) com.sigma.samp.imp=
.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder> Pic=
ked IOP response file : ST30PERFORPMAJAR17020726.txt from IOP FTP directory
            INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 - file:///d=
ata/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) com.sigma.samp.im=
p.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder> Se=
nding IOP response file : ST30PERFORPMAJAR17020726.txt to ICOMS FTP directo=
ry
            DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 - file:///=
data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.camel=
.processor.SendProcessor> >>>> Endpoint[sftp://10.100.150.190/icoms/1?downl=
oad=3Dfalse&maxMessagesPerPoll=3D10&password=3Dxxxxxx&tempPrefix=3DQ&userna=
me=3Dsigmauser] Exchange[ST30PERFORPMAJAR17020726.txt]



            DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 - file:///=
data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.camel=
.component.file.GenericFileConverter> Read file /data/users/slvm02/smp53/do=
mains/vmb/Icoms/iop_responses/1/ST30PERFORPMAJAR17020726.txt (no charset)
           DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 - file:///d=
ata/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.camel.=
component.file.remote.SftpOperations> About to store file: QST30PERFORPMAJA=
R17020726.txt using stream: java.io.BufferedInputStream@54a89ff5
           DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 - file:///d=
ata/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.camel.=
component.file.remote.SftpOperations> Took 0.658 seconds (658 millis) to st=
ore file: QST30PERFORPMAJAR17020726.txt and FTP client returned: true

           DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 - file:///d=
ata/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.camel.=
component.file.remote.RemoteFileProducer> Wrote [icoms/1/QST30PERFORPMAJAR1=
7020726.txt] to [Endpoint[sftp://10.100.150.190/icoms/1?download=3Dfalse&ma=
xMessagesPerPoll=3D10&password=3Dxxxxxx&tempPrefix=3DQ&username=3Dsigmauser=
]]
           DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 - file:///d=
ata/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.camel.=
component.file.remote.SftpOperations> Renaming file: icoms/1/QST30PERFORPMA=
JAR17020726.txt to: icoms/1/ST30PERFORPMAJAR17020726.txt
            INFO 07:02:20 (Camel (cfgMgrCamelContext) thread #6 - file:///d=
ata/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) com.sigma.samp.im=
p.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder> IO=
P response file : ST30PERFORPMAJAR17020726.txt successfully sent to ICOMS F=
TP directory


=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
When target directory having 40,000 files. Camel sftp producer took around =
3 minute 17 second to transfer file
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 - file:///data/users/s=
lvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.camel.component.f=
ile.FileConsumer> About to process file: GenericFile[/data/users/slvm02/smp=
53/domains/v
                                mb/Icoms/iop_responses/1/SX30RPMAJAR1702483=
756.txt] using exchange: Exchange[SX30RPMAJAR1702483756.txt]
                INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 - file:=
///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) com.sigma.sam=
p.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder=
> Picked IOP response file :
                                SX30RPMAJAR1702483756.txt from IOP FTP dire=
ctory
                INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 - file:=
///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) com.sigma.sam=
p.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder=
> Sending IOP response file
                                : SX30RPMAJAR1702483756.txt to ICOMS FTP di=
rectory
                DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.c=
amel.processor.SendProcessor> >>>> Endpoint[sftp://10.100.150.190/icoms/1?d=
ownload=3Dfalse&maxMessagesPer
                                Poll=3D10&password=3Dxxxxxx&tempPrefix=3DQ&=
username=3Dsigmauser] Exchange[SX30RPMAJAR1702483756.txt]


                DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.c=
amel.component.file.GenericFileConverter> Read file /data/users/slvm02/smp5=
3/domains/vmb/Icoms/iop_responses/1/SX30RPMAJAR1702483756.txt (no charset)
                DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.c=
amel.component.file.remote.SftpOperations> About to store file: QSX30RPMAJA=
R1702483756.txt using stream: java.io.BufferedInputStream@7954cfa8
                DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.c=
amel.component.file.remote.SftpOperations> Took 0.659 seconds (659 millis) =
to store file: QSX30RPMAJAR1702483756.txt and FTP client returned: true
                DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.c=
amel.component.file.remote.RemoteFileProducer> Wrote [icoms/1/QSX30RPMAJAR1=
702483756.txt] to [Endpoint[sftp://10.100.150.190/icoms/1?download=3Dfalse&=
maxMessagesPerPoll=3D10&password=3Dxxxxxx&tempPrefix=3DQ&username=3Dsigmaus=
er]]
                DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.c=
amel.component.file.remote.SftpOperations> Renaming file: icoms/1/QSX30RPMA=
JAR1702483756.txt to: icoms/1/SX30RPMAJAR1702483756.txt
                INFO 07:50:41 (Camel (cfgMgrCamelContext) thread #6 - file:=
///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) com.sigma.sam=
p.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder=
> IOP response file : SX30RPMAJAR1702483756.txt successfully sent to ICOMS =
FTP directory



=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Similarly when we achieved the files from target directory. It took around =
6 sec.It seems like there is a performance issue with camel sftp component.=
 Does it list the files in target directory which is taking time.
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

PFB the producer route which we set up
sftp://10.100.150.190/icoms/1?download=3Dfalse&maxMessagesPerPoll=3D10&pass=
word=3Dxxxxxx&tempPrefix=3DQ&username=3Dsigmauser


Please let us know if you need anything else.


Ayush Dixit
Software Engineer
ayush.dixit@sigma-systems.com<mailto:ayush.dixit@sigma-systems.com>
O: +91.20.25661992 x 321 |  M: +91-814-982-6260 | Skype: ayushdixit421
[cid:image001.jpg@01D16809.E12C0D50]<http://www.sigma-systems.com/>




--_000_CY4PR05MB288556474F742B4395CD66D3AF0B0CY4PR05MB2885namp_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dus-ascii"=
>
<meta name=3D"Generator" content=3D"Microsoft Word 15 (filtered medium)">
<!--[if !mso]><style>v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	mso-fareast-language:EN-US;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:#954F72;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri",sans-serif;
	color:windowtext;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-family:"Calibri",sans-serif;
	mso-fareast-language:EN-US;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]-->
</head>
<body lang=3D"EN-CA" link=3D"#0563C1" vlink=3D"#954F72">
<div class=3D"WordSection1">
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">Hi ,<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">We have implemented a camel route where we are havin=
g camel sftp producer to transfer a files to remote SFTP location but on pe=
rformance testing on client environment and on our local environment we hav=
e observed degradation in the time
 for transferring files to remote SFTP location. Please find the detailed a=
nalysis below. The we tried the various test in our local environment. In e=
ach test we put around 22 files on camel file consumer and each file took b=
elow time to write the file. PFB
 details<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<o:p></o:p><=
/p>
<p class=3D"MsoNormal">When target directory having 20,000 files. Camel sft=
p producer took around 1 minute 43 second to a transfer file
<o:p></o:p></p>
<p class=3D"MsoNormal">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<o:p></o:p><=
/p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal" style=3D"margin-left:24.75pt">DEBUG 07:00:38 (Camel =
(cfgMgrCamelContext) thread #6 - file:///data/users/slvm02/smp53/domains/vm=
b/Icoms/iop_responses/1) org.apache.camel.component.file.FileConsumer&gt; A=
bout to process file: GenericFile[/data/users/slvm02/smp53/domains/vmb/Icom=
s/iop_responses/1/ST30PERFORPMAJAR17020726.txt]
 using exchange: Exchange[ST30PERFORPMAJAR17020726.txt]<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 - file:///data=
/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) com.sigma.samp.imp.v=
irginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder&gt; Pi=
cked IOP response
 file : ST30PERFORPMAJAR17020726.txt from IOP FTP directory<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp; INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 - file:/=
//data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) com.sigma.samp=
.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder&=
gt; Sending IOP response
 file : ST30PERFORPMAJAR17020726.txt to ICOMS FTP directory<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 - =
file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apac=
he.camel.processor.SendProcessor&gt; &gt;&gt;&gt;&gt; Endpoint[sftp://10.10=
0.150.190/icoms/1?download=3Dfalse&amp;maxMessagesPerPoll=3D10&amp;password=
=3Dxxxxxx&amp;tempPrefix=3DQ&amp;username=3Dsigmauser]
 Exchange[ST30PERFORPMAJAR17020726.txt]<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp; DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 - file:=
///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.ca=
mel.component.file.GenericFileConverter&gt; Read file /data/users/slvm02/sm=
p53/domains/vmb/Icoms/iop_responses/1/ST30PERFORPMAJAR17020726.txt
 (no charset)<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 - file:///dat=
a/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.camel.co=
mponent.file.remote.SftpOperations&gt; About to store file: QST30PERFORPMAJ=
AR17020726.txt
 using stream: java.io.BufferedInputStream@54a89ff5<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 - file:///dat=
a/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.camel.co=
mponent.file.remote.SftpOperations&gt; Took 0.658 seconds (658 millis) to s=
tore file: QST30PERFORPMAJAR17020726.txt
 and FTP client returned: true<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 - file:///dat=
a/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.camel.co=
mponent.file.remote.RemoteFileProducer&gt; Wrote [icoms/1/QST30PERFORPMAJAR=
17020726.txt]
 to [Endpoint[sftp://10.100.150.190/icoms/1?download=3Dfalse&amp;maxMessage=
sPerPoll=3D10&amp;password=3Dxxxxxx&amp;tempPrefix=3DQ&amp;username=3Dsigma=
user]]<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 - file:/=
//data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.cam=
el.component.file.remote.SftpOperations&gt; Renaming file: icoms/1/QST30PER=
FORPMAJAR17020726.txt
 to: icoms/1/ST30PERFORPMAJAR17020726.txt<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp; INFO 07:02:20 (Camel (cfgMgrCamelContext) thread #6 - file:/=
//data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) com.sigma.samp=
.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder&=
gt; IOP response
 file : ST30PERFORPMAJAR17020726.txt successfully sent to ICOMS FTP directo=
ry<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<o:p></o:p></p>
<p class=3D"MsoNormal">When target directory having 40,000 files. Camel sft=
p producer took around 3 minute 17 second to transfer file<o:p></o:p></p>
<p class=3D"MsoNormal">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal" style=3D"text-indent:.5in">DEBUG 07:47:23 (Camel (cf=
gMgrCamelContext) thread #6 - file:///data/users/slvm02/smp53/domains/vmb/I=
coms/iop_responses/1) org.apache.camel.component.file.FileConsumer&gt; Abou=
t to process file: GenericFile[/data/users/slvm02/smp53/domains/v<o:p></o:p=
></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mb/Icoms/iop_re=
sponses/1/SX30RPMAJAR1702483756.txt] using exchange: Exchange[SX30RPMAJAR17=
02483756.txt]<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INFO 07:47:23 (Camel (cfgMgrCamelCon=
text) thread #6 - file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_res=
ponses/1) com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOP=
ResponseFtpRouteBuilder&gt; Picked IOP
 response file :<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SX30RPMAJAR1702=
483756.txt from IOP FTP directory<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INFO 07:47:23 (Camel (cfgMgrCamelCon=
text) thread #6 - file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_res=
ponses/1) com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOP=
ResponseFtpRouteBuilder&gt; Sending IOP
 response file<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : SX30RPMAJAR17=
02483756.txt to ICOMS FTP directory<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEBUG 07:47:23 (Camel (cfgMgrCamelCo=
ntext) thread #6 - file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_re=
sponses/1) org.apache.camel.processor.SendProcessor&gt; &gt;&gt;&gt;&gt; En=
dpoint[sftp://10.100.150.190/icoms/1?download=3Dfalse&amp;maxMessagesPer<o:=
p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Poll=3D10&amp;p=
assword=3Dxxxxxx&amp;tempPrefix=3DQ&amp;username=3Dsigmauser] Exchange[SX30=
RPMAJAR1702483756.txt]<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEBUG 07:50:40 (Camel (cfgMgrCamelCo=
ntext) thread #6 - file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_re=
sponses/1) org.apache.camel.component.file.GenericFileConverter&gt; Read fi=
le /data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/SX30RPMAJAR17=
02483756.txt
 (no charset)<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEBUG 07:50:40 (Camel (cfgMgrCamelCo=
ntext) thread #6 - file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_re=
sponses/1) org.apache.camel.component.file.remote.SftpOperations&gt; About =
to store file: QSX30RPMAJAR1702483756.txt
 using stream: java.io.BufferedInputStream@7954cfa8<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEBUG 07:50:40 (Camel (cfgMgrCamelCo=
ntext) thread #6 - file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_re=
sponses/1) org.apache.camel.component.file.remote.SftpOperations&gt; Took 0=
.659 seconds (659 millis) to store file:
 QSX30RPMAJAR1702483756.txt and FTP client returned: true<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEBUG 07:50:41 (Camel (cfgMgrCamelCo=
ntext) thread #6 - file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_re=
sponses/1) org.apache.camel.component.file.remote.RemoteFileProducer&gt; Wr=
ote [icoms/1/QSX30RPMAJAR1702483756.txt]
 to [Endpoint[sftp://10.100.150.190/icoms/1?download=3Dfalse&amp;maxMessage=
sPerPoll=3D10&amp;password=3Dxxxxxx&amp;tempPrefix=3DQ&amp;username=3Dsigma=
user]]<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEBUG 07:50:41 (Camel (cfgMgrCamelCo=
ntext) thread #6 - file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_re=
sponses/1) org.apache.camel.component.file.remote.SftpOperations&gt; Renami=
ng file: icoms/1/QSX30RPMAJAR1702483756.txt
 to: icoms/1/SX30RPMAJAR1702483756.txt<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INFO 07:50:41 (Camel (cfgMgrCamelCon=
text) thread #6 - file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_res=
ponses/1) com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOP=
ResponseFtpRouteBuilder&gt; IOP response
 file : SX30RPMAJAR1702483756.txt successfully sent to ICOMS FTP directory<=
o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D<o:p></o:p></p>
<p class=3D"MsoNormal">Similarly when we achieved the files from target dir=
ectory. It took around 6 sec.It seems like there is a performance issue wit=
h camel sftp component. Does it list the files in target directory which is=
 taking time.<o:p></o:p></p>
<p class=3D"MsoNormal">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">PFB the producer route which we set up<o:p></o:p></p=
>
<p class=3D"MsoNormal">sftp://10.100.150.190/icoms/1?download=3Dfalse&amp;m=
axMessagesPerPoll=3D10&amp;password=3Dxxxxxx&amp;tempPrefix=3DQ&amp;usernam=
e=3Dsigmauser<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">Please let us know if you need anything else.<o:p></=
o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><b><span lang=3D"EN-IN" style=3D"font-family:&quot;A=
rial&quot;,sans-serif;color:#F37021;mso-fareast-language:EN-CA">Ayush Dixit=
</span></b><span lang=3D"EN-IN" style=3D"color:#1F497D;mso-fareast-language=
:EN-CA"><br>
</span><b><span lang=3D"EN-IN" style=3D"font-size:8.5pt;font-family:&quot;A=
rial&quot;,sans-serif;color:#6D6E71;mso-fareast-language:EN-CA">Software&nb=
sp;Engineer</span></b><span lang=3D"EN-IN" style=3D"color:#1F497D;mso-farea=
st-language:EN-CA"><br>
</span><span lang=3D"EN-IN" style=3D"font-size:7.5pt;font-family:&quot;Aria=
l&quot;,sans-serif;color:#6D6E71;mso-fareast-language:EN-CA"><a href=3D"mai=
lto:ayush.dixit@sigma-systems.com"><span style=3D"color:#333366">ayush.dixi=
t@sigma-systems.com</span></a><o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-IN" style=3D"font-size:7.5pt;font-f=
amily:&quot;Arial&quot;,sans-serif;color:#6D6E71;mso-fareast-language:EN-CA=
">O: &#43;91.20.25661992 x 321 |&nbsp;&nbsp;M: &#43;91-814-982-6260 | Skype=
: ayushdixit421<o:p></o:p></span></p>
<table class=3D"MsoNormalTable" border=3D"0" cellspacing=3D"0" cellpadding=
=3D"0" width=3D"387" style=3D"width:290.25pt">
<tbody>
<tr style=3D"height:62.25pt">
<td valign=3D"top" style=3D"padding:0in 0in 0in 0in;height:62.25pt">
<p class=3D"MsoNormal"><a href=3D"http://www.sigma-systems.com/" target=3D"=
_blank"><span style=3D"color:#1F497D;mso-fareast-language:EN-CA;text-decora=
tion:none"><img border=3D"0" width=3D"387" height=3D"83" id=3D"Picture_x002=
0_1" src=3D"cid:image001.jpg@01D2AD40.344BC9E0" alt=3D"cid:image001.jpg@01D=
16809.E12C0D50"></span></a><span style=3D"font-size:7.5pt;font-family:&quot=
;Arial&quot;,sans-serif;color:#6D6E71;mso-fareast-language:EN-CA"><o:p></o:=
p></span></p>
</td>
</tr>
</tbody>
</table>
<p class=3D"MsoNormal"><span style=3D"mso-fareast-language:EN-CA"><o:p>&nbs=
p;</o:p></span></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
</body>
</html>

--_000_CY4PR05MB288556474F742B4395CD66D3AF0B0CY4PR05MB2885namp_--

--_004_CY4PR05MB288556474F742B4395CD66D3AF0B0CY4PR05MB2885namp_--


From users-return-65194-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:18:35 2017
Return-Path: <users-return-65194-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB3A819CF9
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:18:35 +0000 (UTC)
Received: (qmail 77448 invoked by uid 500); 4 Apr 2017 07:18:35 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 77398 invoked by uid 500); 4 Apr 2017 07:18:35 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 82656 invoked by uid 99); 31 Mar 2017 13:40:34 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.965
X-Spam-Level: *
X-Spam-Status: No, score=1.965 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_NEUTRAL=0.652, URI_HEX=1.313]
	autolearn=disabled
Date: Fri, 31 Mar 2017 06:40:29 -0700 (MST)
From: Amuthan <araamuthan.rajaraman@accenture.com>
To: users@camel.apache.org
Message-ID: <1490967629790-5796784.post@n5.nabble.com>
Subject: unable to unzip the gzip files
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi All,

My requirement is to read the gzip files from the source location then unzip
it and place it in destination folder.
So I have written the below code to achieve the same.

package com.evolvus.examples.camel.fileOne;

import org.apache.camel.CamelContext;
import org.apache.camel.Processor;
import org.apache.camel.builder.RouteBuilder;
import org.apache.camel.impl.DefaultCamelContext;

public class App {
    public static void main(final String[] args) throws Exception {
        final String sourceFolder = "file:C:\\Amu\\abc\\EIAS\\Camel\\input";
       final String destinationFolder =
"file:C:\\Amu\\abc\\EIAS\\Camel\\output";
        final CamelContext camelContext = new DefaultCamelContext();
        camelContext.addRoutes(new RouteBuilder() {
            @Override
            public void configure() {
            	
                from(sourceFolder)
                				
                					.unmarshal().gzip()                
                .to(destinationFolder);
            }
        });

        camelContext.start();
        Thread.sleep(30000);
        camelContext.stop();
    }
}

After the code execution the output folder is containing the unzipped files
with .gz extension.
Kindly help me with this.

regards,
Amu



--
View this message in context: http://camel.465427.n5.nabble.com/unable-to-unzip-the-gzip-files-tp5796784.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65195-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:18:59 2017
Return-Path: <users-return-65195-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A1ADF19CFE
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:18:59 +0000 (UTC)
Received: (qmail 79205 invoked by uid 500); 4 Apr 2017 07:18:59 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 79162 invoked by uid 500); 4 Apr 2017 07:18:59 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 44756 invoked by uid 99); 31 Mar 2017 12:46:40 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Fri, 31 Mar 2017 05:46:37 -0700 (MST)
From: "dilip.pashupathi" <dilip.pashupathi@gmail.com>
To: users@camel.apache.org
Message-ID: <1490964397877-5796783.post@n5.nabble.com>
In-Reply-To: <AANLkTimiAcQG3sUMNWw_imX8Jg5_rpAPXRoFtWrEpDXk@mail.gmail.com>
References: <1292340331070-3304744.post@n5.nabble.com> <1292340383816-3304746.post@n5.nabble.com> <1292340442340-3304747.post@n5.nabble.com> <AANLkTinZF3Qs7qVSf9iQmZGssz7PGqCPqrQ9fF3QZuEu@mail.gmail.com> <1292341153439-3304768.post@n5.nabble.com> <AANLkTim=Eb1o3Bx4ebdNLXzC70oat1Y8pzm+MGWwyVTU@mail.gmail.com> <1292348597679-3304969.post@n5.nabble.com> <AANLkTi=x1MM7sb7iGjW=h6KjRogC=nE0OQmjpEk38PRZ@mail.gmail.com> <1292488120575-3307566.post@n5.nabble.com> <AANLkTimiAcQG3sUMNWw_imX8Jg5_rpAPXRoFtWrEpDXk@mail.gmail.com>
Subject: Re: Using ConsumerTemplate to fetch files.
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi, 
I was working with something similar to this problem. But I am not able to
capture the exceptions properly. 

Setps:
1. Download the existing file from the FTP
2. Push the file to backup folder and append the file name with current date
3. Push a new file to the FTP which has a complete new file

Here is gist of what I am trying to achieve

in RouteBuilder:
 public void configure() throws Exception {

        onException(Exception.class)
                .log("Exception returned due: ${exception.message}")
                .to(INTERNAL_ERROR_HANDLER_ENDPOINT_URI)
                .to(logError(PACKAGE_NAME))
                .handled(true);

       from(INTERNAL_ERROR_HANDLER_ENDPOINT_URI)
                .log("File error route triggered due to :
${exception?.class}")
                .transform().simple("Error ${exception.message}")
                .bean(responseTranslator, "translateError")
                .end();

       from(ENDPOINT_URI)
                .to(log(PACKAGE_NAME))
                .process(contentBackupProcessor)
                .to(INTERNAL_ENDPOINT_URI)
                .end();

       from(INTERNAL_ENDPOINT_URI)
                .process(requestProcessor)
                .to(ftpHostConfiguration.ftpEndpointForPublishing())
                .bean(responseTranslator, "translate")
                .to(log(PACKAGE_NAME));
    }

ContentBackupProcessor:

       logger.debug("File backup processor called.");
        CamelContext context = exchange.getContext();
        Endpoint ftp =
context.getEndpoint(ftpHostConfiguration.ftpConsumerEndpointForBackupProcessor());
        PollingConsumer consumer = ftp.createPollingConsumer();
        logger.debug("FTP Consumer created for backup");
        Endpoint producerFtp =
context.getEndpoint(ftpHostConfiguration.ftpProducerEndpointForBackupProcessor());
        ProducerTemplate template =
exchange.getContext().createProducerTemplate();
        logger.debug("FTP Producer created for backup");
        consumer.start();
        while(true){
            Exchange result = consumer.receive(5000);
            if(result == null){
                break;
            }
            template.send(producerFtp, result);
        }
        consumer.stop();
    }

And this is how my FTP URL Looks like
URL 1: Consumer URL for downloading the file
ftp://XXXXC@localhost:8899/?password=XXXXC&consumer.bridgeErrorHandler=true&throwExceptionOnConnectFailed=true&maximumReconnectAttempts=0&useList=true&delete=true

URL 2: Producer URL for moving to backup folder and adding current date to
the fileName
ftp://XXXXC@localhost:8899/backup?password=XXXXC&consumer.bridgeErrorHandler=true&throwExceptionOnConnectFailed=true&maximumReconnectAttempts=0&useList=true&fileName=${file:name.noext}_${date:now:yyyyMMdd.hhmmss}.js


ftp://XXXX@localhost:8899/?password=XXXX&consumer.bridgeErrorHandler=true&throwExceptionOnConnectFailed=true&maximumReconnectAttempts=0

Since URL 1 and URL 2 is written inside the processor when exception happens
like unable to connect to FTP, onException is not able to handle that
properly. And the route ends with a lot of stack trace.

Kindly help. This is a bit urgent since we have a service that needs to be
delivered urgently. 

Thanks & Regards
Dilip H Pashupathi



--
View this message in context: http://camel.465427.n5.nabble.com/Using-ConsumerTemplate-to-fetch-files-tp3304671p5796783.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65196-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:19:09 2017
Return-Path: <users-return-65196-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF6C019CFF
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:19:09 +0000 (UTC)
Received: (qmail 80211 invoked by uid 500); 4 Apr 2017 07:19:09 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 80172 invoked by uid 500); 4 Apr 2017 07:19:09 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 2334 invoked by uid 99); 31 Mar 2017 12:19:08 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.813
X-Spam-Level: **
X-Spam-Status: No, score=2.813 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=0.5,
	RCVD_IN_DNSWL_NONE=-0.0001, URI_HEX=1.313] autolearn=disabled
Date: Fri, 31 Mar 2017 05:19:06 -0700 (MST)
From: Nick Dmnick <DmitrenkoNA@skblab.ru>
To: users@camel.apache.org
Message-ID: <1490962746398-5796781.post@n5.nabble.com>
Subject: Searching analog of getBean (Spring) in Blueprint
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello, Camel community. 

What is an analog of Spring' getBean method in Blueprint? Can't find in
google. 

What I use now in Spring:

private ApplicationContext appContext;
ITProfixLogger sli= (ITProfixLogger) appContext.getBean("logW");

What I need: convert it in Blueprint.



--
View this message in context: http://camel.465427.n5.nabble.com/Searching-analog-of-getBean-Spring-in-Blueprint-tp5796781.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65197-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:19:38 2017
Return-Path: <users-return-65197-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2520119D00
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:19:38 +0000 (UTC)
Received: (qmail 81293 invoked by uid 500); 4 Apr 2017 07:19:37 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 81238 invoked by uid 500); 4 Apr 2017 07:19:37 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 13415 invoked by uid 99); 31 Mar 2017 09:07:56 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.472
X-Spam-Level: ***
X-Spam-Status: No, score=3.472 tagged_above=-999 required=6.31
	tests=[FORGED_HOTMAIL_RCVD2=1.187, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Fri, 31 Mar 2017 02:07:52 -0700 (MST)
From: firpili <soprawill@hotmail.com>
To: users@camel.apache.org
Message-ID: <1490951272545-5796774.post@n5.nabble.com>
In-Reply-To: <CAGB5yNkm=Wy1JufsMeT+SKMQbjgz+ybU-aRrw2441hMOPYR02g@mail.gmail.com>
References: <1347988132588-5719539.post@n5.nabble.com> <CAGB5yNkm=Wy1JufsMeT+SKMQbjgz+ybU-aRrw2441hMOPYR02g@mail.gmail.com>
Subject: Re: Splitting within transactions
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi Claus ! I am more or less new in Camel .. I would like to do something
similar but with files..

I mean.. I have a XML file like:
<Orders>
<order>
<id>1</id>
<desc>desc 1</desc>
</order>
<order>
<id>2</id>
<desc>dec 2</desc>
</order>
</Orders>

and i want to split it in order to store in a database in a single
transaction.. I mean.. if some Order is wrong during the process no 'order'
of this XML file will be store in the database.. instead of that i would
like to throw an exception or st like that..

Do u thing is enough with this or i need to configure anything in my
database configuration ?
I am a bit lost.

from("direct:myRoute").transacted().split(xpath("Orders/order")).unmarshall(dataFormat).process(My
Processor()).to("jta:com.model.Orders?usePersists=true")

It would be great if someone can help me, thanks!!



--
View this message in context: http://camel.465427.n5.nabble.com/Splitting-within-transactions-tp5719539p5796774.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65198-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:20:25 2017
Return-Path: <users-return-65198-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1109619D04
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:20:25 +0000 (UTC)
Received: (qmail 83016 invoked by uid 500); 4 Apr 2017 07:20:24 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 82973 invoked by uid 500); 4 Apr 2017 07:20:24 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 43840 invoked by uid 99); 31 Mar 2017 00:26:36 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Thu, 30 Mar 2017 17:26:33 -0700 (MST)
From: varunmaurya <speedvarun@gmail.com>
To: users@camel.apache.org
Message-ID: <1490919993384-5796763.post@n5.nabble.com>
Subject: Shutting down camel immediately
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

How can we shutdown camel context and underlying routes immediately (not
gracefully).
http://stackoverflow.com/questions/43124437/how-to-stop-camel-context-immediately/
<http://stackoverflow.com/questions/43124437/how-to-stop-camel-context-immediately/>  



--
View this message in context: http://camel.465427.n5.nabble.com/Shutting-down-camel-immediately-tp5796763.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65199-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:20:37 2017
Return-Path: <users-return-65199-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4419819D06
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:20:37 +0000 (UTC)
Received: (qmail 84380 invoked by uid 500); 4 Apr 2017 07:20:36 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 84335 invoked by uid 500); 4 Apr 2017 07:20:36 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 43195 invoked by uid 99); 30 Mar 2017 23:09:17 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.285
X-Spam-Level: **
X-Spam-Status: No, score=2.285 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Thu, 30 Mar 2017 16:09:11 -0700 (MST)
From: jbailie1992 <jordan.bailie@libertymutual.com>
To: users@camel.apache.org
Message-ID: <1490915351181-5796761.post@n5.nabble.com>
Subject: Camel - No component found with scheme:mybatis
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I've got a Spring Boot app that makes use of Camel and Mybatis. I've got the
following mybatis dependencies in pom.xml:

*pom.xml*

    ....
    <dependency>
        <groupId>org.apache.camel</groupId>
        <artifactId>camel-mybatis</artifactId>
        <version>${camel.version}</version>
    </dependency>
    ....
    <dependency>
        <groupId>org.mybatis.spring.boot</groupId>
        <artifactId>mybatis-spring-boot-starter</artifactId>
        <version>1.0.1</version>
    </dependency>
    ....

I've got the following route:

*MyRoute.java*

    @Component
    public class MyRoute extends SpringRouteBuilder{

        @Autowired
        MQConnectionProperties mqConnectionProperties;

        @Override
        public void configure() throws Exception {
            from(mqConnectionProperties.getResponseQueue())
            .to("mybatis:selectLogByPrimaryKey?statementType=SelectOne")
            .process(new TargetSystemProcessor())
            .end()
        }
    }

and the test for the route:

*MyRouteUnitTest.java*

    @RunWith(SpringJUnit4ClassRunner.class)
    @ContextConfiguration(classes = {MyRouteTestConfiguration.class})
    @DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)
    public class MyRouteUnitTest extends CamelTestSupport{

        @Mock
        MyBatisComponent mybatis;
        @Autowired
        MQConnectionProperties mqProps;
        @Autowired
        MyRouteBuilder route;

        @Before
        public void setup() throws Exception {
            super.setUp();
            context.addComponent("mybatis", mybatis);
        }
    
        @Test
        public void test() throws Exception {
            startCamelContext();
        
            assertTrue(true);

            stopCamelContext();
        }
    }

When I try to start the test without adding mybatis as a component to the
context, I get this error:

    org.apache.camel.FailedToCreateRouteException: Failed to create route
My_Route at: >>>
To[mybatis:selectAuditLogByPrimaryKey?statementType=SelectOne] <<< in route:
Route(My_Route)[[From[seda:inpu... because of Failed to resolve endpoint:
mybatis://selectAuditLogByPrimaryKey?statementType=SelectOne due to: Cannot
auto create component: mybatis
    ....
    Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to
resolve endpoint:
mybatis://selectAuditLogByPrimaryKey?statementType=SelectOne due to: Cannot
auto create component: mybatis
    ....
    Caused by: java.io.FileNotFoundException: Cannot find resource:
SqlMapConfig.xml in classpath for URI: SqlMapConfig.xml



Whenever I add the component to the context as shown i nthe test above, I
get this error:

    org.apache.camel.FailedToCreateRouteException: Failed to create route
My_Route at: >>>
To[mybatis:selectAuditLogByPrimaryKey?statementType=SelectOne] <<< in route:
Route(My_Route)[[From[seda:inpu... because of Failed to resolve endpoint:
mybatis://selectAuditLogByPrimaryKey?statementType=SelectOne due to: No
component found with scheme: mybatis


As far as I can tell, I've got the right dependencies i nthe pom file to
hook all of this together, and mybatis works fine in the source code. For
unit testing I can work around it by replacing the endpoint, but I can't
write any integration tests for my route



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-No-component-found-with-scheme-mybatis-tp5796761.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65200-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:21:12 2017
Return-Path: <users-return-65200-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 833F819D0E
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:21:12 +0000 (UTC)
Received: (qmail 86882 invoked by uid 500); 4 Apr 2017 07:21:12 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 86841 invoked by uid 500); 4 Apr 2017 07:21:12 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 23531 invoked by uid 99); 30 Mar 2017 16:27:31 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Thu, 30 Mar 2017 09:27:21 -0700 (MST)
From: Bernard Ligny <bernard.ligny@gmail.com>
To: users@camel.apache.org
Message-ID: <1490891241997-5796750.post@n5.nabble.com>
In-Reply-To: <1490795924035-5796699.post@n5.nabble.com>
References: <1490795924035-5796699.post@n5.nabble.com>
Subject: Re: Why do we have to specify a context for @PropertyInject ?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Improvement issue created:
https://issues.apache.org/jira/browse/CAMEL-11097



--
View this message in context: http://camel.465427.n5.nabble.com/Why-do-we-have-to-specify-a-context-for-PropertyInject-tp5796699p5796750.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65201-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:23:15 2017
Return-Path: <users-return-65201-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7355619D21
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:23:15 +0000 (UTC)
Received: (qmail 90000 invoked by uid 500); 4 Apr 2017 07:23:14 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 89957 invoked by uid 500); 4 Apr 2017 07:23:14 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 89938 invoked by uid 99); 4 Apr 2017 07:23:14 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 07:23:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1635DC03B9
	for <users@camel.apache.org>; Tue,  4 Apr 2017 07:23:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.798
X-Spam-Level:
X-Spam-Status: No, score=-0.798 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=sigmasys1.onmicrosoft.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id EXER8shb1yWH for <users@camel.apache.org>;
	Tue,  4 Apr 2017 07:23:12 +0000 (UTC)
Received: from NAM03-CO1-obe.outbound.protection.outlook.com (mail-co1nam03on0040.outbound.protection.outlook.com [104.47.40.40])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 43CA35F24C
	for <users@camel.apache.org>; Tue,  4 Apr 2017 07:23:11 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=SIGMASYS1.onmicrosoft.com; s=selector1-sigmasystems-com01c;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version;
 bh=1P5xcZ2YllAbgPPxMakQh/gYr9mnyPZ2p+GEIJvATRQ=;
 b=BNdpUs0VkRWm26G1n98OZMaC80w5H0iapfW/3BQaQchBrUyzSydP1yz+Saq9Kl01tcR6H7zd2jJP3nIIepGv2UBQsUGhJ4JmgGOP1CCrI/VqC/iYAJELtioMKRQaxw7QX7DiNhD8KCD8wbj07RbRRVeEDeAy77xBNbBNcY975KI=
Received: from CY4PR05MB2885.namprd05.prod.outlook.com (10.169.183.19) by
 CY4PR05MB2888.namprd05.prod.outlook.com (10.169.183.22) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1019.8; Tue, 4 Apr 2017 07:23:03 +0000
Received: from CY4PR05MB2885.namprd05.prod.outlook.com ([10.169.183.19]) by
 CY4PR05MB2885.namprd05.prod.outlook.com ([10.169.183.19]) with mapi id
 15.01.1019.015; Tue, 4 Apr 2017 07:23:03 +0000
From: Ayush Dixit <Ayush.Dixit@sigma-systems.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: Performance issue in Camel SFTP component
Thread-Topic: Performance issue in Camel SFTP component
Thread-Index: AdKtFAJLqTmjWBQ6QkuJ7xvvZoytfA==
Date: Tue, 4 Apr 2017 07:23:03 +0000
Message-ID: <CY4PR05MB2885D87E75E73981F09571ACAF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
authentication-results: camel.apache.org; dkim=none (message not signed)
 header.d=none;camel.apache.org; dmarc=none action=none
 header.from=sigma-systems.com;
x-originating-ip: [115.113.155.67]
x-microsoft-exchange-diagnostics: 1;CY4PR05MB2888;7:I/WhoofUJ8/HpN/+fvj5PT3uH4CEBt+64zf58E1IJdlMwtnQMx3h0LfucH/UaDf2QGalZBWgCxMx4K9aZYQoNZYfsoZunsrTso8KsEGv6Laej9/4y1EypSLj2PgrgTbINfC1Xyj8uH6j9Kfe/4CUUVNl5jbzET2251hVnJQsXY2rqk4bzGruW1P+XMq7196Jkiq9kdVAOwY88QfMFxThHoQ28OErZVynRqKpyrMGKs2zwNJo3zKORXg0i5LPE56YmmuyFjKWBY30Y6NKhVLo/k/W2WYlvdAo9KcjyM0R5teElnAuTj2YuRviSGLWWoxppD42E8sYsGrhO+LpODScDw==
x-ms-office365-filtering-correlation-id: 79827c05-6242-4033-d0ce-08d47b2b6e7c
x-microsoft-antispam: UriScan:;BCL:0;PCL:0;RULEID:(22001)(2017030254075)(201703131423075)(201703031133081);SRVR:CY4PR05MB2888;
x-microsoft-antispam-prvs: <CY4PR05MB28887BAE70AFB7D59D1A87B2AF0B0@CY4PR05MB2888.namprd05.prod.outlook.com>
x-exchange-antispam-report-test: UriScan:(212892494489503)(21748063052155);
x-exchange-antispam-report-cfa-test: BCL:0;PCL:0;RULEID:(102415395)(6040450)(601004)(2401047)(8121501046)(5005006)(10201501046)(3002001)(93006095)(93001095)(6041248)(201703131423075)(201702281528075)(201703061421075)(20161123562025)(20161123560025)(20161123555025)(20161123564025)(6072148);SRVR:CY4PR05MB2888;BCL:0;PCL:0;RULEID:;SRVR:CY4PR05MB2888;
x-forefront-prvs: 0267E514F9
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(39410400002)(39450400003)(39400400002)(39830400002)(174854003)(236005)(122556002)(25786009)(50986999)(53936002)(99936001)(54356999)(189998001)(861006)(2501003)(6506006)(551544002)(2900100001)(6436002)(733005)(33656002)(606005)(5640700003)(77096006)(6306002)(54896002)(54556002)(8936002)(38730400002)(9686003)(110136004)(66066001)(790700001)(81166006)(6116002)(102836003)(3280700002)(99286003)(3846002)(55016002)(3660700001)(1730700003)(8676002)(5660300001)(2906002)(6916009)(19618635001)(7696004)(7906003)(7736002)(74316002)(2351001)(86362001);DIR:OUT;SFP:1101;SCL:1;SRVR:CY4PR05MB2888;H:CY4PR05MB2885.namprd05.prod.outlook.com;FPR:;SPF:None;MLV:ovrnspm;PTR:InfoNoRecords;LANG:en;
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: multipart/related;
	boundary="_004_CY4PR05MB2885D87E75E73981F09571ACAF0B0CY4PR05MB2885namp_";
	type="multipart/alternative"
MIME-Version: 1.0
X-OriginatorOrg: sigma-systems.com
X-MS-Exchange-CrossTenant-originalarrivaltime: 04 Apr 2017 07:23:03.1464
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: dba5b4ed-9d8f-46b1-95cb-4b550e5a68e1
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY4PR05MB2888

--_004_CY4PR05MB2885D87E75E73981F09571ACAF0B0CY4PR05MB2885namp_
Content-Type: multipart/alternative;
	boundary="_000_CY4PR05MB2885D87E75E73981F09571ACAF0B0CY4PR05MB2885namp_"

--_000_CY4PR05MB2885D87E75E73981F09571ACAF0B0CY4PR05MB2885namp_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable



Hi ,


We have implemented a camel route where we are having camel sftp producer t=
o transfer a files to remote SFTP location but on performance testing on cl=
ient environment and on our local environment we have observed degradation =
in the time for transferring files to remote SFTP location. Please find the=
 detailed analysis below. The we tried the various test in our local enviro=
nment. In each test we put around 22 files on camel file consumer and each =
file took below time to write the file. PFB details


=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
When target directory having 20,000 files. Camel sftp producer took around =
1 minute 43 second to a transfer file
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 - file:///data/users/s=
lvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data\users\slvm02\s=
mp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.component.file.Fi=
leConsumer> About to process file: GenericFile[/data/users/slvm02/smp53/dom=
ains/vmb/Icoms/iop_responses/1/ST30PERFORPMAJAR17020726.txt] using exchange=
: Exchange[ST30PERFORPMAJAR17020726.txt]
           INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 - file:///da=
ta/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data\user=
s\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) com.sigma.samp.imp.virgi=
nmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder> Picked IO=
P response file : ST30PERFORPMAJAR17020726.txt from IOP FTP directory
            INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 - file:///d=
ata/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data\use=
rs\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) com.sigma.samp.imp.virg=
inmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder> Sending =
IOP response file : ST30PERFORPMAJAR17020726.txt to ICOMS FTP directory
            DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 - file:///=
data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data\us=
ers\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.proce=
ssor.SendProcessor> >>>> Endpoint[sftp://10.100.150.190/icoms/1?download=3D=
false&maxMessagesPerPoll=3D10&password=3Dxxxxxx&tempPrefix=3DQ&username=3Ds=
igmauser] Exchange[ST30PERFORPMAJAR17020726.txt]



            DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 - file:///=
data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data\us=
ers\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.compo=
nent.file.GenericFileConverter> Read file /data/users/slvm02/smp53/domains/=
vmb/Icoms/iop_responses/1/ST30PERFORPMAJAR17020726.txt (no charset)
           DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 - file:///d=
ata/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data\use=
rs\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.compon=
ent.file.remote.SftpOperations> About to store file: QST30PERFORPMAJAR17020=
726.txt using stream: java.io.BufferedInputStream@54a89ff5<mailto:java.io.B=
ufferedInputStream@54a89ff5>
           DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 - file:///d=
ata/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data\use=
rs\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.compon=
ent.file.remote.SftpOperations> Took 0.658 seconds (658 millis) to store fi=
le: QST30PERFORPMAJAR17020726.txt and FTP client returned: true

           DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 - file:///d=
ata/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data\use=
rs\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.compon=
ent.file.remote.RemoteFileProducer> Wrote [icoms/1/QST30PERFORPMAJAR1702072=
6.txt] to [Endpoint[sftp://10.100.150.190/icoms/1?download=3Dfalse&maxMessa=
gesPerPoll=3D10&password=3Dxxxxxx&tempPrefix=3DQ&username=3Dsigmauser]]
           DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 - file:///d=
ata/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data\use=
rs\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.compon=
ent.file.remote.SftpOperations> Renaming file: icoms/1/QST30PERFORPMAJAR170=
20726.txt to: icoms/1/ST30PERFORPMAJAR17020726.txt
            INFO 07:02:20 (Camel (cfgMgrCamelContext) thread #6 - file:///d=
ata/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data\use=
rs\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) com.sigma.samp.imp.virg=
inmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder> IOP resp=
onse file : ST30PERFORPMAJAR17020726.txt successfully sent to ICOMS FTP dir=
ectory


=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
When target directory having 40,000 files. Camel sftp producer took around =
3 minute 17 second to transfer file
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 - file:///data/users/s=
lvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data\users\slvm02\s=
mp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.component.file.Fi=
leConsumer> About to process file: GenericFile[/data/users/slvm02/smp53/dom=
ains/v
                                mb/Icoms/iop_responses/1/SX30RPMAJAR1702483=
756.txt] using exchange: Exchange[SX30RPMAJAR1702483756.txt]
                INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 - file:=
///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data=
\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) com.sigma.samp.imp.=
virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder> Pick=
ed IOP response file :
                                SX30RPMAJAR1702483756.txt from IOP FTP dire=
ctory
                INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 - file:=
///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data=
\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) com.sigma.samp.imp.=
virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder> Send=
ing IOP response file
                                : SX30RPMAJAR1702483756.txt to ICOMS FTP di=
rectory
                DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\dat=
a\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.p=
rocessor.SendProcessor> >>>> Endpoint[sftp://10.100.150.190/icoms/1?downloa=
d=3Dfalse&maxMessagesPer
                                Poll=3D10&password=3Dxxxxxx&tempPrefix=3DQ&=
username=3Dsigmauser] Exchange[SX30RPMAJAR1702483756.txt]


                DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\dat=
a\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.c=
omponent.file.GenericFileConverter> Read file /data/users/slvm02/smp53/doma=
ins/vmb/Icoms/iop_responses/1/SX30RPMAJAR1702483756.txt (no charset)
                DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\dat=
a\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.c=
omponent.file.remote.SftpOperations> About to store file: QSX30RPMAJAR17024=
83756.txt using stream: java.io.BufferedInputStream@7954cfa8<mailto:java.io=
.BufferedInputStream@7954cfa8>
                DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\dat=
a\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.c=
omponent.file.remote.SftpOperations> Took 0.659 seconds (659 millis) to sto=
re file: QSX30RPMAJAR1702483756.txt and FTP client returned: true
                DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\dat=
a\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.c=
omponent.file.remote.RemoteFileProducer> Wrote [icoms/1/QSX30RPMAJAR1702483=
756.txt] to [Endpoint[sftp://10.100.150.190/icoms/1?download=3Dfalse&maxMes=
sagesPerPoll=3D10&password=3Dxxxxxx&tempPrefix=3DQ&username=3Dsigmauser]]
                DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\dat=
a\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) org.apache.camel.c=
omponent.file.remote.SftpOperations> Renaming file: icoms/1/QSX30RPMAJAR170=
2483756.txt to: icoms/1/SX30RPMAJAR1702483756.txt
                INFO 07:50:41 (Camel (cfgMgrCamelContext) thread #6 - file:=
///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1<file:///\\data=
\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1>) com.sigma.samp.imp.=
virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder> IOP =
response file : SX30RPMAJAR1702483756.txt successfully sent to ICOMS FTP di=
rectory



=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Similarly when we achieved the files from target directory. It took around =
6 sec.It seems like there is a performance issue with camel sftp component.=
 Does it list the files in target directory which is taking time.
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

PFB the producer route which we set up
sftp://10.100.150.190/icoms/1?download=3Dfalse&maxMessagesPerPoll=3D10&pass=
word=3Dxxxxxx&tempPrefix=3DQ&username=3Dsigmauser


Ayush Dixit
Software Engineer
ayush.dixit@sigma-systems.com<mailto:ayush.dixit@sigma-systems.com>
O: +91.20.25661992 x 321 |  M: +91-814-982-6260 | Skype: ayushdixit421
[cid:image001.jpg@01D16809.E12C0D50]<http://www.sigma-systems.com/>




--_000_CY4PR05MB2885D87E75E73981F09571ACAF0B0CY4PR05MB2885namp_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dus-ascii"=
>
<meta name=3D"Generator" content=3D"Microsoft Word 15 (filtered medium)">
<!--[if !mso]><style>v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	mso-fareast-language:EN-US;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:#954F72;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri",sans-serif;
	color:windowtext;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-family:"Calibri",sans-serif;
	mso-fareast-language:EN-US;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]-->
</head>
<body lang=3D"EN-CA" link=3D"#0563C1" vlink=3D"#954F72">
<div class=3D"WordSection1">
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">Hi ,<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">We have implemented a camel route where we are havin=
g camel sftp producer to transfer a files to remote SFTP location but on pe=
rformance testing on client environment and on our local environment we hav=
e observed degradation in the time
 for transferring files to remote SFTP location. Please find the detailed a=
nalysis below. The we tried the various test in our local environment. In e=
ach test we put around 22 files on camel file consumer and each file took b=
elow time to write the file. PFB
 details<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<o:p></o:p><=
/p>
<p class=3D"MsoNormal">When target directory having 20,000 files. Camel sft=
p producer took around 1 minute 43 second to a transfer file
<o:p></o:p></p>
<p class=3D"MsoNormal">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<o:p></o:p><=
/p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal" style=3D"margin-left:24.75pt">DEBUG 07:00:38 (Camel =
(cfgMgrCamelContext) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 org.apache.camel.component.file.FileConsumer&gt; About to process file: Ge=
nericFile[/data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/ST30PE=
RFORPMAJAR17020726.txt]
 using exchange: Exchange[ST30PERFORPMAJAR17020726.txt]<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseF=
tpRouteBuilder&gt; Picked IOP response
 file : ST30PERFORPMAJAR17020726.txt from IOP FTP directory<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp; INFO <span style=3D"background:yellow;mso-highlight:yellow">
07:00:38</span> (Camel (cfgMgrCamelContext) thread #6 - <a href=3D"file:///=
\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1">
file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>) com.=
sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRou=
teBuilder<span style=3D"background:yellow;mso-highlight:yellow">&gt; Sendin=
g IOP response file : ST30PERFORPMAJAR17020726.txt
 to</span> ICOMS FTP directory<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 org.apache.camel.processor.SendProcessor&gt; &gt;&gt;&gt;&gt; Endpoint[sft=
p://10.100.150.190/icoms/1?download=3Dfalse&amp;maxMessagesPerPoll=3D10&amp=
;password=3Dxxxxxx&amp;tempPrefix=3DQ&amp;username=3Dsigmauser]
 Exchange[ST30PERFORPMAJAR17020726.txt]<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp; DEBUG <span style=3D"background:yellow;mso-highlight:yellow"=
>
07:02:19</span> (Camel (cfgMgrCamelContext) thread #6 - <a href=3D"file:///=
\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1">
file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>) org.=
apache.camel.component.file.GenericFileConverter&gt;
<span style=3D"background:yellow;mso-highlight:yellow">Read file /data/user=
s/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/ST30PERFORPMAJAR17020726.t=
xt (no charset)</span><o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 org.apache.camel.component.file.remote.SftpOperations&gt; About to store f=
ile: QST30PERFORPMAJAR17020726.txt using
 stream: <a href=3D"mailto:java.io.BufferedInputStream@54a89ff5">java.io.Bu=
fferedInputStream@54a89ff5</a><o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 org.apache.camel.component.file.remote.SftpOperations&gt; Took 0.658 secon=
ds (658 millis) to store file: QST30PERFORPMAJAR17020726.txt
 and FTP client returned: true<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; <span style=3D"background:yellow;mso-highlight:yellow">
DEBUG 07:02:20</span> (Camel (cfgMgrCamelContext) thread #6 - <a href=3D"fi=
le:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1">
file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>) org.=
apache.camel.component.file.remote.RemoteFileProducer&gt;
<span style=3D"background:yellow;mso-highlight:yellow">Wrote [icoms/1/QST30=
PERFORPMAJAR17020726.txt] to [Endpoint[sftp://10.100.150.190/icoms/1?downlo=
ad=3Dfalse&amp;maxMessagesPerPoll=3D10&amp;password=3Dxxxxxx&amp;tempPrefix=
=3DQ&amp;username=3Dsigmauser]]</span><o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 org.apache.camel.component.file.remote.SftpOperations&gt; Renaming file: i=
coms/1/QST30PERFORPMAJAR17020726.txt
 to: icoms/1/ST30PERFORPMAJAR17020726.txt<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp; INFO 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseF=
tpRouteBuilder&gt; IOP response file
 : ST30PERFORPMAJAR17020726.txt successfully sent to ICOMS FTP directory<o:=
p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<o:p></o:p></p>
<p class=3D"MsoNormal">When target directory having 40,000 files. Camel sft=
p producer took around 3 minute 17 second to transfer file<o:p></o:p></p>
<p class=3D"MsoNormal">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal" style=3D"text-indent:.5in">DEBUG 07:47:23 (Camel (cf=
gMgrCamelContext) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 org.apache.camel.component.file.FileConsumer&gt; About to process file: Ge=
nericFile[/data/users/slvm02/smp53/domains/v<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mb/Icoms/iop_re=
sponses/1/SX30RPMAJAR1702483756.txt] using exchange: Exchange[SX30RPMAJAR17=
02483756.txt]<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INFO 07:47:23 (Camel (cfgMgrCamelCon=
text) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseF=
tpRouteBuilder&gt; Picked IOP response
 file :<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SX30RPMAJAR1702=
483756.txt from IOP FTP directory<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INFO <span style=3D"background:yello=
w;mso-highlight:yellow">
07:47:23</span> (Camel (cfgMgrCamelContext) thread #6 - <a href=3D"file:///=
\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1">
file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>) com.=
sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRou=
teBuilder&gt;
<span style=3D"background:yellow;mso-highlight:yellow">Sending IOP response=
 file<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"background:yellow;mso-highlight:yello=
w">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : SX30RPMAJAR1702483756.txt to ICOM=
S FTP directory</span><o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEBUG 07:47:23 (Camel (cfgMgrCamelCo=
ntext) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 org.apache.camel.processor.SendProcessor&gt; &gt;&gt;&gt;&gt; Endpoint[sft=
p://10.100.150.190/icoms/1?download=3Dfalse&amp;maxMessagesPer<o:p></o:p></=
p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Poll=3D10&amp;p=
assword=3Dxxxxxx&amp;tempPrefix=3DQ&amp;username=3Dsigmauser] Exchange[SX30=
RPMAJAR1702483756.txt]<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=3D"background:yellow;mso=
-highlight:yellow">
DEBUG 07:50:40</span> (Camel (cfgMgrCamelContext) thread #6 - <a href=3D"fi=
le:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1">
file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>) org.=
apache.camel.component.file.GenericFileConverter&gt;
<span style=3D"background:yellow;mso-highlight:yellow">Read file /data/user=
s/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/SX30RPMAJAR1702483756.txt =
(no charset)</span><o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEBUG 07:50:40 (Camel (cfgMgrCamelCo=
ntext) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 org.apache.camel.component.file.remote.SftpOperations&gt; About to store f=
ile: QSX30RPMAJAR1702483756.txt using
 stream: <a href=3D"mailto:java.io.BufferedInputStream@7954cfa8">java.io.Bu=
fferedInputStream@7954cfa8</a><o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEBUG 07:50:40 (Camel (cfgMgrCamelCo=
ntext) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 org.apache.camel.component.file.remote.SftpOperations&gt; Took 0.659 secon=
ds (659 millis) to store file: QSX30RPMAJAR1702483756.txt
 and FTP client returned: true<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEBUG <span style=3D"background:yell=
ow;mso-highlight:yellow">
07:50:41</span> (Camel (cfgMgrCamelContext) thread #6 - <a href=3D"file:///=
\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_responses\1">
file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>) org.=
apache.camel.component.file.remote.RemoteFileProducer&gt;
<span style=3D"background:yellow;mso-highlight:yellow">Wrote [icoms/1/QSX30=
RPMAJAR1702483756.txt] to [Endpoint[sftp://10.100.150.190/icoms/1?download=
=3Dfalse&amp;maxMessagesPerPoll=3D10&amp;password=3Dxxxxxx&amp;tempPrefix=
=3DQ&amp;username=3Dsigmauser]]</span><o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEBUG 07:50:41 (Camel (cfgMgrCamelCo=
ntext) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 org.apache.camel.component.file.remote.SftpOperations&gt; Renaming file: i=
coms/1/QSX30RPMAJAR1702483756.txt to:
 icoms/1/SX30RPMAJAR1702483756.txt<o:p></o:p></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INFO 07:50:41 (Camel (cfgMgrCamelCon=
text) thread #6 -
<a href=3D"file:///\\data\users\slvm02\smp53\domains\vmb\Icoms\iop_response=
s\1">file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1</a>)=
 com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseF=
tpRouteBuilder&gt; IOP response file
 : SX30RPMAJAR1702483756.txt successfully sent to ICOMS FTP directory<o:p><=
/o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D<o:p></o:p></p>
<p class=3D"MsoNormal">Similarly when we achieved the files from target dir=
ectory. It took around 6 sec.It seems like there is a performance issue wit=
h camel sftp component. Does it list the files in target directory which is=
 taking time.<o:p></o:p></p>
<p class=3D"MsoNormal">=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">PFB the producer route which we set up<o:p></o:p></p=
>
<p class=3D"MsoNormal">sftp://10.100.150.190/icoms/1?download=3Dfalse&amp;m=
axMessagesPerPoll=3D10&amp;password=3Dxxxxxx&amp;tempPrefix=3DQ&amp;usernam=
e=3Dsigmauser<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><b><span lang=3D"EN-IN" style=3D"font-family:&quot;A=
rial&quot;,sans-serif;color:#F37021;mso-fareast-language:EN-CA">Ayush Dixit=
</span></b><span lang=3D"EN-IN" style=3D"color:#1F497D;mso-fareast-language=
:EN-CA"><br>
</span><b><span lang=3D"EN-IN" style=3D"font-size:8.5pt;font-family:&quot;A=
rial&quot;,sans-serif;color:#6D6E71;mso-fareast-language:EN-CA">Software&nb=
sp;Engineer</span></b><span lang=3D"EN-IN" style=3D"color:#1F497D;mso-farea=
st-language:EN-CA"><br>
</span><span lang=3D"EN-IN" style=3D"font-size:7.5pt;font-family:&quot;Aria=
l&quot;,sans-serif;color:#6D6E71;mso-fareast-language:EN-CA"><a href=3D"mai=
lto:ayush.dixit@sigma-systems.com"><span style=3D"color:#333366">ayush.dixi=
t@sigma-systems.com</span></a><o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-IN" style=3D"font-size:7.5pt;font-f=
amily:&quot;Arial&quot;,sans-serif;color:#6D6E71;mso-fareast-language:EN-CA=
">O: &#43;91.20.25661992 x 321 |&nbsp;&nbsp;M: &#43;91-814-982-6260 | Skype=
: ayushdixit421<o:p></o:p></span></p>
<table class=3D"MsoNormalTable" border=3D"0" cellspacing=3D"0" cellpadding=
=3D"0" width=3D"387" style=3D"width:290.25pt">
<tbody>
<tr style=3D"height:62.25pt">
<td valign=3D"top" style=3D"padding:0in 0in 0in 0in;height:62.25pt">
<p class=3D"MsoNormal"><a href=3D"http://www.sigma-systems.com/" target=3D"=
_blank"><span style=3D"color:#1F497D;mso-fareast-language:EN-CA;text-decora=
tion:none"><img border=3D"0" width=3D"387" height=3D"83" id=3D"Picture_x002=
0_1" src=3D"cid:image001.jpg@01D2AD42.640BAFE0" alt=3D"cid:image001.jpg@01D=
16809.E12C0D50"></span></a><span style=3D"font-size:7.5pt;font-family:&quot=
;Arial&quot;,sans-serif;color:#6D6E71;mso-fareast-language:EN-CA"><o:p></o:=
p></span></p>
</td>
</tr>
</tbody>
</table>
<p class=3D"MsoNormal"><span style=3D"mso-fareast-language:EN-CA"><o:p>&nbs=
p;</o:p></span></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
</body>
</html>

--_000_CY4PR05MB2885D87E75E73981F09571ACAF0B0CY4PR05MB2885namp_--

--_004_CY4PR05MB2885D87E75E73981F09571ACAF0B0CY4PR05MB2885namp_--


From users-return-65202-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:45:25 2017
Return-Path: <users-return-65202-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F28BD19E0E
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:45:25 +0000 (UTC)
Received: (qmail 36572 invoked by uid 500); 4 Apr 2017 07:45:25 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 36530 invoked by uid 500); 4 Apr 2017 07:45:25 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 36506 invoked by uid 99); 4 Apr 2017 07:45:24 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 07:45:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 794A61A7A0F
	for <users@camel.apache.org>; Tue,  4 Apr 2017 07:45:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.692
X-Spam-Level: *
X-Spam-Status: No, score=1.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id QUbtxxO5TwDO for <users@camel.apache.org>;
	Tue,  4 Apr 2017 07:45:23 +0000 (UTC)
Received: from mail-qk0-f169.google.com (mail-qk0-f169.google.com [209.85.220.169])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id ED3015FB62
	for <users@camel.apache.org>; Tue,  4 Apr 2017 07:45:22 +0000 (UTC)
Received: by mail-qk0-f169.google.com with SMTP id p22so134464194qka.3
        for <users@camel.apache.org>; Tue, 04 Apr 2017 00:45:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=3lHMiy4MjZn9stholjvpfdWMqeqWevL63UTqbsNsw0I=;
        b=nIvauBDqEJZmIFyUDRk/TAKqM/QltF7XfLtBzn1uEDMgtaAF8kmxYHi1KpBrmpFLKD
         I1qa6ij+kFTQ2HHbtk8U4HSjtiMGTpxCV18gpPpr+26/VIiP9YWAGO8HdjLIIPX1bQ+N
         f7vamGuBuhVC93hoqx4wNT4Rz3vMstQ4aPz0EUWIA5jhkY++KpN/UQjKWVH4J4bdwuqn
         ZA5Dhhb4QPmgjfL+Q5f6sC6DRe6mGlRL8wVmwcTOHzqZAJ89dWk+iwDJY6kMtpkupGla
         7LJJMrzgZyunC7Gthu92jJRlAd8OxLZ0JEzuuRTLhUz8I3/cMKYc3le+534AUsEC6+xb
         /YFQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=3lHMiy4MjZn9stholjvpfdWMqeqWevL63UTqbsNsw0I=;
        b=neG1dtrEKs1SE6NexiN5kq3HSxYyEEwcwNkZtIWjlWAa4kYtw8lKp60amGoKkbY3gN
         ftynhXMaIfoGrwCAzNPHoYKn6tHinnoBZSIyWWjuDq5s/HTFTQW9w7CNFAOCxJhbOilx
         lDWDdF/0/lkvPSPAfDAQ2Q30Dy8GXpcGxfBs8NeqS7T77gTx6os9Kzai1FbibNh827gh
         RdVfqNeqj8TlfUmeR2TiVsA/3mMpDnhYk/g7SVTz9IcZ3UJEUHPhxQnBRw0xQKl6V3AX
         DIvfrVvmHdphJ9Zxip+JogCT4f7p2lCEbWvNWY4wSeQ9kJIPXLoAmrE8nuGttBJCHn9C
         G2cA==
X-Gm-Message-State: AFeK/H38xqqi468yYf6OEVIIBuAhfMMuMOBpqdM4Me375YK3iy7Q+kwzIWlXHRjT1zK55pV9ui8peJMtuGnRtA==
X-Received: by 10.55.207.86 with SMTP id e83mr18864291qkj.258.1491291921901;
 Tue, 04 Apr 2017 00:45:21 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Tue, 4 Apr 2017 00:45:01 -0700 (PDT)
In-Reply-To: <1490878078693-5796737.post@n5.nabble.com>
References: <1490878078693-5796737.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 4 Apr 2017 09:45:01 +0200
Message-ID: <CAGB5yNk8nBhCVwh_wUugmRBU5ids0kZcr55+nhzOUUrpRVpZFg@mail.gmail.com>
Subject: Re: camel-snmp Producer for sending TRAPS/INFORMS(2.18.3)
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Look at the documentation on github - its the up to date docs
https://github.com/apache/camel/tree/master/components#components

And you can look at versions there too, eg find the 2.18.3 tag

On Thu, Mar 30, 2017 at 2:47 PM, imranrazakhan <imranrazakhan@gmail.com> wrote:
> Hi,
>
> As per 2.18.3 release notes producer support available , but following URL
> doesn't have details
>
> http://camel.apache.org/snmp.html
>
> Regards
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/camel-snmp-Producer-for-sending-TRAPS-INFORMS-2-18-3-tp5796737.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65203-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:54:29 2017
Return-Path: <users-return-65203-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2E5ED19E4D
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:54:29 +0000 (UTC)
Received: (qmail 50243 invoked by uid 500); 4 Apr 2017 07:54:28 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 50199 invoked by uid 500); 4 Apr 2017 07:54:28 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 50187 invoked by uid 99); 4 Apr 2017 07:54:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 07:54:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id BF6A41AF8E0
	for <users@camel.apache.org>; Tue,  4 Apr 2017 07:54:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id gKWlsuRrcXaP for <users@camel.apache.org>;
	Tue,  4 Apr 2017 07:54:24 +0000 (UTC)
Received: from mail-qt0-f180.google.com (mail-qt0-f180.google.com [209.85.216.180])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 8DD385FB62
	for <users@camel.apache.org>; Tue,  4 Apr 2017 07:54:23 +0000 (UTC)
Received: by mail-qt0-f180.google.com with SMTP id r45so131918082qte.3
        for <users@camel.apache.org>; Tue, 04 Apr 2017 00:54:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=Nfdt9P2Raq8JLtr95evyBfs1GTTAeQYMfDF6e5Y6gFE=;
        b=BAKccF5RYbDTelpsq0xnz3Gerz58oMg/WIl7CAHx0nM8FWOANkSs9vJRC0kal5xNkC
         Min1GMcMkdvs06ni3S2f/hN7vlER8a2BDZRfwJ0H7dXQcyoZuVdaUrFrbXi9no0rtayS
         PuCXjCAiip/d14Hp8IOhtN34xeDSnCcwyiF2G2XWMjOTLI863lvL0o6ABk5BgEfp+sLd
         HlgGT8NAdoi0TmlyTmZSN5MtnBbox9OYmbI8aysWNqok/an5ckDoWLVAdI1HClJwrVN/
         B8gNLwyMH8fOTQk98BOIdwlOqDosdfN/jdukZenwaRykreoUXoktF8nernyyvc1HVUdw
         5vUA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=Nfdt9P2Raq8JLtr95evyBfs1GTTAeQYMfDF6e5Y6gFE=;
        b=qKi3ERxtOxN3iMX8Mo3GeqB2TTKz74wbcFMArbaCFS53xNOUyIik8E2lc1MRJlciCr
         n2/BFtRMmyWrYEOITWMLjNGmo2vZYd3hup4NkflvFvbLi8dUQopeu0iEhCcgFTd+SsxL
         46dsxw5caCdnI1V31ccvFiMchteackMphSyeOqzfPuLuJ0gtFaFsG3xh2jcxWR3EE+5r
         oFjRJ9Dojhxv1XPMF9wxlpa2zvCFyJQuhUDPvzy/0vjPJDkA3P2eTlW8+WtTn6C+tnUK
         WS4AbHpaYJda/vs13mQTrlI5Spv7n/tPsPfnkjLEsXcg7f+Ue/VxW1vcjppexMAo1IXz
         JC1g==
X-Gm-Message-State: AFeK/H0PfVPlyV+78CyFg5l1H3R0IXGBmTCMOegQ+a9Au+HTaiVsofWPC5JtlU2+txXwRlguMMNn7Qe1+FIHbg==
X-Received: by 10.237.62.25 with SMTP id l25mr21588202qtf.225.1491292462544;
 Tue, 04 Apr 2017 00:54:22 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Tue, 4 Apr 2017 00:54:02 -0700 (PDT)
In-Reply-To: <CAOFZOdWj+tda0Zz1kLJi5u4VsDJ6DXawHVwqFXTRkjC4H66L5w@mail.gmail.com>
References: <CAOFZOdWj+tda0Zz1kLJi5u4VsDJ6DXawHVwqFXTRkjC4H66L5w@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 4 Apr 2017 09:54:02 +0200
Message-ID: <CAGB5yNnFv9qAm4=UjBA+ivj_onJ7cs=4Cr6kO1E-1eEzj+80qA@mail.gmail.com>
Subject: Re: Hystrix on a routing slip
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Yeah anything you put inside the hystrix block should work as a hystrix command.

On Thu, Mar 30, 2017 at 10:56 PM, Priyanka Gopinath <priyanka@karnam.net> wrote:
> All of the hystrix examples are applied directly to an endpoint like -
> .hystrix()
> .hystrixConfiguration().executionTimeoutInMilliseconds(4000).end()
> .to("direct:fast")
> .onFallback()
> .transform().constant("Fallback message")
> .end() .
>
> How do we this to apply the hystrix configuration to a routing slip? Is
> this possible? Any ideas are appreciated.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65204-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 07:55:23 2017
Return-Path: <users-return-65204-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E3BAE19E55
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 07:55:23 +0000 (UTC)
Received: (qmail 52042 invoked by uid 500); 4 Apr 2017 07:55:23 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 51995 invoked by uid 500); 4 Apr 2017 07:55:23 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 51982 invoked by uid 99); 4 Apr 2017 07:55:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 07:55:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 84C331AF8E0
	for <users@camel.apache.org>; Tue,  4 Apr 2017 07:55:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.379
X-Spam-Level:
X-Spam-Status: No, score=0.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id tFP-cSYWCdwr for <users@camel.apache.org>;
	Tue,  4 Apr 2017 07:55:21 +0000 (UTC)
Received: from mail-qt0-f174.google.com (mail-qt0-f174.google.com [209.85.216.174])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 32A4A5F1E9
	for <users@camel.apache.org>; Tue,  4 Apr 2017 07:55:21 +0000 (UTC)
Received: by mail-qt0-f174.google.com with SMTP id r45so131931708qte.3
        for <users@camel.apache.org>; Tue, 04 Apr 2017 00:55:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=Bhs50xOq0kM9LWnm/8fJsGFnsXInUvUyZRxDrT0qm90=;
        b=V/erKKYlRTRkp9uJRjfhuZx/5J7Ds1mvtmThwZQ1epygiiWVEd7K+xUHCwKov1GhZd
         vTGCpjdUh8XkQaTtZY4A8Kpq6+BkWvwTX0c4BzOwGSQXT7/ynk/gNN/dGQobOIsZ7cvI
         HDrhJRV5PBV5GLJE7KwZJ/JHK2FU0RQmZ4VTUOHTk3nC2YwmxqgWH3qxlYUk8RFAT8m5
         +mfuKhE/xaUfLtLm313ot33AuX1nvAPYBd+0+RS1sVB9CbKA0+wh8GujkhDHQd7WRB18
         ScaQAlzcg+6L61xoKT7wTKLQb04/J6bH2JFUzrTza5Lhw89zgCU8G5poQ4HNU0mrJjcV
         J+jQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=Bhs50xOq0kM9LWnm/8fJsGFnsXInUvUyZRxDrT0qm90=;
        b=I+wYfqzNlphx1RdTzxXtW67O4ScaUTiyDt2hxrx+G+sFYdZTb811BJOg9dApBe7ut2
         rKa4BucNBiyzWD+4+bHBGm+SWlOnz/3hDvdeinLoAVEIbztFixwmNpQA1/p7sQHsm3tX
         +0kvUZsJCyvmlifmq75lbjfga8A5afzAErnv32GoNv8u1YhurJata3qHv0YEi7PGdV7B
         /9sFPwH8qhhyjbWXHLUcEuAVyOs+cl8KdREKALXbcxg0xZsvGyTe8lMJSg3eJvIx+UBL
         pafuOg7szVBkpsYj+rxEoJ4H76ugNGt6HOU/3KxlMf8uSvxm2J9eonbECui+f/1IR30N
         1nYw==
X-Gm-Message-State: AFeK/H1AKDUybzkrlqxtoAfL66we0193jc+SPkGqCqLSgfdd5KC6mhjQo70cabnSYmHOq6IAHE6P0BXgHwEbNg==
X-Received: by 10.200.46.151 with SMTP id h23mr23748982qta.239.1491292520161;
 Tue, 04 Apr 2017 00:55:20 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Tue, 4 Apr 2017 00:54:59 -0700 (PDT)
In-Reply-To: <CAMzr4XVv=pDO3oM5=Gv-M0=rETVGn=Z7C-tX1wU06hT6sxNokQ@mail.gmail.com>
References: <CAMzr4XVv=pDO3oM5=Gv-M0=rETVGn=Z7C-tX1wU06hT6sxNokQ@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 4 Apr 2017 09:54:59 +0200
Message-ID: <CAGB5yNnMSLjhqN-kTaULGgoHgLBC1MBj_do-BdOvgCG7gn0T-g@mail.gmail.com>
Subject: Re: [Urgent] Same file getting downloads from multiple instances
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

The Camel in Action 2nd ed book covers this in the transaction and
idempotency chapter and as well in the clustering.

On Fri, Mar 31, 2017 at 11:23 AM, chandresh pancholi
<chandreshpancholi007@gmail.com> wrote:
> Hi,
>
> I am running Apache camel on 3 Kubernetes pods. Camel consumes file from
> FTP directory. These pods are downloading every file from same directory.
> Foe ex. directory /abc/def has 20 files every pods will download these 20
> files.If one router downloads a file another router in another pods
> shouldn't download.
>
> Is there any way I can use apache camel as distributed system to avoid
> duplicate download of files?
>
> Please help me out.
>
>
> --
> Chandresh Pancholi
> Senior Software Engineer
> Flipkart.com
> Email-id:chandresh.pancholi@flipkart.com
> Contact:08951803660



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65205-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 08:05:34 2017
Return-Path: <users-return-65205-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 71B5819EB2
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 08:05:34 +0000 (UTC)
Received: (qmail 74295 invoked by uid 500); 4 Apr 2017 08:05:33 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 74246 invoked by uid 500); 4 Apr 2017 08:05:33 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 74212 invoked by uid 99); 4 Apr 2017 08:05:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 08:05:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 74F51180535;
	Tue,  4 Apr 2017 08:05:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.803
X-Spam-Level:
X-Spam-Status: No, score=0.803 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, KAM_LINEPADDING=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-2.796, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id DcEwwrQ_Uyl3; Tue,  4 Apr 2017 08:05:29 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 2B8995F5A2;
	Tue,  4 Apr 2017 08:05:28 +0000 (UTC)
Received: by mail-qk0-f175.google.com with SMTP id d10so135316632qke.1;
        Tue, 04 Apr 2017 01:05:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc;
        bh=MMSWkZMUFXOGcClKe47oDT61ypwouHnAuL/dpAlIvFI=;
        b=Js5qr2jeyCHrCpRd1ynqGbS98DG414bEaVDhT4imRCze1DyTJrr5poZCrvJwyDzZfQ
         LkRqGPY1pUHNYQB0gkHj9wOtWhnuizMgOrzNhazyk3uvP9Ab2vvoXCvUzQOkNLDxKS/I
         7dGFikHPhRiFNCOqWv6H3Mk/zHZi7175VNy1vu79tfgICO13SzLKuFS907h49eNgEndp
         pU4w1+PdHIZeqwR08EJKYEzSTWp51dYWgfX61/rPkGPa63aB9zge24ZR6quEyAtKjisF
         7UvRFFDy+XTIvueuoXxYFuFGLHzUetcYxYdNqViDD9Z2+hmGSt1e15JryycFy/g570Az
         PX7g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:cc;
        bh=MMSWkZMUFXOGcClKe47oDT61ypwouHnAuL/dpAlIvFI=;
        b=eAUjzd2w6Wg5L8PyNGbdgfgTdMg7mO4ymj3x9KH+lyOF06LS6HCaYTBL1GMmM9Mmhp
         KjcVx51QRsTfAlRW/CSSU0xaGfR3aNvnuOlQ1SkUvkE6ePH5YXmK20QrRALawq07WCoE
         +2lgeWMTtQ/jl4GOtsPSrUTGrBg9w1ZJH3ALJ5M2C3AL1bc9G0f8qHvycBQkjf2cusYX
         kOdKOH7LgPFQZPfcwd/aqwo1ENiVc0caDMO9iuYQjpQI+3YUDVyeItC/7sKCZdVkigRC
         5Ul2UlJ1dFc+dpcLpJtJqpwitYykqLrC7uoKYciDIJcsba9Z6rupwQVJpnmYTvta7yXu
         MRhg==
X-Gm-Message-State: AFeK/H3j9nx/ncX/tUsHGlm5ORWebiyopCgAfAj0E4zYYy2Q0QqutC6MgRVT09DSdkHoCTbqU/cBfwhJgosDiQ==
X-Received: by 10.55.144.6 with SMTP id s6mr19016795qkd.27.1491293127007; Tue,
 04 Apr 2017 01:05:27 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Tue, 4 Apr 2017 01:05:06 -0700 (PDT)
In-Reply-To: <CY4PR05MB288556474F742B4395CD66D3AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
References: <CY4PR05MB288556474F742B4395CD66D3AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 4 Apr 2017 10:05:06 +0200
Message-ID: <CAGB5yN=okDLFFxhA5MDAWwH0oLovNB_D6BMYCuLhMfUimw8tng@mail.gmail.com>
Subject: Re: Performance issue in Camel SFTP component
To: "users@camel.apache.org" <users@camel.apache.org>
Cc: "users-subscribe@camel.apache.org" <users-subscribe@camel.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c08596817660a054c52bd1f

--94eb2c08596817660a054c52bd1f
Content-Type: text/plain; charset=UTF-8

Please spend more time to read the documentation and you can find options
to tweak the options to use or not use FTP list etc, and there is also a
stepwise option

On Tue, Apr 4, 2017 at 9:16 AM, Ayush Dixit <Ayush.Dixit@sigma-systems.com>
wrote:

>
>
> Hi ,
>
>
>
>
>
> We have implemented a camel route where we are having camel sftp producer
> to transfer a files to remote SFTP location but on performance testing on
> client environment and on our local environment we have observed
> degradation in the time for transferring files to remote SFTP location.
> Please find the detailed analysis below. The we tried the various test in
> our local environment. In each test we put around 22 files on camel file
> consumer and each file took below time to write the file. PFB details
>
>
>
>
>
> ============================================================
> ============================
>
> When target directory having 20,000 files. Camel sftp producer took around
> 1 minute 43 second to a transfer file
>
> ============================================================
> ============================
>
>
>
> DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.component.file.FileConsumer> About to process file:
> GenericFile[/data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/ST30PERFORPMAJAR17020726.txt]
> using exchange: Exchange[ST30PERFORPMAJAR17020726.txt]
>
>            INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder>
> Picked IOP response file : ST30PERFORPMAJAR17020726.txt from IOP FTP
> directory
>
>             INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder>
> Sending IOP response file : ST30PERFORPMAJAR17020726.txt to ICOMS FTP
> directory
>
>             DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.processor.SendProcessor> >>>> Endpoint[sftp://10.100.150.
> 190/icoms/1?download=false&maxMessagesPerPoll=10&
> password=xxxxxx&tempPrefix=Q&username=sigmauser] Exchange[
> ST30PERFORPMAJAR17020726.txt]
>
>
>
>
>
>
>
>             DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.component.file.GenericFileConverter> Read file
> /data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/ST30PERFORPMAJAR17020726.txt
> (no charset)
>
>            DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.component.file.remote.SftpOperations> About to store
> file: QST30PERFORPMAJAR17020726.txt using stream:
> java.io.BufferedInputStream@54a89ff5
>
>            DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.component.file.remote.SftpOperations> Took 0.658 seconds
> (658 millis) to store file: QST30PERFORPMAJAR17020726.txt and FTP client
> returned: true
>
>
>
>            DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.component.file.remote.RemoteFileProducer> Wrote [icoms/1/QST30PERFORPMAJAR17020726.txt]
> to [Endpoint[sftp://10.100.150.190/icoms/1?download=false&
> maxMessagesPerPoll=10&password=xxxxxx&tempPrefix=Q&username=sigmauser]]
>
>            DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.component.file.remote.SftpOperations> Renaming file:
> icoms/1/QST30PERFORPMAJAR17020726.txt to: icoms/1/
> ST30PERFORPMAJAR17020726.txt
>
>             INFO 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder>
> IOP response file : ST30PERFORPMAJAR17020726.txt successfully sent to ICOMS
> FTP directory
>
>
>
>
>
> ============================================================
> ===========================
>
> When target directory having 40,000 files. Camel sftp producer took around
> 3 minute 17 second to transfer file
>
> ============================================================
> ===========================
>
>
>
> DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.component.file.FileConsumer> About to process file:
> GenericFile[/data/users/slvm02/smp53/domains/v
>
>                                 mb/Icoms/iop_responses/1/SX30RPMAJAR1702483756.txt]
> using exchange: Exchange[SX30RPMAJAR1702483756.txt]
>
>                 INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder>
> Picked IOP response file :
>
>                                 SX30RPMAJAR1702483756.txt from IOP FTP
> directory
>
>                 INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder>
> Sending IOP response file
>
>                                 : SX30RPMAJAR1702483756.txt to ICOMS FTP
> directory
>
>                 DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.processor.SendProcessor> >>>> Endpoint[sftp://10.100.150.
> 190/icoms/1?download=false&maxMessagesPer
>
>                                 Poll=10&password=xxxxxx&
> tempPrefix=Q&username=sigmauser] Exchange[SX30RPMAJAR1702483756.txt]
>
>
>
>
>
>                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.component.file.GenericFileConverter> Read file
> /data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/SX30RPMAJAR1702483756.txt
> (no charset)
>
>                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.component.file.remote.SftpOperations> About to store
> file: QSX30RPMAJAR1702483756.txt using stream: java.io.BufferedInputStream@
> 7954cfa8
>
>                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.component.file.remote.SftpOperations> Took 0.659 seconds
> (659 millis) to store file: QSX30RPMAJAR1702483756.txt and FTP client
> returned: true
>
>                 DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.component.file.remote.RemoteFileProducer> Wrote [icoms/1/QSX30RPMAJAR1702483756.txt]
> to [Endpoint[sftp://10.100.150.190/icoms/1?download=false&
> maxMessagesPerPoll=10&password=xxxxxx&tempPrefix=Q&username=sigmauser]]
>
>                 DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> org.apache.camel.component.file.remote.SftpOperations> Renaming file:
> icoms/1/QSX30RPMAJAR1702483756.txt to: icoms/1/SX30RPMAJAR1702483756.txt
>
>                 INFO 07:50:41 (Camel (cfgMgrCamelContext) thread #6 -
> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilder>
> IOP response file : SX30RPMAJAR1702483756.txt successfully sent to ICOMS
> FTP directory
>
>
>
>
>
>
>
> ============================================================
> ========================================
>
> Similarly when we achieved the files from target directory. It took around
> 6 sec.It seems like there is a performance issue with camel sftp component.
> Does it list the files in target directory which is taking time.
>
> ============================================================
> =======================================
>
>
>
> PFB the producer route which we set up
>
> sftp://10.100.150.190/icoms/1?download=false&maxMessagesPerPoll=10&
> password=xxxxxx&tempPrefix=Q&username=sigmauser
>
>
>
>
>
> Please let us know if you need anything else.
>
>
>
>
>
> *Ayush Dixit*
> *Software Engineer*
> ayush.dixit@sigma-systems.com
>
> O: +91.20.25661992 x 321 <+91%2020%202566%201992> |  M: +91-814-982-6260
> <+91%2081498%2026260> | Skype: ayushdixit421
>
> [image: cid:image001.jpg@01D16809.E12C0D50]
> <http://www.sigma-systems.com/>
>
>
>
>
>



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

--94eb2c08596817660a054c52bd1f--

From users-return-65206-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 08:07:06 2017
Return-Path: <users-return-65206-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04E3B19EC4
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 08:07:06 +0000 (UTC)
Received: (qmail 76518 invoked by uid 500); 4 Apr 2017 08:07:05 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 76462 invoked by uid 500); 4 Apr 2017 08:07:04 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 76449 invoked by uid 99); 4 Apr 2017 08:07:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 08:07:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 559511AF8E0
	for <users@camel.apache.org>; Tue,  4 Apr 2017 08:07:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.692
X-Spam-Level: *
X-Spam-Status: No, score=1.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id z3-1lPEqoEhh for <users@camel.apache.org>;
	Tue,  4 Apr 2017 08:07:02 +0000 (UTC)
Received: from mail-qt0-f172.google.com (mail-qt0-f172.google.com [209.85.216.172])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 0172F5FB62
	for <users@camel.apache.org>; Tue,  4 Apr 2017 08:07:02 +0000 (UTC)
Received: by mail-qt0-f172.google.com with SMTP id n21so132365591qta.1
        for <users@camel.apache.org>; Tue, 04 Apr 2017 01:07:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=N7Zw+1E5Wtsx8FURJp/dhOIQHqscXaUTKPuEMuFsMNI=;
        b=a6kGFq9n1Oo07SHLK1m73uhLg7VlKN1g8AvQ2xS+n1EUKJ4FfKupKLDf4XlWoecojQ
         M+0Nkb0uTwXYgKoSS1ULGqZtaw/HpergtZkyc5qkxLfdj1zntDAqkT6iwORFCz8xWjyJ
         QEw7ZtUPI9AFwIpxylqQM9YZeiSB0owBHFbQegNyvJTK5yKrVHuX2x/w+8psl9MHVY5i
         mRN6tM3eDgeKa5+L169fSgq7dNR0sbY0BX4QtMhK8O1uCywptgO4hgHj7HR+lLi5rfQ9
         c9K2DjfoUJGuXDCAKJZ5HpHQbuE8z1juqRmLdC2EpwhpeqnoGiRWCpFxURP/uq6r7l3U
         ndQQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=N7Zw+1E5Wtsx8FURJp/dhOIQHqscXaUTKPuEMuFsMNI=;
        b=pndxHukSxyoLikaK1YA4ziNh6CX95swXCn8saTlaGSlIuR0AQzO99UlyqMy6N+GdtR
         dUCXEWmm/5bybA1f62DmHOFjeuPfYkg0ZfhWSFYHxCYf+RmWNrP39dDH8VlrGYw/kTUT
         TnlUqBCMA2PHknr7+cJuJByLE10Y/FLR9byTqJpfdggw6LhtNe04ix2xH9tDB3Xoabrw
         Y9h2fwB8kNstWNRXlM7mEPTfClgvXapR6dA4DV6DtgcwFFiYaa/7agM3eWkEk8w5HwSP
         xr/Z9E7eE1iYSZ7dr2tbSImk5iwAAtSHs4rzEJcWjolQfXzLoBBv42tV1eU8y//eoQz6
         tqwQ==
X-Gm-Message-State: AFeK/H1LbfJABEropRAeXBtwQdqps/2v/tvyE8tNM/KWrn18qx0xPth4yC+s11UDg1MFQknxdnKKeTYkpyrY+w==
X-Received: by 10.237.53.231 with SMTP id d36mr21128532qte.240.1491293220891;
 Tue, 04 Apr 2017 01:07:00 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Tue, 4 Apr 2017 01:06:40 -0700 (PDT)
In-Reply-To: <1490919993384-5796763.post@n5.nabble.com>
References: <1490919993384-5796763.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 4 Apr 2017 10:06:40 +0200
Message-ID: <CAGB5yNmf34TYo+-S_a2z3BhMWCvsR_kYvu9ADewvxEaeYHOL4Q@mail.gmail.com>
Subject: Re: Shutting down camel immediately
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

System.exit(0) shutdown really fast.

Well just set a short timeout value like 1 second or something. But
mind its not a good idea to shutdown a running app and not give it
time to shutdown correct

On Fri, Mar 31, 2017 at 2:26 AM, varunmaurya <speedvarun@gmail.com> wrote:
> How can we shutdown camel context and underlying routes immediately (not
> gracefully).
> http://stackoverflow.com/questions/43124437/how-to-stop-camel-context-immediately/
> <http://stackoverflow.com/questions/43124437/how-to-stop-camel-context-immediately/>
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Shutting-down-camel-immediately-tp5796763.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65219-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 14:34:10 2017
Return-Path: <users-return-65219-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7A205192C5
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 14:34:07 +0000 (UTC)
Received: (qmail 46972 invoked by uid 500); 4 Apr 2017 13:34:07 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 46930 invoked by uid 500); 4 Apr 2017 13:34:07 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 41234 invoked by uid 99); 4 Apr 2017 13:29:23 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.736
X-Spam-Level: ***
X-Spam-Status: No, score=3.736 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Tue, 4 Apr 2017 06:29:16 -0700 (MST)
From: "anirban.gupta4" <anirban.gupta4@gmail.com>
To: users@camel.apache.org
Message-ID: <1491312556098-5796916.post@n5.nabble.com>
Subject: Using Camel JDBC component
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

I am using camel JDBC component. I found the documentation at the location

http://camel.apache.org/jdbc.html

I have two questions here:
1. I have an URL of type "jdbc:sqlserver://someIP". How will I pass any
queries here?
2. How to set the userName, password for connecting to this DB?

I am migrating from some other integration framework to Camel. So do not
know how to do this in Camel.

Please help



--
View this message in context: http://camel.465427.n5.nabble.com/Using-Camel-JDBC-component-tp5796916.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65216-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 14:40:24 2017
Return-Path: <users-return-65216-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 131E9194CA
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 14:40:24 +0000 (UTC)
Received: (qmail 78043 invoked by uid 500); 4 Apr 2017 12:51:03 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 77998 invoked by uid 500); 4 Apr 2017 12:51:03 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 77983 invoked by uid 99); 4 Apr 2017 12:51:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 12:51:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id EF451180533
	for <users@camel.apache.org>; Tue,  4 Apr 2017 12:51:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.593
X-Spam-Level: *
X-Spam-Status: No, score=1.593 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id hr2CFiADVTE3 for <users@camel.apache.org>;
	Tue,  4 Apr 2017 12:51:01 +0000 (UTC)
Received: from 8.mo176.mail-out.ovh.net (8.mo176.mail-out.ovh.net [46.105.58.67])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 3C25E5F1A0
	for <users@camel.apache.org>; Tue,  4 Apr 2017 12:51:01 +0000 (UTC)
Received: from ex.mail.ovh.net (gw2.ex.mail.ovh.net [176.31.149.1])
	by mo176.mail-out.ovh.net (Postfix) with SMTP id 6AF8639677
	for <users@camel.apache.org>; Tue,  4 Apr 2017 14:50:54 +0200 (CEST)
From: Antonin Stefanutti <antonin@stefanutti.fr>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: Re: Why do we have to specify a context for @PropertyInject ?
Thread-Topic: Why do we have to specify a context for @PropertyInject ?
Thread-Index: AQHSrRQKE43qAqkzSkC3/dowpPFOLaG1CHyA
Date: Tue, 4 Apr 2017 12:50:49 +0000
Message-ID: <CAF52D5C-2241-4160-AE7E-58F89DAF7E5E@stefanutti.fr>
References: <1490795924035-5796699.post@n5.nabble.com>
 <1490891241997-5796750.post@n5.nabble.com>
In-Reply-To: <1490891241997-5796750.post@n5.nabble.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-mailer: Apple Mail (2.3273)
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [81.57.228.108]
Content-Type: text/plain; charset="us-ascii"
Content-ID: <88660C9040B06145B0EE9C8BAB945303@indiv.local>
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Ovh-Tracer-Id: 10857615753369789658
X-VR-SPAMSTATE: OK
X-VR-SPAMSCORE: 0
X-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeeliedrtddtgdefhecutefuodetggdotefrodftvfcurfhrohhfihhlvgemucfqggfjpdevjffgvefmvefgnecuuegrihhlohhuthemuceftddtnecu

Thanks for the detailed report. That makes sense to contextualize the defau=
lt context based on @ContextName.

Antonin

> On 30 Mar 2017, at 18:27, Bernard Ligny <bernard.ligny@gmail.com> wrote:
>=20
> Improvement issue created:
> https://issues.apache.org/jira/browse/CAMEL-11097
>=20
>=20
>=20
> --
> View this message in context: http://camel.465427.n5.nabble.com/Why-do-we=
-have-to-specify-a-context-for-PropertyInject-tp5796699p5796750.html
> Sent from the Camel - Users mailing list archive at Nabble.com.


From users-return-65212-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 14:45:01 2017
Return-Path: <users-return-65212-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E6C919603
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 14:45:01 +0000 (UTC)
Received: (qmail 72354 invoked by uid 500); 4 Apr 2017 11:58:21 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 72301 invoked by uid 500); 4 Apr 2017 11:58:20 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 72287 invoked by uid 99); 4 Apr 2017 11:58:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 11:58:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 98504C0027
	for <users@camel.apache.org>; Tue,  4 Apr 2017 11:58:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.647
X-Spam-Level:
X-Spam-Status: No, score=-0.647 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_ENVFROM_END_DIGIT=0.25, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id uMPkZgLOJRKM for <users@camel.apache.org>;
	Tue,  4 Apr 2017 11:58:18 +0000 (UTC)
Received: from mail-wr0-f182.google.com (mail-wr0-f182.google.com [209.85.128.182])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id E774F5FCDE
	for <users@camel.apache.org>; Tue,  4 Apr 2017 11:58:17 +0000 (UTC)
Received: by mail-wr0-f182.google.com with SMTP id t20so6925104wra.1
        for <users@camel.apache.org>; Tue, 04 Apr 2017 04:58:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=ZgVXRsWon4smwa6zS85D2VnbaHf5vzcqJCpfxr44xvk=;
        b=dbTZd6rvn9X3gAFfEF/mA1agne6t/ti3Hxu8J0J1nOGGaycQ3jcTSh9/I3aDqoxoF6
         uEmZscTw3wc6LcNB74I+mm9Bclj9g5LQsCCeJNjK4Ssz9R7nPsyejtXSWbLKYoVYz0tL
         kArbzUSFP1VseC918E9AwMmjhlQGE2E2D6o4Pgwz2h9tk8eHTnpf9/HT5HKN3BxLUKom
         ffRgzhxcylLifADcNbF62p5Nv8XcSAZ2BsC/plIDNZnNrgtvgA8LyZQDKLcE1vG3hUf6
         TC0agJvWqtnNBapsMo7SxdvbVsfujXwSyCyr7hGyf3tr6vCrkkLSQrvIELz64ZqpxvOG
         7ovg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=ZgVXRsWon4smwa6zS85D2VnbaHf5vzcqJCpfxr44xvk=;
        b=gsu+AodqMTGMRxRD2tKeT1sP5zxq7fa27nQ4iLVbog3Maqw1lIn33XVZ9twk08xmT1
         bE5jgLEqyw+5rjV3frjmCuJHpGx6509Af/b3RnOrnv3nkTVRmjcwwbBj0iSn1O6ikigy
         6Oeho/R1dOcPrxZv9Y4YqlR2F2v3SgCsucE/wCOpTWL/Dd5/tpHOqY8uv0dN8XuLhdTS
         W6qXfJxz0/FoBNW6RrJ6YyIXVJHQS2hs9Yl5gBV2HR+KZJpWhl+Z9c1Uvji/vbG8x2pv
         XvuT+DePesUMl60xYywKBQ/pRV3qLrSb1xXzZbPYUtu0K4FPra8bdUagLEiCo55hiCjl
         910A==
X-Gm-Message-State: AFeK/H2QOZ1oMDMnuvsRQv54NfP4NfOhDPslJu7p3ojjus7ZxXc0QJSx
	bgBEGUwZ9Ddve/bRUpEEDaCGSIs4ya3yydY=
X-Received: by 10.28.150.145 with SMTP id y139mr14036006wmd.109.1491307097481;
 Tue, 04 Apr 2017 04:58:17 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.59.8 with HTTP; Tue, 4 Apr 2017 04:58:16 -0700 (PDT)
From: chandresh pancholi <chandreshpancholi007@gmail.com>
Date: Tue, 4 Apr 2017 17:28:16 +0530
Message-ID: <CAMzr4XUeTZ59dkfhgrxrkNm5TuhwOiUKJJ1hhXRJnAvsw76Atg@mail.gmail.com>
Subject: Is shutdownRunningTask deprecated in 2.18.3?
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a114b3c86cbee52054c55fdc4

--001a114b3c86cbee52054c55fdc4
Content-Type: text/plain; charset=UTF-8

Hi,

I am using camel 2.18.3 and I am planning to use shutdownRunningTask(
ShutdownRunningTask.CompleteAllTasks) as shutting down strategy.
I am not able to locate this method shutdownRunningTask().


-- 
Chandresh Pancholi
Senior Software Engineer
Flipkart.com
Email-id:chandresh.pancholi@flipkart.com
Contact:08951803660

--001a114b3c86cbee52054c55fdc4--

From users-return-65220-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 14:54:16 2017
Return-Path: <users-return-65220-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9004F19873
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 14:54:16 +0000 (UTC)
Received: (qmail 1972 invoked by uid 500); 4 Apr 2017 13:54:16 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 1921 invoked by uid 500); 4 Apr 2017 13:54:16 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 1908 invoked by uid 99); 4 Apr 2017 13:54:16 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 13:54:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9E5E6C0027
	for <users@camel.apache.org>; Tue,  4 Apr 2017 13:54:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.692
X-Spam-Level: *
X-Spam-Status: No, score=1.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 7-aMjq0I7AZT for <users@camel.apache.org>;
	Tue,  4 Apr 2017 13:54:13 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 5B27C5FBA4
	for <users@camel.apache.org>; Tue,  4 Apr 2017 13:54:13 +0000 (UTC)
Received: by mail-qk0-f179.google.com with SMTP id d10so142314212qke.1
        for <users@camel.apache.org>; Tue, 04 Apr 2017 06:54:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=rtgOVKh0ACDK/Evm9DatSbl65dvSLhLwGmCGyFilqPA=;
        b=MSPBQM0OAjvdba2+tVQV4y+71aC7D4NIIq6R4C/NuYUtVAHsBmv17omImVb6GYbvqd
         9n/osolji5shbSeArClybQCmKEuOfRVCDfoZXaUAwuUPzkhAGCAEkcpjfnwSrr6n+VNj
         czMr5uNUy21dPm9yzWJ2GlpE/2f12ufzRpbEKMqZ8NGVErcZy9Y/zFUynzWhbQBXzlTW
         phB4P0v8SBsUDvctKTLYKLzou92vqL4WTv2piP2IpRhTpVViIl8CNTAFkyJFVDPyj/GC
         iYzmlOs0sfKLsQcUKzfn5vQXydiEOSWGFSTG1NUumUMAPDd9fF2mJW+s99JfUJCcAbPs
         ID7Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=rtgOVKh0ACDK/Evm9DatSbl65dvSLhLwGmCGyFilqPA=;
        b=mSM/jX3AsMqHwQg7APRltDFNYbr2s2Gckv5v+KE4Egaz/l+qO5ctWmEagROyBSpBm9
         9wgulBkldSmlWS9AhB7839B0ChbRWS//qofOIvbX0lWVMKSIRdrZ17euY1+4xTK7MQBE
         +TbL9gbT77chtFQa8H2vcGI3BxxqlE8gcR3yCiMXOKWW0PgsY+sb1fbt0nIKzj9vN7/k
         TpVW41oyYq0YknVIBWz383M3dB73FTnbDmBVxCUzSbLHDvi15WBnjLVHWmigwnpuw3o/
         dAg3IC1E0HMz2lzf81FLLA2GteTt9zV+2mAPnY58/+OMFTLqA4tYSp8rPOwLUDQPFG6w
         QeFQ==
X-Gm-Message-State: AFeK/H1tOK+I8A7W+W9lxRrofbMuugo5V0uU3N3oJ4LYIgbpFE52/A+PqaGUgeq560glIlv0ZnD7WFxAHtsmAg==
X-Received: by 10.55.52.9 with SMTP id b9mr19657758qka.71.1491314052651; Tue,
 04 Apr 2017 06:54:12 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Tue, 4 Apr 2017 06:53:52 -0700 (PDT)
In-Reply-To: <1491311900635-5796914.post@n5.nabble.com>
References: <1491311900635-5796914.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 4 Apr 2017 15:53:52 +0200
Message-ID: <CAGB5yNktJ4_4MFFHejZOfFZtHsBd=KWhAropAp-xmpZP90bDUA@mail.gmail.com>
Subject: Re: Using Python script in Camel
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

You likely need to inline the code using [[CDATA[ xml style.

Or better yet put the python code in a file, and refer to this file
from the camel route with resource:xxx. See more at
http://camel.apache.org/scripting-languages.html


On Tue, Apr 4, 2017 at 3:18 PM, samer <samer.razzook@visma.com> wrote:
> I am trying to use python script in Camel and I am getting this exception:
>
>
>  107 - org.apache.camel.camel-blueprint - 2.17.0.redhat-630187 | Error
> occurred during starting Camel: CamelContext(camel-17) due Failed to create
> route VaraExportItemTimer at: >>> SetHeader[previousTime, python{n  |
> H = dict(line.strip().split('=') for line in open('VaraExport.properties')
> if not line.startswith('#') and not line.startswith('\n'))n  |           if
> H.has_key("time"):n  |                        result = H["time"]n  |
> else :n  |                      result = '2001-01-01T00:00:00'n  |
> }] <<< in route:
> Route(VaraExportItemTimer)[[From[quartz2://PS/VaraExport?cro... because of
> expression must be specified
> org.apache.camel.FailedToCreateRouteException: Failed to create route
> VaraExportItemTimer at: >>> SetHeader[previousTime, python{
>                         H = dict(line.strip().split('=') for line in
> open('VaraExport.properties') if not line.startswith('#') and not
> line.startswith('\n'))
>                         if H.has_key("time"):
>                         result = H["time"]
>                         else :
>                         result = '2001-01-01T00:00:00'
>         }] <<< in route:
> Route(VaraExportItemTimer)[[From[quartz2://PS/VaraExport?cro... because of
> expression must be specified
>         at
> org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1072)
>         at
> org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:196)
>         at
> org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:974)
>         at
> org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3301)
>         at
> org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3024)
>         at
> org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:175)
>         at
> org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:2854)
>         at
> org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:2850)
>         at
> org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:2873)
>         at
> org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:2850)
>         at
> org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61)
>         at
> org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:2819)
>         at
> org.apache.camel.blueprint.BlueprintCamelContext.start(BlueprintCamelContext.java:185)
>         at
> org.apache.camel.blueprint.BlueprintCamelContext.maybeStart(BlueprintCamelContext.java:217)
>         at
> org.apache.camel.blueprint.BlueprintCamelContext.serviceChanged(BlueprintCamelContext.java:155)
>         at
> org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:943)
>         at
> org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:794)
>         at
> org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:544)
>         at
> org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4445)
>         at org.apache.felix.framework.Felix.registerService(Felix.java:3431)
>         at
> org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:346)
>         at
> org.apache.aries.blueprint.container.BlueprintContainerImpl.registerService(BlueprintContainerImpl.java:459)
>         at
> org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:394)
>         at
> org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:270)
>         at
> org.apache.aries.blueprint.container.BlueprintExtender.createContainer(BlueprintExtender.java:294)
>         at
> org.apache.aries.blueprint.container.BlueprintExtender.createContainer(BlueprintExtender.java:263)
>         at
> org.apache.aries.blueprint.container.BlueprintExtender.modifiedBundle(BlueprintExtender.java:253)
>         at
> org.apache.aries.util.tracker.hook.BundleHookBundleTracker$Tracked.customizerModified(BundleHookBundleTracker.java:500)
>         at
> org.apache.aries.util.tracker.hook.BundleHookBundleTracker$Tracked.customizerModified(BundleHookBundleTracker.java:433)
>         at
> org.apache.aries.util.tracker.hook.BundleHookBundleTracker$AbstractTracked.track(BundleHookBundleTracker.java:725)
>         at
> org.apache.aries.util.tracker.hook.BundleHookBundleTracker$Tracked.bundleChanged(BundleHookBundleTracker.java:463)
>         at
> org.apache.aries.util.tracker.hook.BundleHookBundleTracker$BundleEventHook.event(BundleHookBundleTracker.java:422)
>         at
> org.apache.felix.framework.util.SecureAction.invokeBundleEventHook(SecureAction.java:1127)
>         at
> org.apache.felix.framework.util.EventDispatcher.createWhitelistFromHooks(EventDispatcher.java:696)
>         at
> org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:484)
>         at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4429)
>         at org.apache.felix.framework.Felix.startBundle(Felix.java:2100)
>         at org.apache.felix.framework.Felix.updateBundle(Felix.java:2412)
>         at org.apache.felix.framework.BundleImpl.update(BundleImpl.java:994)
>         at org.apache.felix.framework.BundleImpl.update(BundleImpl.java:981)
>         at
> org.apache.karaf.util.bundles.BundleUtils.update(BundleUtils.java:43)
>         at
> org.apache.karaf.util.bundles.BundleUtils.update(BundleUtils.java:36)
>         at
> org.apache.karaf.shell.osgi.UpdateBundle.doExecute(UpdateBundle.java:37)
>         at
> org.apache.karaf.shell.osgi.BundleCommand.doExecute(BundleCommand.java:41)
>         at
> org.apache.karaf.shell.console.OsgiCommandSupport.execute(OsgiCommandSupport.java:38)
>         at
> org.apache.felix.gogo.commands.basic.AbstractCommand.execute(AbstractCommand.java:35)
>         at sun.reflect.GeneratedMethodAccessor154.invoke(Unknown Source)
>         at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)[:1.8.0_121]
>         at java.lang.reflect.Method.invoke(Method.java:498)[:1.8.0_121]
>         at
> org.apache.aries.proxy.impl.ProxyHandler$1.invoke(ProxyHandler.java:54)
>         at
> org.apache.aries.proxy.impl.ProxyHandler.invoke(ProxyHandler.java:119)
>         at
> org.apache.karaf.shell.console.commands.$BlueprintCommand1994544654.execute(Unknown
> Source)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
>         at
> org.apache.felix.gogo.runtime.CommandProxy.execute(CommandProxy.java:78)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
>         at
> org.apache.felix.gogo.runtime.Closure.executeCmd(Closure.java:477)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
>         at
> org.apache.felix.gogo.runtime.Closure.executeStatement(Closure.java:403)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
>         at
> org.apache.felix.gogo.runtime.Pipe.run(Pipe.java:108)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
>         at
> org.apache.felix.gogo.runtime.Closure.execute(Closure.java:183)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
>         at
> org.apache.felix.gogo.runtime.Closure.execute(Closure.java:120)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
>         at
> org.apache.felix.gogo.runtime.CommandSessionImpl.execute(CommandSessionImpl.java:92)
>         at
> org.apache.karaf.shell.console.jline.Console.run(Console.java:197)
>         at
> org.apache.karaf.shell.ssh.ShellFactoryImpl$ShellImpl$1.runConsole(ShellFactoryImpl.java:171)[32:org.apache.karaf.shell.ssh:2.4.0.redhat-630187]
>         at
> org.apache.karaf.shell.ssh.ShellFactoryImpl$ShellImpl$1$1.run(ShellFactoryImpl.java:126)
>         at java.security.AccessController.doPrivileged(Native
> Method)[:1.8.0_121]
>         at
> org.apache.karaf.jaas.modules.JaasHelper.doAs(JaasHelper.java:47)[17:org.apache.karaf.jaas.modules:2.4.0.redhat-630187]
>         at
> org.apache.karaf.shell.ssh.ShellFactoryImpl$ShellImpl$1.run(ShellFactoryImpl.java:124)[32:org.apache.karaf.shell.ssh:2.4.0.redhat-630187]
> Caused by: java.lang.IllegalArgumentException: expression must be specified
>         at org.apache.camel.util.ObjectHelper.notNull(ObjectHelper.java:308)
>         at
> org.apache.camel.processor.SetHeaderProcessor.<init>(SetHeaderProcessor.java:42)
>         at
> org.apache.camel.model.SetHeaderDefinition.createProcessor(SetHeaderDefinition.java:76)
>         at
> org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:534)
>         at
> org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:495)
>         at
> org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:219)
>         at
> org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1069)
>         ... 64 more
>
>
>
> I tried different workarounds and I have camel-script added to features in
> settings. Any hint on why I get this error and why camel is ignoring the
> content of my python script tag? below also is snippet on how i embed python
> script:
>
>     .....
>     <route id="VaraExportItemTimer">
>       <from
> uri="quartz2://PS/VaraExport?cron=0/30+*+*+*+*+?&amp;stateful=true" />
>       <setHeader headerName="previousTime">
>         <python>
>                         H = dict(line.strip().split('=') for line in
> open('VaraExport.properties') if not line.startswith('#') and not
> line.startswith('\n'))
>                         if H.has_key("time"):
>                         result = H["time"]
>                         else :
>                         result = '2001-01-01T00:00:00'
>         </python>
>       </setHeader>
>        .....
>
> Thanks!
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Using-Python-script-in-Camel-tp5796914.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65222-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 14:54:43 2017
Return-Path: <users-return-65222-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E9B8E19896
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 14:54:43 +0000 (UTC)
Received: (qmail 76868 invoked by uid 500); 4 Apr 2017 14:54:43 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 76820 invoked by uid 500); 4 Apr 2017 14:54:43 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 23010 invoked by uid 99); 4 Apr 2017 14:42:05 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Tue, 4 Apr 2017 07:42:02 -0700 (MST)
From: samer <razzook@gmail.com>
To: users@camel.apache.org
Message-ID: <1491316922522-5796922.post@n5.nabble.com>
In-Reply-To: <CAGB5yNktJ4_4MFFHejZOfFZtHsBd=KWhAropAp-xmpZP90bDUA@mail.gmail.com>
References: <1491311900635-5796914.post@n5.nabble.com> <CAGB5yNktJ4_4MFFHejZOfFZtHsBd=KWhAropAp-xmpZP90bDUA@mail.gmail.com>
Subject: Re: Using Python script in Camel
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks for reply!

One thing I missed writing in my above code, is that the directory I am
loading the file from is populated by Camel:

        <python>
			H = dict(line.strip().split('=') for line in
open('{{datadir}}/properties/VaraExport.properties') if not
line.startswith('#') and not line.startswith('\n'))
			if H.has_key("time"):
        		result = H["time"]
			else :
        		result = '2001-01-01T00:00:00'
        </python>


So putting this code in python file and referencing it means I will have to
somehow replace this variable. I am not python programmer, but is trying to
use it instead of groovy, due to the memoryleak problem of groovy version
that Camel is using.

Note that I tried to put only one line instead of the above code and still I
get same error!
<python>
    result = '2001-01-01T00:00:00'
</python>


Maybe I will have to try doing this in java if its easier. Do I have to
inline my code using [CDATA[]] xml style for that as well or was it due to
the "tab/indentation" sensitivity of python you meant?

Thanks!



--
View this message in context: http://camel.465427.n5.nabble.com/Using-Python-script-in-Camel-tp5796914p5796922.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65213-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 14:56:17 2017
Return-Path: <users-return-65213-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 78C73198F4
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 14:56:17 +0000 (UTC)
Received: (qmail 1422 invoked by uid 500); 4 Apr 2017 12:09:36 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 1371 invoked by uid 500); 4 Apr 2017 12:09:36 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 1349 invoked by uid 99); 4 Apr 2017 12:09:35 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 12:09:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3C2D2180595
	for <users@camel.apache.org>; Tue,  4 Apr 2017 12:09:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.992
X-Spam-Level:
X-Spam-Status: No, score=0.992 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ZEreMHewhbuO for <users@camel.apache.org>;
	Tue,  4 Apr 2017 12:09:33 +0000 (UTC)
Received: from mail-qt0-f181.google.com (mail-qt0-f181.google.com [209.85.216.181])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 0FAE65FBA1
	for <users@camel.apache.org>; Tue,  4 Apr 2017 12:09:33 +0000 (UTC)
Received: by mail-qt0-f181.google.com with SMTP id x35so136032705qtc.2
        for <users@camel.apache.org>; Tue, 04 Apr 2017 05:09:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=PmS/yMa6bSF5970YIs3J0ZPz2Q/Yo102CarKZ1XzRxI=;
        b=s5NVahD5K/ReNlz/9D7CA+OaU5B7pensHlSWj4UuMn4t4j6Z1mV+By3qKg7NofqJwU
         7y/rFGdbExgIIYghvAKdWSiaDH+70E0plzKZwnZrnoLgm29LOrg6ADepk2KK4WYC0HMc
         xnEKmjJ4fGvC+omSQfZQa4gIHPbJkep1zDRsXdnYrR8ujzQpepkQlGAOawkgz5BSw7KS
         PT1In+D+kCLqe95rjp13EuMFApqFtWiJPJd20XF2+2VuUAHuQfFO88qlaySmIOGzNGHj
         i+3pWH0QaaUJxK7e7/07UwELCkR7bpoTA5uz6ZJIVedSCiskkDEW4DJHD6DBANguAx/N
         q6WQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=PmS/yMa6bSF5970YIs3J0ZPz2Q/Yo102CarKZ1XzRxI=;
        b=LBxsMipwCm5lLJKFgQ/cntUwZ2pRYQMm3IdDrfZn7VGhMH3WGkki/hXx3hFwMuvZwW
         lcx2Cei6NW6xM1eMaaAa6l3PucYZo6/z2aj4SAtnZQhIOCVgjjoRjhHww7I8g/q7aP6L
         CPULa5/eXq2/ebDRVdm9phfD1E6ivnUb9JuN/GSdAgwjMAhTMxZpGu2X11MF2PCK+mPB
         xe1wbc196DfEgyiLfjkrD3SApnBiuoGvwjKJN8mjSGC76NaqmucvQbKJk8xPC3DYBdYf
         QAKOrJ4vRfnbae6d5GOfnN+pUN+wl9d3iuLv+qMYi87c9H8XKao7b/IHLRYEm4LQTrH/
         TNQg==
X-Gm-Message-State: AFeK/H37CpZtjqTp8jdZxiM5MkOHPzua/W5MG/Lh/JIo4pWuvxBso1EUgiaf8MWIczCoVXJGe+U1GXFoUpMI7g==
X-Received: by 10.200.2.175 with SMTP id p47mr24164217qtg.35.1491307772468;
 Tue, 04 Apr 2017 05:09:32 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Tue, 4 Apr 2017 05:09:11 -0700 (PDT)
In-Reply-To: <1491304357365-5796906.post@n5.nabble.com>
References: <1491304357365-5796906.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 4 Apr 2017 14:09:11 +0200
Message-ID: <CAGB5yNmgkF6DxEi4ojXwi9p4niKPVhOR=+bEfR50i3Q5p4uO4w@mail.gmail.com>
Subject: Re: How to append text to the beginning of the file using Camel
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

Yeah write your own java class / method that appends to the start of the file.

There is no such functionality out of the box, as fileExists=Append
appends at the end

On Tue, Apr 4, 2017 at 1:12 PM, Amruta Jawlekar <amruta.j@ignitiv.com> wrote:
> Hi All,
>
> I need to append text like XML Header tag in the beginning of a file.
> I know one way to achieve it -
> 1. Create a String/StringBuilder/List<String> having header tag.
> 2. Unmarshal the file contents and convert inputstream to List/String or any
> suitable object
> 3. Append the existing contents to the header tag String/List
> 4. Write contents to same file.
>
> But I feel that the 2nd step is unnecessary. I just need to append the XML
> tag to the start of file, regardless of what contents the File already has.
>
> Please let me know if Camel supports this? setting FileExists = Append
> always appends the text at the end of file, I need it in the beginning.
>
> OR
>
> is it better that I directly use the Java File API to do the same instead of
> above mentioned steps.
>
> Any pointers would be helpful.
> Thanks.
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/How-to-append-text-to-the-beginning-of-the-file-using-Camel-tp5796906.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65214-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 14:58:05 2017
Return-Path: <users-return-65214-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 06EB819970
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 14:58:05 +0000 (UTC)
Received: (qmail 3886 invoked by uid 500); 4 Apr 2017 12:11:25 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 3855 invoked by uid 500); 4 Apr 2017 12:11:25 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 3844 invoked by uid 99); 4 Apr 2017 12:11:24 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 12:11:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5448A1A0074
	for <users@camel.apache.org>; Tue,  4 Apr 2017 12:11:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.285
X-Spam-Level: **
X-Spam-Status: No, score=2.285 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id P6ZtV2NTNpki for <users@camel.apache.org>;
	Tue,  4 Apr 2017 12:11:22 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id BDB3B5F1E9
	for <users@camel.apache.org>; Tue,  4 Apr 2017 12:11:21 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 080BB406DA41
	for <users@camel.apache.org>; Tue,  4 Apr 2017 05:11:20 -0700 (PDT)
Date: Tue, 4 Apr 2017 05:11:20 -0700 (MST)
From: Amruta Jawlekar <amruta.j@ignitiv.com>
To: users@camel.apache.org
Message-ID: <1491307880274-5796909.post@n5.nabble.com>
In-Reply-To: <CAGB5yNmgkF6DxEi4ojXwi9p4niKPVhOR=+bEfR50i3Q5p4uO4w@mail.gmail.com>
References: <1491304357365-5796906.post@n5.nabble.com> <CAGB5yNmgkF6DxEi4ojXwi9p4niKPVhOR=+bEfR50i3Q5p4uO4w@mail.gmail.com>
Subject: Re: How to append text to the beginning of the file using Camel
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks Claus for your prompt response :)



--
View this message in context: http://camel.465427.n5.nabble.com/How-to-append-text-to-the-beginning-of-the-file-using-Camel-tp5796906p5796909.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65221-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 14:58:33 2017
Return-Path: <users-return-65221-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D8F31999C
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 14:58:33 +0000 (UTC)
Received: (qmail 5227 invoked by uid 500); 4 Apr 2017 13:56:32 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 5171 invoked by uid 500); 4 Apr 2017 13:56:32 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 5159 invoked by uid 99); 4 Apr 2017 13:56:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 13:56:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D93FB18056F
	for <users@camel.apache.org>; Tue,  4 Apr 2017 13:56:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.992
X-Spam-Level:
X-Spam-Status: No, score=0.992 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id qdC_pYBgLu7m for <users@camel.apache.org>;
	Tue,  4 Apr 2017 13:56:29 +0000 (UTC)
Received: from mail-qt0-f182.google.com (mail-qt0-f182.google.com [209.85.216.182])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 8E46A5FBA4
	for <users@camel.apache.org>; Tue,  4 Apr 2017 13:56:29 +0000 (UTC)
Received: by mail-qt0-f182.google.com with SMTP id n21so139151117qta.1
        for <users@camel.apache.org>; Tue, 04 Apr 2017 06:56:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=wjf1bCEYgj4jmtVeTE00gYDBdnnf4Pvz3jXE6OaUBL0=;
        b=Oij71n11jRfZxVNvAaJt4XA4/ik5tFxfSHIV5w7Q1/64ysfiMywyHd23hNx8azOtyz
         2PdH/YbzbJIjScUBSZgeGHkCDO51cV8NWJQ6phi0WzHj1sCYL+06/azT1pcALI7KKdgm
         DhfsejL1QhNqkGkEDreeyF61UNU0e7HdoVTYM5p7kOSgCewSnssKxEQPxwipilieV1MN
         u1vtsARFWBXZLT/vNdmMpplIdW6Em4Mv/Da7QanwjHiX5xcqPGC29Od0IzyehAf5QDZo
         HsNyfT+v2Z7ac0tNJru95cTmpIR5W+ZW/33rLk2uudOCcB800B8qWyJLv+W3bhv9666l
         Q0ig==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=wjf1bCEYgj4jmtVeTE00gYDBdnnf4Pvz3jXE6OaUBL0=;
        b=rzYNaG5NyGEs45DtcpDZlkG2XQYo7L6X/i+xZin2z+ihaiWr7NBsLw/LX2OFOPhhdm
         Mn4CQ401Iv2qoNg6wB7giM9fnki8x/9MBwIXDU2F4uy/ZH31kvdGGX3QmeorluNUH1VN
         3qOCo2VUDWwVCHO2lcboijj3VG7Dj7C68R1X7EnIbqxllZnKTCB1flpjx3V92UhuU7tU
         rxInwVKnSiD//wNfmbgY0ckCYz2Y/0fHHVJv3i1X8mESTQyxgZgRv1jB4Xr73mbQZISC
         EXakbHx/vYONN6PfotctUHAPKdBcm7jCJMHHBN77vU3g33+ESvPxOoBkZLaTRy3TrcMw
         RDbQ==
X-Gm-Message-State: AFeK/H0piC8qBPeQuhl3AA/R3WUPMtP7TxVtw5UoKM5E6uGpOEGSxAPKstiAPKHjbUAFCXiRBamJd8WtVelTcw==
X-Received: by 10.237.62.25 with SMTP id l25mr23157051qtf.225.1491314188896;
 Tue, 04 Apr 2017 06:56:28 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Tue, 4 Apr 2017 06:56:08 -0700 (PDT)
In-Reply-To: <1491312556098-5796916.post@n5.nabble.com>
References: <1491312556098-5796916.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 4 Apr 2017 15:56:08 +0200
Message-ID: <CAGB5yNni4gYFc-bxQqf_8bdY59H4TL3FawQKOap-0BhiBPW_vA@mail.gmail.com>
Subject: Re: Using Camel JDBC component
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Ad 1)
You set a javax sql DataSource. So search the internet what that is
and how to configure it.

Ad 2)
You set the queries in the message body. If you dont want to do that,
use another component like camel-sql, or camel-mybatis, or camel-jpa
from next release which has some support for queries.

And there is some database examples
https://github.com/apache/camel/tree/master/examples

On Tue, Apr 4, 2017 at 3:29 PM, anirban.gupta4 <anirban.gupta4@gmail.com> wrote:
> Hi,
>
> I am using camel JDBC component. I found the documentation at the location
>
> http://camel.apache.org/jdbc.html
>
> I have two questions here:
> 1. I have an URL of type "jdbc:sqlserver://someIP". How will I pass any
> queries here?
> 2. How to set the userName, password for connecting to this DB?
>
> I am migrating from some other integration framework to Camel. So do not
> know how to do this in Camel.
>
> Please help
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Using-Camel-JDBC-component-tp5796916.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65223-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 15:00:49 2017
Return-Path: <users-return-65223-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D626F19B3D
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 15:00:49 +0000 (UTC)
Received: (qmail 99494 invoked by uid 500); 4 Apr 2017 15:00:48 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 99446 invoked by uid 500); 4 Apr 2017 15:00:48 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 99359 invoked by uid 99); 4 Apr 2017 15:00:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 15:00:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D8BEA18056F
	for <users@camel.apache.org>; Tue,  4 Apr 2017 15:00:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.793
X-Spam-Level: ***
X-Spam-Status: No, score=3.793 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key)
	header.d=pronoia-solutions-com.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 95042HwHMuik for <users@camel.apache.org>;
	Tue,  4 Apr 2017 15:00:44 +0000 (UTC)
Received: from mail-pg0-f49.google.com (mail-pg0-f49.google.com [74.125.83.49])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 5EE325F1A0
	for <users@camel.apache.org>; Tue,  4 Apr 2017 15:00:44 +0000 (UTC)
Received: by mail-pg0-f49.google.com with SMTP id g2so152939648pge.3
        for <users@camel.apache.org>; Tue, 04 Apr 2017 08:00:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pronoia-solutions-com.20150623.gappssmtp.com; s=20150623;
        h=from:mime-version:subject:date:references:to:in-reply-to:message-id;
        bh=bhBIZ0XIyqaU5jtwoy+cnhCigAeHQejCQq0OFJYTnWQ=;
        b=H9aQjrrUzrZw7lwF5cW8W1fBTQHCrlxrCqRINgciSiNNKbeZ5j8iZMKu4CuKe68Wgz
         XopIQNuwtkKijRLOQ+0S/tP74f7dtX31mkiZGdNlz64XLo5Z/FIaqzecL5xe/QhuLbcm
         0b7UdpYdUrHPges0UQKclpXgaDPIO0i9ka3FSKlaq8xVPmn+pS1msRv4PzBWHhB8CxgA
         ztN6x9sGqLLHT5GGudFeuP/rdkghOX7Mz8EYzH7ZRVlZ9/lozDd19oZ7wMhqVIZwb1L1
         jkjhpzpqoEELXJ2LBFpTZ3mwvqkbcRTWRCrhe5sT5ZXlgL9IAoAND6MiRTgdhFl1dq90
         zPHg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:from:mime-version:subject:date:references:to
         :in-reply-to:message-id;
        bh=bhBIZ0XIyqaU5jtwoy+cnhCigAeHQejCQq0OFJYTnWQ=;
        b=eUgZnSAHm2S9xv5QujWGJOnesdA797r0T9Uzw717MZI/bcVi4/QXdcgE3U+/eosiCW
         Alok5IqU4tY/vtxA8q1WeRL4qcyc+sr1c+KbxEQ+IC3AobYJqykjkS1RltOAecWAXlCE
         QObxt17l0NtGpl87ZMtr1hpdxPcVkPbgA7K5Q0QTirkPwvz4frkluks7sEajjJYbU8zT
         FUwkHZBHCCk85oqaml1jJIiURU/nyUlfAgU3ODHkap+wsGOXbtc72eVxZM9FmXbdku+H
         ZZXotdOMqZlfOJq/QXDLnhxsKF0Gp2KieMEdFf+3PHlrEA5tqGzh7LXaPkpvYVx9oln4
         udgw==
X-Gm-Message-State: AFeK/H0gxX0w+ZC3GfX7k7GsfTqq2c9zhqfAGdhM/Lb7OIL5GUQ3hpM8WKwdtL9EaTBFdw==
X-Received: by 10.99.181.86 with SMTP id u22mr24617339pgo.102.1491318043289;
        Tue, 04 Apr 2017 08:00:43 -0700 (PDT)
Received: from macpro.pronoia.local (c-73-20-8-23.hsd1.ut.comcast.net. [73.20.8.23])
        by smtp.gmail.com with ESMTPSA id b14sm32452965pfh.114.2017.04.04.08.00.42
        for <users@camel.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 04 Apr 2017 08:00:42 -0700 (PDT)
From: Quinn Stevenson <quinn@pronoia-solutions.com>
Content-Type: multipart/alternative;
 boundary="Apple-Mail=_156E3A8B-3224-4BA6-A909-2A8E8425500F"
Mime-Version: 1.0 (Mac OS X Mail 10.2 \(3259\))
Subject: Re: Searching analog of getBean (Spring) in Blueprint
Date: Tue, 4 Apr 2017 09:00:41 -0600
References: <1490962746398-5796781.post@n5.nabble.com>
To: users@camel.apache.org
In-Reply-To: <1490962746398-5796781.post@n5.nabble.com>
Message-Id: <EDBABBE3-358D-4219-9E1E-5994D1B6AB33@pronoia-solutions.com>
X-Mailer: Apple Mail (2.3259)

--Apple-Mail=_156E3A8B-3224-4BA6-A909-2A8E8425500F
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii

You get it from the Blueprint Container (  =
https://osgi.org/javadoc/r4v42/org/osgi/service/blueprint/container/Bluepr=
intContainer.html#getComponentInstance(java.lang.String) =
<https://osgi.org/javadoc/r4v42/org/osgi/service/blueprint/container/Bluep=
rintContainer.html#getComponentInstance(java.lang.String)> )




> On Mar 31, 2017, at 6:19 AM, Nick Dmnick <DmitrenkoNA@skblab.ru> =
wrote:
>=20
> Hello, Camel community.=20
>=20
> What is an analog of Spring' getBean method in Blueprint? Can't find =
in
> google.=20
>=20
> What I use now in Spring:
>=20
> private ApplicationContext appContext;
> ITProfixLogger sli=3D (ITProfixLogger) appContext.getBean("logW");
>=20
> What I need: convert it in Blueprint.
>=20
>=20
>=20
> --
> View this message in context: =
http://camel.465427.n5.nabble.com/Searching-analog-of-getBean-Spring-in-Bl=
ueprint-tp5796781.html
> Sent from the Camel - Users mailing list archive at Nabble.com.


--Apple-Mail=_156E3A8B-3224-4BA6-A909-2A8E8425500F--

From users-return-65217-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 15:06:55 2017
Return-Path: <users-return-65217-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 49E1A19D83
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 15:06:55 +0000 (UTC)
Received: (qmail 21575 invoked by uid 500); 4 Apr 2017 13:20:15 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 21529 invoked by uid 500); 4 Apr 2017 13:20:15 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 20735 invoked by uid 99); 4 Apr 2017 13:18:28 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.232
X-Spam-Level: **
X-Spam-Status: No, score=2.232 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_FAIL=0.919, URI_HEX=1.313]
	autolearn=disabled
Date: Tue, 4 Apr 2017 06:18:20 -0700 (MST)
From: samer <samer.razzook@visma.com>
To: users@camel.apache.org
Message-ID: <1491311900635-5796914.post@n5.nabble.com>
Subject: Using Python script in Camel
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am trying to use python script in Camel and I am getting this exception:


 107 - org.apache.camel.camel-blueprint - 2.17.0.redhat-630187 | Error
occurred during starting Camel: CamelContext(camel-17) due Failed to create
route VaraExportItemTimer at: >>> SetHeader[previousTime, python{n  |                     
H = dict(line.strip().split('=') for line in open('VaraExport.properties')
if not line.startswith('#') and not line.startswith('\n'))n  |           if
H.has_key("time"):n  |                        result = H["time"]n  |                 
else :n  |                      result = '2001-01-01T00:00:00'n  |        
}] <<< in route:
Route(VaraExportItemTimer)[[From[quartz2://PS/VaraExport?cro... because of
expression must be specified
org.apache.camel.FailedToCreateRouteException: Failed to create route
VaraExportItemTimer at: >>> SetHeader[previousTime, python{
                        H = dict(line.strip().split('=') for line in
open('VaraExport.properties') if not line.startswith('#') and not
line.startswith('\n'))
                        if H.has_key("time"):
                        result = H["time"]
                        else :
                        result = '2001-01-01T00:00:00'
        }] <<< in route:
Route(VaraExportItemTimer)[[From[quartz2://PS/VaraExport?cro... because of
expression must be specified
        at
org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1072)
        at
org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:196)
        at
org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:974)
        at
org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3301)
        at
org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3024)
        at
org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:175)
        at
org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:2854)
        at
org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:2850)
        at
org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:2873)
        at
org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:2850)
        at
org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61)
        at
org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:2819)
        at
org.apache.camel.blueprint.BlueprintCamelContext.start(BlueprintCamelContext.java:185)
        at
org.apache.camel.blueprint.BlueprintCamelContext.maybeStart(BlueprintCamelContext.java:217)
        at
org.apache.camel.blueprint.BlueprintCamelContext.serviceChanged(BlueprintCamelContext.java:155)
        at
org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:943)
        at
org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:794)
        at
org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:544)
        at
org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4445)
        at org.apache.felix.framework.Felix.registerService(Felix.java:3431)
        at
org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:346)
        at
org.apache.aries.blueprint.container.BlueprintContainerImpl.registerService(BlueprintContainerImpl.java:459)
        at
org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:394)
        at
org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:270)
        at
org.apache.aries.blueprint.container.BlueprintExtender.createContainer(BlueprintExtender.java:294)
        at
org.apache.aries.blueprint.container.BlueprintExtender.createContainer(BlueprintExtender.java:263)
        at
org.apache.aries.blueprint.container.BlueprintExtender.modifiedBundle(BlueprintExtender.java:253)
        at
org.apache.aries.util.tracker.hook.BundleHookBundleTracker$Tracked.customizerModified(BundleHookBundleTracker.java:500)
        at
org.apache.aries.util.tracker.hook.BundleHookBundleTracker$Tracked.customizerModified(BundleHookBundleTracker.java:433)
        at
org.apache.aries.util.tracker.hook.BundleHookBundleTracker$AbstractTracked.track(BundleHookBundleTracker.java:725)
        at
org.apache.aries.util.tracker.hook.BundleHookBundleTracker$Tracked.bundleChanged(BundleHookBundleTracker.java:463)
        at
org.apache.aries.util.tracker.hook.BundleHookBundleTracker$BundleEventHook.event(BundleHookBundleTracker.java:422)
        at
org.apache.felix.framework.util.SecureAction.invokeBundleEventHook(SecureAction.java:1127)
        at
org.apache.felix.framework.util.EventDispatcher.createWhitelistFromHooks(EventDispatcher.java:696)
        at
org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:484)
        at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4429)
        at org.apache.felix.framework.Felix.startBundle(Felix.java:2100)
        at org.apache.felix.framework.Felix.updateBundle(Felix.java:2412)
        at org.apache.felix.framework.BundleImpl.update(BundleImpl.java:994)
        at org.apache.felix.framework.BundleImpl.update(BundleImpl.java:981)
        at
org.apache.karaf.util.bundles.BundleUtils.update(BundleUtils.java:43)
        at
org.apache.karaf.util.bundles.BundleUtils.update(BundleUtils.java:36)
        at
org.apache.karaf.shell.osgi.UpdateBundle.doExecute(UpdateBundle.java:37)
        at
org.apache.karaf.shell.osgi.BundleCommand.doExecute(BundleCommand.java:41)
        at
org.apache.karaf.shell.console.OsgiCommandSupport.execute(OsgiCommandSupport.java:38)
        at
org.apache.felix.gogo.commands.basic.AbstractCommand.execute(AbstractCommand.java:35)
        at sun.reflect.GeneratedMethodAccessor154.invoke(Unknown Source)
        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)[:1.8.0_121]
        at java.lang.reflect.Method.invoke(Method.java:498)[:1.8.0_121]
        at
org.apache.aries.proxy.impl.ProxyHandler$1.invoke(ProxyHandler.java:54)
        at
org.apache.aries.proxy.impl.ProxyHandler.invoke(ProxyHandler.java:119)
        at
org.apache.karaf.shell.console.commands.$BlueprintCommand1994544654.execute(Unknown
Source)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
        at
org.apache.felix.gogo.runtime.CommandProxy.execute(CommandProxy.java:78)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
        at
org.apache.felix.gogo.runtime.Closure.executeCmd(Closure.java:477)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
        at
org.apache.felix.gogo.runtime.Closure.executeStatement(Closure.java:403)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
        at
org.apache.felix.gogo.runtime.Pipe.run(Pipe.java:108)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
        at
org.apache.felix.gogo.runtime.Closure.execute(Closure.java:183)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
        at
org.apache.felix.gogo.runtime.Closure.execute(Closure.java:120)[18:org.apache.karaf.shell.console:2.4.0.redhat-630187]
        at
org.apache.felix.gogo.runtime.CommandSessionImpl.execute(CommandSessionImpl.java:92)
        at
org.apache.karaf.shell.console.jline.Console.run(Console.java:197)
        at
org.apache.karaf.shell.ssh.ShellFactoryImpl$ShellImpl$1.runConsole(ShellFactoryImpl.java:171)[32:org.apache.karaf.shell.ssh:2.4.0.redhat-630187]
        at
org.apache.karaf.shell.ssh.ShellFactoryImpl$ShellImpl$1$1.run(ShellFactoryImpl.java:126)
        at java.security.AccessController.doPrivileged(Native
Method)[:1.8.0_121]
        at
org.apache.karaf.jaas.modules.JaasHelper.doAs(JaasHelper.java:47)[17:org.apache.karaf.jaas.modules:2.4.0.redhat-630187]
        at
org.apache.karaf.shell.ssh.ShellFactoryImpl$ShellImpl$1.run(ShellFactoryImpl.java:124)[32:org.apache.karaf.shell.ssh:2.4.0.redhat-630187]
Caused by: java.lang.IllegalArgumentException: expression must be specified
        at org.apache.camel.util.ObjectHelper.notNull(ObjectHelper.java:308)
        at
org.apache.camel.processor.SetHeaderProcessor.<init>(SetHeaderProcessor.java:42)
        at
org.apache.camel.model.SetHeaderDefinition.createProcessor(SetHeaderDefinition.java:76)
        at
org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:534)
        at
org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:495)
        at
org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:219)
        at
org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1069)
        ... 64 more



I tried different workarounds and I have camel-script added to features in
settings. Any hint on why I get this error and why camel is ignoring the
content of my python script tag? below also is snippet on how i embed python
script:

    .....
    <route id="VaraExportItemTimer">
      <from
uri="quartz2://PS/VaraExport?cron=0/30+*+*+*+*+?&amp;stateful=true" />
      <setHeader headerName="previousTime">
        <python>
			H = dict(line.strip().split('=') for line in
open('VaraExport.properties') if not line.startswith('#') and not
line.startswith('\n'))
			if H.has_key("time"):
        		result = H["time"]
			else :
        		result = '2001-01-01T00:00:00'
        </python>
      </setHeader>
       .....

Thanks!



--
View this message in context: http://camel.465427.n5.nabble.com/Using-Python-script-in-Camel-tp5796914.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65215-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 15:06:56 2017
Return-Path: <users-return-65215-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4AE5B19D84
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 15:06:55 +0000 (UTC)
Received: (qmail 28207 invoked by uid 500); 4 Apr 2017 12:20:15 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 28143 invoked by uid 500); 4 Apr 2017 12:20:13 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 28124 invoked by uid 99); 4 Apr 2017 12:20:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 12:20:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 67ACAC10A1
	for <users@camel.apache.org>; Tue,  4 Apr 2017 12:20:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.486
X-Spam-Level: *****
X-Spam-Status: No, score=5.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id bZvNrjs9Mdy0 for <users@camel.apache.org>;
	Tue,  4 Apr 2017 12:20:10 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 1842A5F1A0
	for <users@camel.apache.org>; Tue,  4 Apr 2017 12:20:10 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 8179F406DC5D
	for <users@camel.apache.org>; Tue,  4 Apr 2017 05:20:09 -0700 (PDT)
Date: Tue, 4 Apr 2017 05:20:09 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs0KUDENMmtfix2HAdXLbPaaYyi9s9b6GfKgC6woV2es2Q@mail.gmail.com>
In-Reply-To: <1491307880274-5796909.post@n5.nabble.com>
References: <1491304357365-5796906.post@n5.nabble.com> <CAGB5yNmgkF6DxEi4ojXwi9p4niKPVhOR=+bEfR50i3Q5p4uO4w@mail.gmail.com> <1491307880274-5796909.post@n5.nabble.com>
Subject: Re: How to append text to the beginning of the file using Camel
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_119666_1053155027.1491308409802"

------=_Part_119666_1053155027.1491308409802
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

You could perhaps PollEnrich to fetch the data from the file then then
simply concatenate the new portion to the file data and then write to the
same file again. But its easier to write some bean method to do this.

On Tue, Apr 4, 2017 at 2:11 PM, Amruta Jawlekar [via Camel] <
ml-node+s465427n5796909h42@n5.nabble.com> wrote:

> Thanks Claus for your prompt response :)
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/How-to-append-text-to-the-
> beginning-of-the-file-using-Camel-tp5796906p5796909.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/How-to-append-text-to-the-beginning-of-the-file-using-Camel-tp5796906p5796910.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_119666_1053155027.1491308409802--

From users-return-65209-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 15:09:22 2017
Return-Path: <users-return-65209-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7820219DC9
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 15:09:22 +0000 (UTC)
Received: (qmail 45013 invoked by uid 500); 4 Apr 2017 09:38:00 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 44966 invoked by uid 500); 4 Apr 2017 09:38:00 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 30772 invoked by uid 99); 4 Apr 2017 09:30:00 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.736
X-Spam-Level: ***
X-Spam-Status: No, score=3.736 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Tue, 4 Apr 2017 02:29:58 -0700 (MST)
From: "anirban.gupta4" <anirban.gupta4@gmail.com>
To: users@camel.apache.org
Message-ID: <1491298198411-5796904.post@n5.nabble.com>
In-Reply-To: <1491295399048-5796903.post@n5.nabble.com>
References: <1491295399048-5796903.post@n5.nabble.com>
Subject: Re: jaxrs resource classes not found Exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

My project ran when I removed the following dependency

<dependency>
                        <groupId>org.apache.cxf</groupId>
                       
<artifactId>cxf-spring-boot-starter-jaxrs</artifactId>
                        <version>${cxf.version}</version>
                </dependency>

But I need it for some other reason. Can anyone say me a compatible version
of this or what is causing this problem?



--
View this message in context: http://camel.465427.n5.nabble.com/jaxrs-resource-classes-not-found-Exception-tp5796903p5796904.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65211-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 15:12:41 2017
Return-Path: <users-return-65211-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0F92319E55
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 15:12:41 +0000 (UTC)
Received: (qmail 5513 invoked by uid 500); 4 Apr 2017 11:12:41 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 5464 invoked by uid 500); 4 Apr 2017 11:12:41 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 5453 invoked by uid 99); 4 Apr 2017 11:12:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 11:12:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B778C1A02F6
	for <users@camel.apache.org>; Tue,  4 Apr 2017 11:12:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.285
X-Spam-Level: **
X-Spam-Status: No, score=2.285 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id jeKwMTtDEBer for <users@camel.apache.org>;
	Tue,  4 Apr 2017 11:12:39 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 847FB5F24C
	for <users@camel.apache.org>; Tue,  4 Apr 2017 11:12:39 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id A0C79406CAD8
	for <users@camel.apache.org>; Tue,  4 Apr 2017 04:12:36 -0700 (PDT)
Date: Tue, 4 Apr 2017 04:12:37 -0700 (MST)
From: Amruta Jawlekar <amruta.j@ignitiv.com>
To: users@camel.apache.org
Message-ID: <1491304357365-5796906.post@n5.nabble.com>
Subject: How to append text to the beginning of the file using Camel
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi All,

I need to append text like XML Header tag in the beginning of a file.
I know one way to achieve it - 
1. Create a String/StringBuilder/List<String> having header tag.
2. Unmarshal the file contents and convert inputstream to List/String or any
suitable object
3. Append the existing contents to the header tag String/List
4. Write contents to same file.

But I feel that the 2nd step is unnecessary. I just need to append the XML
tag to the start of file, regardless of what contents the File already has.

Please let me know if Camel supports this? setting FileExists = Append
always appends the text at the end of file, I need it in the beginning.

OR 

is it better that I directly use the Java File API to do the same instead of
above mentioned steps.

Any pointers would be helpful. 
Thanks.



--
View this message in context: http://camel.465427.n5.nabble.com/How-to-append-text-to-the-beginning-of-the-file-using-Camel-tp5796906.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65218-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 15:12:43 2017
Return-Path: <users-return-65218-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2511419E56
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 15:12:43 +0000 (UTC)
Received: (qmail 31444 invoked by uid 500); 4 Apr 2017 13:25:58 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 31398 invoked by uid 500); 4 Apr 2017 13:25:58 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 31386 invoked by uid 99); 4 Apr 2017 13:25:57 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 13:25:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5FF151A01B7
	for <users@camel.apache.org>; Tue,  4 Apr 2017 13:25:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.813
X-Spam-Level: **
X-Spam-Status: No, score=2.813 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=0.5,
	RCVD_IN_DNSWL_NONE=-0.0001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id eZOKFbLja5o3 for <users@camel.apache.org>;
	Tue,  4 Apr 2017 13:25:55 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id AE8C95FB62
	for <users@camel.apache.org>; Tue,  4 Apr 2017 13:25:54 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 700FA406ECA0
	for <users@camel.apache.org>; Tue,  4 Apr 2017 06:25:53 -0700 (PDT)
Date: Tue, 4 Apr 2017 06:25:54 -0700 (MST)
From: Gary <gary.mills@ge.com>
To: users@camel.apache.org
Message-ID: <1491312354019-5796915.post@n5.nabble.com>
In-Reply-To: <1491261985771-5796884.post@n5.nabble.com>
References: <1491261985771-5796884.post@n5.nabble.com>
Subject: Re: javax.xml.bind.JAXBException:  doesnt contain
 ObjectFactory.class or jaxb.index
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

it turns out I had the jaxb.index file in the wrong location. 

it needs to be under maven structure "resources". 
so I added the resources/com/ge/ip/zone3/decoders and place the jaxb.index
here, and it works. 

thank you 



-----
Gary Lee Mills
--
View this message in context: http://camel.465427.n5.nabble.com/javax-xml-bind-JAXBException-doesnt-contain-ObjectFactory-class-or-jaxb-index-tp5796884p5796915.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65207-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 15:16:40 2017
Return-Path: <users-return-65207-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2B4AB19F2D
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 15:16:40 +0000 (UTC)
Received: (qmail 84110 invoked by uid 500); 4 Apr 2017 08:09:59 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 84061 invoked by uid 500); 4 Apr 2017 08:09:59 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 50135 invoked by uid 99); 4 Apr 2017 07:54:10 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.736
X-Spam-Level: ***
X-Spam-Status: No, score=3.736 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Tue, 4 Apr 2017 00:54:07 -0700 (MST)
From: prabhakaran <vprabha711@gmail.com>
To: users@camel.apache.org
Message-ID: <1491292447111-5796898.post@n5.nabble.com>
Subject: multicast().stopOnException() - is there way to narrow to specific
 Exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I have a long route with several multicast . There are a number of possible
exceptions from these endpoints but i  want to stop the execution of
multicast only if certain types of exceptions - for example network
exception or ConnectionException . I want the multicast process to continue
in terms of other exceptions after they are be handled by the onException
clause. Is there a way i can specify some types of exception only on which
the procession stops. ?



--
View this message in context: http://camel.465427.n5.nabble.com/multicast-stopOnException-is-there-way-to-narrow-to-specific-Exception-tp5796898.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65210-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 15:37:09 2017
Return-Path: <users-return-65210-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 90D2618243
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 15:37:09 +0000 (UTC)
Received: (qmail 2590 invoked by uid 500); 4 Apr 2017 10:10:29 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 2546 invoked by uid 500); 4 Apr 2017 10:10:29 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 2531 invoked by uid 99); 4 Apr 2017 10:10:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Apr 2017 10:10:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 55A871A0041
	for <users@camel.apache.org>; Tue,  4 Apr 2017 10:10:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.798
X-Spam-Level:
X-Spam-Status: No, score=-0.798 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, KAM_ASCII_DIVIDERS=0.8,
	KAM_LINEPADDING=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-2.796, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=sigmasys1.onmicrosoft.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id S8RpG68NumPA for <users@camel.apache.org>;
	Tue,  4 Apr 2017 10:10:25 +0000 (UTC)
Received: from NAM02-BL2-obe.outbound.protection.outlook.com (mail-bl2nam02on0079.outbound.protection.outlook.com [104.47.38.79])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 340A05F24C
	for <users@camel.apache.org>; Tue,  4 Apr 2017 10:10:25 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=SIGMASYS1.onmicrosoft.com; s=selector1-sigmasystems-com01c;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version;
 bh=9gbQBRjw1FZxUEs/utLBA0zVF61Vz711Ro8UCcSdmH0=;
 b=hNzlGfLNYoEVhirc/MrFOItQZtWkhB+EF2q9cCnbID96nhp8atvCQCCJRaivL/yZHOagiicdHoE7o4/CLQhIZCV8SPAXX2VrfiQJlYWHFLN3bqXwzfno7hjeuOz8ESLOl3ndI9rnw9GLZgACZJx4M8uLF2jCvQuAhFR1ja6WwH4=
Received: from CY4PR05MB2885.namprd05.prod.outlook.com (10.169.183.19) by
 CY4PR05MB2888.namprd05.prod.outlook.com (10.169.183.22) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1019.8; Tue, 4 Apr 2017 10:10:17 +0000
Received: from CY4PR05MB2885.namprd05.prod.outlook.com ([10.169.183.19]) by
 CY4PR05MB2885.namprd05.prod.outlook.com ([10.169.183.19]) with mapi id
 15.01.1019.015; Tue, 4 Apr 2017 10:10:17 +0000
From: Ayush Dixit <Ayush.Dixit@sigma-systems.com>
To: "users@camel.apache.org" <users@camel.apache.org>
CC: "claus.ibsen@gmail.com" <claus.ibsen@gmail.com>
Subject: RE: Performance issue in Camel SFTP component
Thread-Topic: Performance issue in Camel SFTP component
Thread-Index: AdKtEaZ99I3uUpCsSKyU5SgaYvJPwAACIUkAAAQc2PA=
Date: Tue, 4 Apr 2017 10:10:17 +0000
Message-ID: <CY4PR05MB288500B6CF77E297A58C0CC5AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
References: <CY4PR05MB288556474F742B4395CD66D3AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CAGB5yN=okDLFFxhA5MDAWwH0oLovNB_D6BMYCuLhMfUimw8tng@mail.gmail.com>
In-Reply-To: <CAGB5yN=okDLFFxhA5MDAWwH0oLovNB_D6BMYCuLhMfUimw8tng@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: camel.apache.org; dkim=none (message not signed)
 header.d=none;camel.apache.org; dmarc=none action=none
 header.from=sigma-systems.com;
x-originating-ip: [115.113.155.67]
x-microsoft-exchange-diagnostics: 1;CY4PR05MB2888;7:nFMe47M+4ycF1B3yjrkmI6NNH10xddQUrcwuZgiZ9ClLP4yt/Vb1o8HNc7QRUFj2YIfTRuDzc396GvPNlBVKX2NDaly8X/0hAgDYZes7OoKvTvZcLBf00kE+OJ5Kkgm1eituEEKMzIaIV8JlUd5h1segDi10SJ6psATYo5U4X2fswjPf41OpF3AJaObmFkozuyo0Py/72hugvfcQ+GsVoglpb2wiMVBKOUVd2vGDFAZq4vxrWIDD1Doja1gMCgbn21EdwM6AijoKmVJlVSVqY9LH2KYQDnGkbtHrnh64wPBZZXfhPQaV/TvJUnxjMbovoGfWWbAOZdtUTLObUkrbMA==
x-ms-office365-filtering-correlation-id: eca157d5-9b8e-498f-407b-08d47b42cb46
x-microsoft-antispam: UriScan:;BCL:0;PCL:0;RULEID:(22001)(2017030254075)(201703131423075)(201703031133081);SRVR:CY4PR05MB2888;
x-microsoft-antispam-prvs: <CY4PR05MB28889761D95E61E6972F02CFAF0B0@CY4PR05MB2888.namprd05.prod.outlook.com>
x-exchange-antispam-report-test: UriScan:(212892494489503);
x-exchange-antispam-report-cfa-test: BCL:0;PCL:0;RULEID:(6040450)(601004)(2401047)(8121501046)(5005006)(93006095)(93001095)(10201501046)(3002001)(6041248)(20161123560025)(20161123555025)(20161123564025)(201703131423075)(201702281528075)(201703061421075)(20161123562025)(6072148);SRVR:CY4PR05MB2888;BCL:0;PCL:0;RULEID:;SRVR:CY4PR05MB2888;
x-forefront-prvs: 0267E514F9
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(6009001)(39840400002)(39400400002)(39450400003)(39410400002)(174854003)(24454002)(13464003)(377454003)(6916009)(5660300001)(2906002)(3280700002)(81166006)(8676002)(6116002)(1730700003)(3660700001)(99286003)(3846002)(55016002)(86362001)(74316002)(7736002)(2351001)(575784001)(2950100002)(7696004)(305945005)(102836003)(50986999)(53936002)(966004)(76176999)(54356999)(122556002)(39060400002)(25786009)(53546009)(4326008)(6306002)(8936002)(77096006)(110136004)(66066001)(9686003)(6246003)(53386004)(38730400002)(189998001)(33656002)(229853002)(5640700003)(6436002)(6506006)(2501003)(2900100001)(551544002);DIR:OUT;SFP:1101;SCL:1;SRVR:CY4PR05MB2888;H:CY4PR05MB2885.namprd05.prod.outlook.com;FPR:;SPF:None;MLV:ovrnspm;PTR:InfoNoRecords;LANG:en;
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: sigma-systems.com
X-MS-Exchange-CrossTenant-originalarrivaltime: 04 Apr 2017 10:10:17.3658
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: dba5b4ed-9d8f-46b1-95cb-4b550e5a68e1
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY4PR05MB2888

DQpUaGFua3MgQ2xhdXMgLCBJJ3ZlIHRyaWVkICBzdGVwd2lzZT1mYWxzZSAgaW4gY2FtZWwgcHJv
ZHVjZXIgLiBObyBzdWNoIGx1Y2sgDQoNCkFsc28sIEkgaGF2ZSB0cmllZCBkb3dubG9hZD1mYWxz
ZSBhbmQgdXNlTGlzdD1mYWxzZS4gU3RpbGwgdGhlIHBlcmZvcm1hbmNlIGlzIHNhbWUuIEkgYW0g
cmVmZXJyaW5nIHRoZSBiZWxvdyBsaW5rIGZvciBjYW1lbCBkb2N1bWVudGF0aW9uDQoNCmh0dHA6
Ly9jYW1lbC5hcGFjaGUub3JnL2Z0cDIuaHRtbCANCg0KSXMgdGhlcmUgaXMgYW55dGhpbmcgZWxz
ZSB5b3UgdGhpbmsgSSBjYW4gdHJ5Pw0KDQpUaGFua3MNCkF5dXNoDQoNCg0KLS0tLS1PcmlnaW5h
bCBNZXNzYWdlLS0tLS0NCkZyb206IENsYXVzIElic2VuIFttYWlsdG86Y2xhdXMuaWJzZW5AZ21h
aWwuY29tXSANClNlbnQ6IFR1ZXNkYXksIEFwcmlsIDQsIDIwMTcgMTozNSBQTQ0KVG86IHVzZXJz
QGNhbWVsLmFwYWNoZS5vcmcNCkNjOiB1c2Vycy1zdWJzY3JpYmVAY2FtZWwuYXBhY2hlLm9yZw0K
U3ViamVjdDogUmU6IFBlcmZvcm1hbmNlIGlzc3VlIGluIENhbWVsIFNGVFAgY29tcG9uZW50DQoN
ClBsZWFzZSBzcGVuZCBtb3JlIHRpbWUgdG8gcmVhZCB0aGUgZG9jdW1lbnRhdGlvbiBhbmQgeW91
IGNhbiBmaW5kIG9wdGlvbnMgdG8gdHdlYWsgdGhlIG9wdGlvbnMgdG8gdXNlIG9yIG5vdCB1c2Ug
RlRQIGxpc3QgZXRjLCBhbmQgdGhlcmUgaXMgYWxzbyBhIHN0ZXB3aXNlIG9wdGlvbg0KDQpPbiBU
dWUsIEFwciA0LCAyMDE3IGF0IDk6MTYgQU0sIEF5dXNoIERpeGl0IDxBeXVzaC5EaXhpdEBzaWdt
YS1zeXN0ZW1zLmNvbT4NCndyb3RlOg0KDQo+DQo+DQo+IEhpICwNCj4NCj4NCj4NCj4NCj4NCj4g
V2UgaGF2ZSBpbXBsZW1lbnRlZCBhIGNhbWVsIHJvdXRlIHdoZXJlIHdlIGFyZSBoYXZpbmcgY2Ft
ZWwgc2Z0cCANCj4gcHJvZHVjZXIgdG8gdHJhbnNmZXIgYSBmaWxlcyB0byByZW1vdGUgU0ZUUCBs
b2NhdGlvbiBidXQgb24gDQo+IHBlcmZvcm1hbmNlIHRlc3Rpbmcgb24gY2xpZW50IGVudmlyb25t
ZW50IGFuZCBvbiBvdXIgbG9jYWwgZW52aXJvbm1lbnQgDQo+IHdlIGhhdmUgb2JzZXJ2ZWQgZGVn
cmFkYXRpb24gaW4gdGhlIHRpbWUgZm9yIHRyYW5zZmVycmluZyBmaWxlcyB0byByZW1vdGUgU0ZU
UCBsb2NhdGlvbi4NCj4gUGxlYXNlIGZpbmQgdGhlIGRldGFpbGVkIGFuYWx5c2lzIGJlbG93LiBU
aGUgd2UgdHJpZWQgdGhlIHZhcmlvdXMgdGVzdCANCj4gaW4gb3VyIGxvY2FsIGVudmlyb25tZW50
LiBJbiBlYWNoIHRlc3Qgd2UgcHV0IGFyb3VuZCAyMiBmaWxlcyBvbiBjYW1lbCANCj4gZmlsZSBj
b25zdW1lciBhbmQgZWFjaCBmaWxlIHRvb2sgYmVsb3cgdGltZSB0byB3cml0ZSB0aGUgZmlsZS4g
UEZCIA0KPiBkZXRhaWxzDQo+DQo+DQo+DQo+DQo+DQo+ID09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KPiA9PT09PT09PT09PT09PT09
PT09PT09PT09PT09DQo+DQo+IFdoZW4gdGFyZ2V0IGRpcmVjdG9yeSBoYXZpbmcgMjAsMDAwIGZp
bGVzLiBDYW1lbCBzZnRwIHByb2R1Y2VyIHRvb2sgDQo+IGFyb3VuZA0KPiAxIG1pbnV0ZSA0MyBz
ZWNvbmQgdG8gYSB0cmFuc2ZlciBmaWxlDQo+DQo+ID09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KPiA9PT09PT09PT09PT09PT09PT09
PT09PT09PT09DQo+DQo+DQo+DQo+IERFQlVHIDA3OjAwOjM4IChDYW1lbCAoY2ZnTWdyQ2FtZWxD
b250ZXh0KSB0aHJlYWQgIzYgLQ0KPiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2Rv
bWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4gb3JnLmFwYWNoZS5jYW1lbC5jb21w
b25lbnQuZmlsZS5GaWxlQ29uc3VtZXI+IEFib3V0IHRvIHByb2Nlc3MgZmlsZToNCj4gR2VuZXJp
Y0ZpbGVbL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNw
b25zZXMvMQ0KPiAvU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dF0gdXNpbmcgZXhjaGFuZ2U6
IA0KPiBFeGNoYW5nZVtTVDMwUEVSRk9SUE1BSkFSMTcwMjA3MjYudHh0XQ0KPg0KPiAgICAgICAg
ICAgIElORk8gMDc6MDA6MzggKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAt
DQo+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9w
X3Jlc3BvbnNlcy8xKQ0KPiBjb20uc2lnbWEuc2FtcC5pbXAudmlyZ2lubWVkaWEuYnNzLnZvaWNl
LmNhbWVscm91dGVzLmlvcFJvdXRlLklPUFJlc3BvDQo+IG5zZUZ0cFJvdXRlQnVpbGRlcj4gUGlj
a2VkIElPUCByZXNwb25zZSBmaWxlIDogDQo+IFNUMzBQRVJGT1JQTUFKQVIxNzAyMDcyNi50eHQg
ZnJvbSBJT1AgRlRQIGRpcmVjdG9yeQ0KPg0KPiAgICAgICAgICAgICBJTkZPIDA3OjAwOjM4IChD
YW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0KPiBmaWxlOi8vL2RhdGEvdXNl
cnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4gY29t
LnNpZ21hLnNhbXAuaW1wLnZpcmdpbm1lZGlhLmJzcy52b2ljZS5jYW1lbHJvdXRlcy5pb3BSb3V0
ZS5JT1BSZXNwbw0KPiBuc2VGdHBSb3V0ZUJ1aWxkZXI+IFNlbmRpbmcgSU9QIHJlc3BvbnNlIGZp
bGUgOiANCj4gU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dCB0byBJQ09NUyBGVFAgZGlyZWN0
b3J5DQo+DQo+ICAgICAgICAgICAgIERFQlVHIDA3OjAwOjM4IChDYW1lbCAoY2ZnTWdyQ2FtZWxD
b250ZXh0KSB0aHJlYWQgIzYgLQ0KPiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2Rv
bWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4gb3JnLmFwYWNoZS5jYW1lbC5wcm9j
ZXNzb3IuU2VuZFByb2Nlc3Nvcj4gPj4+PiBFbmRwb2ludFtzZnRwOi8vMTAuMTAwLjE1MC4NCj4g
MTkwL2ljb21zLzE/ZG93bmxvYWQ9ZmFsc2UmbWF4TWVzc2FnZXNQZXJQb2xsPTEwJg0KPiBwYXNz
d29yZD14eHh4eHgmdGVtcFByZWZpeD1RJnVzZXJuYW1lPXNpZ21hdXNlcl0gRXhjaGFuZ2VbIA0K
PiBTVDMwUEVSRk9SUE1BSkFSMTcwMjA3MjYudHh0XQ0KPg0KPg0KPg0KPg0KPg0KPg0KPg0KPiAg
ICAgICAgICAgICBERUJVRyAwNzowMjoxOSAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhy
ZWFkICM2IC0NCj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9J
Y29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUu
R2VuZXJpY0ZpbGVDb252ZXJ0ZXI+IFJlYWQgZmlsZSANCj4gL2RhdGEvdXNlcnMvc2x2bTAyL3Nt
cDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMS9TVDMwUEVSRk9SUA0KPiBNQUpB
UjE3MDIwNzI2LnR4dA0KPiAobm8gY2hhcnNldCkNCj4NCj4gICAgICAgICAgICBERUJVRyAwNzow
MjoxOSAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4gZmlsZTovLy9k
YXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEp
DQo+IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUucmVtb3RlLlNmdHBPcGVyYXRpb25z
PiBBYm91dCB0byBzdG9yZQ0KPiBmaWxlOiBRU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dCB1
c2luZyBzdHJlYW06DQo+IGphdmEuaW8uQnVmZmVyZWRJbnB1dFN0cmVhbUA1NGE4OWZmNQ0KPg0K
PiAgICAgICAgICAgIERFQlVHIDA3OjAyOjE5IChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0
aHJlYWQgIzYgLQ0KPiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1i
L0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmls
ZS5yZW1vdGUuU2Z0cE9wZXJhdGlvbnM+IFRvb2sgMC42NTggDQo+IHNlY29uZHMNCj4gKDY1OCBt
aWxsaXMpIHRvIHN0b3JlIGZpbGU6IFFTVDMwUEVSRk9SUE1BSkFSMTcwMjA3MjYudHh0IGFuZCBG
VFAgDQo+IGNsaWVudA0KPiByZXR1cm5lZDogdHJ1ZQ0KPg0KPg0KPg0KPiAgICAgICAgICAgIERF
QlVHIDA3OjAyOjIwIChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0KPiBm
aWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNw
b25zZXMvMSkNCj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1vdGUuUmVtb3Rl
RmlsZVByb2R1Y2VyPiBXcm90ZSANCj4gW2ljb21zLzEvUVNUMzBQRVJGT1JQTUFKQVIxNzAyMDcy
Ni50eHRdDQo+IHRvIFtFbmRwb2ludFtzZnRwOi8vMTAuMTAwLjE1MC4xOTAvaWNvbXMvMT9kb3du
bG9hZD1mYWxzZSYNCj4gbWF4TWVzc2FnZXNQZXJQb2xsPTEwJnBhc3N3b3JkPXh4eHh4eCZ0ZW1w
UHJlZml4PVEmdXNlcm5hbWU9c2lnbWF1c2VyXQ0KPiBdDQo+DQo+ICAgICAgICAgICAgREVCVUcg
MDc6MDI6MjAgKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+IGZpbGU6
Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNl
cy8xKQ0KPiBvcmcuYXBhY2hlLmNhbWVsLmNvbXBvbmVudC5maWxlLnJlbW90ZS5TZnRwT3BlcmF0
aW9ucz4gUmVuYW1pbmcgZmlsZToNCj4gaWNvbXMvMS9RU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2
LnR4dCB0bzogaWNvbXMvMS8gDQo+IFNUMzBQRVJGT1JQTUFKQVIxNzAyMDcyNi50eHQNCj4NCj4g
ICAgICAgICAgICAgSU5GTyAwNzowMjoyMCAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhy
ZWFkICM2IC0NCj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9J
Y29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+IGNvbS5zaWdtYS5zYW1wLmltcC52aXJnaW5tZWRpYS5i
c3Mudm9pY2UuY2FtZWxyb3V0ZXMuaW9wUm91dGUuSU9QUmVzcG8NCj4gbnNlRnRwUm91dGVCdWls
ZGVyPiBJT1AgcmVzcG9uc2UgZmlsZSA6IFNUMzBQRVJGT1JQTUFKQVIxNzAyMDcyNi50eHQgDQo+
IHN1Y2Nlc3NmdWxseSBzZW50IHRvIElDT01TIEZUUCBkaXJlY3RvcnkNCj4NCj4NCj4NCj4NCj4N
Cj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09DQo+ID09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KPg0KPiBXaGVuIHRhcmdldCBk
aXJlY3RvcnkgaGF2aW5nIDQwLDAwMCBmaWxlcy4gQ2FtZWwgc2Z0cCBwcm9kdWNlciB0b29rIA0K
PiBhcm91bmQNCj4gMyBtaW51dGUgMTcgc2Vjb25kIHRvIHRyYW5zZmVyIGZpbGUNCj4NCj4gPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
DQo+ID09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KPg0KPg0KPg0KPiBERUJVRyAwNzo0Nzoy
MyAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4gZmlsZTovLy9kYXRh
L3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+
IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUuRmlsZUNvbnN1bWVyPiBBYm91dCB0byBw
cm9jZXNzIGZpbGU6DQo+IEdlbmVyaWNGaWxlWy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21h
aW5zL3YNCj4NCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCj4gbWIvSWNvbXMv
aW9wX3Jlc3BvbnNlcy8xL1NYMzBSUE1BSkFSMTcwMjQ4Mzc1Ni50eHRdDQo+IHVzaW5nIGV4Y2hh
bmdlOiBFeGNoYW5nZVtTWDMwUlBNQUpBUjE3MDI0ODM3NTYudHh0XQ0KPg0KPiAgICAgICAgICAg
ICAgICAgSU5GTyAwNzo0NzoyMyAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2
IC0NCj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9p
b3BfcmVzcG9uc2VzLzEpDQo+IGNvbS5zaWdtYS5zYW1wLmltcC52aXJnaW5tZWRpYS5ic3Mudm9p
Y2UuY2FtZWxyb3V0ZXMuaW9wUm91dGUuSU9QUmVzcG8NCj4gbnNlRnRwUm91dGVCdWlsZGVyPg0K
PiBQaWNrZWQgSU9QIHJlc3BvbnNlIGZpbGUgOg0KPg0KPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIFNYMzBSUE1BSkFSMTcwMjQ4Mzc1Ni50eHQgZnJvbSBJT1AgRlRQIA0KPiBkaXJl
Y3RvcnkNCj4NCj4gICAgICAgICAgICAgICAgIElORk8gMDc6NDc6MjMgKENhbWVsIChjZmdNZ3JD
YW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21w
NTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPiBjb20uc2lnbWEuc2FtcC5p
bXAudmlyZ2lubWVkaWEuYnNzLnZvaWNlLmNhbWVscm91dGVzLmlvcFJvdXRlLklPUFJlc3BvDQo+
IG5zZUZ0cFJvdXRlQnVpbGRlcj4NCj4gU2VuZGluZyBJT1AgcmVzcG9uc2UgZmlsZQ0KPg0KPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4
dCB0byBJQ09NUyANCj4gRlRQIGRpcmVjdG9yeQ0KPg0KPiAgICAgICAgICAgICAgICAgREVCVUcg
MDc6NDc6MjMgKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+IGZpbGU6
Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNl
cy8xKQ0KPiBvcmcuYXBhY2hlLmNhbWVsLnByb2Nlc3Nvci5TZW5kUHJvY2Vzc29yPiA+Pj4+IEVu
ZHBvaW50W3NmdHA6Ly8xMC4xMDAuMTUwLg0KPiAxOTAvaWNvbXMvMT9kb3dubG9hZD1mYWxzZSZt
YXhNZXNzYWdlc1Blcg0KPg0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvbGw9
MTAmcGFzc3dvcmQ9eHh4eHh4JiANCj4gdGVtcFByZWZpeD1RJnVzZXJuYW1lPXNpZ21hdXNlcl0g
RXhjaGFuZ2VbU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dF0NCj4NCj4NCj4NCj4NCj4NCj4gICAg
ICAgICAgICAgICAgIERFQlVHIDA3OjUwOjQwIChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0
aHJlYWQgIzYgLQ0KPiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1i
L0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmls
ZS5HZW5lcmljRmlsZUNvbnZlcnRlcj4gUmVhZCBmaWxlIA0KPiAvZGF0YS91c2Vycy9zbHZtMDIv
c21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xL1NYMzBSUE1BSkFSDQo+IDE3
MDI0ODM3NTYudHh0DQo+IChubyBjaGFyc2V0KQ0KPg0KPiAgICAgICAgICAgICAgICAgREVCVUcg
MDc6NTA6NDAgKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+IGZpbGU6
Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNl
cy8xKQ0KPiBvcmcuYXBhY2hlLmNhbWVsLmNvbXBvbmVudC5maWxlLnJlbW90ZS5TZnRwT3BlcmF0
aW9ucz4gQWJvdXQgdG8gc3RvcmUNCj4gZmlsZTogUVNYMzBSUE1BSkFSMTcwMjQ4Mzc1Ni50eHQg
dXNpbmcgc3RyZWFtOiANCj4gamF2YS5pby5CdWZmZXJlZElucHV0U3RyZWFtQA0KPiA3OTU0Y2Zh
OA0KPg0KPiAgICAgICAgICAgICAgICAgREVCVUcgMDc6NTA6NDAgKENhbWVsIChjZmdNZ3JDYW1l
bENvbnRleHQpIHRocmVhZCAjNiAtDQo+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMv
ZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPiBvcmcuYXBhY2hlLmNhbWVsLmNv
bXBvbmVudC5maWxlLnJlbW90ZS5TZnRwT3BlcmF0aW9ucz4gVG9vayAwLjY1OSANCj4gc2Vjb25k
cw0KPiAoNjU5IG1pbGxpcykgdG8gc3RvcmUgZmlsZTogUVNYMzBSUE1BSkFSMTcwMjQ4Mzc1Ni50
eHQgYW5kIEZUUCBjbGllbnQNCj4gcmV0dXJuZWQ6IHRydWUNCj4NCj4gICAgICAgICAgICAgICAg
IERFQlVHIDA3OjUwOjQxIChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0K
PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9y
ZXNwb25zZXMvMSkNCj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1vdGUuUmVt
b3RlRmlsZVByb2R1Y2VyPiBXcm90ZSANCj4gW2ljb21zLzEvUVNYMzBSUE1BSkFSMTcwMjQ4Mzc1
Ni50eHRdDQo+IHRvIFtFbmRwb2ludFtzZnRwOi8vMTAuMTAwLjE1MC4xOTAvaWNvbXMvMT9kb3du
bG9hZD1mYWxzZSYNCj4gbWF4TWVzc2FnZXNQZXJQb2xsPTEwJnBhc3N3b3JkPXh4eHh4eCZ0ZW1w
UHJlZml4PVEmdXNlcm5hbWU9c2lnbWF1c2VyXQ0KPiBdDQo+DQo+ICAgICAgICAgICAgICAgICBE
RUJVRyAwNzo1MDo0MSAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4g
ZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVz
cG9uc2VzLzEpDQo+IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUucmVtb3RlLlNmdHBP
cGVyYXRpb25zPiBSZW5hbWluZyBmaWxlOg0KPiBpY29tcy8xL1FTWDMwUlBNQUpBUjE3MDI0ODM3
NTYudHh0IHRvOiANCj4gaWNvbXMvMS9TWDMwUlBNQUpBUjE3MDI0ODM3NTYudHh0DQo+DQo+ICAg
ICAgICAgICAgICAgICBJTkZPIDA3OjUwOjQxIChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0
aHJlYWQgIzYgLQ0KPiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1i
L0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4gY29tLnNpZ21hLnNhbXAuaW1wLnZpcmdpbm1lZGlh
LmJzcy52b2ljZS5jYW1lbHJvdXRlcy5pb3BSb3V0ZS5JT1BSZXNwbw0KPiBuc2VGdHBSb3V0ZUJ1
aWxkZXI+IElPUCByZXNwb25zZSBmaWxlIDogU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dCANCj4g
c3VjY2Vzc2Z1bGx5IHNlbnQgdG8gSUNPTVMgRlRQIGRpcmVjdG9yeQ0KPg0KPg0KPg0KPg0KPg0K
Pg0KPg0KPiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0NCj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
Pg0KPiBTaW1pbGFybHkgd2hlbiB3ZSBhY2hpZXZlZCB0aGUgZmlsZXMgZnJvbSB0YXJnZXQgZGly
ZWN0b3J5LiBJdCB0b29rIA0KPiBhcm91bmQNCj4gNiBzZWMuSXQgc2VlbXMgbGlrZSB0aGVyZSBp
cyBhIHBlcmZvcm1hbmNlIGlzc3VlIHdpdGggY2FtZWwgc2Z0cCBjb21wb25lbnQuDQo+IERvZXMg
aXQgbGlzdCB0aGUgZmlsZXMgaW4gdGFyZ2V0IGRpcmVjdG9yeSB3aGljaCBpcyB0YWtpbmcgdGlt
ZS4NCj4NCj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09DQo+ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
Pg0KPg0KPg0KPiBQRkIgdGhlIHByb2R1Y2VyIHJvdXRlIHdoaWNoIHdlIHNldCB1cA0KPg0KPiBz
ZnRwOi8vMTAuMTAwLjE1MC4xOTAvaWNvbXMvMT9kb3dubG9hZD1mYWxzZSZtYXhNZXNzYWdlc1Bl
clBvbGw9MTAmDQo+IHBhc3N3b3JkPXh4eHh4eCZ0ZW1wUHJlZml4PVEmdXNlcm5hbWU9c2lnbWF1
c2VyDQo+DQo+DQo+DQo+DQo+DQo+IFBsZWFzZSBsZXQgdXMga25vdyBpZiB5b3UgbmVlZCBhbnl0
aGluZyBlbHNlLg0KPg0KPg0KPg0KPg0KPg0KPiAqQXl1c2ggRGl4aXQqDQo+ICpTb2Z0d2FyZSBF
bmdpbmVlcioNCj4gYXl1c2guZGl4aXRAc2lnbWEtc3lzdGVtcy5jb20NCj4NCj4gTzogKzkxLjIw
LjI1NjYxOTkyIHggMzIxIDwrOTElMjAyMCUyMDI1NjYlMjAxOTkyPiB8ICBNOiANCj4gKzkxLTgx
NC05ODItNjI2MCA8KzkxJTIwODE0OTglMjAyNjI2MD4gfCBTa3lwZTogYXl1c2hkaXhpdDQyMQ0K
Pg0KPiBbaW1hZ2U6IGNpZDppbWFnZTAwMS5qcGdAMDFEMTY4MDkuRTEyQzBENTBdDQo+IDxodHRw
Oi8vd3d3LnNpZ21hLXN5c3RlbXMuY29tLz4NCj4NCj4NCj4NCj4NCj4NCg0KDQoNCi0tDQpDbGF1
cyBJYnNlbg0KLS0tLS0tLS0tLS0tLS0tLS0NCmh0dHA6Ly9kYXZzY2xhdXMuY29tIEBkYXZzY2xh
dXMNCkNhbWVsIGluIEFjdGlvbiAyOiBodHRwczovL3d3dy5tYW5uaW5nLmNvbS9pYnNlbjINCg==

From users-return-65208-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr  4 15:53:19 2017
Return-Path: <users-return-65208-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3F04918493
	for <apmail-camel-users-archive@www.apache.org>; Tue,  4 Apr 2017 15:53:19 +0000 (UTC)
Received: (qmail 28737 invoked by uid 500); 4 Apr 2017 08:46:38 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 28691 invoked by uid 500); 4 Apr 2017 08:46:38 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 20974 invoked by uid 99); 4 Apr 2017 08:43:23 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.736
X-Spam-Level: ***
X-Spam-Status: No, score=3.736 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Tue, 4 Apr 2017 01:43:19 -0700 (MST)
From: "anirban.gupta4" <anirban.gupta4@gmail.com>
To: users@camel.apache.org
Message-ID: <1491295399048-5796903.post@n5.nabble.com>
Subject: jaxrs resource classes not found Exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

In our Camel project, we are using the following cxf dependencies in pom

<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-frontend-jaxws</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-transports-http</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
	      <groupId>org.apache.camel</groupId>
	      <artifactId>camel-cxf</artifactId>
	      <version>2.18.2</version>
	    </dependency>
	    <dependency>
	      <groupId>org.apache.camel</groupId>
	      <artifactId>camel-cxf-transport</artifactId>
	      <version>2.18.2</version>
	    </dependency>
	    <dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-transports-http-jetty</artifactId>
			<version>3.1.10</version>
		</dependency>

and the following dependencies for Rest

<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-spring-boot-starter-jaxrs</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
			<groupId>org.webjars</groupId>
			<artifactId>swagger-ui</artifactId>
			<version>2.1.0</version>
		</dependency>
		<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-rs-service-description-swagger</artifactId>
			<version>${cxf.version}</version>
		</dependency>

When I am using any one of the previous sets, my project is running but when
I am adding both, the following exception is thrown at runtine

Caused by: org.springframework.beans.BeanInstantiationException: Failed to
instantiate [org.apache.cxf.endpoint.Server]: Factory method 'jaxRsServer'
threw exception; nested exception is
org.apache.cxf.service.factory.ServiceConstructionException
	at
org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)
~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]
	at
org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)
~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]
	... 18 common frames omitted
Caused by: org.apache.cxf.service.factory.ServiceConstructionException: null
	at
org.apache.cxf.jaxrs.JAXRSServerFactoryBean.create(JAXRSServerFactoryBean.java:219)
~[cxf-rt-frontend-jaxrs-3.1.9.jar:3.1.9]
	at
org.apache.cxf.jaxrs.spring.AbstractSpringConfigurationFactory.createJaxRsServer(AbstractSpringConfigurationFactory.java:56)
~[cxf-rt-frontend-jaxrs-3.1.9.jar:3.1.9]
	at
org.apache.cxf.jaxrs.spring.SpringComponentScanServer.jaxRsServer(SpringComponentScanServer.java:29)
~[cxf-rt-frontend-jaxrs-3.1.9.jar:3.1.9]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
~[na:1.8.0_111]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
~[na:1.8.0_111]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
~[na:1.8.0_111]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_111]
	at
org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)
~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]
	... 19 common frames omitted
Caused by: org.apache.cxf.service.factory.ServiceConstructionException: No
resource classes found
	at
org.apache.cxf.jaxrs.AbstractJAXRSFactoryBean.checkResources(AbstractJAXRSFactoryBean.java:317)
~[cxf-rt-frontend-jaxrs-3.1.9.jar:3.1.9]
	at
org.apache.cxf.jaxrs.JAXRSServerFactoryBean.create(JAXRSServerFactoryBean.java:159)
~[cxf-rt-frontend-jaxrs-3.1.9.jar:3.1.9]
	... 26 common frames omitted

Please suggest what needs to be done

The cxf version is 3.1.7



--
View this message in context: http://camel.465427.n5.nabble.com/jaxrs-resource-classes-not-found-Exception-tp5796903.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65224-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 03:25:43 2017
Return-Path: <users-return-65224-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8EE0A18293
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 03:25:43 +0000 (UTC)
Received: (qmail 56201 invoked by uid 500); 5 Apr 2017 03:25:43 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 56145 invoked by uid 500); 5 Apr 2017 03:25:43 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 56134 invoked by uid 99); 5 Apr 2017 03:25:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 03:25:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5A7D9180533
	for <users@camel.apache.org>; Wed,  5 Apr 2017 03:25:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -3.708
X-Spam-Level:
X-Spam-Status: No, score=-3.708 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_HI=-5, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id H8jI0Uk6DIKI for <users@camel.apache.org>;
	Wed,  5 Apr 2017 03:25:38 +0000 (UTC)
Received: from smtpgw.sap-ag.de (smtpgw03.sap-ag.de [155.56.66.98])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 5AD485FB62
	for <users@camel.apache.org>; Wed,  5 Apr 2017 03:25:38 +0000 (UTC)
From: "Goyal, Arpit" <arpit.goyal@sap.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: Re: Camel Http vs Camel Http4 - Content Type Header
Thread-Topic: Camel Http vs Camel Http4 - Content Type Header
Thread-Index: AdKDBsjC6BuVmCQTR6SzglZ6oAGKegADdsoAAAJ2wrAKaxsaYAA8VyCA
Date: Wed, 5 Apr 2017 03:25:31 +0000
Message-ID: <63544303-ABF8-4415-86D4-EA0DF4FFEDE5@sap.com>
References: <82c767ed74fc4a22bde87ae8b643283c@dewdfe13de47.global.corp.sap>
 <CA+wbgs16=e_1VQwR_fB4_oiBm-y4S70QmcWoLYxbONDvkKmWrw@mail.gmail.com>
 <968c6d4d8cfb4132b37f3c603ffd36e7@dewdfe13de47.global.corp.sap>,<ac960ff362d5444bbff5bcbb22ee04f0@sap.com>
In-Reply-To: <ac960ff362d5444bbff5bcbb22ee04f0@sap.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Anyone else has idea of this camel logic?

Sent from my iPhone

> On Apr 3, 2017, at 4:33 PM, Goyal, Arpit <arpit.goyal@sap.com> wrote:
>=20
> Hi Claus,
>=20
> HttpProduce -- from camel-http4 library is setting the content-type 'text=
/plain'  in method [1] line # 488 (camel version 2.16.3) even though we hav=
e set the Content-Type to be NULL - This is NOT the case with HttpProducer =
- from camel-http library.=20
>=20
> By enabling the apache commons log, the headers are clearly visible.
>=20
> The end-system we are invoking throws '415' due to the wrong Content Type=
 passed and if we DO NOT pass any content type it works. As at execution ti=
me we can't determine the Content-Type, we want to pass it NULL.=20
>=20
> Any possible way to achieve not sending of Content-Type header?=20
>=20
> 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> POST /s=
ervice/scim/Users HTTP/1.1
> 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> breadcr=
umbId: ID-i044312-33503-1491259732621-0-1
> 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Content=
-Length: 518
> 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Content=
-Type: text/plain                            ---- in this line.
> 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Host: x=
xxxxxx
> 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Connect=
ion: Keep-Alive
> 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> User-Ag=
ent: Apache-HttpClient/4.5.2 (Java/1.7.0_101)
> 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Accept-=
Encoding: gzip,deflate
> 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Authori=
zation: Basic XXXXXXXX
> 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "POST /ser=
vice/scim/Users HTTP/1.1[\r][\n]"
> 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "breadcrum=
bId: ID-i044312-33503-1491259732621-0-1[\r][\n]"
> 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Content-L=
ength: 518[\r][\n]"
> 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Content-T=
ype: text/plain[\r][\n]"                        --- in this line
> 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Host: xxx=
xxxxxx[\r][\n]"
> 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Connectio=
n: Keep-Alive[\r][\n]"
> 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "User-Agen=
t: Apache-HttpClient/4.5.2 (Java/1.7.0_101)[\r][\n]"
> 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Accept-En=
coding: gzip,deflate[\r][\n]"
> 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Authoriza=
tion: Basic XXXXXXXX[\r][\n]"
> 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "[\r][\n]"
> 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "{[\r][\n]=
"
> 2017/04/04 00:48:55:620 CEST [DEBUG] wire - http-outgoing-0 >> "}"
>=20
> [1] - org.apache.camel.component.http4.HttpProducer.createRequestEntity(E=
xchange)=20
>=20
> Regards,
> Arpit.
>=20
>=20
> -----Original Message-----
> From: souciance [mailto:souciance.eqdam.rashti@gmail.com]=20
> Sent: Thursday, February 9, 2017 1:40 PM
> To: users@camel.apache.org
> Subject: Re: Camel Http vs Camel Http4 - Content Type Header
>=20
> Well it should be pretty easy to setup a http server and see what headers
> your route are sending and compare that to what the actual server wants. =
If
> camel-http4 is suppressing some headers then perhaps try another componen=
t.
>=20
> On Thu, Feb 9, 2017 at 10:32 PM, Goyal, Arpit [via Camel] <
> ml-node+s465427n5793736h79@n5.nabble.com> wrote:
>=20
>> Hi,
>>=20
>> We were on Camel-Http (2.16) and moving to Camel-Http4 (2.16) and saw th=
at
>> URL which worked with Camel-http now fails with Camel-Http4 with status
>> code - 415 (Unsupported Media Type).
>>=20
>> Caused by: org.apache.camel.http.common.HttpOperationFailedException:
>> HTTP operation failed invoking https://<host>:<port>/
>> myservice/Users?authMethod=3DBasic with statusCode: 415
>>=20
>> Saw this discussion on Nabble - http://camel.465427.n5.nabble.
>> com/Http4-Set-Header-Content-Type-not-passing-through-to-
>> the-HTTP-Request-td5746414.html#a5752856
>>=20
>> Does this mean we CAN"T USE - Camel-HTTP4 ?
>>=20
>> Regards,
>> Arpit.
>>=20
>>=20
>> ------------------------------
>> If you reply to this email, your message will be added to the discussion
>> below:
>> http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-
>> Content-Type-Header-tp5793736.html
>> To start a new topic under Camel - Users, email
>> ml-node+s465427n465428h31@n5.nabble.com
>> To unsubscribe from Camel - Users, click here
>> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dunsu=
bscribe_by_code&node=3D465428&code=3Dc291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC=
5jb218NDY1NDI4fDE1MzI5MTE2NTY=3D>
>> .
>> NAML
>> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dmacr=
o_viewer&id=3Dinstant_html%21nabble%3Aemail.naml&base=3Dnabble.naml.namespa=
ces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web=
.template.NodeNamespace&breadcrumbs=3Dnotify_subscribers%21nabble%3Aemail.n=
aml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemai=
l.naml>
>>=20
>=20
>=20
>=20
>=20
> --
> View this message in context: http://camel.465427.n5.nabble.com/Camel-Htt=
p-vs-Camel-Http4-Content-Type-Header-tp5793736p5793737.html
> Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65225-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 04:50:44 2017
Return-Path: <users-return-65225-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D750A18527
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 04:50:43 +0000 (UTC)
Received: (qmail 83306 invoked by uid 500); 5 Apr 2017 04:50:43 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 83260 invoked by uid 500); 5 Apr 2017 04:50:43 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 83248 invoked by uid 99); 5 Apr 2017 04:50:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 04:50:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 68E19180533
	for <users@camel.apache.org>; Wed,  5 Apr 2017 04:50:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.233
X-Spam-Level: **
X-Spam-Status: No, score=2.233 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_FAIL=0.919,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id OO2WyVAo1uWg for <users@camel.apache.org>;
	Wed,  5 Apr 2017 04:50:39 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 4BC8C5F24C
	for <users@camel.apache.org>; Wed,  5 Apr 2017 04:50:39 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 85BE3407F066
	for <users@camel.apache.org>; Tue,  4 Apr 2017 21:50:38 -0700 (PDT)
Date: Tue, 4 Apr 2017 21:50:38 -0700 (MST)
From: "andre.gilliam@icg360.com" <andre.gilliam@icg360.com>
To: users@camel.apache.org
Message-ID: <1491367838950-5796939.post@n5.nabble.com>
Subject: Sql Component StreamList Poll
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I have a route similar to the following that uses the SQL Component:

from("sql:" + QUERY + "?outputType=StreamList")
		.autoStartup(false)
		.routeId(getRouteId())
		.to("log:stream")
		.split(body(), new AggregationStrategy())
		.executorService(getThreadPool())
		.streaming()
		.parallelProcessing()
		.to("log:postProcess")
		.end()
		.process(new Processor() {
            @Override
            public void process(Exchange exchange) throws Exception {
                // stop Camel by signaling to the latch
            	getCountDownLatch().countDown();
            }
        });		

I'm running into a problem and need direction. If the last streaming row is
successfully processed by the route everything is fine. If the query returns
0 results or If the last streaming row has an exception while in the route
it, the sql component will poll and never get into the route to hit the last
process (which notifies the countDownLatch await and stops the process).
This is the error that it produces when in that state:

00:33:37.150 [Camel (camel-1) thread #3 -
sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW']
WARN  o.s.j.support.SQLErrorCodesFactory - Error while extracting database
name - falling back to empty error codes 
org.springframework.jdbc.support.MetaDataAccessException: Error while
extracting DatabaseMetaData; nested exception is java.sql.SQLException:
Invalid state, the Connection object is closed.
	at
org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:342)
	at
org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366)
	at
org.springframework.jdbc.support.SQLErrorCodesFactory.getErrorCodes(SQLErrorCodesFactory.java:212)
	at
org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.setDataSource(SQLErrorCodeSQLExceptionTranslator.java:134)
	at
org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.<init>(SQLErrorCodeSQLExceptionTranslator.java:97)
	at
org.springframework.jdbc.support.JdbcAccessor.getExceptionTranslator(JdbcAccessor.java:99)
	at
org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:649)
	at
org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:662)
	at org.apache.camel.component.sql.SqlConsumer.poll(SqlConsumer.java:168)
	at
org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:175)
	at
org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:102)
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.util.concurrent.FutureTask.runAndReset(Unknown Source)
	at
java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown
Source)
	at
java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown
Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.sql.SQLException: Invalid state, the Connection object is
closed.
	at
net.sourceforge.jtds.jdbc.JtdsConnection.checkOpen(JtdsConnection.java:1744)
	at
net.sourceforge.jtds.jdbc.JtdsConnection.getMetaData(JtdsConnection.java:2350)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at
org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)
	at
org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)
	at
org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)
	at com.sun.proxy.$Proxy96.getMetaData(Unknown Source)
	at
org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:331)
	... 17 common frames omitted
00:33:37.152 [Camel (camel-1) thread #3 -
sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW']
WARN  o.a.camel.component.sql.SqlConsumer - Consumer
Consumer[sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW'?noop=true&outputType=StreamList]
failed polling endpoint:
sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW'?noop=true&outputType=StreamList.
Will try again at next poll. Caused by:
[org.springframework.jdbc.UncategorizedSQLException -
PreparedStatementCallback; uncategorized SQLException for SQL [SELECT Id,
QuoteId  FROM [dbo].[IPSImporter] WHERE Status = 'NEW']; SQL state [HY010];
error code [0]; Invalid state, the Connection object is closed.; nested
exception is java.sql.SQLException: Invalid state, the Connection object is
closed.] 
org.springframework.jdbc.UncategorizedSQLException:
PreparedStatementCallback; uncategorized SQLException for SQL [SELECT Id,
QuoteId  FROM [dbo].[IPSImporter] WHERE Status = 'NEW']; SQL state [HY010];
error code [0]; Invalid state, the Connection object is closed.; nested
exception is java.sql.SQLException: Invalid state, the Connection object is
closed.
	at
org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:84)
	at
org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at
org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at
org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:649)
	at
org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:662)
	at org.apache.camel.component.sql.SqlConsumer.poll(SqlConsumer.java:168)
	at
org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:175)
	at
org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:102)
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.util.concurrent.FutureTask.runAndReset(Unknown Source)
	at
java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown
Source)
	at
java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown
Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.sql.SQLException: Invalid state, the Connection object is
closed.
	at
net.sourceforge.jtds.jdbc.JtdsConnection.checkOpen(JtdsConnection.java:1744)
	at
net.sourceforge.jtds.jdbc.JtdsConnection.prepareStatement(JtdsConnection.java:2448)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at
org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)
	at
org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)
	at
org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at
org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1521)
	at
org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:627)
	... 11 common frames omitted
00:33:37.653 [Camel (camel-1) thread #3 -
sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW']
WARN  o.a.camel.component.sql.SqlConsumer - Consumer
Consumer[sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW'?noop=true&outputType=StreamList]
failed polling endpoint:
sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW'?noop=true&outputType=StreamList.
Will try again at next poll. Caused by:
[org.springframework.jdbc.UncategorizedSQLException -
PreparedStatementCallback; uncategorized SQLException for SQL [SELECT Id,
QuoteId  FROM [dbo].[IPSImporter] WHERE Status = 'NEW']; SQL state [HY010];
error code [0]; Invalid state, the Connection object is closed.; nested
exception is java.sql.SQLException: Invalid state, the Connection object is
closed.] 
org.springframework.jdbc.UncategorizedSQLException:
PreparedStatementCallback; uncategorized SQLException for SQL [SELECT Id,
QuoteId  FROM [dbo].[IPSImporter] WHERE Status = 'NEW']; SQL state [HY010];
error code [0]; Invalid state, the Connection object is closed.; nested
exception is java.sql.SQLException: Invalid state, the Connection object is
closed.
	at
org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:84)
	at
org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at
org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at
org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:649)
	at
org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:662)
	at org.apache.camel.component.sql.SqlConsumer.poll(SqlConsumer.java:168)
	at
org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:175)
	at
org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:102)
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.util.concurrent.FutureTask.runAndReset(Unknown Source)
	at
java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown
Source)
	at
java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown
Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)



--
View this message in context: http://camel.465427.n5.nabble.com/Sql-Component-StreamList-Poll-tp5796939.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65226-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 05:34:07 2017
Return-Path: <users-return-65226-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 255BE18641
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 05:34:07 +0000 (UTC)
Received: (qmail 31631 invoked by uid 500); 5 Apr 2017 05:34:06 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 31578 invoked by uid 500); 5 Apr 2017 05:34:06 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 31564 invoked by uid 99); 5 Apr 2017 05:34:06 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 05:34:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E0FD61813C0
	for <users@camel.apache.org>; Wed,  5 Apr 2017 05:34:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.487
X-Spam-Level: *****
X-Spam-Status: No, score=5.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id qHQGrxpB7Lm4 for <users@camel.apache.org>;
	Wed,  5 Apr 2017 05:34:02 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 102055FCB9
	for <users@camel.apache.org>; Wed,  5 Apr 2017 05:34:02 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id A6191407F714
	for <users@camel.apache.org>; Tue,  4 Apr 2017 22:34:00 -0700 (PDT)
Date: Tue, 4 Apr 2017 22:34:01 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs38uurAfpFy8Uo0=SBhUFDoa+KF4kZcM_kT570o6q5+7w@mail.gmail.com>
In-Reply-To: <63544303-ABF8-4415-86D4-EA0DF4FFEDE5@sap.com>
References: <82c767ed74fc4a22bde87ae8b643283c@dewdfe13de47.global.corp.sap> <CA+wbgs16=e_1VQwR_fB4_oiBm-y4S70QmcWoLYxbONDvkKmWrw@mail.gmail.com> <968c6d4d8cfb4132b37f3c603ffd36e7@dewdfe13de47.global.corp.sap> <ac960ff362d5444bbff5bcbb22ee04f0@sap.com> <63544303-ABF8-4415-86D4-EA0DF4FFEDE5@sap.com>
Subject: Re: Camel Http vs Camel Http4 - Content Type Header
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_153656_156355745.1491370441302"

------=_Part_153656_156355745.1491370441302
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Can you share your entire route code?

Den 5 apr. 2017 5:25 fm skrev "Goyal, Arpit [via Camel]" <
ml-node+s465427n5796938h41@n5.nabble.com>:

> Anyone else has idea of this camel logic?
>
> Sent from my iPhone
>
> > On Apr 3, 2017, at 4:33 PM, Goyal, Arpit <[hidden email]
> <http:///user/SendEmail.jtp?type=node&node=5796938&i=0>> wrote:
> >
> > Hi Claus,
> >
> > HttpProduce -- from camel-http4 library is setting the content-type
> 'text/plain'  in method [1] line # 488 (camel version 2.16.3) even though
> we have set the Content-Type to be NULL - This is NOT the case with
> HttpProducer - from camel-http library.
> >
> > By enabling the apache commons log, the headers are clearly visible.
> >
> > The end-system we are invoking throws '415' due to the wrong Content
> Type passed and if we DO NOT pass any content type it works. As at
> execution time we can't determine the Content-Type, we want to pass it
> NULL.
> >
> > Any possible way to achieve not sending of Content-Type header?
> >
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> POST
> /service/scim/Users HTTP/1.1
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> breadcrumbId: ID-i044312-33503-1491259732621-0-1
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> Content-Length: 518
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> Content-Type: text/plain                            ---- in this line.
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Host:
> xxxxxxx
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> Connection: Keep-Alive
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> User-Agent: Apache-HttpClient/4.5.2 (Java/1.7.0_101)
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> Accept-Encoding: gzip,deflate
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> Authorization: Basic XXXXXXXX
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "POST
> /service/scim/Users HTTP/1.1[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "breadcrumbId: ID-i044312-33503-1491259732621-0-1[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "Content-Length: 518[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "Content-Type: text/plain[\r][\n]"                        --- in this line
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Host:
> xxxxxxxxx[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "Connection: Keep-Alive[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "User-Agent: Apache-HttpClient/4.5.2 (Java/1.7.0_101)[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "Accept-Encoding: gzip,deflate[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "Authorization: Basic XXXXXXXX[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "{[\r][\n]"
> > 2017/04/04 00:48:55:620 CEST [DEBUG] wire - http-outgoing-0 >> "}"
> >
> > [1] - org.apache.camel.component.http4.HttpProducer.createRequestEntity(Exchange)
>
> >
> > Regards,
> > Arpit.
> >
> >
> > -----Original Message-----
> > From: souciance [mailto:[hidden email]
> <http:///user/SendEmail.jtp?type=node&node=5796938&i=1>]
> > Sent: Thursday, February 9, 2017 1:40 PM
> > To: [hidden email]
> <http:///user/SendEmail.jtp?type=node&node=5796938&i=2>
> > Subject: Re: Camel Http vs Camel Http4 - Content Type Header
> >
> > Well it should be pretty easy to setup a http server and see what
> headers
> > your route are sending and compare that to what the actual server wants.
> If
> > camel-http4 is suppressing some headers then perhaps try another
> component.
> >
> > On Thu, Feb 9, 2017 at 10:32 PM, Goyal, Arpit [via Camel] <
> > [hidden email] <http:///user/SendEmail.jtp?type=node&node=5796938&i=3>>
> wrote:
> >
> >> Hi,
> >>
> >> We were on Camel-Http (2.16) and moving to Camel-Http4 (2.16) and saw
> that
> >> URL which worked with Camel-http now fails with Camel-Http4 with status
> >> code - 415 (Unsupported Media Type).
> >>
> >> Caused by: org.apache.camel.http.common.HttpOperationFailedException:
> >> HTTP operation failed invoking https://<host>:<port>/
> >> myservice/Users?authMethod=Basic with statusCode: 415
> >>
> >> Saw this discussion on Nabble - http://camel.465427.n5.nabble.
> >> com/Http4-Set-Header-Content-Type-not-passing-through-to-
> >> the-HTTP-Request-td5746414.html#a5752856
> >>
> >> Does this mean we CAN"T USE - Camel-HTTP4 ?
> >>
> >> Regards,
> >> Arpit.
> >>
> >>
> >> ------------------------------
> >> If you reply to this email, your message will be added to the
> discussion
> >> below:
> >> http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-
> >> Content-Type-Header-tp5793736.html
> >> To start a new topic under Camel - Users, email
> >> [hidden email] <http:///user/SendEmail.jtp?type=node&node=5796938&i=4>
> >> To unsubscribe from Camel - Users, click here
> >> <
> >> .
> >> NAML
> >> <http://camel.465427.n5.nabble.com/template/
> NamlServlet.jtp?macro=macro_viewer&id=instant_html%
> 21nabble%3Aemail.naml&base=nabble.naml.namespaces.
> BasicNamespace-nabble.view.web.template.NabbleNamespace-
> nabble.view.web.template.NodeNamespace&breadcrumbs=
> notify_subscribers%21nabble%3Aemail.naml-instant_emails%
> 21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
> >>
> >
> >
> >
> >
> > --
> > View this message in context: http://camel.465427.n5.nabble.
> com/Camel-Http-vs-Camel-Http4-Content-Type-Header-tp5793736p5793737.html
> > Sent from the Camel - Users mailing list archive at Nabble.com.
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-
> Content-Type-Header-tp5793736p5796938.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-Content-Type-Header-tp5793736p5796944.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_153656_156355745.1491370441302--

From users-return-65227-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 05:52:59 2017
Return-Path: <users-return-65227-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D1F1186D2
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 05:52:59 +0000 (UTC)
Received: (qmail 60443 invoked by uid 500); 5 Apr 2017 05:52:59 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 60396 invoked by uid 500); 5 Apr 2017 05:52:59 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 60384 invoked by uid 99); 5 Apr 2017 05:52:58 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 05:52:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4B6ADC00DB
	for <users@camel.apache.org>; Wed,  5 Apr 2017 05:52:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.797
X-Spam-Level:
X-Spam-Status: No, score=-0.797 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, KAM_ASCII_DIVIDERS=0.8,
	KAM_LINEPADDING=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-2.796, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=sigmasys1.onmicrosoft.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id IEJ7ZT9RPSpZ for <users@camel.apache.org>;
	Wed,  5 Apr 2017 05:52:56 +0000 (UTC)
Received: from NAM01-SN1-obe.outbound.protection.outlook.com (mail-sn1nam01on0086.outbound.protection.outlook.com [104.47.32.86])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 315B15FB62
	for <users@camel.apache.org>; Wed,  5 Apr 2017 05:52:55 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=SIGMASYS1.onmicrosoft.com; s=selector1-sigmasystems-com01c;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version;
 bh=83uUDhjA5Hw+QvxeFtMG+F/816Q/6zqQfFbgelT3bGU=;
 b=pb7OW5qgHGc7vLkKdZvycheEdbbj+wVXTGqCVulP5cd69xt2R5bY17Beb4XJvOhDD43r0mu6gpSUCKXsiqVcdW8d3hUsPeigzGxdqY3eNv8aC2DatYplZLaYYOIExhdXPW2Nc3XDVKYCesm/BZudHCJ2LBUgAbUJAVLJS9WOoU0=
Received: from CY4PR05MB2885.namprd05.prod.outlook.com (10.169.183.19) by
 CY4PR05MB2886.namprd05.prod.outlook.com (10.169.183.20) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1019.8; Wed, 5 Apr 2017 05:52:53 +0000
Received: from CY4PR05MB2885.namprd05.prod.outlook.com ([10.169.183.19]) by
 CY4PR05MB2885.namprd05.prod.outlook.com ([10.169.183.19]) with mapi id
 15.01.1019.015; Wed, 5 Apr 2017 05:52:53 +0000
From: Ayush Dixit <Ayush.Dixit@sigma-systems.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: RE: Performance issue in Camel SFTP component
Thread-Topic: Performance issue in Camel SFTP component
Thread-Index: AdKtEaZ99I3uUpCsSKyU5SgaYvJPwAACIUkAAAQc2PAAKTkXwA==
Date: Wed, 5 Apr 2017 05:52:53 +0000
Message-ID: <CY4PR05MB2885476554480F9180DD6A84AF0A0@CY4PR05MB2885.namprd05.prod.outlook.com>
References: <CY4PR05MB288556474F742B4395CD66D3AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CAGB5yN=okDLFFxhA5MDAWwH0oLovNB_D6BMYCuLhMfUimw8tng@mail.gmail.com> 
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: camel.apache.org; dkim=none (message not signed)
 header.d=none;camel.apache.org; dmarc=none action=none
 header.from=sigma-systems.com;
x-originating-ip: [115.113.155.67]
x-microsoft-exchange-diagnostics: 1;CY4PR05MB2886;7:1uO5ElMiUGncxk4jsWambK2njda+XxTKF7VfRdNUHVFkRhjM/H+JQ0j6+8WfFncFb+0olUbETuA5A2xVeDUKJkVZ4LNcVE8bFUkQ5b0Cws1DpY5Mf7GBLCR83FSAP8sti+vslksxDGIARYV1Eiv9nSRWxSKNp7mbfZ5L4CBIwHm/ARX9aXqhqDy8l2c++Tk12VoMgCkI/5XgFcmaShL+EXE7fbOF12l1tQJGt7CJyLIxzHY5zRLLAnAQo1MoyQr+zlVfmIyfLqWtCqUPNhqDQnJnrYdXIQgziJAfPDbHQneOwzydNTYNfUtyM21How9+bAbySVZJcTP7xg7sS8uXRA==
x-ms-office365-filtering-correlation-id: 8ea06936-8cd4-48c6-0ed4-08d47be8005b
x-microsoft-antispam: UriScan:;BCL:0;PCL:0;RULEID:(22001)(2017030254075)(201703131423075)(201703031133081);SRVR:CY4PR05MB2886;
x-microsoft-antispam-prvs: <CY4PR05MB288648E9A058E743D8C53092AF0A0@CY4PR05MB2886.namprd05.prod.outlook.com>
x-exchange-antispam-report-test: UriScan:(212892494489503);
x-exchange-antispam-report-cfa-test: BCL:0;PCL:0;RULEID:(6040450)(601004)(2401047)(5005006)(8121501046)(93006095)(93001095)(10201501046)(3002001)(6041248)(20161123555025)(20161123560025)(20161123562025)(20161123564025)(201703131423075)(201702281528075)(201703061421075)(6072148);SRVR:CY4PR05MB2886;BCL:0;PCL:0;RULEID:;SRVR:CY4PR05MB2886;
x-forefront-prvs: 0268246AE7
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(6009001)(39410400002)(39840400002)(39400400002)(39450400003)(24454002)(377454003)(13464003)(74316002)(5640700003)(2906002)(189998001)(551544002)(7736002)(2900100001)(305945005)(53386004)(33656002)(5660300001)(575784001)(99286003)(25786009)(77096006)(6246003)(2501003)(86362001)(38730400002)(3280700002)(3660700001)(6306002)(6436002)(6506006)(9686003)(55016002)(966004)(53546009)(53936002)(110136004)(66066001)(2351001)(3846002)(102836003)(6116002)(50986999)(54356999)(76176999)(8676002)(1730700003)(81166006)(229853002)(122556002)(7696004)(6916009)(8936002);DIR:OUT;SFP:1101;SCL:1;SRVR:CY4PR05MB2886;H:CY4PR05MB2885.namprd05.prod.outlook.com;FPR:;SPF:None;MLV:sfv;LANG:en;
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: sigma-systems.com
X-MS-Exchange-CrossTenant-originalarrivaltime: 05 Apr 2017 05:52:53.3178
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: dba5b4ed-9d8f-46b1-95cb-4b550e5a68e1
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY4PR05MB2886

SGksDQoNCkNhbiBzb21lb25lIGhlbHAgbWUgcmVnYXJkaW5nIHRoZSBwZXJmb3JtYW5jZSBpc3N1
ZSBJIGFtIGZhY2luZyBpbiBjYW1lbCBTRlRQIGNvbXBvbmVudCA/IEkgaGF2ZSBnb25lIHRocm91
Z2ggdGhlIGRvY3VtZW50YXRpb24gYnV0IGRpZCBub3QgZmluZCBhbnl0aGluZyB0aGF0IGNhbiBp
bXByb3ZlIHBlcmZvcm1hbmNlLg0KDQpUaGFua3MNCkF5dXNoDQoNCi0tLS0tT3JpZ2luYWwgTWVz
c2FnZS0tLS0tDQpGcm9tOiBBeXVzaCBEaXhpdCANClNlbnQ6IFR1ZXNkYXksIEFwcmlsIDQsIDIw
MTcgMzo0MCBQTQ0KVG86IHVzZXJzQGNhbWVsLmFwYWNoZS5vcmcNCkNjOiAnY2xhdXMuaWJzZW5A
Z21haWwuY29tJyA8Y2xhdXMuaWJzZW5AZ21haWwuY29tPg0KU3ViamVjdDogUkU6IFBlcmZvcm1h
bmNlIGlzc3VlIGluIENhbWVsIFNGVFAgY29tcG9uZW50DQoNCg0KVGhhbmtzIENsYXVzICwgSSd2
ZSB0cmllZCAgc3RlcHdpc2U9ZmFsc2UgIGluIGNhbWVsIHByb2R1Y2VyIC4gTm8gc3VjaCBsdWNr
IA0KDQpBbHNvLCBJIGhhdmUgdHJpZWQgZG93bmxvYWQ9ZmFsc2UgYW5kIHVzZUxpc3Q9ZmFsc2Uu
IFN0aWxsIHRoZSBwZXJmb3JtYW5jZSBpcyBzYW1lLiBJIGFtIHJlZmVycmluZyB0aGUgYmVsb3cg
bGluayBmb3IgY2FtZWwgZG9jdW1lbnRhdGlvbg0KDQpodHRwOi8vY2FtZWwuYXBhY2hlLm9yZy9m
dHAyLmh0bWwgDQoNCklzIHRoZXJlIGlzIGFueXRoaW5nIGVsc2UgeW91IHRoaW5rIEkgY2FuIHRy
eT8NCg0KVGhhbmtzDQpBeXVzaA0KDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9t
OiBDbGF1cyBJYnNlbiBbbWFpbHRvOmNsYXVzLmlic2VuQGdtYWlsLmNvbV0NClNlbnQ6IFR1ZXNk
YXksIEFwcmlsIDQsIDIwMTcgMTozNSBQTQ0KVG86IHVzZXJzQGNhbWVsLmFwYWNoZS5vcmcNCkNj
OiB1c2Vycy1zdWJzY3JpYmVAY2FtZWwuYXBhY2hlLm9yZw0KU3ViamVjdDogUmU6IFBlcmZvcm1h
bmNlIGlzc3VlIGluIENhbWVsIFNGVFAgY29tcG9uZW50DQoNClBsZWFzZSBzcGVuZCBtb3JlIHRp
bWUgdG8gcmVhZCB0aGUgZG9jdW1lbnRhdGlvbiBhbmQgeW91IGNhbiBmaW5kIG9wdGlvbnMgdG8g
dHdlYWsgdGhlIG9wdGlvbnMgdG8gdXNlIG9yIG5vdCB1c2UgRlRQIGxpc3QgZXRjLCBhbmQgdGhl
cmUgaXMgYWxzbyBhIHN0ZXB3aXNlIG9wdGlvbg0KDQpPbiBUdWUsIEFwciA0LCAyMDE3IGF0IDk6
MTYgQU0sIEF5dXNoIERpeGl0IDxBeXVzaC5EaXhpdEBzaWdtYS1zeXN0ZW1zLmNvbT4NCndyb3Rl
Og0KDQo+DQo+DQo+IEhpICwNCj4NCj4NCj4NCj4NCj4NCj4gV2UgaGF2ZSBpbXBsZW1lbnRlZCBh
IGNhbWVsIHJvdXRlIHdoZXJlIHdlIGFyZSBoYXZpbmcgY2FtZWwgc2Z0cCANCj4gcHJvZHVjZXIg
dG8gdHJhbnNmZXIgYSBmaWxlcyB0byByZW1vdGUgU0ZUUCBsb2NhdGlvbiBidXQgb24gDQo+IHBl
cmZvcm1hbmNlIHRlc3Rpbmcgb24gY2xpZW50IGVudmlyb25tZW50IGFuZCBvbiBvdXIgbG9jYWwg
ZW52aXJvbm1lbnQgDQo+IHdlIGhhdmUgb2JzZXJ2ZWQgZGVncmFkYXRpb24gaW4gdGhlIHRpbWUg
Zm9yIHRyYW5zZmVycmluZyBmaWxlcyB0byByZW1vdGUgU0ZUUCBsb2NhdGlvbi4NCj4gUGxlYXNl
IGZpbmQgdGhlIGRldGFpbGVkIGFuYWx5c2lzIGJlbG93LiBUaGUgd2UgdHJpZWQgdGhlIHZhcmlv
dXMgdGVzdCANCj4gaW4gb3VyIGxvY2FsIGVudmlyb25tZW50LiBJbiBlYWNoIHRlc3Qgd2UgcHV0
IGFyb3VuZCAyMiBmaWxlcyBvbiBjYW1lbCANCj4gZmlsZSBjb25zdW1lciBhbmQgZWFjaCBmaWxl
IHRvb2sgYmVsb3cgdGltZSB0byB3cml0ZSB0aGUgZmlsZS4gUEZCIA0KPiBkZXRhaWxzDQo+DQo+
DQo+DQo+DQo+DQo+ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQ0KPiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+DQo+IFdo
ZW4gdGFyZ2V0IGRpcmVjdG9yeSBoYXZpbmcgMjAsMDAwIGZpbGVzLiBDYW1lbCBzZnRwIHByb2R1
Y2VyIHRvb2sgDQo+IGFyb3VuZA0KPiAxIG1pbnV0ZSA0MyBzZWNvbmQgdG8gYSB0cmFuc2ZlciBm
aWxlDQo+DQo+ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQ0KPiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+DQo+DQo+DQo+
IERFQlVHIDA3OjAwOjM4IChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0K
PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9y
ZXNwb25zZXMvMSkNCj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5GaWxlQ29uc3Vt
ZXI+IEFib3V0IHRvIHByb2Nlc3MgZmlsZToNCj4gR2VuZXJpY0ZpbGVbL2RhdGEvdXNlcnMvc2x2
bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMQ0KPiAvU1QzMFBFUkZP
UlBNQUpBUjE3MDIwNzI2LnR4dF0gdXNpbmcgZXhjaGFuZ2U6IA0KPiBFeGNoYW5nZVtTVDMwUEVS
Rk9SUE1BSkFSMTcwMjA3MjYudHh0XQ0KPg0KPiAgICAgICAgICAgIElORk8gMDc6MDA6MzggKENh
bWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+IGZpbGU6Ly8vZGF0YS91c2Vy
cy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPiBjb20u
c2lnbWEuc2FtcC5pbXAudmlyZ2lubWVkaWEuYnNzLnZvaWNlLmNhbWVscm91dGVzLmlvcFJvdXRl
LklPUFJlc3BvDQo+IG5zZUZ0cFJvdXRlQnVpbGRlcj4gUGlja2VkIElPUCByZXNwb25zZSBmaWxl
IDogDQo+IFNUMzBQRVJGT1JQTUFKQVIxNzAyMDcyNi50eHQgZnJvbSBJT1AgRlRQIGRpcmVjdG9y
eQ0KPg0KPiAgICAgICAgICAgICBJTkZPIDA3OjAwOjM4IChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250
ZXh0KSB0aHJlYWQgIzYgLQ0KPiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFp
bnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4gY29tLnNpZ21hLnNhbXAuaW1wLnZpcmdp
bm1lZGlhLmJzcy52b2ljZS5jYW1lbHJvdXRlcy5pb3BSb3V0ZS5JT1BSZXNwbw0KPiBuc2VGdHBS
b3V0ZUJ1aWxkZXI+IFNlbmRpbmcgSU9QIHJlc3BvbnNlIGZpbGUgOiANCj4gU1QzMFBFUkZPUlBN
QUpBUjE3MDIwNzI2LnR4dCB0byBJQ09NUyBGVFAgZGlyZWN0b3J5DQo+DQo+ICAgICAgICAgICAg
IERFQlVHIDA3OjAwOjM4IChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0K
PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9y
ZXNwb25zZXMvMSkNCj4gb3JnLmFwYWNoZS5jYW1lbC5wcm9jZXNzb3IuU2VuZFByb2Nlc3Nvcj4g
Pj4+PiBFbmRwb2ludFtzZnRwOi8vMTAuMTAwLjE1MC4NCj4gMTkwL2ljb21zLzE/ZG93bmxvYWQ9
ZmFsc2UmbWF4TWVzc2FnZXNQZXJQb2xsPTEwJg0KPiBwYXNzd29yZD14eHh4eHgmdGVtcFByZWZp
eD1RJnVzZXJuYW1lPXNpZ21hdXNlcl0gRXhjaGFuZ2VbIA0KPiBTVDMwUEVSRk9SUE1BSkFSMTcw
MjA3MjYudHh0XQ0KPg0KPg0KPg0KPg0KPg0KPg0KPg0KPiAgICAgICAgICAgICBERUJVRyAwNzow
MjoxOSAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4gZmlsZTovLy9k
YXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEp
DQo+IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUuR2VuZXJpY0ZpbGVDb252ZXJ0ZXI+
IFJlYWQgZmlsZSANCj4gL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21z
L2lvcF9yZXNwb25zZXMvMS9TVDMwUEVSRk9SUA0KPiBNQUpBUjE3MDIwNzI2LnR4dA0KPiAobm8g
Y2hhcnNldCkNCj4NCj4gICAgICAgICAgICBERUJVRyAwNzowMjoxOSAoQ2FtZWwgKGNmZ01nckNh
bWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1
My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+IG9yZy5hcGFjaGUuY2FtZWwu
Y29tcG9uZW50LmZpbGUucmVtb3RlLlNmdHBPcGVyYXRpb25zPiBBYm91dCB0byBzdG9yZQ0KPiBm
aWxlOiBRU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dCB1c2luZyBzdHJlYW06DQo+IGphdmEu
aW8uQnVmZmVyZWRJbnB1dFN0cmVhbUA1NGE4OWZmNQ0KPg0KPiAgICAgICAgICAgIERFQlVHIDA3
OjAyOjE5IChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0KPiBmaWxlOi8v
L2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMv
MSkNCj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1vdGUuU2Z0cE9wZXJhdGlv
bnM+IFRvb2sgMC42NTggDQo+IHNlY29uZHMNCj4gKDY1OCBtaWxsaXMpIHRvIHN0b3JlIGZpbGU6
IFFTVDMwUEVSRk9SUE1BSkFSMTcwMjA3MjYudHh0IGFuZCBGVFAgDQo+IGNsaWVudA0KPiByZXR1
cm5lZDogdHJ1ZQ0KPg0KPg0KPg0KPiAgICAgICAgICAgIERFQlVHIDA3OjAyOjIwIChDYW1lbCAo
Y2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0KPiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2
bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4gb3JnLmFwYWNo
ZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1vdGUuUmVtb3RlRmlsZVByb2R1Y2VyPiBXcm90ZSAN
Cj4gW2ljb21zLzEvUVNUMzBQRVJGT1JQTUFKQVIxNzAyMDcyNi50eHRdDQo+IHRvIFtFbmRwb2lu
dFtzZnRwOi8vMTAuMTAwLjE1MC4xOTAvaWNvbXMvMT9kb3dubG9hZD1mYWxzZSYNCj4gbWF4TWVz
c2FnZXNQZXJQb2xsPTEwJnBhc3N3b3JkPXh4eHh4eCZ0ZW1wUHJlZml4PVEmdXNlcm5hbWU9c2ln
bWF1c2VyXQ0KPiBdDQo+DQo+ICAgICAgICAgICAgREVCVUcgMDc6MDI6MjAgKENhbWVsIChjZmdN
Z3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIv
c21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPiBvcmcuYXBhY2hlLmNh
bWVsLmNvbXBvbmVudC5maWxlLnJlbW90ZS5TZnRwT3BlcmF0aW9ucz4gUmVuYW1pbmcgZmlsZToN
Cj4gaWNvbXMvMS9RU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dCB0bzogaWNvbXMvMS8gDQo+
IFNUMzBQRVJGT1JQTUFKQVIxNzAyMDcyNi50eHQNCj4NCj4gICAgICAgICAgICAgSU5GTyAwNzow
MjoyMCAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4gZmlsZTovLy9k
YXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEp
DQo+IGNvbS5zaWdtYS5zYW1wLmltcC52aXJnaW5tZWRpYS5ic3Mudm9pY2UuY2FtZWxyb3V0ZXMu
aW9wUm91dGUuSU9QUmVzcG8NCj4gbnNlRnRwUm91dGVCdWlsZGVyPiBJT1AgcmVzcG9uc2UgZmls
ZSA6IFNUMzBQRVJGT1JQTUFKQVIxNzAyMDcyNi50eHQNCj4gc3VjY2Vzc2Z1bGx5IHNlbnQgdG8g
SUNPTVMgRlRQIGRpcmVjdG9yeQ0KPg0KPg0KPg0KPg0KPg0KPiA9PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCj4gPT09PT09PT09PT09
PT09PT09PT09PT09PT09DQo+DQo+IFdoZW4gdGFyZ2V0IGRpcmVjdG9yeSBoYXZpbmcgNDAsMDAw
IGZpbGVzLiBDYW1lbCBzZnRwIHByb2R1Y2VyIHRvb2sgDQo+IGFyb3VuZA0KPiAzIG1pbnV0ZSAx
NyBzZWNvbmQgdG8gdHJhbnNmZXIgZmlsZQ0KPg0KPiA9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCj4gPT09PT09PT09PT09PT09PT09
PT09PT09PT09DQo+DQo+DQo+DQo+IERFQlVHIDA3OjQ3OjIzIChDYW1lbCAoY2ZnTWdyQ2FtZWxD
b250ZXh0KSB0aHJlYWQgIzYgLQ0KPiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2Rv
bWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4gb3JnLmFwYWNoZS5jYW1lbC5jb21w
b25lbnQuZmlsZS5GaWxlQ29uc3VtZXI+IEFib3V0IHRvIHByb2Nlc3MgZmlsZToNCj4gR2VuZXJp
Y0ZpbGVbL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdg0KPg0KPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIA0KPiBtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEvU1gzMFJQ
TUFKQVIxNzAyNDgzNzU2LnR4dF0NCj4gdXNpbmcgZXhjaGFuZ2U6IEV4Y2hhbmdlW1NYMzBSUE1B
SkFSMTcwMjQ4Mzc1Ni50eHRdDQo+DQo+ICAgICAgICAgICAgICAgICBJTkZPIDA3OjQ3OjIzIChD
YW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0KPiBmaWxlOi8vL2RhdGEvdXNl
cnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4gY29t
LnNpZ21hLnNhbXAuaW1wLnZpcmdpbm1lZGlhLmJzcy52b2ljZS5jYW1lbHJvdXRlcy5pb3BSb3V0
ZS5JT1BSZXNwbw0KPiBuc2VGdHBSb3V0ZUJ1aWxkZXI+DQo+IFBpY2tlZCBJT1AgcmVzcG9uc2Ug
ZmlsZSA6DQo+DQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU1gzMFJQTUFKQVIx
NzAyNDgzNzU2LnR4dCBmcm9tIElPUCBGVFAgDQo+IGRpcmVjdG9yeQ0KPg0KPiAgICAgICAgICAg
ICAgICAgSU5GTyAwNzo0NzoyMyAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2
IC0NCj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9p
b3BfcmVzcG9uc2VzLzEpDQo+IGNvbS5zaWdtYS5zYW1wLmltcC52aXJnaW5tZWRpYS5ic3Mudm9p
Y2UuY2FtZWxyb3V0ZXMuaW9wUm91dGUuSU9QUmVzcG8NCj4gbnNlRnRwUm91dGVCdWlsZGVyPg0K
PiBTZW5kaW5nIElPUCByZXNwb25zZSBmaWxlDQo+DQo+ICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgOiBTWDMwUlBNQUpBUjE3MDI0ODM3NTYudHh0IHRvIElDT01TIA0KPiBGVFAgZGly
ZWN0b3J5DQo+DQo+ICAgICAgICAgICAgICAgICBERUJVRyAwNzo0NzoyMyAoQ2FtZWwgKGNmZ01n
ckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9z
bXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+IG9yZy5hcGFjaGUuY2Ft
ZWwucHJvY2Vzc29yLlNlbmRQcm9jZXNzb3I+ID4+Pj4gRW5kcG9pbnRbc2Z0cDovLzEwLjEwMC4x
NTAuDQo+IDE5MC9pY29tcy8xP2Rvd25sb2FkPWZhbHNlJm1heE1lc3NhZ2VzUGVyDQo+DQo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9sbD0xMCZwYXNzd29yZD14eHh4eHgmIA0K
PiB0ZW1wUHJlZml4PVEmdXNlcm5hbWU9c2lnbWF1c2VyXSBFeGNoYW5nZVtTWDMwUlBNQUpBUjE3
MDI0ODM3NTYudHh0XQ0KPg0KPg0KPg0KPg0KPg0KPiAgICAgICAgICAgICAgICAgREVCVUcgMDc6
NTA6NDAgKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+IGZpbGU6Ly8v
ZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8x
KQ0KPiBvcmcuYXBhY2hlLmNhbWVsLmNvbXBvbmVudC5maWxlLkdlbmVyaWNGaWxlQ29udmVydGVy
PiBSZWFkIGZpbGUgDQo+IC9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29t
cy9pb3BfcmVzcG9uc2VzLzEvU1gzMFJQTUFKQVINCj4gMTcwMjQ4Mzc1Ni50eHQNCj4gKG5vIGNo
YXJzZXQpDQo+DQo+ICAgICAgICAgICAgICAgICBERUJVRyAwNzo1MDo0MCAoQ2FtZWwgKGNmZ01n
ckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9z
bXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+IG9yZy5hcGFjaGUuY2Ft
ZWwuY29tcG9uZW50LmZpbGUucmVtb3RlLlNmdHBPcGVyYXRpb25zPiBBYm91dCB0byBzdG9yZQ0K
PiBmaWxlOiBRU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dCB1c2luZyBzdHJlYW06IA0KPiBqYXZh
LmlvLkJ1ZmZlcmVkSW5wdXRTdHJlYW1ADQo+IDc5NTRjZmE4DQo+DQo+ICAgICAgICAgICAgICAg
ICBERUJVRyAwNzo1MDo0MCAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0N
Cj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3Bf
cmVzcG9uc2VzLzEpDQo+IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUucmVtb3RlLlNm
dHBPcGVyYXRpb25zPiBUb29rIDAuNjU5IA0KPiBzZWNvbmRzDQo+ICg2NTkgbWlsbGlzKSB0byBz
dG9yZSBmaWxlOiBRU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dCBhbmQgRlRQIGNsaWVudA0KPiBy
ZXR1cm5lZDogdHJ1ZQ0KPg0KPiAgICAgICAgICAgICAgICAgREVCVUcgMDc6NTA6NDEgKENhbWVs
IChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+IGZpbGU6Ly8vZGF0YS91c2Vycy9z
bHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPiBvcmcuYXBh
Y2hlLmNhbWVsLmNvbXBvbmVudC5maWxlLnJlbW90ZS5SZW1vdGVGaWxlUHJvZHVjZXI+IFdyb3Rl
IA0KPiBbaWNvbXMvMS9RU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dF0NCj4gdG8gW0VuZHBvaW50
W3NmdHA6Ly8xMC4xMDAuMTUwLjE5MC9pY29tcy8xP2Rvd25sb2FkPWZhbHNlJg0KPiBtYXhNZXNz
YWdlc1BlclBvbGw9MTAmcGFzc3dvcmQ9eHh4eHh4JnRlbXBQcmVmaXg9USZ1c2VybmFtZT1zaWdt
YXVzZXJdDQo+IF0NCj4NCj4gICAgICAgICAgICAgICAgIERFQlVHIDA3OjUwOjQxIChDYW1lbCAo
Y2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0KPiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2
bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4gb3JnLmFwYWNo
ZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1vdGUuU2Z0cE9wZXJhdGlvbnM+IFJlbmFtaW5nIGZp
bGU6DQo+IGljb21zLzEvUVNYMzBSUE1BSkFSMTcwMjQ4Mzc1Ni50eHQgdG86IA0KPiBpY29tcy8x
L1NYMzBSUE1BSkFSMTcwMjQ4Mzc1Ni50eHQNCj4NCj4gICAgICAgICAgICAgICAgIElORk8gMDc6
NTA6NDEgKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+IGZpbGU6Ly8v
ZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8x
KQ0KPiBjb20uc2lnbWEuc2FtcC5pbXAudmlyZ2lubWVkaWEuYnNzLnZvaWNlLmNhbWVscm91dGVz
LmlvcFJvdXRlLklPUFJlc3BvDQo+IG5zZUZ0cFJvdXRlQnVpbGRlcj4gSU9QIHJlc3BvbnNlIGZp
bGUgOiBTWDMwUlBNQUpBUjE3MDI0ODM3NTYudHh0DQo+IHN1Y2Nlc3NmdWxseSBzZW50IHRvIElD
T01TIEZUUCBkaXJlY3RvcnkNCj4NCj4NCj4NCj4NCj4NCj4NCj4NCj4gPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+ID09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCj4NCj4gU2ltaWxhcmx5IHdoZW4gd2Ug
YWNoaWV2ZWQgdGhlIGZpbGVzIGZyb20gdGFyZ2V0IGRpcmVjdG9yeS4gSXQgdG9vayANCj4gYXJv
dW5kDQo+IDYgc2VjLkl0IHNlZW1zIGxpa2UgdGhlcmUgaXMgYSBwZXJmb3JtYW5jZSBpc3N1ZSB3
aXRoIGNhbWVsIHNmdHAgY29tcG9uZW50Lg0KPiBEb2VzIGl0IGxpc3QgdGhlIGZpbGVzIGluIHRh
cmdldCBkaXJlY3Rvcnkgd2hpY2ggaXMgdGFraW5nIHRpbWUuDQo+DQo+ID09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KPiA9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCj4NCj4NCj4NCj4gUEZCIHRoZSBwcm9k
dWNlciByb3V0ZSB3aGljaCB3ZSBzZXQgdXANCj4NCj4gc2Z0cDovLzEwLjEwMC4xNTAuMTkwL2lj
b21zLzE/ZG93bmxvYWQ9ZmFsc2UmbWF4TWVzc2FnZXNQZXJQb2xsPTEwJg0KPiBwYXNzd29yZD14
eHh4eHgmdGVtcFByZWZpeD1RJnVzZXJuYW1lPXNpZ21hdXNlcg0KPg0KPg0KPg0KPg0KPg0KPiBQ
bGVhc2UgbGV0IHVzIGtub3cgaWYgeW91IG5lZWQgYW55dGhpbmcgZWxzZS4NCj4NCj4NCj4NCj4N
Cj4NCj4gKkF5dXNoIERpeGl0Kg0KPiAqU29mdHdhcmUgRW5naW5lZXIqDQo+IGF5dXNoLmRpeGl0
QHNpZ21hLXN5c3RlbXMuY29tDQo+DQo+IE86ICs5MS4yMC4yNTY2MTk5MiB4IDMyMSA8KzkxJTIw
MjAlMjAyNTY2JTIwMTk5Mj4gfCAgTTogDQo+ICs5MS04MTQtOTgyLTYyNjAgPCs5MSUyMDgxNDk4
JTIwMjYyNjA+IHwgU2t5cGU6IGF5dXNoZGl4aXQ0MjENCj4NCj4gW2ltYWdlOiBjaWQ6aW1hZ2Uw
MDEuanBnQDAxRDE2ODA5LkUxMkMwRDUwXQ0KPiA8aHR0cDovL3d3dy5zaWdtYS1zeXN0ZW1zLmNv
bS8+DQo+DQo+DQo+DQo+DQo+DQoNCg0KDQotLQ0KQ2xhdXMgSWJzZW4NCi0tLS0tLS0tLS0tLS0t
LS0tDQpodHRwOi8vZGF2c2NsYXVzLmNvbSBAZGF2c2NsYXVzDQpDYW1lbCBpbiBBY3Rpb24gMjog
aHR0cHM6Ly93d3cubWFubmluZy5jb20vaWJzZW4yDQo=

From users-return-65228-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 06:59:00 2017
Return-Path: <users-return-65228-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3C302189CB
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 06:59:00 +0000 (UTC)
Received: (qmail 78738 invoked by uid 500); 5 Apr 2017 06:58:59 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 78692 invoked by uid 500); 5 Apr 2017 06:58:59 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 78676 invoked by uid 99); 5 Apr 2017 06:58:59 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 06:58:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B7589CCE1E
	for <users@camel.apache.org>; Wed,  5 Apr 2017 06:58:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.487
X-Spam-Level: *****
X-Spam-Status: No, score=5.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id d1RZKKs7f6Wh for <users@camel.apache.org>;
	Wed,  5 Apr 2017 06:58:57 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 4355F5FE6E
	for <users@camel.apache.org>; Wed,  5 Apr 2017 06:58:56 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 18EE94080A81
	for <users@camel.apache.org>; Tue,  4 Apr 2017 23:58:54 -0700 (PDT)
Date: Tue, 4 Apr 2017 23:58:55 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs0ZtVz3jV+zFoLvjSy6p5GD2WA13auHApTVeyWcu=zC7A@mail.gmail.com>
In-Reply-To: <CY4PR05MB2885476554480F9180DD6A84AF0A0@CY4PR05MB2885.namprd05.prod.outlook.com>
References: <CY4PR05MB288556474F742B4395CD66D3AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com> <CAGB5yN=okDLFFxhA5MDAWwH0oLovNB_D6BMYCuLhMfUimw8tng@mail.gmail.com> <CY4PR05MB2885476554480F9180DD6A84AF0A0@CY4PR05MB2885.namprd05.prod.outlook.com>
Subject: Re: Performance issue in Camel SFTP component
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_154583_1867805284.1491375535098"

------=_Part_154583_1867805284.1491375535098
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Well, have you transferred the same amount of files with some other FTP
client just to compare how much "slower" the ftp component is? 40,000 files
in 3 minutes doesn't sounds ok.

On Wed, Apr 5, 2017 at 7:53 AM, Ayush Dixit [via Camel] <
ml-node+s465427n5796945h58@n5.nabble.com> wrote:

> Hi,
>
> Can someone help me regarding the performance issue I am facing in camel
> SFTP component ? I have gone through the documentation but did not find
> anything that can improve performance.
>
> Thanks
> Ayush
>
> -----Original Message-----
> From: Ayush Dixit
> Sent: Tuesday, April 4, 2017 3:40 PM
> To: [hidden email] <http:///user/SendEmail.jtp?type=node&node=5796945&i=0>
> Cc: '[hidden email]
> <http:///user/SendEmail.jtp?type=node&node=5796945&i=1>' <[hidden email]
> <http:///user/SendEmail.jtp?type=node&node=5796945&i=2>>
> Subject: RE: Performance issue in Camel SFTP component
>
>
> Thanks Claus , I've tried  stepwise=false  in camel producer . No such
> luck
>
> Also, I have tried download=false and useList=false. Still the performance
> is same. I am referring the below link for camel documentation
>
> http://camel.apache.org/ftp2.html
>
> Is there is anything else you think I can try?
>
> Thanks
> Ayush
>
>
> -----Original Message-----
> From: Claus Ibsen [mailto:[hidden email]
> <http:///user/SendEmail.jtp?type=node&node=5796945&i=3>]
> Sent: Tuesday, April 4, 2017 1:35 PM
> To: [hidden email] <http:///user/SendEmail.jtp?type=node&node=5796945&i=4>
> Cc: [hidden email] <http:///user/SendEmail.jtp?type=node&node=5796945&i=5>
> Subject: Re: Performance issue in Camel SFTP component
>
> Please spend more time to read the documentation and you can find options
> to tweak the options to use or not use FTP list etc, and there is also a
> stepwise option
>
> On Tue, Apr 4, 2017 at 9:16 AM, Ayush Dixit <[hidden email]
> <http:///user/SendEmail.jtp?type=node&node=5796945&i=6>>
> wrote:
>
> >
> >
> > Hi ,
> >
> >
> >
> >
> >
> > We have implemented a camel route where we are having camel sftp
> > producer to transfer a files to remote SFTP location but on
> > performance testing on client environment and on our local environment
> > we have observed degradation in the time for transferring files to
> remote SFTP location.
> > Please find the detailed analysis below. The we tried the various test
> > in our local environment. In each test we put around 22 files on camel
> > file consumer and each file took below time to write the file. PFB
> > details
> >
> >
> >
> >
> >
> > ============================================================
> > ============================
> >
> > When target directory having 20,000 files. Camel sftp producer took
> > around
> > 1 minute 43 second to a transfer file
> >
> > ============================================================
> > ============================
> >
> >
> >
> > DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.FileConsumer> About to process file:
> > GenericFile[/data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1
> > /ST30PERFORPMAJAR17020726.txt] using exchange:
> > Exchange[ST30PERFORPMAJAR17020726.txt]
> >
> >            INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRespo
> > nseFtpRouteBuilder> Picked IOP response file :
> > ST30PERFORPMAJAR17020726.txt from IOP FTP directory
> >
> >             INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRespo
> > nseFtpRouteBuilder> Sending IOP response file :
> > ST30PERFORPMAJAR17020726.txt to ICOMS FTP directory
> >
> >             DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.processor.SendProcessor> >>>> Endpoint[sftp://
> 10.100.150.
> > 190/icoms/1?download=false&maxMessagesPerPoll=10&
> > password=xxxxxx&tempPrefix=Q&username=sigmauser] Exchange[
> > ST30PERFORPMAJAR17020726.txt]
> >
> >
> >
> >
> >
> >
> >
> >             DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.GenericFileConverter> Read file
> > /data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/ST30PERFORP
> > MAJAR17020726.txt
> > (no charset)
> >
> >            DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.SftpOperations> About to store
> > file: QST30PERFORPMAJAR17020726.txt using stream:
> > java.io.BufferedInputStream@54a89ff5
> >
> >            DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.SftpOperations> Took 0.658
> > seconds
> > (658 millis) to store file: QST30PERFORPMAJAR17020726.txt and FTP
> > client
> > returned: true
> >
> >
> >
> >            DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.RemoteFileProducer> Wrote
> > [icoms/1/QST30PERFORPMAJAR17020726.txt]
> > to [Endpoint[sftp://10.100.150.190/icoms/1?download=false&
> > maxMessagesPerPoll=10&password=xxxxxx&tempPrefix=Q&username=sigmauser]
> > ]
> >
> >            DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.SftpOperations> Renaming file:
> > icoms/1/QST30PERFORPMAJAR17020726.txt to: icoms/1/
> > ST30PERFORPMAJAR17020726.txt
> >
> >             INFO 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRespo
> > nseFtpRouteBuilder> IOP response file : ST30PERFORPMAJAR17020726.txt
> > successfully sent to ICOMS FTP directory
> >
> >
> >
> >
> >
> > ============================================================
> > ===========================
> >
> > When target directory having 40,000 files. Camel sftp producer took
> > around
> > 3 minute 17 second to transfer file
> >
> > ============================================================
> > ===========================
> >
> >
> >
> > DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.FileConsumer> About to process file:
> > GenericFile[/data/users/slvm02/smp53/domains/v
> >
> >
> > mb/Icoms/iop_responses/1/SX30RPMAJAR1702483756.txt]
> > using exchange: Exchange[SX30RPMAJAR1702483756.txt]
> >
> >                 INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRespo
> > nseFtpRouteBuilder>
> > Picked IOP response file :
> >
> >                                 SX30RPMAJAR1702483756.txt from IOP FTP
> > directory
> >
> >                 INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRespo
> > nseFtpRouteBuilder>
> > Sending IOP response file
> >
> >                                 : SX30RPMAJAR1702483756.txt to ICOMS
> > FTP directory
> >
> >                 DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.processor.SendProcessor> >>>> Endpoint[sftp://
> 10.100.150.
> > 190/icoms/1?download=false&maxMessagesPer
> >
> >                                 Poll=10&password=xxxxxx&
> > tempPrefix=Q&username=sigmauser] Exchange[SX30RPMAJAR1702483756.txt]
> >
> >
> >
> >
> >
> >                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.GenericFileConverter> Read file
> > /data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/SX30RPMAJAR
> > 1702483756.txt
> > (no charset)
> >
> >                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.SftpOperations> About to store
> > file: QSX30RPMAJAR1702483756.txt using stream:
> > java.io.BufferedInputStream@
> > 7954cfa8
> >
> >                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.SftpOperations> Took 0.659
> > seconds
> > (659 millis) to store file: QSX30RPMAJAR1702483756.txt and FTP client
> > returned: true
> >
> >                 DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.RemoteFileProducer> Wrote
> > [icoms/1/QSX30RPMAJAR1702483756.txt]
> > to [Endpoint[sftp://10.100.150.190/icoms/1?download=false&
> > maxMessagesPerPoll=10&password=xxxxxx&tempPrefix=Q&username=sigmauser]
> > ]
> >
> >                 DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.SftpOperations> Renaming file:
> > icoms/1/QSX30RPMAJAR1702483756.txt to:
> > icoms/1/SX30RPMAJAR1702483756.txt
> >
> >                 INFO 07:50:41 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRespo
> > nseFtpRouteBuilder> IOP response file : SX30RPMAJAR1702483756.txt
> > successfully sent to ICOMS FTP directory
> >
> >
> >
> >
> >
> >
> >
> > ============================================================
> > ========================================
> >
> > Similarly when we achieved the files from target directory. It took
> > around
> > 6 sec.It seems like there is a performance issue with camel sftp
> component.
> > Does it list the files in target directory which is taking time.
> >
> > ============================================================
> > =======================================
> >
> >
> >
> > PFB the producer route which we set up
> >
> > sftp://10.100.150.190/icoms/1?download=false&maxMessagesPerPoll=10&
> > password=xxxxxx&tempPrefix=Q&username=sigmauser
> >
> >
> >
> >
> >
> > Please let us know if you need anything else.
> >
> >
> >
> >
> >
> > *Ayush Dixit*
> > *Software Engineer*
> > [hidden email] <http:///user/SendEmail.jtp?type=node&node=5796945&i=7>
> >
> > O: +91.20.25661992 x 321 <+91%2020%202566%201992>
> <+91%2020%202566%201992> |  M:
> > +91-814-982-6260 <+91%2081498%2026260> <+91%2081498%2026260> | Skype:
> ayushdixit421
> >
> > [image: cid:image001.jpg@01D16809.E12C0D50]
> > <http://www.sigma-systems.com/>
> >
> >
> >
> >
> >
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Performance-issue-in-
> Camel-SFTP-component-tp5796893p5796945.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Performance-issue-in-Camel-SFTP-component-tp5796893p5796947.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_154583_1867805284.1491375535098--

From users-return-65229-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 07:20:14 2017
Return-Path: <users-return-65229-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 54F0318CE4
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 07:20:14 +0000 (UTC)
Received: (qmail 29018 invoked by uid 500); 5 Apr 2017 07:20:13 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 28972 invoked by uid 500); 5 Apr 2017 07:20:13 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 28960 invoked by uid 99); 5 Apr 2017 07:20:13 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 07:20:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D639CC01C6
	for <users@camel.apache.org>; Wed,  5 Apr 2017 07:20:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.684
X-Spam-Level:
X-Spam-Status: No, score=-0.684 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, KAM_ASCII_DIVIDERS=0.8,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=sigmasys1.onmicrosoft.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id f4iFeQHX8MoJ for <users@camel.apache.org>;
	Wed,  5 Apr 2017 07:20:10 +0000 (UTC)
Received: from NAM03-CO1-obe.outbound.protection.outlook.com (mail-co1nam03on0069.outbound.protection.outlook.com [104.47.40.69])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id A4FCA5F24C
	for <users@camel.apache.org>; Wed,  5 Apr 2017 07:20:09 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=SIGMASYS1.onmicrosoft.com; s=selector1-sigmasystems-com01c;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version;
 bh=P8ecg0mJnCfEkWXTMNgNNGjerNmlPlfBkHac2rxRAgU=;
 b=rSZv6KugLJ+lFnPy4kNZqwLSrZwoPsu+KhbC+eU4NhvOFM1OFAsw+UdPu14UmTlG8E3pp/OABdBnoyi3/EBzv1ulGXlmyhhZi0xKkjNvmYO5zmMxCOBgvVhoIO/LBsn2DY4+UZYcs5LnKumir+QsxvTTlcX9IxaxDt24eHR9nBY=
Received: from CY4PR05MB2885.namprd05.prod.outlook.com (10.169.183.19) by
 CY4PR05MB2886.namprd05.prod.outlook.com (10.169.183.20) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1019.8; Wed, 5 Apr 2017 07:20:02 +0000
Received: from CY4PR05MB2885.namprd05.prod.outlook.com ([10.169.183.19]) by
 CY4PR05MB2885.namprd05.prod.outlook.com ([10.169.183.19]) with mapi id
 15.01.1019.015; Wed, 5 Apr 2017 07:20:02 +0000
From: Ayush Dixit <Ayush.Dixit@sigma-systems.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: RE: Performance issue in Camel SFTP component
Thread-Topic: Performance issue in Camel SFTP component
Thread-Index: AdKtEaZ99I3uUpCsSKyU5SgaYvJPwAACIUkAAAQc2PAAKTkXwAACpPKAAACB4qA=
Date: Wed, 5 Apr 2017 07:20:02 +0000
Message-ID: <CY4PR05MB2885B457B7A730D7A0582EC9AF0A0@CY4PR05MB2885.namprd05.prod.outlook.com>
References: <CY4PR05MB288556474F742B4395CD66D3AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CAGB5yN=okDLFFxhA5MDAWwH0oLovNB_D6BMYCuLhMfUimw8tng@mail.gmail.com>
 <CY4PR05MB2885476554480F9180DD6A84AF0A0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CA+wbgs0ZtVz3jV+zFoLvjSy6p5GD2WA13auHApTVeyWcu=zC7A@mail.gmail.com>
In-Reply-To: <CA+wbgs0ZtVz3jV+zFoLvjSy6p5GD2WA13auHApTVeyWcu=zC7A@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: camel.apache.org; dkim=none (message not signed)
 header.d=none;camel.apache.org; dmarc=none action=none
 header.from=sigma-systems.com;
x-originating-ip: [115.113.155.67]
x-microsoft-exchange-diagnostics: 1;CY4PR05MB2886;7:mD3Npo5EO0tbQLEz9jd/FUzFp50TEWbUcuMn2pNaytpcP0zyANPQYeOVydw6YzKZYJlrxJFMLE9FGpuioG03a9yWVtbFySc3UgtoixxMYs/uwjZPVGEneLb3FukgN1KH8z6f7yR2jImdwA5HMOQvXv6sreKwvAr6KB3cv81JLjZjx7uFCdFfE8ekrt3zatiiGk45BiVfsQbNtHHBhpwdjxblp2nrG+NaMaALgb8EZIoohVkjzXvF2gr1hATRxLBaNMsB0+k9GK1dYZMtCtx7jWXeQSBv2akiTV1W9eXTxk4bKq59Uabf3QxzuZgu40PshU3bVrCEuIubSB7soMDOpg==
x-ms-office365-filtering-correlation-id: 83b00e38-4a2e-4f87-9a98-08d47bf42d58
x-microsoft-antispam: UriScan:;BCL:0;PCL:0;RULEID:(22001)(2017030254075)(201703131423075)(201703031133081);SRVR:CY4PR05MB2886;
x-microsoft-antispam-prvs: <CY4PR05MB288654DEDDD7401DF1D7E2ABAF0A0@CY4PR05MB2886.namprd05.prod.outlook.com>
x-exchange-antispam-report-test: UriScan:(212892494489503);
x-exchange-antispam-report-cfa-test: BCL:0;PCL:0;RULEID:(6040450)(601004)(2401047)(5005006)(8121501046)(93006095)(93001095)(10201501046)(3002001)(6041248)(20161123555025)(20161123560025)(20161123562025)(20161123564025)(201703131423075)(201702281528075)(201703061421075)(6072148);SRVR:CY4PR05MB2886;BCL:0;PCL:0;RULEID:;SRVR:CY4PR05MB2886;
x-forefront-prvs: 0268246AE7
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(6009001)(39450400003)(39400400002)(39410400002)(39840400002)(24454002)(377454003)(13464003)(5640700003)(74316002)(1720100001)(2906002)(10126004)(189998001)(93886004)(551544002)(7736002)(2900100001)(53386004)(33656002)(5660300001)(575784001)(99286003)(25786009)(77096006)(6246003)(2501003)(86362001)(38730400002)(3280700002)(966004)(6306002)(3660700001)(6506006)(55016002)(9686003)(19625735003)(53946003)(6436002)(53546009)(53936002)(110136004)(66066001)(2351001)(305945005)(3846002)(6116002)(102836003)(50986999)(54356999)(76176999)(1730700003)(8676002)(81166006)(229853002)(122556002)(2950100002)(7696004)(6916009)(8936002);DIR:OUT;SFP:1101;SCL:1;SRVR:CY4PR05MB2886;H:CY4PR05MB2885.namprd05.prod.outlook.com;FPR:;SPF:None;MLV:sfv;LANG:en;
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginatorOrg: sigma-systems.com
X-MS-Exchange-CrossTenant-originalarrivaltime: 05 Apr 2017 07:20:02.8400
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: dba5b4ed-9d8f-46b1-95cb-4b550e5a68e1
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY4PR05MB2886

Hi Souciance,

Thanks for reply.

Yes the behaviour is same . I have tried on other SFTP's as well. The issue=
 which we are facing is on client environment and with the below tests we a=
re able to reproduce this issue in local environment as well. Which proves =
it is not related to SFTP server.

Also there was 1 file which took around 3 min when target directory contain=
 40,000 file. I had put around 22 files , So the total time it took to tran=
sfer 22 files is around 22  * 3 min =3D 66 min. The behaviour is exponentia=
l the number of files you increase on target directory. The camel route wil=
l take more time to transfer the file to target directory.
=20
I have enabled camel logger in DEBUG . I try to debug , what I observed is =
it is reading that is taking time. PFB logger.

                 INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 - file=
:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) com.sigma.sa=
mp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResponseFtpRouteBuilde=
r> Sending IOP response file : SX30RPMAJAR1702483756.txt to ICOMS  FTP dire=
ctory

                 DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 - fil=
e:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache.=
camel.processor.SendProcessor> >>>> Endpoint[sftp://10.100.150. 190/icoms/1=
?download=3Dfalse&maxMessagesPerPoll=3D10&password=3Dxxxxxx&=20
 tempPrefix=3DQ&username=3Dsigmauser] Exchange[SX30RPMAJAR1702483756.txt]

                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6  - fi=
le:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1) org.apache=
.camel.component.file.GenericFileConverter> Read file  /data/users/slvm02/s=
mp53/domains/vmb/Icoms/iop_responses/1/SX30RPMAJA 1702483756.txt(no charset=
)


Thanks
Ayush


-----Original Message-----
From: souciance [mailto:souciance.eqdam.rashti@gmail.com]=20
Sent: Wednesday, April 5, 2017 12:29 PM
To: users@camel.apache.org
Subject: Re: Performance issue in Camel SFTP component

Well, have you transferred the same amount of files with some other FTP cli=
ent just to compare how much "slower" the ftp component is? 40,000 files in=
 3 minutes doesn't sounds ok.

On Wed, Apr 5, 2017 at 7:53 AM, Ayush Dixit [via Camel] <
ml-node+s465427n5796945h58@n5.nabble.com> wrote:

> Hi,
>
> Can someone help me regarding the performance issue I am facing in=20
> camel SFTP component ? I have gone through the documentation but did=20
> not find anything that can improve performance.
>
> Thanks
> Ayush
>
> -----Original Message-----
> From: Ayush Dixit
> Sent: Tuesday, April 4, 2017 3:40 PM
> To: [hidden email]=20
> <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796945&i=3D0>
> Cc: '[hidden email]
> <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796945&i=3D1>' <[hidden=20
> email] <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796945&i=3D2>>
> Subject: RE: Performance issue in Camel SFTP component
>
>
> Thanks Claus , I've tried  stepwise=3Dfalse  in camel producer . No such=
=20
> luck
>
> Also, I have tried download=3Dfalse and useList=3Dfalse. Still the=20
> performance is same. I am referring the below link for camel=20
> documentation
>
> http://camel.apache.org/ftp2.html
>
> Is there is anything else you think I can try?
>
> Thanks
> Ayush
>
>
> -----Original Message-----
> From: Claus Ibsen [mailto:[hidden email]=20
> <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796945&i=3D3>]
> Sent: Tuesday, April 4, 2017 1:35 PM
> To: [hidden email]=20
> <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796945&i=3D4>
> Cc: [hidden email]=20
> <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796945&i=3D5>
> Subject: Re: Performance issue in Camel SFTP component
>
> Please spend more time to read the documentation and you can find=20
> options to tweak the options to use or not use FTP list etc, and there=20
> is also a stepwise option
>
> On Tue, Apr 4, 2017 at 9:16 AM, Ayush Dixit <[hidden email]=20
> <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796945&i=3D6>>
> wrote:
>
> >
> >
> > Hi ,
> >
> >
> >
> >
> >
> > We have implemented a camel route where we are having camel sftp=20
> > producer to transfer a files to remote SFTP location but on=20
> > performance testing on client environment and on our local=20
> > environment we have observed degradation in the time for=20
> > transferring files to
> remote SFTP location.
> > Please find the detailed analysis below. The we tried the various=20
> > test in our local environment. In each test we put around 22 files=20
> > on camel file consumer and each file took below time to write the=20
> > file. PFB details
> >
> >
> >
> >
> >
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D
> >
> > When target directory having 20,000 files. Camel sftp producer took=20
> > around
> > 1 minute 43 second to a transfer file
> >
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D
> >
> >
> >
> > DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.FileConsumer> About to process file:
> > GenericFile[/data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses
> > /1 /ST30PERFORPMAJAR17020726.txt] using exchange:
> > Exchange[ST30PERFORPMAJAR17020726.txt]
> >
> >            INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRes
> > po
> > nseFtpRouteBuilder> Picked IOP response file :
> > ST30PERFORPMAJAR17020726.txt from IOP FTP directory
> >
> >             INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRes
> > po
> > nseFtpRouteBuilder> Sending IOP response file :
> > ST30PERFORPMAJAR17020726.txt to ICOMS FTP directory
> >
> >             DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.processor.SendProcessor> >>>> Endpoint[sftp://
> 10.100.150.
> > 190/icoms/1?download=3Dfalse&maxMessagesPerPoll=3D10&
> > password=3Dxxxxxx&tempPrefix=3DQ&username=3Dsigmauser] Exchange[=20
> > ST30PERFORPMAJAR17020726.txt]
> >
> >
> >
> >
> >
> >
> >
> >             DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.GenericFileConverter> Read file=20
> > /data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/ST30PERFO
> > RP
> > MAJAR17020726.txt
> > (no charset)
> >
> >            DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.SftpOperations> About to=20
> > store
> > file: QST30PERFORPMAJAR17020726.txt using stream:
> > java.io.BufferedInputStream@54a89ff5
> >
> >            DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.SftpOperations> Took 0.658=20
> > seconds
> > (658 millis) to store file: QST30PERFORPMAJAR17020726.txt and FTP=20
> > client
> > returned: true
> >
> >
> >
> >            DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.RemoteFileProducer> Wrote=20
> > [icoms/1/QST30PERFORPMAJAR17020726.txt]
> > to [Endpoint[sftp://10.100.150.190/icoms/1?download=3Dfalse&
> > maxMessagesPerPoll=3D10&password=3Dxxxxxx&tempPrefix=3DQ&username=3Dsig=
mause
> > r]
> > ]
> >
> >            DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.SftpOperations> Renaming file:
> > icoms/1/QST30PERFORPMAJAR17020726.txt to: icoms/1/=20
> > ST30PERFORPMAJAR17020726.txt
> >
> >             INFO 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRes
> > po
> > nseFtpRouteBuilder> IOP response file : ST30PERFORPMAJAR17020726.txt
> > successfully sent to ICOMS FTP directory
> >
> >
> >
> >
> >
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D
> >
> > When target directory having 40,000 files. Camel sftp producer took=20
> > around
> > 3 minute 17 second to transfer file
> >
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D
> >
> >
> >
> > DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.FileConsumer> About to process file:
> > GenericFile[/data/users/slvm02/smp53/domains/v
> >
> >
> > mb/Icoms/iop_responses/1/SX30RPMAJAR1702483756.txt]
> > using exchange: Exchange[SX30RPMAJAR1702483756.txt]
> >
> >                 INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6=20
> > -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRes
> > po
> > nseFtpRouteBuilder>
> > Picked IOP response file :
> >
> >                                 SX30RPMAJAR1702483756.txt from IOP=20
> > FTP directory
> >
> >                 INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6=20
> > -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRes
> > po
> > nseFtpRouteBuilder>
> > Sending IOP response file
> >
> >                                 : SX30RPMAJAR1702483756.txt to ICOMS=20
> > FTP directory
> >
> >                 DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6=20
> > -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.processor.SendProcessor> >>>> Endpoint[sftp://
> 10.100.150.
> > 190/icoms/1?download=3Dfalse&maxMessagesPer
> >
> >                                 Poll=3D10&password=3Dxxxxxx&=20
> > tempPrefix=3DQ&username=3Dsigmauser] Exchange[SX30RPMAJAR1702483756.txt=
]
> >
> >
> >
> >
> >
> >                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6=20
> > -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.GenericFileConverter> Read file=20
> > /data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/SX30RPMAJ
> > AR
> > 1702483756.txt
> > (no charset)
> >
> >                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6=20
> > -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.SftpOperations> About to=20
> > store
> > file: QSX30RPMAJAR1702483756.txt using stream:
> > java.io.BufferedInputStream@
> > 7954cfa8
> >
> >                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6=20
> > -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.SftpOperations> Took 0.659=20
> > seconds
> > (659 millis) to store file: QSX30RPMAJAR1702483756.txt and FTP=20
> > client
> > returned: true
> >
> >                 DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6=20
> > -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.RemoteFileProducer> Wrote=20
> > [icoms/1/QSX30RPMAJAR1702483756.txt]
> > to [Endpoint[sftp://10.100.150.190/icoms/1?download=3Dfalse&
> > maxMessagesPerPoll=3D10&password=3Dxxxxxx&tempPrefix=3DQ&username=3Dsig=
mause
> > r]
> > ]
> >
> >                 DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6=20
> > -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > org.apache.camel.component.file.remote.SftpOperations> Renaming file:
> > icoms/1/QSX30RPMAJAR1702483756.txt to:
> > icoms/1/SX30RPMAJAR1702483756.txt
> >
> >                 INFO 07:50:41 (Camel (cfgMgrCamelContext) thread #6=20
> > -
> > file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> > com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRes
> > po
> > nseFtpRouteBuilder> IOP response file : SX30RPMAJAR1702483756.txt
> > successfully sent to ICOMS FTP directory
> >
> >
> >
> >
> >
> >
> >
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> >
> > Similarly when we achieved the files from target directory. It took=20
> > around
> > 6 sec.It seems like there is a performance issue with camel sftp
> component.
> > Does it list the files in target directory which is taking time.
> >
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> >
> >
> >
> > PFB the producer route which we set up
> >
> > sftp://10.100.150.190/icoms/1?download=3Dfalse&maxMessagesPerPoll=3D10&
> > password=3Dxxxxxx&tempPrefix=3DQ&username=3Dsigmauser
> >
> >
> >
> >
> >
> > Please let us know if you need anything else.
> >
> >
> >
> >
> >
> > *Ayush Dixit*
> > *Software Engineer*
> > [hidden email]=20
> > <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796945&i=3D7>
> >
> > O: +91.20.25661992 x 321 <+91%2020%202566%201992>
> <+91%2020%202566%201992> |  M:
> > +91-814-982-6260 <+91%2081498%2026260> <+91%2081498%2026260> | Skype:
> ayushdixit421
> >
> > [image: cid:image001.jpg@01D16809.E12C0D50]
> > <http://www.sigma-systems.com/>
> >
> >
> >
> >
> >
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>
>
> ------------------------------
> If you reply to this email, your message will be added to the=20
> discussion
> below:
> http://camel.465427.n5.nabble.com/Performance-issue-in-
> Camel-SFTP-component-tp5796893p5796945.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here=20
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dunsu
> bscribe_by_code&node=3D465428&code=3Dc291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFp=
b
> C5jb218NDY1NDI4fDE1MzI5MTE2NTY=3D>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dmacr
> o_viewer&id=3Dinstant_html%21nabble%3Aemail.naml&base=3Dnabble.naml.names=
p
> aces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.vi
> ew.web.template.NodeNamespace&breadcrumbs=3Dnotify_subscribers%21nabble%
> 3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%2
> 1nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Performance=
-issue-in-Camel-SFTP-component-tp5796893p5796947.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65230-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 07:24:28 2017
Return-Path: <users-return-65230-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CA45918D2E
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 07:24:28 +0000 (UTC)
Received: (qmail 38743 invoked by uid 500); 5 Apr 2017 07:24:28 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 38693 invoked by uid 500); 5 Apr 2017 07:24:28 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 18616 invoked by uid 99); 4 Apr 2017 16:24:21 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Tue, 4 Apr 2017 09:24:19 -0700 (MST)
From: romdj <dev.romdj@gmail.com>
To: users@camel.apache.org
Message-ID: <1491323059445-5796926.post@n5.nabble.com>
Subject: Parsing/exporting sql result
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello everyone, 
I apologize in advance as this is basic stuff, but after a full day of
searching my brain is begging me to write this.

So my goal is very simpleStupid, I'm querying a sql server db and I want to
export that data to either json or csv.
So using jdbc for the query returns an ArrayList<HashMap>. So obvious choice
in my mind would be to try to use Jackson ObjectMapper but when I add 
<dataFormats><json id="jack" library="Jackson" prettyPrint="true"
objectMapper="myMapper" /></dataFormats> 
I got /Attribute 'objectMapper' is not allowed to appear in element 'json'./

Besides, I wouldn't know how to properly use it as I don't know how I could
properly use it.
The examples I have are queries run in JS in a CDATA long string. 

Is there any place where I can find a simple example of some data being
fetched and exported from a sql db? This would be enormous.

Thank you so much!
Romain 



--
View this message in context: http://camel.465427.n5.nabble.com/Parsing-exporting-sql-result-tp5796926.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65231-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 07:29:12 2017
Return-Path: <users-return-65231-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F189E18D57
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 07:29:11 +0000 (UTC)
Received: (qmail 46219 invoked by uid 500); 5 Apr 2017 07:29:11 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 46165 invoked by uid 500); 5 Apr 2017 07:29:11 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 46153 invoked by uid 99); 5 Apr 2017 07:29:11 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 07:29:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 88F93C08B0
	for <users@camel.apache.org>; Wed,  5 Apr 2017 07:29:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.231
X-Spam-Level:
X-Spam-Status: No, score=0.231 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1,
	FREEMAIL_ENVFROM_END_DIGIT=0.25, HEADER_FROM_DIFFERENT_DOMAINS=0.001,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Wulq7ISyUR1v for <users@camel.apache.org>;
	Wed,  5 Apr 2017 07:29:09 +0000 (UTC)
Received: from mail-wm0-f51.google.com (mail-wm0-f51.google.com [74.125.82.51])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 609A05FBC1
	for <users@camel.apache.org>; Wed,  5 Apr 2017 07:29:09 +0000 (UTC)
Received: by mail-wm0-f51.google.com with SMTP id o81so42573975wmb.1
        for <users@camel.apache.org>; Wed, 05 Apr 2017 00:29:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=sender:to:from:subject:message-id:date:user-agent:mime-version
         :content-transfer-encoding;
        bh=UKkNO9YzfzQsntMbx6LKmWW/XYri7zuvW5DpJcyYWEY=;
        b=XPSs8Dudec/hEXR04hZ1jYh9NDvnR3c1P/7VWXmbzuLlM9dYj5zmyIquCUldOtU9T7
         HRC6qzbAJzlyqUsRjkh2MzEFOgWFvUDiZ+/Mx4kDF2UCwGJldUQh6eoWQ8AVyNxI9KnI
         t9OBlO2+Vx5QgeR947Z0sfyDjCWp4eF/qquxCZSLuqOPovBUp47r+o0iHkqNdg+s+CdC
         E3FV2bii8n1w2D90e95tdiD9sOT8aKPSv3AgFq+GSqW8EwrvwV0daX+H3dJ4gmeUuerz
         YbMC/lrojq7D/RbJMANdq8HcFQWj4ef4+ESMM6xfNEcBIvg81/uC73N+eHiII1XcNSMl
         rH+w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:sender:to:from:subject:message-id:date
         :user-agent:mime-version:content-transfer-encoding;
        bh=UKkNO9YzfzQsntMbx6LKmWW/XYri7zuvW5DpJcyYWEY=;
        b=nZlY3T1oF9luyXjXJ2gMtweEaFvNsHa/kvKvNexojAjO1sRSTnbvm7xhpBI7T7CM6a
         xq1EdGuJeb7YXxDgHI3oIlI/fEU+daf+ww59jtCTCHPE/aGFMy1AH3JzQ1p64cab7ijA
         dIYXhYhvW2pVKaoxjqzkJoKNwY0beORQjg+HASJTy9vh9z1yPVjy5V5zkoZCx819Aion
         KHsJCssCOKmoFgNaJp6R9a0ClPkjpBHQ1es7krdtrWWkADb+UTgFQpFXIoxLBYC43Z3o
         YYp7qLKymFbSOCqyYIBWCE7HJ3bibD6Dq2jjfzDL6sXGVpKUxBngqlMvdiZRU4DNbuj3
         vu9g==
X-Gm-Message-State: AFeK/H3oyyK6r8V8GUWpKDpN5ZaB+UKjnW7B6KpGyAiui9K+G/5iIOXB+xrIZaU9oqJiHA==
X-Received: by 10.28.7.144 with SMTP id 138mr18418689wmh.125.1491377348352;
        Wed, 05 Apr 2017 00:29:08 -0700 (PDT)
Received: from [192.168.200.193] (port-87-193-254-34.static.qsc.de. [87.193.254.34])
        by smtp.googlemail.com with ESMTPSA id t16sm14962984wra.44.2017.04.05.00.29.07
        for <users@camel.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 05 Apr 2017 00:29:07 -0700 (PDT)
Sender: Christian Schneider <cschneider111@gmail.com>
To: "users@camel.apache.org" <users@camel.apache.org>
From: Christian Schneider <chris@die-schneider.net>
Subject: jms component: Parameter destination.consumer.exclusive does not work
Message-ID: <79e2f01a-5d73-da18-0ba9-588296a043e5@die-schneider.net>
Date: Wed, 5 Apr 2017 09:29:07 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20100101
 Thunderbird/45.8.0
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi all,

I am getting this exception when I try to create a consumer with a 
consumer.exclusive setting on the queue on camel 2.16.5 Any ideas? This 
used to work in older versions. I can provide an example or test if 
someone wants to dig into this.

Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to 
resolve endpoint: jms://queue:queue1?destination.consumer.exclusive=true 
due to: There are 1 parameters that couldn't be set on the endpoint. 
Check the uri if the parameters are spelt correctly and that they are 
properties of the endpoint. Unknown 
parameters=[{destination.consumer.exclusive=true}]

Best

Christian

-- 
Christian Schneider
http://www.liquid-reality.de

Open Source Architect
http://www.talend.com


From users-return-65232-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 07:38:38 2017
Return-Path: <users-return-65232-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B35F418DC3
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 07:38:38 +0000 (UTC)
Received: (qmail 63787 invoked by uid 500); 5 Apr 2017 07:38:38 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 63725 invoked by uid 500); 5 Apr 2017 07:38:38 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 63711 invoked by uid 99); 5 Apr 2017 07:38:37 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 07:38:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 6B125C023E
	for <users@camel.apache.org>; Wed,  5 Apr 2017 07:38:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.68
X-Spam-Level:
X-Spam-Status: No, score=0.68 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id q8pZlazsZzXy for <users@camel.apache.org>;
	Wed,  5 Apr 2017 07:38:33 +0000 (UTC)
Received: from mail-qt0-f169.google.com (mail-qt0-f169.google.com [209.85.216.169])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 9F1885FAE7
	for <users@camel.apache.org>; Wed,  5 Apr 2017 07:38:33 +0000 (UTC)
Received: by mail-qt0-f169.google.com with SMTP id n21so3815335qta.1
        for <users@camel.apache.org>; Wed, 05 Apr 2017 00:38:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=CsSMhzwr5A4it0my3/IpaapRSIk5VAVKDiOdfG3nSpQ=;
        b=daXGr1eM7Ky0gYT+dws5GNc0c86wiiOPUzov0ABRC5eUau9p8cKYBp6vwjO1xkSM0a
         n1GAl5MRUVqImQTmajlvGgs01RFohvOhTiluvSl0HsRzVEGbeO0AWFkzNHGdxyR3gilK
         hjgIAJNZaJv4GK4LOE/3t009CnGHf1p2nnImQNVnv1mA4YJGCj4XhYrZ7oa7UoFXxbts
         gvrlNlMR/9ILCEVmBAF/zC+oS/cyepWGSMdFxmmv/aS9gQqWTg8fTMPaPr8SL6tEjKQW
         OfmEtu1agQDQF1bfPItXCmTe6nOoXAXeSgdPl4dMdf3IYil69/OFbGDu1xzadC9xls/Z
         1jDA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=CsSMhzwr5A4it0my3/IpaapRSIk5VAVKDiOdfG3nSpQ=;
        b=HB83pcC5Mppo2NMOdhdawn1nbgllmKBLFsMJhMsTuE5IadeaaQXEQjpA8YuqI9x+4x
         NEnlheDG+ExhnjMCKQ8JpA2lZB3+kHYaD+KVHPzLqFijJMyhpweInMlZDzeYBe/kmYBE
         FIfBrptiOCZVIifSo/dqxMnG/lWrug5JjhcaQhMtgtrV/KcvgYB1SAnCZmPTCYlMjT9L
         ZXXOvX5A7US9D9o2Aw5pmd5WVaEFvbpwEh4skPEDtDV0Wq6cpcGgu5WCTVA+pLrjz+EQ
         n/6YE4kf9KnJlq12JjleHiz30G2VIRT+QTLYf9YnHGmZykjXh3qScXwe+l04f5P8/m+j
         RrDw==
X-Gm-Message-State: AFeK/H2rb3gU27Bh6uGn2CbpeOLUrJFx7+teD6xj2IaKbuoOvqrcxHt2VwC7lhsPZkHFRHWg7c17VKingtkAMQ==
X-Received: by 10.237.53.231 with SMTP id d36mr26521163qte.240.1491377912876;
 Wed, 05 Apr 2017 00:38:32 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Wed, 5 Apr 2017 00:38:12 -0700 (PDT)
In-Reply-To: <CY4PR05MB288500B6CF77E297A58C0CC5AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
References: <CY4PR05MB288556474F742B4395CD66D3AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CAGB5yN=okDLFFxhA5MDAWwH0oLovNB_D6BMYCuLhMfUimw8tng@mail.gmail.com> <CY4PR05MB288500B6CF77E297A58C0CC5AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 5 Apr 2017 09:38:12 +0200
Message-ID: <CAGB5yNksbd7r6dUFPYy64A2ny9qS6+3c=B44Gp+Wa9AQy4GdhA@mail.gmail.com>
Subject: Re: Performance issue in Camel SFTP component
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Try with maxMessagesPerPoll to set an upper limit.

On Tue, Apr 4, 2017 at 12:10 PM, Ayush Dixit
<Ayush.Dixit@sigma-systems.com> wrote:
>
> Thanks Claus , I've tried  stepwise=false  in camel producer . No such luck
>
> Also, I have tried download=false and useList=false. Still the performance is same. I am referring the below link for camel documentation
>
> http://camel.apache.org/ftp2.html
>
> Is there is anything else you think I can try?
>
> Thanks
> Ayush
>
>
> -----Original Message-----
> From: Claus Ibsen [mailto:claus.ibsen@gmail.com]
> Sent: Tuesday, April 4, 2017 1:35 PM
> To: users@camel.apache.org
> Cc: users-subscribe@camel.apache.org
> Subject: Re: Performance issue in Camel SFTP component
>
> Please spend more time to read the documentation and you can find options to tweak the options to use or not use FTP list etc, and there is also a stepwise option
>
> On Tue, Apr 4, 2017 at 9:16 AM, Ayush Dixit <Ayush.Dixit@sigma-systems.com>
> wrote:
>
>>
>>
>> Hi ,
>>
>>
>>
>>
>>
>> We have implemented a camel route where we are having camel sftp
>> producer to transfer a files to remote SFTP location but on
>> performance testing on client environment and on our local environment
>> we have observed degradation in the time for transferring files to remote SFTP location.
>> Please find the detailed analysis below. The we tried the various test
>> in our local environment. In each test we put around 22 files on camel
>> file consumer and each file took below time to write the file. PFB
>> details
>>
>>
>>
>>
>>
>> ============================================================
>> ============================
>>
>> When target directory having 20,000 files. Camel sftp producer took
>> around
>> 1 minute 43 second to a transfer file
>>
>> ============================================================
>> ============================
>>
>>
>>
>> DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.component.file.FileConsumer> About to process file:
>> GenericFile[/data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1
>> /ST30PERFORPMAJAR17020726.txt] using exchange:
>> Exchange[ST30PERFORPMAJAR17020726.txt]
>>
>>            INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRespo
>> nseFtpRouteBuilder> Picked IOP response file :
>> ST30PERFORPMAJAR17020726.txt from IOP FTP directory
>>
>>             INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRespo
>> nseFtpRouteBuilder> Sending IOP response file :
>> ST30PERFORPMAJAR17020726.txt to ICOMS FTP directory
>>
>>             DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.processor.SendProcessor> >>>> Endpoint[sftp://10.100.150.
>> 190/icoms/1?download=false&maxMessagesPerPoll=10&
>> password=xxxxxx&tempPrefix=Q&username=sigmauser] Exchange[
>> ST30PERFORPMAJAR17020726.txt]
>>
>>
>>
>>
>>
>>
>>
>>             DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.component.file.GenericFileConverter> Read file
>> /data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/ST30PERFORP
>> MAJAR17020726.txt
>> (no charset)
>>
>>            DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.component.file.remote.SftpOperations> About to store
>> file: QST30PERFORPMAJAR17020726.txt using stream:
>> java.io.BufferedInputStream@54a89ff5
>>
>>            DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.component.file.remote.SftpOperations> Took 0.658
>> seconds
>> (658 millis) to store file: QST30PERFORPMAJAR17020726.txt and FTP
>> client
>> returned: true
>>
>>
>>
>>            DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.component.file.remote.RemoteFileProducer> Wrote
>> [icoms/1/QST30PERFORPMAJAR17020726.txt]
>> to [Endpoint[sftp://10.100.150.190/icoms/1?download=false&
>> maxMessagesPerPoll=10&password=xxxxxx&tempPrefix=Q&username=sigmauser]
>> ]
>>
>>            DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.component.file.remote.SftpOperations> Renaming file:
>> icoms/1/QST30PERFORPMAJAR17020726.txt to: icoms/1/
>> ST30PERFORPMAJAR17020726.txt
>>
>>             INFO 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRespo
>> nseFtpRouteBuilder> IOP response file : ST30PERFORPMAJAR17020726.txt
>> successfully sent to ICOMS FTP directory
>>
>>
>>
>>
>>
>> ============================================================
>> ===========================
>>
>> When target directory having 40,000 files. Camel sftp producer took
>> around
>> 3 minute 17 second to transfer file
>>
>> ============================================================
>> ===========================
>>
>>
>>
>> DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.component.file.FileConsumer> About to process file:
>> GenericFile[/data/users/slvm02/smp53/domains/v
>>
>>
>> mb/Icoms/iop_responses/1/SX30RPMAJAR1702483756.txt]
>> using exchange: Exchange[SX30RPMAJAR1702483756.txt]
>>
>>                 INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRespo
>> nseFtpRouteBuilder>
>> Picked IOP response file :
>>
>>                                 SX30RPMAJAR1702483756.txt from IOP FTP
>> directory
>>
>>                 INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRespo
>> nseFtpRouteBuilder>
>> Sending IOP response file
>>
>>                                 : SX30RPMAJAR1702483756.txt to ICOMS
>> FTP directory
>>
>>                 DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.processor.SendProcessor> >>>> Endpoint[sftp://10.100.150.
>> 190/icoms/1?download=false&maxMessagesPer
>>
>>                                 Poll=10&password=xxxxxx&
>> tempPrefix=Q&username=sigmauser] Exchange[SX30RPMAJAR1702483756.txt]
>>
>>
>>
>>
>>
>>                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.component.file.GenericFileConverter> Read file
>> /data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/SX30RPMAJAR
>> 1702483756.txt
>> (no charset)
>>
>>                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.component.file.remote.SftpOperations> About to store
>> file: QSX30RPMAJAR1702483756.txt using stream:
>> java.io.BufferedInputStream@
>> 7954cfa8
>>
>>                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.component.file.remote.SftpOperations> Took 0.659
>> seconds
>> (659 millis) to store file: QSX30RPMAJAR1702483756.txt and FTP client
>> returned: true
>>
>>                 DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.component.file.remote.RemoteFileProducer> Wrote
>> [icoms/1/QSX30RPMAJAR1702483756.txt]
>> to [Endpoint[sftp://10.100.150.190/icoms/1?download=false&
>> maxMessagesPerPoll=10&password=xxxxxx&tempPrefix=Q&username=sigmauser]
>> ]
>>
>>                 DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> org.apache.camel.component.file.remote.SftpOperations> Renaming file:
>> icoms/1/QSX30RPMAJAR1702483756.txt to:
>> icoms/1/SX30RPMAJAR1702483756.txt
>>
>>                 INFO 07:50:41 (Camel (cfgMgrCamelContext) thread #6 -
>> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
>> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPRespo
>> nseFtpRouteBuilder> IOP response file : SX30RPMAJAR1702483756.txt
>> successfully sent to ICOMS FTP directory
>>
>>
>>
>>
>>
>>
>>
>> ============================================================
>> ========================================
>>
>> Similarly when we achieved the files from target directory. It took
>> around
>> 6 sec.It seems like there is a performance issue with camel sftp component.
>> Does it list the files in target directory which is taking time.
>>
>> ============================================================
>> =======================================
>>
>>
>>
>> PFB the producer route which we set up
>>
>> sftp://10.100.150.190/icoms/1?download=false&maxMessagesPerPoll=10&
>> password=xxxxxx&tempPrefix=Q&username=sigmauser
>>
>>
>>
>>
>>
>> Please let us know if you need anything else.
>>
>>
>>
>>
>>
>> *Ayush Dixit*
>> *Software Engineer*
>> ayush.dixit@sigma-systems.com
>>
>> O: +91.20.25661992 x 321 <+91%2020%202566%201992> |  M:
>> +91-814-982-6260 <+91%2081498%2026260> | Skype: ayushdixit421
>>
>> [image: cid:image001.jpg@01D16809.E12C0D50]
>> <http://www.sigma-systems.com/>
>>
>>
>>
>>
>>
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65233-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 07:41:31 2017
Return-Path: <users-return-65233-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F71118E06
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 07:41:31 +0000 (UTC)
Received: (qmail 77645 invoked by uid 500); 5 Apr 2017 07:41:30 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 77595 invoked by uid 500); 5 Apr 2017 07:41:30 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 77578 invoked by uid 99); 5 Apr 2017 07:41:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 07:41:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id DAE76C22ED
	for <users@camel.apache.org>; Wed,  5 Apr 2017 07:41:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.693
X-Spam-Level: *
X-Spam-Status: No, score=1.693 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id tv5mmjRaZ8PY for <users@camel.apache.org>;
	Wed,  5 Apr 2017 07:41:27 +0000 (UTC)
Received: from mail-qt0-f173.google.com (mail-qt0-f173.google.com [209.85.216.173])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 3845D5FAE8
	for <users@camel.apache.org>; Wed,  5 Apr 2017 07:41:26 +0000 (UTC)
Received: by mail-qt0-f173.google.com with SMTP id x35so3836664qtc.2
        for <users@camel.apache.org>; Wed, 05 Apr 2017 00:41:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=v6656GqHUb17B4HRvY070gBibL23ugnssBCwJcCEtXM=;
        b=c6fOnxEfNPEIBKEsmRUY86VZYhQb1y74CcXNxenXP+dfv/3cwl44i18+r9h4SjrMgS
         F/TwHgNZNVIlXl5JgTv2VX1D7ycvFZTseZKbxTvRsKKQQ7OKnK9HWTATvmxNawKzmghA
         BS+vnvXhR4aQKzIe12+zPZX7KuhH+sBsfosUayBCUbNWGjC53vPk6ATCdQD/5mblMkhq
         yHd/+l7UAq7FCcm8S9Ki/J/sOdUpiRM6xkNLfCbIyIKlncoUibXc79bN7LRS7fZCcGlI
         K2yHZjt99rxCpoIfpn7b0cgr3S6cbnKcAQq1BZy2FLbF8MCMl+tTgS+FtvevC3zlx7MD
         07qw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=v6656GqHUb17B4HRvY070gBibL23ugnssBCwJcCEtXM=;
        b=P1xd2fcTnL8z1oXHUF1PlNtpXtHPd3feAUMGtdmeMJjgzRGQalbsR76xPvEZeypo08
         fnhjue4Ph7Ez6LcFpu11UfC83UcdxKuIThIEHC7rzkbUSs62VYQ8KbSOQf/tW2A4LQJI
         Xgrdwg/hIfcnxUC5sf9cVsqSM6NvdfTv/+cR5eNqjg47OtpROlIdIV+1mmYTs5WSSJp+
         dZpzGp3DEjj99bckCyN4t/uUjuEoCBuXj2c9/jx9/WScu8Ls5G5AJWo/mJK3tnrDCmdC
         8HAsAz9uES6WuP6daFwWDmiq2wQ0QKURjIgonTIkGgoLfzL40DxPMFCEwTUg5EG9XAQz
         GSaw==
X-Gm-Message-State: AFeK/H1Px089HQm38g8KfiG0Q4IVSoFtGZNQOz6zPsxOn3pbmRyOyiBc/afbdOLG+GaCzSczhFj1jzUqZtSOOg==
X-Received: by 10.200.2.175 with SMTP id p47mr29094240qtg.35.1491378084936;
 Wed, 05 Apr 2017 00:41:24 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Wed, 5 Apr 2017 00:41:04 -0700 (PDT)
In-Reply-To: <1491367838950-5796939.post@n5.nabble.com>
References: <1491367838950-5796939.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 5 Apr 2017 09:41:04 +0200
Message-ID: <CAGB5yNmTP8Xy0SpLtZJg8BE2p0XO747iOPp4AJNbA+c9rMX=cw@mail.gmail.com>
Subject: Re: Sql Component StreamList Poll
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Put the count down logic someplace else such as in your aggregation strategy

On Wed, Apr 5, 2017 at 6:50 AM, andre.gilliam@icg360.com
<andre.gilliam@icg360.com> wrote:
> I have a route similar to the following that uses the SQL Component:
>
> from("sql:" + QUERY + "?outputType=StreamList")
>                 .autoStartup(false)
>                 .routeId(getRouteId())
>                 .to("log:stream")
>                 .split(body(), new AggregationStrategy())
>                 .executorService(getThreadPool())
>                 .streaming()
>                 .parallelProcessing()
>                 .to("log:postProcess")
>                 .end()
>                 .process(new Processor() {
>             @Override
>             public void process(Exchange exchange) throws Exception {
>                 // stop Camel by signaling to the latch
>                 getCountDownLatch().countDown();
>             }
>         });
>
> I'm running into a problem and need direction. If the last streaming row is
> successfully processed by the route everything is fine. If the query returns
> 0 results or If the last streaming row has an exception while in the route
> it, the sql component will poll and never get into the route to hit the last
> process (which notifies the countDownLatch await and stops the process).
> This is the error that it produces when in that state:
>
> 00:33:37.150 [Camel (camel-1) thread #3 -
> sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW']
> WARN  o.s.j.support.SQLErrorCodesFactory - Error while extracting database
> name - falling back to empty error codes
> org.springframework.jdbc.support.MetaDataAccessException: Error while
> extracting DatabaseMetaData; nested exception is java.sql.SQLException:
> Invalid state, the Connection object is closed.
>         at
> org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:342)
>         at
> org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366)
>         at
> org.springframework.jdbc.support.SQLErrorCodesFactory.getErrorCodes(SQLErrorCodesFactory.java:212)
>         at
> org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.setDataSource(SQLErrorCodeSQLExceptionTranslator.java:134)
>         at
> org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.<init>(SQLErrorCodeSQLExceptionTranslator.java:97)
>         at
> org.springframework.jdbc.support.JdbcAccessor.getExceptionTranslator(JdbcAccessor.java:99)
>         at
> org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:649)
>         at
> org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:662)
>         at org.apache.camel.component.sql.SqlConsumer.poll(SqlConsumer.java:168)
>         at
> org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:175)
>         at
> org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:102)
>         at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
>         at java.util.concurrent.FutureTask.runAndReset(Unknown Source)
>         at
> java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown
> Source)
>         at
> java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown
> Source)
>         at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
>         at java.lang.Thread.run(Unknown Source)
> Caused by: java.sql.SQLException: Invalid state, the Connection object is
> closed.
>         at
> net.sourceforge.jtds.jdbc.JtdsConnection.checkOpen(JtdsConnection.java:1744)
>         at
> net.sourceforge.jtds.jdbc.JtdsConnection.getMetaData(JtdsConnection.java:2350)
>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
>         at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
>         at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
>         at java.lang.reflect.Method.invoke(Unknown Source)
>         at
> org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)
>         at
> org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)
>         at
> org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)
>         at com.sun.proxy.$Proxy96.getMetaData(Unknown Source)
>         at
> org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:331)
>         ... 17 common frames omitted
> 00:33:37.152 [Camel (camel-1) thread #3 -
> sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW']
> WARN  o.a.camel.component.sql.SqlConsumer - Consumer
> Consumer[sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW'?noop=true&outputType=StreamList]
> failed polling endpoint:
> sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW'?noop=true&outputType=StreamList.
> Will try again at next poll. Caused by:
> [org.springframework.jdbc.UncategorizedSQLException -
> PreparedStatementCallback; uncategorized SQLException for SQL [SELECT Id,
> QuoteId  FROM [dbo].[IPSImporter] WHERE Status = 'NEW']; SQL state [HY010];
> error code [0]; Invalid state, the Connection object is closed.; nested
> exception is java.sql.SQLException: Invalid state, the Connection object is
> closed.]
> org.springframework.jdbc.UncategorizedSQLException:
> PreparedStatementCallback; uncategorized SQLException for SQL [SELECT Id,
> QuoteId  FROM [dbo].[IPSImporter] WHERE Status = 'NEW']; SQL state [HY010];
> error code [0]; Invalid state, the Connection object is closed.; nested
> exception is java.sql.SQLException: Invalid state, the Connection object is
> closed.
>         at
> org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:84)
>         at
> org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
>         at
> org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
>         at
> org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:649)
>         at
> org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:662)
>         at org.apache.camel.component.sql.SqlConsumer.poll(SqlConsumer.java:168)
>         at
> org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:175)
>         at
> org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:102)
>         at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
>         at java.util.concurrent.FutureTask.runAndReset(Unknown Source)
>         at
> java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown
> Source)
>         at
> java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown
> Source)
>         at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
>         at java.lang.Thread.run(Unknown Source)
> Caused by: java.sql.SQLException: Invalid state, the Connection object is
> closed.
>         at
> net.sourceforge.jtds.jdbc.JtdsConnection.checkOpen(JtdsConnection.java:1744)
>         at
> net.sourceforge.jtds.jdbc.JtdsConnection.prepareStatement(JtdsConnection.java:2448)
>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
>         at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
>         at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
>         at java.lang.reflect.Method.invoke(Unknown Source)
>         at
> org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)
>         at
> org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)
>         at
> org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)
>         at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
>         at
> org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1521)
>         at
> org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:627)
>         ... 11 common frames omitted
> 00:33:37.653 [Camel (camel-1) thread #3 -
> sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW']
> WARN  o.a.camel.component.sql.SqlConsumer - Consumer
> Consumer[sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW'?noop=true&outputType=StreamList]
> failed polling endpoint:
> sql://SELECT%20Id,%20QuoteId%20%20FROM%20%5Bdbo%5D.%5BIPSImporter%5D%20WHERE%20Status%20=%20'NEW'?noop=true&outputType=StreamList.
> Will try again at next poll. Caused by:
> [org.springframework.jdbc.UncategorizedSQLException -
> PreparedStatementCallback; uncategorized SQLException for SQL [SELECT Id,
> QuoteId  FROM [dbo].[IPSImporter] WHERE Status = 'NEW']; SQL state [HY010];
> error code [0]; Invalid state, the Connection object is closed.; nested
> exception is java.sql.SQLException: Invalid state, the Connection object is
> closed.]
> org.springframework.jdbc.UncategorizedSQLException:
> PreparedStatementCallback; uncategorized SQLException for SQL [SELECT Id,
> QuoteId  FROM [dbo].[IPSImporter] WHERE Status = 'NEW']; SQL state [HY010];
> error code [0]; Invalid state, the Connection object is closed.; nested
> exception is java.sql.SQLException: Invalid state, the Connection object is
> closed.
>         at
> org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:84)
>         at
> org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
>         at
> org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
>         at
> org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:649)
>         at
> org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:662)
>         at org.apache.camel.component.sql.SqlConsumer.poll(SqlConsumer.java:168)
>         at
> org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:175)
>         at
> org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:102)
>         at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
>         at java.util.concurrent.FutureTask.runAndReset(Unknown Source)
>         at
> java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown
> Source)
>         at
> java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown
> Source)
>         at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
>         at java.lang.Thread.run(Unknown Source)
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Sql-Component-StreamList-Poll-tp5796939.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65234-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 07:52:24 2017
Return-Path: <users-return-65234-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D09F718E8A
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 07:52:24 +0000 (UTC)
Received: (qmail 95500 invoked by uid 500); 5 Apr 2017 07:52:24 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 95441 invoked by uid 500); 5 Apr 2017 07:52:24 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 95406 invoked by uid 99); 5 Apr 2017 07:52:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 07:52:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 717F31813A9
	for <users@camel.apache.org>; Wed,  5 Apr 2017 07:52:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.997
X-Spam-Level:
X-Spam-Status: No, score=-1.997 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, KAM_ASCII_DIVIDERS=0.8,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=sigmasys1.onmicrosoft.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ispb2xLbHuS6 for <users@camel.apache.org>;
	Wed,  5 Apr 2017 07:52:20 +0000 (UTC)
Received: from NAM01-SN1-obe.outbound.protection.outlook.com (mail-sn1nam01on0086.outbound.protection.outlook.com [104.47.32.86])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 154EE5FC9C
	for <users@camel.apache.org>; Wed,  5 Apr 2017 07:52:19 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=SIGMASYS1.onmicrosoft.com; s=selector1-sigmasystems-com01c;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version;
 bh=EF+O5zor5zOtcOZSATZyQ5LQX82hgFMyiABNQ2GTXbs=;
 b=uWU0DT6xokorTLFbUCv0Ego7CnxVSBfTgUfbINm2bMRRZN1gb5+lFsh+MLQAIvOfQvMA4uKiFmMG6xvDE4tiGCxxb5aRl5u5Rnp3vA631LruQ5oB9f74EUGNCxLfeaGMc5+UWGPXlrWYL290Mora/+S+9f6xJeA7wusc2pl+3LE=
Received: from MWHPR05MB2896.namprd05.prod.outlook.com (10.168.245.142) by
 MWHPR05MB2896.namprd05.prod.outlook.com (10.168.245.142) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1019.8; Wed, 5 Apr 2017 07:52:17 +0000
Received: from MWHPR05MB2896.namprd05.prod.outlook.com ([10.168.245.142]) by
 MWHPR05MB2896.namprd05.prod.outlook.com ([10.168.245.142]) with mapi id
 15.01.1019.015; Wed, 5 Apr 2017 07:52:17 +0000
From: Ayush Dixit <Ayush.Dixit@sigma-systems.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: RE: Performance issue in Camel SFTP component
Thread-Topic: Performance issue in Camel SFTP component
Thread-Index: AdKtEaZ99I3uUpCsSKyU5SgaYvJPwAACIUkAAAQc2PAALT1BAAAAXMjQ
Date: Wed, 5 Apr 2017 07:52:17 +0000
Message-ID: <MWHPR05MB2896023849CD4DBA242C64CBAF0A0@MWHPR05MB2896.namprd05.prod.outlook.com>
References: <CY4PR05MB288556474F742B4395CD66D3AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CAGB5yN=okDLFFxhA5MDAWwH0oLovNB_D6BMYCuLhMfUimw8tng@mail.gmail.com>
 <CY4PR05MB288500B6CF77E297A58C0CC5AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CAGB5yNksbd7r6dUFPYy64A2ny9qS6+3c=B44Gp+Wa9AQy4GdhA@mail.gmail.com>
In-Reply-To: <CAGB5yNksbd7r6dUFPYy64A2ny9qS6+3c=B44Gp+Wa9AQy4GdhA@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: camel.apache.org; dkim=none (message not signed)
 header.d=none;camel.apache.org; dmarc=none action=none
 header.from=sigma-systems.com;
x-originating-ip: [115.113.155.67]
x-microsoft-exchange-diagnostics: 1;MWHPR05MB2896;7:XXsBYHBzCZsn3LmD+Pvnx/0rxLMOw5vB0ch59ghgQxrh0R+7oHb1fSsWJvMXltBgMTh8xrAj6G9BHoUawie6Gzrrgv55Fv8YfcplIkiBwfFjrNLltyrgyCIB/yDVs7mkrzCTKg4Y8Ie8XOtd25eoMvGcKFFjnKpDv9FT80E59rcI/ULgjerMMzifVVGdFTRH/e7LJ81798OT4fk/G6dXY9hZeXohiGNSBGBYwa/mVidxZtsYpM9HnFzmc0p+vVlw9nzRHlnKoaUnKYsCEOp+baG6KiaKIswS2FSkArFLrkTO2rrmHaYMEm0rhETBFyGSRdyOUaje4hxBO/AB33EvHg==
x-ms-office365-filtering-correlation-id: fa77b7bd-20fd-4513-9325-08d47bf8ae68
x-microsoft-antispam: UriScan:;BCL:0;PCL:0;RULEID:(22001)(2017030254075)(201703131423075)(201703031133081)(201702281549075);SRVR:MWHPR05MB2896;
x-microsoft-antispam-prvs: <MWHPR05MB2896AB97F2DAAFA593FCB66EAF0A0@MWHPR05MB2896.namprd05.prod.outlook.com>
x-exchange-antispam-report-test: UriScan:(212892494489503);
x-exchange-antispam-report-cfa-test: BCL:0;PCL:0;RULEID:(6040450)(601004)(2401047)(5005006)(8121501046)(93006095)(93001095)(3002001)(10201501046)(6041248)(20161123564025)(20161123555025)(201703131423075)(201702281528075)(201703061421075)(20161123560025)(20161123562025)(6072148);SRVR:MWHPR05MB2896;BCL:0;PCL:0;RULEID:;SRVR:MWHPR05MB2896;
x-forefront-prvs: 0268246AE7
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(6009001)(39410400002)(39840400002)(39450400003)(39400400002)(377454003)(24454002)(13464003)(2501003)(3280700002)(2906002)(76176999)(3660700001)(54356999)(2950100002)(6916009)(575784001)(8676002)(86362001)(189998001)(551544002)(9686003)(8936002)(81166006)(6306002)(50986999)(6506006)(229853002)(5640700003)(55016002)(6436002)(77096006)(2351001)(66066001)(99286003)(1730700003)(53936002)(102836003)(122556002)(6116002)(74316002)(7736002)(966004)(305945005)(5660300001)(6246003)(3846002)(2900100001)(33656002)(7696004)(93886004)(53546009)(25786009)(53386004)(38730400002)(110136004);DIR:OUT;SFP:1101;SCL:1;SRVR:MWHPR05MB2896;H:MWHPR05MB2896.namprd05.prod.outlook.com;FPR:;SPF:None;MLV:sfv;LANG:en;
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: sigma-systems.com
X-MS-Exchange-CrossTenant-originalarrivaltime: 05 Apr 2017 07:52:17.3066
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: dba5b4ed-9d8f-46b1-95cb-4b550e5a68e1
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MWHPR05MB2896

SGkgQ2xhdXMsDQoNCkFscmVhZHkgdHJpZWQgdGhhdCAsIFNlZSBiZWxvdyBlbmRwb2ludCBjb25m
aWd1cmF0aW9uIC4gTm8gbHVjayA6KCANCg0KdG8oInNmdHA6Ly8xMC4xMDAuMTUwLjE5MC9pY29t
cy8xP2Rvd25sb2FkPWZhbHNlJm1heE1lc3NhZ2VzUGVyUG9sbD0xMCZwYXNzd29yZD14eHh4eHgm
dGVtcFByZWZpeD1RJnVzZXJuYW1lPXNpZ21hdXNlciZzdGVwd2lzZT1mYWxzZSIpDQoNClRoYW5r
cw0KQXl1c2ggDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBDbGF1cyBJYnNl
biBbbWFpbHRvOmNsYXVzLmlic2VuQGdtYWlsLmNvbV0gDQpTZW50OiBXZWRuZXNkYXksIEFwcmls
IDUsIDIwMTcgMTowOCBQTQ0KVG86IHVzZXJzQGNhbWVsLmFwYWNoZS5vcmcNClN1YmplY3Q6IFJl
OiBQZXJmb3JtYW5jZSBpc3N1ZSBpbiBDYW1lbCBTRlRQIGNvbXBvbmVudA0KDQpUcnkgd2l0aCBt
YXhNZXNzYWdlc1BlclBvbGwgdG8gc2V0IGFuIHVwcGVyIGxpbWl0Lg0KDQpPbiBUdWUsIEFwciA0
LCAyMDE3IGF0IDEyOjEwIFBNLCBBeXVzaCBEaXhpdCA8QXl1c2guRGl4aXRAc2lnbWEtc3lzdGVt
cy5jb20+IHdyb3RlOg0KPg0KPiBUaGFua3MgQ2xhdXMgLCBJJ3ZlIHRyaWVkICBzdGVwd2lzZT1m
YWxzZSAgaW4gY2FtZWwgcHJvZHVjZXIgLiBObyBzdWNoIA0KPiBsdWNrDQo+DQo+IEFsc28sIEkg
aGF2ZSB0cmllZCBkb3dubG9hZD1mYWxzZSBhbmQgdXNlTGlzdD1mYWxzZS4gU3RpbGwgdGhlIA0K
PiBwZXJmb3JtYW5jZSBpcyBzYW1lLiBJIGFtIHJlZmVycmluZyB0aGUgYmVsb3cgbGluayBmb3Ig
Y2FtZWwgDQo+IGRvY3VtZW50YXRpb24NCj4NCj4gaHR0cDovL2NhbWVsLmFwYWNoZS5vcmcvZnRw
Mi5odG1sDQo+DQo+IElzIHRoZXJlIGlzIGFueXRoaW5nIGVsc2UgeW91IHRoaW5rIEkgY2FuIHRy
eT8NCj4NCj4gVGhhbmtzDQo+IEF5dXNoDQo+DQo+DQo+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0t
LS0tDQo+IEZyb206IENsYXVzIElic2VuIFttYWlsdG86Y2xhdXMuaWJzZW5AZ21haWwuY29tXQ0K
PiBTZW50OiBUdWVzZGF5LCBBcHJpbCA0LCAyMDE3IDE6MzUgUE0NCj4gVG86IHVzZXJzQGNhbWVs
LmFwYWNoZS5vcmcNCj4gQ2M6IHVzZXJzLXN1YnNjcmliZUBjYW1lbC5hcGFjaGUub3JnDQo+IFN1
YmplY3Q6IFJlOiBQZXJmb3JtYW5jZSBpc3N1ZSBpbiBDYW1lbCBTRlRQIGNvbXBvbmVudA0KPg0K
PiBQbGVhc2Ugc3BlbmQgbW9yZSB0aW1lIHRvIHJlYWQgdGhlIGRvY3VtZW50YXRpb24gYW5kIHlv
dSBjYW4gZmluZCANCj4gb3B0aW9ucyB0byB0d2VhayB0aGUgb3B0aW9ucyB0byB1c2Ugb3Igbm90
IHVzZSBGVFAgbGlzdCBldGMsIGFuZCB0aGVyZSANCj4gaXMgYWxzbyBhIHN0ZXB3aXNlIG9wdGlv
bg0KPg0KPiBPbiBUdWUsIEFwciA0LCAyMDE3IGF0IDk6MTYgQU0sIEF5dXNoIERpeGl0IA0KPiA8
QXl1c2guRGl4aXRAc2lnbWEtc3lzdGVtcy5jb20+DQo+IHdyb3RlOg0KPg0KPj4NCj4+DQo+PiBI
aSAsDQo+Pg0KPj4NCj4+DQo+Pg0KPj4NCj4+IFdlIGhhdmUgaW1wbGVtZW50ZWQgYSBjYW1lbCBy
b3V0ZSB3aGVyZSB3ZSBhcmUgaGF2aW5nIGNhbWVsIHNmdHAgDQo+PiBwcm9kdWNlciB0byB0cmFu
c2ZlciBhIGZpbGVzIHRvIHJlbW90ZSBTRlRQIGxvY2F0aW9uIGJ1dCBvbiANCj4+IHBlcmZvcm1h
bmNlIHRlc3Rpbmcgb24gY2xpZW50IGVudmlyb25tZW50IGFuZCBvbiBvdXIgbG9jYWwgDQo+PiBl
bnZpcm9ubWVudCB3ZSBoYXZlIG9ic2VydmVkIGRlZ3JhZGF0aW9uIGluIHRoZSB0aW1lIGZvciB0
cmFuc2ZlcnJpbmcgZmlsZXMgdG8gcmVtb3RlIFNGVFAgbG9jYXRpb24uDQo+PiBQbGVhc2UgZmlu
ZCB0aGUgZGV0YWlsZWQgYW5hbHlzaXMgYmVsb3cuIFRoZSB3ZSB0cmllZCB0aGUgdmFyaW91cyAN
Cj4+IHRlc3QgaW4gb3VyIGxvY2FsIGVudmlyb25tZW50LiBJbiBlYWNoIHRlc3Qgd2UgcHV0IGFy
b3VuZCAyMiBmaWxlcyBvbiANCj4+IGNhbWVsIGZpbGUgY29uc3VtZXIgYW5kIGVhY2ggZmlsZSB0
b29rIGJlbG93IHRpbWUgdG8gd3JpdGUgdGhlIGZpbGUuIA0KPj4gUEZCIGRldGFpbHMNCj4+DQo+
Pg0KPj4NCj4+DQo+Pg0KPj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09DQo+PiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+
Pg0KPj4gV2hlbiB0YXJnZXQgZGlyZWN0b3J5IGhhdmluZyAyMCwwMDAgZmlsZXMuIENhbWVsIHNm
dHAgcHJvZHVjZXIgdG9vayANCj4+IGFyb3VuZA0KPj4gMSBtaW51dGUgNDMgc2Vjb25kIHRvIGEg
dHJhbnNmZXIgZmlsZQ0KPj4NCj4+ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PQ0KPj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09
PQ0KPj4NCj4+DQo+Pg0KPj4gREVCVUcgMDc6MDA6MzggKENhbWVsIChjZmdNZ3JDYW1lbENvbnRl
eHQpIHRocmVhZCAjNiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFp
bnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9u
ZW50LmZpbGUuRmlsZUNvbnN1bWVyPiBBYm91dCB0byBwcm9jZXNzIGZpbGU6DQo+PiBHZW5lcmlj
RmlsZVsvZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3Bv
bnNlcy8NCj4+IDEgL1NUMzBQRVJGT1JQTUFKQVIxNzAyMDcyNi50eHRdIHVzaW5nIGV4Y2hhbmdl
Og0KPj4gRXhjaGFuZ2VbU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dF0NCj4+DQo+PiAgICAg
ICAgICAgIElORk8gMDc6MDA6MzggKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAj
NiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21z
L2lvcF9yZXNwb25zZXMvMSkNCj4+IGNvbS5zaWdtYS5zYW1wLmltcC52aXJnaW5tZWRpYS5ic3Mu
dm9pY2UuY2FtZWxyb3V0ZXMuaW9wUm91dGUuSU9QUmVzcA0KPj4gbw0KPj4gbnNlRnRwUm91dGVC
dWlsZGVyPiBQaWNrZWQgSU9QIHJlc3BvbnNlIGZpbGUgOg0KPj4gU1QzMFBFUkZPUlBNQUpBUjE3
MDIwNzI2LnR4dCBmcm9tIElPUCBGVFAgZGlyZWN0b3J5DQo+Pg0KPj4gICAgICAgICAgICAgSU5G
TyAwNzowMDozOCAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4+IGZp
bGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3Bv
bnNlcy8xKQ0KPj4gY29tLnNpZ21hLnNhbXAuaW1wLnZpcmdpbm1lZGlhLmJzcy52b2ljZS5jYW1l
bHJvdXRlcy5pb3BSb3V0ZS5JT1BSZXNwDQo+PiBvDQo+PiBuc2VGdHBSb3V0ZUJ1aWxkZXI+IFNl
bmRpbmcgSU9QIHJlc3BvbnNlIGZpbGUgOg0KPj4gU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4
dCB0byBJQ09NUyBGVFAgZGlyZWN0b3J5DQo+Pg0KPj4gICAgICAgICAgICAgREVCVUcgMDc6MDA6
MzggKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+PiBmaWxlOi8vL2Rh
dGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkN
Cj4+IG9yZy5hcGFjaGUuY2FtZWwucHJvY2Vzc29yLlNlbmRQcm9jZXNzb3I+ID4+Pj4gRW5kcG9p
bnRbc2Z0cDovLzEwLjEwMC4xNTAuDQo+PiAxOTAvaWNvbXMvMT9kb3dubG9hZD1mYWxzZSZtYXhN
ZXNzYWdlc1BlclBvbGw9MTAmDQo+PiBwYXNzd29yZD14eHh4eHgmdGVtcFByZWZpeD1RJnVzZXJu
YW1lPXNpZ21hdXNlcl0gRXhjaGFuZ2VbIA0KPj4gU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4
dF0NCj4+DQo+Pg0KPj4NCj4+DQo+Pg0KPj4NCj4+DQo+PiAgICAgICAgICAgICBERUJVRyAwNzow
MjoxOSAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4+IGZpbGU6Ly8v
ZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8x
KQ0KPj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5HZW5lcmljRmlsZUNvbnZlcnRl
cj4gUmVhZCBmaWxlIA0KPj4gL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0lj
b21zL2lvcF9yZXNwb25zZXMvMS9TVDMwUEVSRk9SDQo+PiBQDQo+PiBNQUpBUjE3MDIwNzI2LnR4
dA0KPj4gKG5vIGNoYXJzZXQpDQo+Pg0KPj4gICAgICAgICAgICBERUJVRyAwNzowMjoxOSAoQ2Ft
ZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vy
cy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4gb3Jn
LmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1vdGUuU2Z0cE9wZXJhdGlvbnM+IEFib3V0
IHRvIHN0b3JlDQo+PiBmaWxlOiBRU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dCB1c2luZyBz
dHJlYW06DQo+PiBqYXZhLmlvLkJ1ZmZlcmVkSW5wdXRTdHJlYW1ANTRhODlmZjUNCj4+DQo+PiAg
ICAgICAgICAgIERFQlVHIDA3OjAyOjE5IChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJl
YWQgIzYgLQ0KPj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9J
Y29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+PiBvcmcuYXBhY2hlLmNhbWVsLmNvbXBvbmVudC5maWxl
LnJlbW90ZS5TZnRwT3BlcmF0aW9ucz4gVG9vayAwLjY1OCANCj4+IHNlY29uZHMNCj4+ICg2NTgg
bWlsbGlzKSB0byBzdG9yZSBmaWxlOiBRU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dCBhbmQg
RlRQIA0KPj4gY2xpZW50DQo+PiByZXR1cm5lZDogdHJ1ZQ0KPj4NCj4+DQo+Pg0KPj4gICAgICAg
ICAgICBERUJVRyAwNzowMjoyMCAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2
IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMv
aW9wX3Jlc3BvbnNlcy8xKQ0KPj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1v
dGUuUmVtb3RlRmlsZVByb2R1Y2VyPiBXcm90ZSANCj4+IFtpY29tcy8xL1FTVDMwUEVSRk9SUE1B
SkFSMTcwMjA3MjYudHh0XQ0KPj4gdG8gW0VuZHBvaW50W3NmdHA6Ly8xMC4xMDAuMTUwLjE5MC9p
Y29tcy8xP2Rvd25sb2FkPWZhbHNlJg0KPj4gbWF4TWVzc2FnZXNQZXJQb2xsPTEwJnBhc3N3b3Jk
PXh4eHh4eCZ0ZW1wUHJlZml4PVEmdXNlcm5hbWU9c2lnbWF1c2VyDQo+PiBdDQo+PiBdDQo+Pg0K
Pj4gICAgICAgICAgICBERUJVRyAwNzowMjoyMCAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkg
dGhyZWFkICM2IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92
bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQu
ZmlsZS5yZW1vdGUuU2Z0cE9wZXJhdGlvbnM+IFJlbmFtaW5nIGZpbGU6DQo+PiBpY29tcy8xL1FT
VDMwUEVSRk9SUE1BSkFSMTcwMjA3MjYudHh0IHRvOiBpY29tcy8xLyANCj4+IFNUMzBQRVJGT1JQ
TUFKQVIxNzAyMDcyNi50eHQNCj4+DQo+PiAgICAgICAgICAgICBJTkZPIDA3OjAyOjIwIChDYW1l
bCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0KPj4gZmlsZTovLy9kYXRhL3VzZXJz
L3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+PiBjb20u
c2lnbWEuc2FtcC5pbXAudmlyZ2lubWVkaWEuYnNzLnZvaWNlLmNhbWVscm91dGVzLmlvcFJvdXRl
LklPUFJlc3ANCj4+IG8NCj4+IG5zZUZ0cFJvdXRlQnVpbGRlcj4gSU9QIHJlc3BvbnNlIGZpbGUg
OiBTVDMwUEVSRk9SUE1BSkFSMTcwMjA3MjYudHh0DQo+PiBzdWNjZXNzZnVsbHkgc2VudCB0byBJ
Q09NUyBGVFAgZGlyZWN0b3J5DQo+Pg0KPj4NCj4+DQo+Pg0KPj4NCj4+ID09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KPj4gPT09PT09
PT09PT09PT09PT09PT09PT09PT09DQo+Pg0KPj4gV2hlbiB0YXJnZXQgZGlyZWN0b3J5IGhhdmlu
ZyA0MCwwMDAgZmlsZXMuIENhbWVsIHNmdHAgcHJvZHVjZXIgdG9vayANCj4+IGFyb3VuZA0KPj4g
MyBtaW51dGUgMTcgc2Vjb25kIHRvIHRyYW5zZmVyIGZpbGUNCj4+DQo+PiA9PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCj4+ID09PT09
PT09PT09PT09PT09PT09PT09PT09PQ0KPj4NCj4+DQo+Pg0KPj4gREVCVUcgMDc6NDc6MjMgKENh
bWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNl
cnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IG9y
Zy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUuRmlsZUNvbnN1bWVyPiBBYm91dCB0byBwcm9j
ZXNzIGZpbGU6DQo+PiBHZW5lcmljRmlsZVsvZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlu
cy92DQo+Pg0KPj4NCj4+IG1iL0ljb21zL2lvcF9yZXNwb25zZXMvMS9TWDMwUlBNQUpBUjE3MDI0
ODM3NTYudHh0XQ0KPj4gdXNpbmcgZXhjaGFuZ2U6IEV4Y2hhbmdlW1NYMzBSUE1BSkFSMTcwMjQ4
Mzc1Ni50eHRdDQo+Pg0KPj4gICAgICAgICAgICAgICAgIElORk8gMDc6NDc6MjMgKENhbWVsIChj
ZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2
bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IGNvbS5zaWdt
YS5zYW1wLmltcC52aXJnaW5tZWRpYS5ic3Mudm9pY2UuY2FtZWxyb3V0ZXMuaW9wUm91dGUuSU9Q
UmVzcA0KPj4gbw0KPj4gbnNlRnRwUm91dGVCdWlsZGVyPg0KPj4gUGlja2VkIElPUCByZXNwb25z
ZSBmaWxlIDoNCj4+DQo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNYMzBSUE1B
SkFSMTcwMjQ4Mzc1Ni50eHQgZnJvbSBJT1AgDQo+PiBGVFAgZGlyZWN0b3J5DQo+Pg0KPj4gICAg
ICAgICAgICAgICAgIElORk8gMDc6NDc6MjMgKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRo
cmVhZCAjNiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1i
L0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IGNvbS5zaWdtYS5zYW1wLmltcC52aXJnaW5tZWRp
YS5ic3Mudm9pY2UuY2FtZWxyb3V0ZXMuaW9wUm91dGUuSU9QUmVzcA0KPj4gbw0KPj4gbnNlRnRw
Um91dGVCdWlsZGVyPg0KPj4gU2VuZGluZyBJT1AgcmVzcG9uc2UgZmlsZQ0KPj4NCj4+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBTWDMwUlBNQUpBUjE3MDI0ODM3NTYudHh0IHRv
IElDT01TIA0KPj4gRlRQIGRpcmVjdG9yeQ0KPj4NCj4+ICAgICAgICAgICAgICAgICBERUJVRyAw
Nzo0NzoyMyAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IA0KPj4gLQ0KPj4g
ZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVz
cG9uc2VzLzEpDQo+PiBvcmcuYXBhY2hlLmNhbWVsLnByb2Nlc3Nvci5TZW5kUHJvY2Vzc29yPiA+
Pj4+IEVuZHBvaW50W3NmdHA6Ly8xMC4xMDAuMTUwLg0KPj4gMTkwL2ljb21zLzE/ZG93bmxvYWQ9
ZmFsc2UmbWF4TWVzc2FnZXNQZXINCj4+DQo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIFBvbGw9MTAmcGFzc3dvcmQ9eHh4eHh4JiANCj4+IHRlbXBQcmVmaXg9USZ1c2VybmFtZT1z
aWdtYXVzZXJdIEV4Y2hhbmdlW1NYMzBSUE1BSkFSMTcwMjQ4Mzc1Ni50eHRdDQo+Pg0KPj4NCj4+
DQo+Pg0KPj4NCj4+ICAgICAgICAgICAgICAgICBERUJVRyAwNzo1MDo0MCAoQ2FtZWwgKGNmZ01n
ckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IA0KPj4gLQ0KPj4gZmlsZTovLy9kYXRhL3VzZXJzL3Ns
dm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+PiBvcmcuYXBh
Y2hlLmNhbWVsLmNvbXBvbmVudC5maWxlLkdlbmVyaWNGaWxlQ29udmVydGVyPiBSZWFkIGZpbGUg
DQo+PiAvZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3Bv
bnNlcy8xL1NYMzBSUE1BSkENCj4+IFINCj4+IDE3MDI0ODM3NTYudHh0DQo+PiAobm8gY2hhcnNl
dCkNCj4+DQo+PiAgICAgICAgICAgICAgICAgREVCVUcgMDc6NTA6NDAgKENhbWVsIChjZmdNZ3JD
YW1lbENvbnRleHQpIHRocmVhZCAjNiANCj4+IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZt
MDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4gb3JnLmFwYWNo
ZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1vdGUuU2Z0cE9wZXJhdGlvbnM+IEFib3V0IHRvIHN0
b3JlDQo+PiBmaWxlOiBRU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dCB1c2luZyBzdHJlYW06DQo+
PiBqYXZhLmlvLkJ1ZmZlcmVkSW5wdXRTdHJlYW1ADQo+PiA3OTU0Y2ZhOA0KPj4NCj4+ICAgICAg
ICAgICAgICAgICBERUJVRyAwNzo1MDo0MCAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhy
ZWFkICM2IA0KPj4gLQ0KPj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5z
L3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+PiBvcmcuYXBhY2hlLmNhbWVsLmNvbXBvbmVu
dC5maWxlLnJlbW90ZS5TZnRwT3BlcmF0aW9ucz4gVG9vayAwLjY1OSANCj4+IHNlY29uZHMNCj4+
ICg2NTkgbWlsbGlzKSB0byBzdG9yZSBmaWxlOiBRU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dCBh
bmQgRlRQIGNsaWVudA0KPj4gcmV0dXJuZWQ6IHRydWUNCj4+DQo+PiAgICAgICAgICAgICAgICAg
REVCVUcgMDc6NTA6NDEgKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiANCj4+
IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMv
aW9wX3Jlc3BvbnNlcy8xKQ0KPj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1v
dGUuUmVtb3RlRmlsZVByb2R1Y2VyPiBXcm90ZSANCj4+IFtpY29tcy8xL1FTWDMwUlBNQUpBUjE3
MDI0ODM3NTYudHh0XQ0KPj4gdG8gW0VuZHBvaW50W3NmdHA6Ly8xMC4xMDAuMTUwLjE5MC9pY29t
cy8xP2Rvd25sb2FkPWZhbHNlJg0KPj4gbWF4TWVzc2FnZXNQZXJQb2xsPTEwJnBhc3N3b3JkPXh4
eHh4eCZ0ZW1wUHJlZml4PVEmdXNlcm5hbWU9c2lnbWF1c2VyDQo+PiBdDQo+PiBdDQo+Pg0KPj4g
ICAgICAgICAgICAgICAgIERFQlVHIDA3OjUwOjQxIChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0
KSB0aHJlYWQgIzYgDQo+PiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2Rv
bWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IG9yZy5hcGFjaGUuY2FtZWwuY29t
cG9uZW50LmZpbGUucmVtb3RlLlNmdHBPcGVyYXRpb25zPiBSZW5hbWluZyBmaWxlOg0KPj4gaWNv
bXMvMS9RU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dCB0bzoNCj4+IGljb21zLzEvU1gzMFJQTUFK
QVIxNzAyNDgzNzU2LnR4dA0KPj4NCj4+ICAgICAgICAgICAgICAgICBJTkZPIDA3OjUwOjQxIChD
YW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0KPj4gZmlsZTovLy9kYXRhL3Vz
ZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+PiBj
b20uc2lnbWEuc2FtcC5pbXAudmlyZ2lubWVkaWEuYnNzLnZvaWNlLmNhbWVscm91dGVzLmlvcFJv
dXRlLklPUFJlc3ANCj4+IG8NCj4+IG5zZUZ0cFJvdXRlQnVpbGRlcj4gSU9QIHJlc3BvbnNlIGZp
bGUgOiBTWDMwUlBNQUpBUjE3MDI0ODM3NTYudHh0DQo+PiBzdWNjZXNzZnVsbHkgc2VudCB0byBJ
Q09NUyBGVFAgZGlyZWN0b3J5DQo+Pg0KPj4NCj4+DQo+Pg0KPj4NCj4+DQo+Pg0KPj4gPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+
PiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+Pg0KPj4gU2ltaWxh
cmx5IHdoZW4gd2UgYWNoaWV2ZWQgdGhlIGZpbGVzIGZyb20gdGFyZ2V0IGRpcmVjdG9yeS4gSXQg
dG9vayANCj4+IGFyb3VuZA0KPj4gNiBzZWMuSXQgc2VlbXMgbGlrZSB0aGVyZSBpcyBhIHBlcmZv
cm1hbmNlIGlzc3VlIHdpdGggY2FtZWwgc2Z0cCBjb21wb25lbnQuDQo+PiBEb2VzIGl0IGxpc3Qg
dGhlIGZpbGVzIGluIHRhcmdldCBkaXJlY3Rvcnkgd2hpY2ggaXMgdGFraW5nIHRpbWUuDQo+Pg0K
Pj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09DQo+PiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCj4+DQo+
Pg0KPj4NCj4+IFBGQiB0aGUgcHJvZHVjZXIgcm91dGUgd2hpY2ggd2Ugc2V0IHVwDQo+Pg0KPj4g
c2Z0cDovLzEwLjEwMC4xNTAuMTkwL2ljb21zLzE/ZG93bmxvYWQ9ZmFsc2UmbWF4TWVzc2FnZXNQ
ZXJQb2xsPTEwJg0KPj4gcGFzc3dvcmQ9eHh4eHh4JnRlbXBQcmVmaXg9USZ1c2VybmFtZT1zaWdt
YXVzZXINCj4+DQo+Pg0KPj4NCj4+DQo+Pg0KPj4gUGxlYXNlIGxldCB1cyBrbm93IGlmIHlvdSBu
ZWVkIGFueXRoaW5nIGVsc2UuDQo+Pg0KPj4NCj4+DQo+Pg0KPj4NCj4+ICpBeXVzaCBEaXhpdCoN
Cj4+ICpTb2Z0d2FyZSBFbmdpbmVlcioNCj4+IGF5dXNoLmRpeGl0QHNpZ21hLXN5c3RlbXMuY29t
DQo+Pg0KPj4gTzogKzkxLjIwLjI1NjYxOTkyIHggMzIxIDwrOTElMjAyMCUyMDI1NjYlMjAxOTky
PiB8ICBNOg0KPj4gKzkxLTgxNC05ODItNjI2MCA8KzkxJTIwODE0OTglMjAyNjI2MD4gfCBTa3lw
ZTogYXl1c2hkaXhpdDQyMQ0KPj4NCj4+IFtpbWFnZTogY2lkOmltYWdlMDAxLmpwZ0AwMUQxNjgw
OS5FMTJDMEQ1MF0NCj4+IDxodHRwOi8vd3d3LnNpZ21hLXN5c3RlbXMuY29tLz4NCj4+DQo+Pg0K
Pj4NCj4+DQo+Pg0KPg0KPg0KPg0KPiAtLQ0KPiBDbGF1cyBJYnNlbg0KPiAtLS0tLS0tLS0tLS0t
LS0tLQ0KPiBodHRwOi8vZGF2c2NsYXVzLmNvbSBAZGF2c2NsYXVzDQo+IENhbWVsIGluIEFjdGlv
biAyOiBodHRwczovL3d3dy5tYW5uaW5nLmNvbS9pYnNlbjINCg0KDQoNCi0tDQpDbGF1cyBJYnNl
bg0KLS0tLS0tLS0tLS0tLS0tLS0NCmh0dHA6Ly9kYXZzY2xhdXMuY29tIEBkYXZzY2xhdXMNCkNh
bWVsIGluIEFjdGlvbiAyOiBodHRwczovL3d3dy5tYW5uaW5nLmNvbS9pYnNlbjINCg==

From users-return-65235-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 08:49:20 2017
Return-Path: <users-return-65235-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B6C98181B7
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 08:49:20 +0000 (UTC)
Received: (qmail 1213 invoked by uid 500); 5 Apr 2017 08:49:20 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 1164 invoked by uid 500); 5 Apr 2017 08:49:20 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 98556 invoked by uid 99); 5 Apr 2017 08:48:04 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.38
X-Spam-Level: **
X-Spam-Status: No, score=2.38 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=from:mime-version:date:subject:message-id:to;
        bh=gWkqJaTvTPNhCOPYuPzcq034fySaBvpN5OBetdxci9g=;
        b=cXziyBRDK+JO3r0LBJK5ka3L4qZ/Ogm21NhHnNy0fZp92bGEz3RwQ8Bb6xoEYvzxRV
         XmmlDsU68AKTb+NS17lquYZq1ETZUJ9FGBFqaBU+VJURQ/WFOKKhYhIFKXT4A95kKXAk
         ukfrh0lxAzWfVVdDpjDnmxoGYIfcMkaagdh7f9wLaTTSnaY/xoXMJG+60njEjEEJyUeZ
         umI16uE+V1afpRHVEoj8uAjoa2+SGpZkscunwFd8Z2sncHg6wnVdEjtAjotb8/rdu6u+
         /5+v41aLpvaA3FVv25cmio9e7KAHhVO6koUPCXc+uAq1vclvyD1L9e7qjMpIlDiNeLK0
         W1Ww==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:from:mime-version:date:subject:message-id:to;
        bh=gWkqJaTvTPNhCOPYuPzcq034fySaBvpN5OBetdxci9g=;
        b=UVfrEy+Fo2jStXZmLSYCrf5QSrNgLmc4tWnWaWbwZbBdmoFP7Kv6W2EfPfanR1JvNI
         By0cNRj6MRsES5VviwBdSP/s0zuwJTBNo8PCc7FOEnlWTmBUZs8+60kkHVY6J5zoPY09
         2VyOlmUUhY1OiEfsEfoX/R4vLFrJ/LYIqr4viM2iyGNR7gjF5QYNfYsYeMuGzRgQSOXt
         MFJZXyR6auUqGGOvfUcBh3cPwPXE/48ciMY2xoYa/cUosheDNrkHbBuvexk+Qjl/0P6t
         A/moVI9404KesUfrgVp2qBDfSGUXNuhxjsJf/fNzp8XOGz7WQKP4ZHcnkT8PfpP15suu
         y4aw==
X-Gm-Message-State: AFeK/H29xIDr4tnBA9w3FSxC5+m0ICNpIHdNa0iRHlrbbOpCKULraMJk
	qrFOW95+lSEhRFKON2Q=
X-Received: by 10.28.209.75 with SMTP id i72mr16902221wmg.31.1491382075833;
        Wed, 05 Apr 2017 01:47:55 -0700 (PDT)
From: Thomas Diesler <thomas.diesler@gmail.com>
Content-Type: multipart/alternative;
 boundary="Apple-Mail=_E84A9F74-345C-46B0-B777-076682212103"
Mime-Version: 1.0 (Mac OS X Mail 10.3 \(3273\))
Date: Wed, 5 Apr 2017 10:47:54 +0200
Subject: WildFy-Camel-4.6.0 released
Message-Id: <C85C3A7E-7128-4D67-BC45-743CA76E8305@gmail.com>
To: users@camel.apache.org
X-Mailer: Apple Mail (2.3273)

--Apple-Mail=_E84A9F74-345C-46B0-B777-076682212103
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii

Dear Folks,

WildFly-Camel 4.6.0 provides Camel-2.18.3 integration with =
WildFly-10.1.0

This is another upgrade release for supported Camel components, which =
now brings the total up to 112, with 35 components still planned =
<https://github.com/wildfly-extras/wildfly-camel/blob/4.6.0/catalog/src/ma=
in/resources/component.roadmap#L115> for future releases. All data =
formats and languages are fully supported.=20

We also upgraded cloud integration to OpenShift-3.4 and had strong focus =
on the AIX and Windows platform. This is also the first release with =
makes every component, data format and language available as =
WildFly-Swarm Fraction <https://issues.jboss.org/browse/SWARM-1079>.  =20=


Additional components in the supported set =
<http://wildfly-extras.github.io/wildfly-camel/#_camel_components> are:

* camel-amq
* camel-rabitmq
* camel-sjms-batch
* camel-snmp
* camel-splunk
* camel-spring-batch
* camel-spring-integration
* camel-spring-ldap
* camel-spring-redis

Component upgrades include

* Camel-2.18.3
* HawtIO-1.5.0
* OpenShift-3.4

In addition to that, we also resolved a number of other tasks and =
bugfixes =
<https://github.com/wildfly-extras/wildfly-camel/blob/master/docs/Changelo=
g.md>.

For details please see the 4.6.0 Milestone =
<https://github.com/wildfly-extras/wildfly-camel/issues?q=3Dmilestone:4.6.=
0>.

Enjoy

--Apple-Mail=_E84A9F74-345C-46B0-B777-076682212103--

From users-return-65236-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 08:53:59 2017
Return-Path: <users-return-65236-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CCA5718318
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 08:53:59 +0000 (UTC)
Received: (qmail 23728 invoked by uid 500); 5 Apr 2017 08:53:59 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 23683 invoked by uid 500); 5 Apr 2017 08:53:59 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 23670 invoked by uid 99); 5 Apr 2017 08:53:58 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 08:53:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 79E7B1813A4
	for <users@camel.apache.org>; Wed,  5 Apr 2017 08:53:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.13
X-Spam-Level: **
X-Spam-Status: No, score=2.13 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_ENVFROM_END_DIGIT=0.25, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 0coBnDTGUKaR for <users@camel.apache.org>;
	Wed,  5 Apr 2017 08:53:54 +0000 (UTC)
Received: from mail-yw0-f175.google.com (mail-yw0-f175.google.com [209.85.161.175])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 98F275F24C
	for <users@camel.apache.org>; Wed,  5 Apr 2017 08:53:54 +0000 (UTC)
Received: by mail-yw0-f175.google.com with SMTP id d191so2956177ywe.2
        for <users@camel.apache.org>; Wed, 05 Apr 2017 01:53:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=jtU1YQqHVuGSgWOp8K5Jtx24UMqfG4MZ0EblbXwJa+4=;
        b=Pusm3jVTGBA9Dr0cYVrFXGnlKDE8kCUXPUGZ7r9bmd8k7PnQ+F4vO55rG2Ai3UtEWH
         5DRpm59LIX9PTWSko5j36nDnkbIZ3v5rR7k3SEIoRo+T/+ptVKQ2/knO3yO5LKUvgJRw
         JTZEReVC1ma16fNLzHpx6MmuMGi0RQJAsUFF7/4tgfjsXSaE/ZUqlzFHLMrOCEVqhPPI
         RLhASKSF58+uY7B9KNLPLFxA2FWqLQ1ZIXjMUVb0VwYlg1kfuU52/BmfZy8Z/62qfy3F
         vd381i7M4sp0NkxvQVM83eNGGCWaqZFs/jewxSttjgjemRjlM0dNAv/LLnGyo6Vuwzxf
         jfXg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=jtU1YQqHVuGSgWOp8K5Jtx24UMqfG4MZ0EblbXwJa+4=;
        b=raZcxHlVJMJcs3ryZpNDgTa/olgoXwLWAQTYVSAEvwlgsDeREFBZRktI127tBNyVv5
         9P1ABDAYrpbyH69THPvO8wzLBOFu5kSObcsVfUXH6EEzvrV78Z7acOAF+Tsl5U+9O8gY
         svp2BqcQ6b5cp1dpMqz0nq9gWRQV0NfXQ3+FYEQexde5AAg9cP4jM9fQBfAdxBW/pZgd
         0kdd6Ffvi+FSZpfIXe9noCxJN7/y1LZ0TD5pBRUek4yyDv7qkOSbbBd7MzLtQfKph3mB
         iN35RpO60jqQ5otoV3NhAwB0EEq8awMpSXGo0h2ufaJORzZI2rYb0+U+h5uLc1LiOtUi
         HA1w==
X-Gm-Message-State: AFeK/H3KqcBY3ZXcpAu6qRKYQc2Mupy4lnUYo7GOFinNJJ8iPD01oODQzW7UV6lT/NvAPDA+bQUv0bKFu3vOpg==
X-Received: by 10.129.137.66 with SMTP id z63mr19803335ywf.211.1491382433750;
 Wed, 05 Apr 2017 01:53:53 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.13.245.65 with HTTP; Wed, 5 Apr 2017 01:53:33 -0700 (PDT)
In-Reply-To: <C85C3A7E-7128-4D67-BC45-743CA76E8305@gmail.com>
References: <C85C3A7E-7128-4D67-BC45-743CA76E8305@gmail.com>
From: Anton <kurrent93@gmail.com>
Date: Wed, 5 Apr 2017 10:53:33 +0200
Message-ID: <CAD44pJC_H2qMthwFUx9+RAFRjKgZVR=v_N2Bs1XmrH1CX_LzuQ@mail.gmail.com>
Subject: Re: WildFy-Camel-4.6.0 released
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c064e083046ab054c6788f2

--94eb2c064e083046ab054c6788f2
Content-Type: text/plain; charset=UTF-8

Well done!

Congrats!

On 5 April 2017 at 10:47, Thomas Diesler <thomas.diesler@gmail.com> wrote:

> Dear Folks,
>
> WildFly-Camel 4.6.0 provides Camel-2.18.3 integration with WildFly-10.1.0
>
> This is another upgrade release for supported Camel components, which now
> brings the total up to 112, with 35 components still planned <
> https://github.com/wildfly-extras/wildfly-camel/blob/4.6.
> 0/catalog/src/main/resources/component.roadmap#L115> for future releases.
> All data formats and languages are fully supported.
>
> We also upgraded cloud integration to OpenShift-3.4 and had strong focus
> on the AIX and Windows platform. This is also the first release with makes
> every component, data format and language available as WildFly-Swarm
> Fraction <https://issues.jboss.org/browse/SWARM-1079>.
>
> Additional components in the supported set <http://wildfly-extras.github.
> io/wildfly-camel/#_camel_components> are:
>
> * camel-amq
> * camel-rabitmq
> * camel-sjms-batch
> * camel-snmp
> * camel-splunk
> * camel-spring-batch
> * camel-spring-integration
> * camel-spring-ldap
> * camel-spring-redis
>
> Component upgrades include
>
> * Camel-2.18.3
> * HawtIO-1.5.0
> * OpenShift-3.4
>
> In addition to that, we also resolved a number of other tasks and bugfixes
> <https://github.com/wildfly-extras/wildfly-camel/blob/
> master/docs/Changelog.md>.
>
> For details please see the 4.6.0 Milestone <https://github.com/wildfly-
> extras/wildfly-camel/issues?q=milestone:4.6.0>.
>
> Enjoy
>

--94eb2c064e083046ab054c6788f2--

From users-return-65237-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 10:43:39 2017
Return-Path: <users-return-65237-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0601418922
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 10:43:39 +0000 (UTC)
Received: (qmail 74412 invoked by uid 500); 5 Apr 2017 10:43:38 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 74367 invoked by uid 500); 5 Apr 2017 10:43:38 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 74351 invoked by uid 99); 5 Apr 2017 10:43:38 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 10:43:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C88461AF91E
	for <users@camel.apache.org>; Wed,  5 Apr 2017 10:43:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.799
X-Spam-Level:
X-Spam-Status: No, score=0.799 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_NONE=-0.0001,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id FaL042B8de2i for <users@camel.apache.org>;
	Wed,  5 Apr 2017 10:43:35 +0000 (UTC)
Received: from mx4.adesso.de (mx4.adesso.de [85.22.63.1])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 7F5E35F1A0
	for <users@camel.apache.org>; Wed,  5 Apr 2017 10:43:35 +0000 (UTC)
Received: from EX2013-DB01.adesso.local ([10.100.2.21]) by mx4.adesso.de 
    (8.14.7/8.14.7) with ESMTP id v35AhOmT006714 
    (version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL) 
    for <users@camel.apache.org>; Wed, 5 Apr 2017 12:43:24 +0200
Received: from EX2013-DB01.adesso.local (10.100.2.21) by 
    EX2013-DB01.adesso.local (10.100.2.21) with Microsoft SMTP Server 
    (TLS) id 15.0.1263.5; Wed, 5 Apr 2017 12:43:23 +0200
Received: from EX2013-DB01.adesso.local ([fe80::691a:93a6:a507:93be]) by 
    EX2013-DB01.adesso.local ([fe80::691a:93a6:a507:93be%17]) with mapi 
    id 15.00.1263.000; Wed, 5 Apr 2017 12:43:23 +0200
From: "Meyfarth, Frank" <meyfarth@adesso.de>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: camel-cmis: sessionhandling not working as expected
Thread-Topic: camel-cmis: sessionhandling not working as expected
Thread-Index: AQHSrflzcbGTtKYlgEqBzoSqZGTjfw==
Date: Wed, 5 Apr 2017 10:43:23 +0000
Message-ID: <D50A96E8.DC60%meyfarth@adesso.de>
Accept-Language: de-DE, en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
user-agent: Microsoft-MacOutlook/14.7.2.170228
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-exchange-transport-fromentityheader: Hosted
x-originating-ip: [10.2.18.142]
x-puremessage: [Scanned]
Content-Type: text/plain; charset="utf-8"
Content-ID: <8F2EEC0027226246A592E6A282651E90@adesso.de>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
x-msw-jemd-spam: not checked

SGkgZXZlcnlvbmUsDQoNCk1heWJlIEnigJltIGp1c3QgdG8gZHVtYiB0byBnZXQgaXQsIGJ1dCBJ
IGJlbGlldmUgSSBoYXZlIGZvdW5kIGEgYnVnIGluDQpjYW1lbC1jbWlzLg0KDQpJIHVzZSB0aGUg
Zm9sbG93aW5nIFVSSSB3aXRoaW4gYSBDTUlTIHByb2R1Y2VyIHRvIHNlbmQgYSBxdWVyeSB0byB0
aGUgQ01JUw0Kc3lzdGVtLg0KDQpjbWlzOmh0dHA6Ly9yYWJvYmFuay1haXItZGV2MDEudGVzdC1z
ZXJ2ZXIuYWc6ODA4MC9hbGZyZXNjby9hcGkvLWRlZmF1bHQtL3ANCnVibGljL2NtaXMvdmVyc2lv
bnMvMS4xL2F0b20/dXNlcm5hbWU9YWRtaW4mcGFzc3dvcmQ9YWRtaW4mcmVwb3NpdG9yeUlkPS1k
ZQ0KZmF1bHQtJnF1ZXJ5TW9kZT10cnVlDQoNCkFzIHlvdSBjYW4gc2VlLCB0aGUgc2VydmVyIGNy
ZWRlbnRpYWxzIGFyZSBwcmVzZW50IGFzIG9wdGlvbnMgd2l0aGluIHRoZQ0KVVJJLg0KDQpVbmZv
cnR1bmF0ZWx5IEkgYWx3YXlzIGdldCBIVFRQIGNvZGUgNDAxIFVuYXV0aG9yaXplZC4gQWx0aG91
Z2ggdGhlDQpjcmVkZW50aWFscyBhcmUgY29ycmVjdCBhbmQgdmVyaWZpZWQsIG9mZiBjb3Vyc2Uu
DQoNCkkgYWxyZWFkeSBkZWJ1Z2dlZCBpbnRvIHRoZSBjb21wb25lbnQgYW5kIGZvdW5kIHRoZSBm
b2xsb3dpbmcgY29kZSBpbg0Kb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuY21pcy5DTUlTQ29t
cG9uZW50Og0KDQouLi4NCjAwIHByb3RlY3RlZCBFbmRwb2ludCBjcmVhdGVFbmRwb2ludChTdHJp
bmcgdXJpLCBmaW5hbCBTdHJpbmcgcmVtYWluaW5nLA0KZmluYWwgTWFwPFN0cmluZywgT2JqZWN0
PiBwYXJhbWV0ZXJzKSB0aHJvd3MgRXhjZXB0aW9uIHsNCjAxICAgICBib29sZWFuIHF1ZXJ5TW9k
ZSA9IHJlbW92ZVF1ZXJ5TW9kZShwYXJhbWV0ZXJzKTsNCjAyIA0KMDMgICAgIENNSVNTZXNzaW9u
RmFjYWRlIHNlc3Npb25GYWNhZGUgPSBuZXcgQ01JU1Nlc3Npb25GYWNhZGUocmVtYWluaW5nKTsN
CjA0ICAgICBzZXRQcm9wZXJ0aWVzKHNlc3Npb25GYWNhZGUsIHBhcmFtZXRlcnMpOw0KMDUgDQow
NiAgICAgQ01JU0VuZHBvaW50IGVuZHBvaW50ID0gbmV3IENNSVNFbmRwb2ludCh1cmksIHRoaXMs
IG5ldw0KQ01JU1Nlc3Npb25GYWNhZGVGYWN0b3J5KCkgew0KMDcgICAgICAgICBAT3ZlcnJpZGUN
CjA4ICAgICAgICAgcHVibGljIENNSVNTZXNzaW9uRmFjYWRlIGNyZWF0ZSgpIHRocm93cyBFeGNl
cHRpb24gew0KMDkgICAgICAgICAgICAgQ01JU1Nlc3Npb25GYWNhZGUgc2Vzc2lvbkZhY2FkZSA9
IG5ldw0KQ01JU1Nlc3Npb25GYWNhZGUocmVtYWluaW5nKTsNCjEwICAgICAgICAgICAgIHNldFBy
b3BlcnRpZXMoc2Vzc2lvbkZhY2FkZSwgcGFyYW1ldGVycyk7DQoxMSANCjEyICAgICAgICAgICAg
IHJldHVybiBzZXNzaW9uRmFjYWRlOw0KMTMgICAgICAgICB9DQoxNCAgICAgfSk7DQoxNSANCjE2
ICAgICBlbmRwb2ludC5zZXRRdWVyeU1vZGUocXVlcnlNb2RlKTsNCjE3IA0KMTggICAgIHJldHVy
biBlbmRwb2ludDsNCjE5IH0NCg0KLi4uDQoNCkF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIG1ldGhv
ZCBhbGwgb3B0aW9ucyBhcmUgc3RpbGwgcHJlc2VudCBpbiB0aGUNCuKAnnBhcmFtZXRlcnPigJwg
bWFwLiBBZnRlciB0aGUgc2Vzc2lvbiBmYWNhZGUgaGFzIGJlZW4gY3JlYXRlZCBpbiBsaW5lIDAz
IG9mDQp0aGUgbWV0aG9kIGl0cyBwYXJhbWV0ZXJzIGdldCBzZXQgYnkgY2FsbGluZyDigJ5zZXRQ
cm9wZXJ0aWVz4oCcLiBUaGlzIHdvcmtzDQpmaW5lIGZvciB0aGUgY3JlYXRlZCBzZXNzaW9uIGZh
Y2FkZS4gQnV0IOKAnnNldFByb3BlcnRpZXPigJwgcmVtb3ZlcyB0aGUNCnByb3BlcnRpZXMgd2hp
Y2ggaGF2ZSBiZWVuIHN1Y2Nlc3NmdWxseSBzZXQgZnJvbSB0aGUg4oCecGFyYW1ldGVyc+KAnCBt
YXAuDQpUaGVyZWZvcmUgcGFyYW1ldGVycyDigJ51c2VybmFtZeKAnCBhbmQg4oCecGFzc3dvcmTi
gJwgYXJlIG5vIGxvbmdlciBwcmVzZW50IGFmdGVyDQpleGVjdXRpb24gb2YgbGluZSAwNC4gTGF0
ZXIsIHdoZW4gdGhlIOKAnmNyZWF0ZeKAnCBtZXRob2Qgb2YgdGhlIGFub255bW91cw0KQ01JU0Vu
ZHBvaW50IGNyZWF0ZWQgaW4gbGluZSAwNiBnZXRzIGNhbGxlZCwgdGhlc2UgYXJlIHN0aWxsIG5v
dCBwcmVzZW50DQphbmQgdGhlcmVmb3JlIE5VTEwuIEFuZCB0aGlzIGlzIHdoYXQgZmluYWxseSBs
ZWFkcyB0byB0aGUgNDAxIHJldHVybiBjb2RlLg0KDQpFaXRoZXIgSSB1c2UgdGhlIEVuZHBvaW50
IGluIGEgd3Jvbmcgd2F5LiBJbiB0aGF0IGNhc2UgcHJvYmFibHkgc29tZW9uZQ0KY2FuIGV4cGxh
aW4gdG8gbWUgaG93IHRvIHVzZSBpdC4NCk9yIHRoaXMgaXMgYWN0dWFsbHkgYSBidWcuIEluIHRo
aXMgY2FzZSBJIGNvdWxkIG9mZmVyIGZpeGluZyBvciBzb21lb25lDQplbHNlIGRvZXMgaXQuIFdo
aWNoIHdvdWxkIGJlIGFwcHJlY2lhdGVkLg0KDQpCZXN0IHJlZ2FyZHMgYW5kIHRoYW5rcyBmb3Ig
eW91ciBoZWxwDQoNCkZyYW5rDQoNCg0KDQoNCi0tIA0KRnJhbmsgTWV5ZmFydGggICAgIA0KYWRl
c3NvIEFHICAgICAgICAgICAgICAgICAgICAgVCArNDkgMjMxIDcwMDAtMjM4MA0KU3RvY2tob2xt
ZXIgQWxsZWUgMjAgICAgICAgICAgRiArNDkgMjMxIDcwMDAtMTAwMA0KNDQyNjkgRG9ydG11bmQg
ICAgICAgICAgICAgICAgRSBtZXlmYXJ0aEBhZGVzc28uZGUNCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHd3dy5hZGVzc28uZGUgPGh0dHA6Ly93d3cuYWRlc3NvLmRlPg0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgYmxvZy5hZGVzc28uZGUgPGh0dHA6Ly9ibG9nLmFkZXNzby5k
ZT4NCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tDQogICAgID4+PiBidXNpbmVzcy4gcGVvcGxlLiB0ZWNobm9sb2d5LiA8PDwNCi0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KYWRl
c3NvIEFHIG1pdCBTaXR6IGluIERvcnRtdW5kDQpWb3JzdGFuZDogTWljaGFlbCBLZW5mZW5oZXVl
ciAoVm9ycy4pLCBDaHJpc3RvcGggSnVuZ2UsIEFuZHJlYXMgUHJlbm5laXMNClZvcnNpdHplbmRl
ciBkZXMgQXVmc2ljaHRzcmF0ZXM6IFByb2YuIERyLiBWb2xrZXIgR3J1aG4NCkFtdHNnZXJpY2h0
IERvcnRtdW5kIEhSQiAyMDY2Mw0KDQpodHRwczovL3d3dy53aXJtYWNoZW5kYXNqZXR6dC5kZS9k
ZS8/dXRtX3NvdXJjZT1CYW5uZXIlMjAmdXRtX21lZGl1bT1FLU1haWwmdXRtX2NhbXBhaWduPURH
VA0K

From users-return-65238-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 10:45:43 2017
Return-Path: <users-return-65238-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0D93118939
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 10:45:43 +0000 (UTC)
Received: (qmail 79833 invoked by uid 500); 5 Apr 2017 10:45:42 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 79781 invoked by uid 500); 5 Apr 2017 10:45:42 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 79762 invoked by uid 99); 5 Apr 2017 10:45:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 10:45:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C71BF1AF91E
	for <users@camel.apache.org>; Wed,  5 Apr 2017 10:45:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.975
X-Spam-Level: ***
X-Spam-Status: No, score=3.975 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FORGED_MUA_MOZILLA=1.596, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	FREEMAIL_REPLYTO_END_DIGIT=0.25, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=yahoo.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 36yqmhk_4J52 for <users@camel.apache.org>;
	Wed,  5 Apr 2017 10:45:39 +0000 (UTC)
Received: from nm28.bullet.mail.bf1.yahoo.com (nm28.bullet.mail.bf1.yahoo.com [98.139.212.187])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id CAA6C5F24E
	for <users@camel.apache.org>; Wed,  5 Apr 2017 10:45:38 +0000 (UTC)
Received: from [98.139.170.182] by nm28.bullet.mail.bf1.yahoo.com with NNFMP; 05 Apr 2017 10:45:32 -0000
Received: from [98.139.212.193] by tm25.bullet.mail.bf1.yahoo.com with NNFMP; 05 Apr 2017 10:45:32 -0000
Received: from [127.0.0.1] by omp1002.mail.bf1.yahoo.com with NNFMP; 05 Apr 2017 10:45:32 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 6990.28817.bm@omp1002.mail.bf1.yahoo.com
X-YMail-OSG: MQyfENoVM1ndEVm2VUqW6dVPsWH8yqzBBKTN7uUg.v7bKkxg6e8oC1U8xb33G6R
 9Obkkp_lS5D0geCgC_XaFp7NJr.LAn1vEZOZ7C3rV2sCq2lwLukmJgRw7J4p0XQZceA2srNpMfu7
 6U5WjsfZKF_BVOltEYCLh3cZkFqZLKubVE7Wxq9PUB4WeMLppETSrVRHRFj8lQnUetKdL4FNt1u5
 EA2WhLsWaYMC8_sSmHWvrD5I1X2DjvJyFjJG3rS_B9zNrgVzC9OacNyqkBiMj7ilB8eprIjSVAh9
 JmIl0dDuZW20KCxbZxGbdRJPCSaeLZaaeyisdHi3P4z5qUZPoKfcI1.H4uD0RmJOtbN45M9TPWlF
 7KXUZ5qk3hnRaBourhKQ2KK0Nt.2VT2J_9iwUfPRTjltBF1o.3wqp9.XtHfJnA6Wu4T07_xs5v1R
 gyFIvozrNRYcsQrah_5EEHyijuHhOkiR3rRjg4k94oTuSy8K79Q_wJSQqQL_XvfeFUBBDrIAgfNR
 SAcYXk54B2qA1fLOYR_WdBWvwkg7JfudyBkWvSpqKjjGvOhV4wmcK21MmotHFOw--
Received: from jws400064.mail.bf2.yahoo.com by sendmailws106.mail.bf1.yahoo.com; Wed, 05 Apr 2017 10:45:31 +0000; 1491389131.540
Date: Wed, 5 Apr 2017 10:45:31 +0000 (UTC)
From: Andrea Cosentino <ancosen1985@yahoo.com.INVALID>
Reply-To: Andrea Cosentino <ancosen1985@yahoo.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Message-ID: <788621682.305832.1491389131308@mail.yahoo.com>
In-Reply-To: <D50A96E8.DC60%meyfarth@adesso.de>
References: <D50A96E8.DC60%meyfarth@adesso.de>
Subject: Re: camel-cmis: sessionhandling not working as expected
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_305831_201074722.1491389131295"
X-Mailer: WebService/1.1.9272 YahooMailNeo Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.98 Safari/537.36

------=_Part_305831_201074722.1491389131295
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

What is the camel version you're currently using?=C2=A0--Andrea Cosentino=
=C2=A0----------------------------------Apache Camel PMC MemberApache Karaf=
 CommitterApache Servicemix PMC MemberEmail: ancosen1985@yahoo.comTwitter: =
@oscerd2Github: oscerd=20

    On Wednesday, April 5, 2017 12:43 PM, "Meyfarth, Frank" <meyfarth@adess=
o.de> wrote:
=20

 Hi everyone,

Maybe I=E2=80=99m just to dumb to get it, but I believe I have found a bug =
in
camel-cmis.

I use the following URI within a CMIS producer to send a query to the CMIS
system.

cmis:http://rabobank-air-dev01.test-server.ag:8080/alfresco/api/-default-/p
ublic/cmis/versions/1.1/atom?username=3Dadmin&password=3Dadmin&repositoryId=
=3D-de
fault-&queryMode=3Dtrue

As you can see, the server credentials are present as options within the
URI.

Unfortunately I always get HTTP code 401 Unauthorized. Although the
credentials are correct and verified, off course.

I already debugged into the component and found the following code in
org.apache.camel.component.cmis.CMISComponent:

...
00 protected Endpoint createEndpoint(String uri, final String remaining,
final Map<String, Object> parameters) throws Exception {
01=C2=A0 =C2=A0 boolean queryMode =3D removeQueryMode(parameters);
02=20
03=C2=A0 =C2=A0 CMISSessionFacade sessionFacade =3D new CMISSessionFacade(r=
emaining);
04=C2=A0 =C2=A0 setProperties(sessionFacade, parameters);
05=20
06=C2=A0 =C2=A0 CMISEndpoint endpoint =3D new CMISEndpoint(uri, this, new
CMISSessionFacadeFactory() {
07=C2=A0 =C2=A0 =C2=A0 =C2=A0 @Override
08=C2=A0 =C2=A0 =C2=A0 =C2=A0 public CMISSessionFacade create() throws Exce=
ption {
09=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 CMISSessionFacade sessionFacade=
 =3D new
CMISSessionFacade(remaining);
10=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 setProperties(sessionFacade, pa=
rameters);
11=20
12=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return sessionFacade;
13=C2=A0 =C2=A0 =C2=A0 =C2=A0 }
14=C2=A0 =C2=A0 });
15=20
16=C2=A0 =C2=A0 endpoint.setQueryMode(queryMode);
17=20
18=C2=A0 =C2=A0 return endpoint;
19 }

...

At the beginning of the method all options are still present in the
=E2=80=9Eparameters=E2=80=9C map. After the session facade has been created=
 in line 03 of
the method its parameters get set by calling =E2=80=9EsetProperties=E2=80=
=9C. This works
fine for the created session facade. But =E2=80=9EsetProperties=E2=80=9C re=
moves the
properties which have been successfully set from the =E2=80=9Eparameters=E2=
=80=9C map.
Therefore parameters =E2=80=9Eusername=E2=80=9C and =E2=80=9Epassword=E2=80=
=9C are no longer present after
execution of line 04. Later, when the =E2=80=9Ecreate=E2=80=9C method of th=
e anonymous
CMISEndpoint created in line 06 gets called, these are still not present
and therefore NULL. And this is what finally leads to the 401 return code.

Either I use the Endpoint in a wrong way. In that case probably someone
can explain to me how to use it.
Or this is actually a bug. In this case I could offer fixing or someone
else does it. Which would be appreciated.

Best regards and thanks for your help

Frank




--=20
Frank Meyfarth=C2=A0 =C2=A0=20
adesso AG=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 T +49 231 7000-2380
Stockholmer Allee 20=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 F +49 231 7000-1000
44269 Dortmund=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 E mey=
farth@adesso.de
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 www.adesso.de <http://www.adesso.de>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 blog.adesso.de <http://blog.adesso.de>


-------------------------------------------------------
=C2=A0 =C2=A0 >>> business. people. technology. <<<
-------------------------------------------------------

adesso AG mit Sitz in Dortmund
Vorstand: Michael Kenfenheuer (Vors.), Christoph Junge, Andreas Prenneis
Vorsitzender des Aufsichtsrates: Prof. Dr. Volker Gruhn
Amtsgericht Dortmund HRB 20663

https://www.wirmachendasjetzt.de/de/?utm_source=3DBanner%20&utm_medium=3DE-=
Mail&utm_campaign=3DDGT


  =20
------=_Part_305831_201074722.1491389131295--

From users-return-65239-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 11:16:07 2017
Return-Path: <users-return-65239-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6C6B918A7A
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 11:16:07 +0000 (UTC)
Received: (qmail 41299 invoked by uid 500); 5 Apr 2017 11:16:07 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 41247 invoked by uid 500); 5 Apr 2017 11:16:07 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 41236 invoked by uid 99); 5 Apr 2017 11:16:06 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 11:16:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3FD061806FB
	for <users@camel.apache.org>; Wed,  5 Apr 2017 11:16:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.099
X-Spam-Level:
X-Spam-Status: No, score=0.099 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_LOW=-0.7,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Ky_kP-VAk-2V for <users@camel.apache.org>;
	Wed,  5 Apr 2017 11:16:04 +0000 (UTC)
Received: from mx5.adesso.de (mx5.adesso.de [85.22.63.2])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id C2EB75F2FE
	for <users@camel.apache.org>; Wed,  5 Apr 2017 11:16:03 +0000 (UTC)
Received: from EX2013-DB01.adesso.local ([10.100.2.21]) by mx5.adesso.de 
    (8.14.7/8.14.7) with ESMTP id v35BFqSh009574 
    (version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL);
     Wed, 5 Apr 2017 13:15:52 +0200
Received: from EX2013-DB01.adesso.local (10.100.2.21) by 
    EX2013-DB01.adesso.local (10.100.2.21) with Microsoft SMTP Server 
    (TLS) id 15.0.1263.5; Wed, 5 Apr 2017 13:15:54 +0200
Received: from EX2013-DB01.adesso.local ([fe80::691a:93a6:a507:93be]) by 
    EX2013-DB01.adesso.local ([fe80::691a:93a6:a507:93be%17]) with mapi 
    id 15.00.1263.000; Wed, 5 Apr 2017 13:15:54 +0200
From: "Meyfarth, Frank" <meyfarth@adesso.de>
To: "users@camel.apache.org" <users@camel.apache.org>,
        Andrea Cosentino 
    <ancosen1985@yahoo.com>
Subject: Re: camel-cmis: sessionhandling not working as expected
Thread-Topic: camel-cmis: sessionhandling not working as expected
Thread-Index: AQHSrflzcbGTtKYlgEqBzoSqZGTjf6G2dgSAgAAqAQA=
Date: Wed, 5 Apr 2017 11:15:54 +0000
Message-ID: <D50A9E54.DC63%meyfarth@adesso.de>
References: <D50A96E8.DC60%meyfarth@adesso.de> 
    <788621682.305832.1491389131308@mail.yahoo.com>
In-Reply-To: <788621682.305832.1491389131308@mail.yahoo.com>
Accept-Language: de-DE, en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
user-agent: Microsoft-MacOutlook/14.7.2.170228
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-exchange-transport-fromentityheader: Hosted
x-originating-ip: [10.2.18.142]
x-puremessage: [Scanned]
Content-Type: text/plain; charset="utf-8"
Content-ID: <8CC5FFFAB7CE6646B71483C27B385F8C@adesso.de>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
x-msw-jemd-spam: not checked

Mi4xNy4wLnJlZGhhdC02MzAxODcNCg0KLS0gDQpGcmFuayBNZXlmYXJ0aCAgICAgDQphZGVzc28g
QUcgICAgICAgICAgICAgICAgICAgICBUICs0OSAyMzEgNzAwMC0yMzgwDQpTdG9ja2hvbG1lciBB
bGxlZSAyMCAgICAgICAgICBGICs0OSAyMzEgNzAwMC0xMDAwDQo0NDI2OSBEb3J0bXVuZCAgICAg
ICAgICAgICAgICBFIG1leWZhcnRoQGFkZXNzby5kZQ0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgd3d3LmFkZXNzby5kZSA8aHR0cDovL3d3dy5hZGVzc28uZGU+DQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBibG9nLmFkZXNzby5kZSA8aHR0cDovL2Jsb2cuYWRlc3NvLmRlPg0K
DQoNCg0KDQpBbSAwNS4wNC4xNywgMTI6NDUgc2NocmllYiAiQW5kcmVhIENvc2VudGlubyIgdW50
ZXINCjxhbmNvc2VuMTk4NUB5YWhvby5jb20uSU5WQUxJRD46DQoNCj5XaGF0IGlzIHRoZSBjYW1l
bCB2ZXJzaW9uIHlvdSdyZSBjdXJyZW50bHkgdXNpbmc/IC0tQW5kcmVhIENvc2VudGlubw0KPi0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1BcGFjaGUgQ2FtZWwgUE1DIE1lbWJlckFw
YWNoZSBLYXJhZg0KPkNvbW1pdHRlckFwYWNoZSBTZXJ2aWNlbWl4IFBNQyBNZW1iZXJFbWFpbDog
YW5jb3NlbjE5ODVAeWFob28uY29tVHdpdHRlcjoNCj5Ab3NjZXJkMkdpdGh1Yjogb3NjZXJkDQo+
DQo+ICAgIE9uIFdlZG5lc2RheSwgQXByaWwgNSwgMjAxNyAxMjo0MyBQTSwgIk1leWZhcnRoLCBG
cmFuayINCj48bWV5ZmFydGhAYWRlc3NvLmRlPiB3cm90ZToNCj4gDQo+DQo+IEhpIGV2ZXJ5b25l
LA0KPg0KPk1heWJlIEnigJltIGp1c3QgdG8gZHVtYiB0byBnZXQgaXQsIGJ1dCBJIGJlbGlldmUg
SSBoYXZlIGZvdW5kIGEgYnVnIGluDQo+Y2FtZWwtY21pcy4NCj4NCj5JIHVzZSB0aGUgZm9sbG93
aW5nIFVSSSB3aXRoaW4gYSBDTUlTIHByb2R1Y2VyIHRvIHNlbmQgYSBxdWVyeSB0byB0aGUgQ01J
Uw0KPnN5c3RlbS4NCj4NCj5jbWlzOmh0dHA6Ly9yYWJvYmFuay1haXItZGV2MDEudGVzdC1zZXJ2
ZXIuYWc6ODA4MC9hbGZyZXNjby9hcGkvLWRlZmF1bHQtLw0KPnANCj51YmxpYy9jbWlzL3ZlcnNp
b25zLzEuMS9hdG9tP3VzZXJuYW1lPWFkbWluJnBhc3N3b3JkPWFkbWluJnJlcG9zaXRvcnlJZD0t
ZA0KPmUNCj5mYXVsdC0mcXVlcnlNb2RlPXRydWUNCj4NCj5BcyB5b3UgY2FuIHNlZSwgdGhlIHNl
cnZlciBjcmVkZW50aWFscyBhcmUgcHJlc2VudCBhcyBvcHRpb25zIHdpdGhpbiB0aGUNCj5VUkku
DQo+DQo+VW5mb3J0dW5hdGVseSBJIGFsd2F5cyBnZXQgSFRUUCBjb2RlIDQwMSBVbmF1dGhvcml6
ZWQuIEFsdGhvdWdoIHRoZQ0KPmNyZWRlbnRpYWxzIGFyZSBjb3JyZWN0IGFuZCB2ZXJpZmllZCwg
b2ZmIGNvdXJzZS4NCj4NCj5JIGFscmVhZHkgZGVidWdnZWQgaW50byB0aGUgY29tcG9uZW50IGFu
ZCBmb3VuZCB0aGUgZm9sbG93aW5nIGNvZGUgaW4NCj5vcmcuYXBhY2hlLmNhbWVsLmNvbXBvbmVu
dC5jbWlzLkNNSVNDb21wb25lbnQ6DQo+DQo+Li4uDQo+MDAgcHJvdGVjdGVkIEVuZHBvaW50IGNy
ZWF0ZUVuZHBvaW50KFN0cmluZyB1cmksIGZpbmFsIFN0cmluZyByZW1haW5pbmcsDQo+ZmluYWwg
TWFwPFN0cmluZywgT2JqZWN0PiBwYXJhbWV0ZXJzKSB0aHJvd3MgRXhjZXB0aW9uIHsNCj4wMSAg
ICBib29sZWFuIHF1ZXJ5TW9kZSA9IHJlbW92ZVF1ZXJ5TW9kZShwYXJhbWV0ZXJzKTsNCj4wMiAN
Cj4wMyAgICBDTUlTU2Vzc2lvbkZhY2FkZSBzZXNzaW9uRmFjYWRlID0gbmV3IENNSVNTZXNzaW9u
RmFjYWRlKHJlbWFpbmluZyk7DQo+MDQgICAgc2V0UHJvcGVydGllcyhzZXNzaW9uRmFjYWRlLCBw
YXJhbWV0ZXJzKTsNCj4wNSANCj4wNiAgICBDTUlTRW5kcG9pbnQgZW5kcG9pbnQgPSBuZXcgQ01J
U0VuZHBvaW50KHVyaSwgdGhpcywgbmV3DQo+Q01JU1Nlc3Npb25GYWNhZGVGYWN0b3J5KCkgew0K
PjA3ICAgICAgICBAT3ZlcnJpZGUNCj4wOCAgICAgICAgcHVibGljIENNSVNTZXNzaW9uRmFjYWRl
IGNyZWF0ZSgpIHRocm93cyBFeGNlcHRpb24gew0KPjA5ICAgICAgICAgICAgQ01JU1Nlc3Npb25G
YWNhZGUgc2Vzc2lvbkZhY2FkZSA9IG5ldw0KPkNNSVNTZXNzaW9uRmFjYWRlKHJlbWFpbmluZyk7
DQo+MTAgICAgICAgICAgICBzZXRQcm9wZXJ0aWVzKHNlc3Npb25GYWNhZGUsIHBhcmFtZXRlcnMp
Ow0KPjExIA0KPjEyICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25GYWNhZGU7DQo+MTMgICAgICAg
IH0NCj4xNCAgICB9KTsNCj4xNSANCj4xNiAgICBlbmRwb2ludC5zZXRRdWVyeU1vZGUocXVlcnlN
b2RlKTsNCj4xNyANCj4xOCAgICByZXR1cm4gZW5kcG9pbnQ7DQo+MTkgfQ0KPg0KPi4uLg0KPg0K
PkF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIG1ldGhvZCBhbGwgb3B0aW9ucyBhcmUgc3RpbGwgcHJl
c2VudCBpbiB0aGUNCj7igJ5wYXJhbWV0ZXJz4oCcIG1hcC4gQWZ0ZXIgdGhlIHNlc3Npb24gZmFj
YWRlIGhhcyBiZWVuIGNyZWF0ZWQgaW4gbGluZSAwMyBvZg0KPnRoZSBtZXRob2QgaXRzIHBhcmFt
ZXRlcnMgZ2V0IHNldCBieSBjYWxsaW5nIOKAnnNldFByb3BlcnRpZXPigJwuIFRoaXMgd29ya3MN
Cj5maW5lIGZvciB0aGUgY3JlYXRlZCBzZXNzaW9uIGZhY2FkZS4gQnV0IOKAnnNldFByb3BlcnRp
ZXPigJwgcmVtb3ZlcyB0aGUNCj5wcm9wZXJ0aWVzIHdoaWNoIGhhdmUgYmVlbiBzdWNjZXNzZnVs
bHkgc2V0IGZyb20gdGhlIOKAnnBhcmFtZXRlcnPigJwgbWFwLg0KPlRoZXJlZm9yZSBwYXJhbWV0
ZXJzIOKAnnVzZXJuYW1l4oCcIGFuZCDigJ5wYXNzd29yZOKAnCBhcmUgbm8gbG9uZ2VyIHByZXNl
bnQgYWZ0ZXINCj5leGVjdXRpb24gb2YgbGluZSAwNC4gTGF0ZXIsIHdoZW4gdGhlIOKAnmNyZWF0
ZeKAnCBtZXRob2Qgb2YgdGhlIGFub255bW91cw0KPkNNSVNFbmRwb2ludCBjcmVhdGVkIGluIGxp
bmUgMDYgZ2V0cyBjYWxsZWQsIHRoZXNlIGFyZSBzdGlsbCBub3QgcHJlc2VudA0KPmFuZCB0aGVy
ZWZvcmUgTlVMTC4gQW5kIHRoaXMgaXMgd2hhdCBmaW5hbGx5IGxlYWRzIHRvIHRoZSA0MDEgcmV0
dXJuIGNvZGUuDQo+DQo+RWl0aGVyIEkgdXNlIHRoZSBFbmRwb2ludCBpbiBhIHdyb25nIHdheS4g
SW4gdGhhdCBjYXNlIHByb2JhYmx5IHNvbWVvbmUNCj5jYW4gZXhwbGFpbiB0byBtZSBob3cgdG8g
dXNlIGl0Lg0KPk9yIHRoaXMgaXMgYWN0dWFsbHkgYSBidWcuIEluIHRoaXMgY2FzZSBJIGNvdWxk
IG9mZmVyIGZpeGluZyBvciBzb21lb25lDQo+ZWxzZSBkb2VzIGl0LiBXaGljaCB3b3VsZCBiZSBh
cHByZWNpYXRlZC4NCj4NCj5CZXN0IHJlZ2FyZHMgYW5kIHRoYW5rcyBmb3IgeW91ciBoZWxwDQo+
DQo+RnJhbmsNCj4NCj4NCj4NCj4NCj4tLSANCj5GcmFuayBNZXlmYXJ0aCAgICANCj5hZGVzc28g
QUcgICAgICAgICAgICAgICAgICAgIFQgKzQ5IDIzMSA3MDAwLTIzODANCj5TdG9ja2hvbG1lciBB
bGxlZSAyMCAgICAgICAgICBGICs0OSAyMzEgNzAwMC0xMDAwDQo+NDQyNjkgRG9ydG11bmQgICAg
ICAgICAgICAgICAgRSBtZXlmYXJ0aEBhZGVzc28uZGUNCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB3d3cuYWRlc3NvLmRlIDxodHRwOi8vd3d3LmFkZXNzby5kZT4NCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBibG9nLmFkZXNzby5kZSA8aHR0cDovL2Jsb2cuYWRlc3NvLmRl
Pg0KPg0KPg0KPi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0NCj4gICAgPj4+IGJ1c2luZXNzLiBwZW9wbGUuIHRlY2hub2xvZ3kuIDw8PA0KPi0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4N
Cj5hZGVzc28gQUcgbWl0IFNpdHogaW4gRG9ydG11bmQNCj5Wb3JzdGFuZDogTWljaGFlbCBLZW5m
ZW5oZXVlciAoVm9ycy4pLCBDaHJpc3RvcGggSnVuZ2UsIEFuZHJlYXMgUHJlbm5laXMNCj5Wb3Jz
aXR6ZW5kZXIgZGVzIEF1ZnNpY2h0c3JhdGVzOiBQcm9mLiBEci4gVm9sa2VyIEdydWhuDQo+QW10
c2dlcmljaHQgRG9ydG11bmQgSFJCIDIwNjYzDQo+DQo+aHR0cHM6Ly93d3cud2lybWFjaGVuZGFz
amV0enQuZGUvZGUvP3V0bV9zb3VyY2U9QmFubmVyJTIwJnV0bV9tZWRpdW09RS1NYWkNCj5sJnV0
bV9jYW1wYWlnbj1ER1QNCj4NCj4NCj4gICANCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgID4+PiBidXNpbmVzcy4gcGVvcGxl
LiB0ZWNobm9sb2d5LiA8PDwNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NCg0KYWRlc3NvIEFHIG1pdCBTaXR6IGluIERvcnRtdW5kDQpWb3Jz
dGFuZDogTWljaGFlbCBLZW5mZW5oZXVlciAoVm9ycy4pLCBDaHJpc3RvcGggSnVuZ2UsIEFuZHJl
YXMgUHJlbm5laXMNClZvcnNpdHplbmRlciBkZXMgQXVmc2ljaHRzcmF0ZXM6IFByb2YuIERyLiBW
b2xrZXIgR3J1aG4NCkFtdHNnZXJpY2h0IERvcnRtdW5kIEhSQiAyMDY2Mw0KDQpodHRwczovL3d3
dy53aXJtYWNoZW5kYXNqZXR6dC5kZS9kZS8/dXRtX3NvdXJjZT1CYW5uZXIlMjAmdXRtX21lZGl1
bT1FLU1haWwmdXRtX2NhbXBhaWduPURHVA0K

From users-return-65240-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 11:19:55 2017
Return-Path: <users-return-65240-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BB04A18A8D
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 11:19:55 +0000 (UTC)
Received: (qmail 46806 invoked by uid 500); 5 Apr 2017 11:19:55 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 46760 invoked by uid 500); 5 Apr 2017 11:19:55 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 46748 invoked by uid 99); 5 Apr 2017 11:19:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 11:19:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 75456C002D
	for <users@camel.apache.org>; Wed,  5 Apr 2017 11:19:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.18
X-Spam-Level: *
X-Spam-Status: No, score=1.18 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id D66S8j1P8KuA for <users@camel.apache.org>;
	Wed,  5 Apr 2017 11:19:51 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 9D5865F24E
	for <users@camel.apache.org>; Wed,  5 Apr 2017 11:19:50 +0000 (UTC)
Received: by mail-qk0-f179.google.com with SMTP id p22so7556640qka.3
        for <users@camel.apache.org>; Wed, 05 Apr 2017 04:19:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-transfer-encoding;
        bh=Mqzmo0nLRf1oSNTh8BxHM2sJ9aav1jbwIL4CBPm1z/U=;
        b=gI6ldTE63rwEfYkH1VWJAza/jvqlfbYK3ZF+ysC+x+zXLIUV89ixsDOxxpY7ikgxCx
         FFJk8aoFzwHzSzX8r3BX4fztC9O1R2q+4HbP9gfTAtDmwXqUvl7QBwgBGYGnYL9Ucxn6
         3FcyncSQflhb0eUxXTtGLcqc24wamG1S0xbJ0+yKeUZjeDiFzJC6EWhFctcL6ObRW9Q5
         PLjYYn/f6mOvrVrAZRbSNQn7c99Hmwpqdw+9bldzAjdTg3oLrdqhbgYClLUImEGap5Kf
         Jw83g/M/Urso90UaVjtycrXu2rB2f0gOkbvtuinDCPOsyLetloZgs6JdNWxDack2kJWj
         h5mA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-transfer-encoding;
        bh=Mqzmo0nLRf1oSNTh8BxHM2sJ9aav1jbwIL4CBPm1z/U=;
        b=oosAK9OKmG/Bhpm8ppS1IG5cPH8p8AMba3Q9PLtE/IlR2AgFt6w2r8IxRpxFD+l82B
         h7110lN2s8AcwcWWK9153wyrTmV70JWDeEx2rA4Hab0orIhiKFE20+hvgje7orhHto39
         8yKw4kwe+71FTqmCpp3Cp2Uwokeqgl2c+RRMz7zh3jzsIlBKFpHBgoXjnhtzA4WNJ17M
         iQeXRjJ/CO4FvQ9HgGQq4NKDBxVEczZUAaEE0v63DETsQ0Bem7gloLqk3IBFQzWTEbp1
         CLjPizukLKGKcYzjz+HXAnIBxqZe88VQX7umSm9WSoxoRQRH45XBVqu9p/966AjMzYvL
         yHwg==
X-Gm-Message-State: AFeK/H3jV57KE3aDHNb75G0j4wpv4Jd21/TqAoOrBwGqQfM3hJTo9nqUkfn7g+w6bDdNjLmjb1COaQUYWDqkcA==
X-Received: by 10.55.144.6 with SMTP id s6mr24902366qkd.27.1491391189431; Wed,
 05 Apr 2017 04:19:49 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Wed, 5 Apr 2017 04:19:29 -0700 (PDT)
In-Reply-To: <D50A96E8.DC60%meyfarth@adesso.de>
References: <D50A96E8.DC60%meyfarth@adesso.de>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 5 Apr 2017 13:19:29 +0200
Message-ID: <CAGB5yNm-fh3XSF6LXCzwbV+y1-8=WEfzgsqO9=eh3jqVZzsryw@mail.gmail.com>
Subject: Re: camel-cmis: sessionhandling not working as expected
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Try with newer release as I think we have fixed something in this
component, I kinda recall something about this.

On Wed, Apr 5, 2017 at 12:43 PM, Meyfarth, Frank <meyfarth@adesso.de> wrote=
:
> Hi everyone,
>
> Maybe I=E2=80=99m just to dumb to get it, but I believe I have found a bu=
g in
> camel-cmis.
>
> I use the following URI within a CMIS producer to send a query to the CMI=
S
> system.
>
> cmis:http://rabobank-air-dev01.test-server.ag:8080/alfresco/api/-default-=
/p
> ublic/cmis/versions/1.1/atom?username=3Dadmin&password=3Dadmin&repository=
Id=3D-de
> fault-&queryMode=3Dtrue
>
> As you can see, the server credentials are present as options within the
> URI.
>
> Unfortunately I always get HTTP code 401 Unauthorized. Although the
> credentials are correct and verified, off course.
>
> I already debugged into the component and found the following code in
> org.apache.camel.component.cmis.CMISComponent:
>
> ...
> 00 protected Endpoint createEndpoint(String uri, final String remaining,
> final Map<String, Object> parameters) throws Exception {
> 01     boolean queryMode =3D removeQueryMode(parameters);
> 02
> 03     CMISSessionFacade sessionFacade =3D new CMISSessionFacade(remainin=
g);
> 04     setProperties(sessionFacade, parameters);
> 05
> 06     CMISEndpoint endpoint =3D new CMISEndpoint(uri, this, new
> CMISSessionFacadeFactory() {
> 07         @Override
> 08         public CMISSessionFacade create() throws Exception {
> 09             CMISSessionFacade sessionFacade =3D new
> CMISSessionFacade(remaining);
> 10             setProperties(sessionFacade, parameters);
> 11
> 12             return sessionFacade;
> 13         }
> 14     });
> 15
> 16     endpoint.setQueryMode(queryMode);
> 17
> 18     return endpoint;
> 19 }
>
> ...
>
> At the beginning of the method all options are still present in the
> =E2=80=9Eparameters=E2=80=9C map. After the session facade has been creat=
ed in line 03 of
> the method its parameters get set by calling =E2=80=9EsetProperties=E2=80=
=9C. This works
> fine for the created session facade. But =E2=80=9EsetProperties=E2=80=9C =
removes the
> properties which have been successfully set from the =E2=80=9Eparameters=
=E2=80=9C map.
> Therefore parameters =E2=80=9Eusername=E2=80=9C and =E2=80=9Epassword=E2=
=80=9C are no longer present after
> execution of line 04. Later, when the =E2=80=9Ecreate=E2=80=9C method of =
the anonymous
> CMISEndpoint created in line 06 gets called, these are still not present
> and therefore NULL. And this is what finally leads to the 401 return code=
.
>
> Either I use the Endpoint in a wrong way. In that case probably someone
> can explain to me how to use it.
> Or this is actually a bug. In this case I could offer fixing or someone
> else does it. Which would be appreciated.
>
> Best regards and thanks for your help
>
> Frank
>
>
>
>
> --
> Frank Meyfarth
> adesso AG                     T +49 231 7000-2380
> Stockholmer Allee 20          F +49 231 7000-1000
> 44269 Dortmund                E meyfarth@adesso.de
>                               www.adesso.de <http://www.adesso.de>
>                               blog.adesso.de <http://blog.adesso.de>
>
>
> -------------------------------------------------------
>      >>> business. people. technology. <<<
> -------------------------------------------------------
>
> adesso AG mit Sitz in Dortmund
> Vorstand: Michael Kenfenheuer (Vors.), Christoph Junge, Andreas Prenneis
> Vorsitzender des Aufsichtsrates: Prof. Dr. Volker Gruhn
> Amtsgericht Dortmund HRB 20663
>
> https://www.wirmachendasjetzt.de/de/?utm_source=3DBanner%20&utm_medium=3D=
E-Mail&utm_campaign=3DDGT



--=20
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65241-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 11:20:50 2017
Return-Path: <users-return-65241-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8DC4818A8F
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 11:20:50 +0000 (UTC)
Received: (qmail 47966 invoked by uid 500); 5 Apr 2017 11:20:50 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 47926 invoked by uid 500); 5 Apr 2017 11:20:50 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 47914 invoked by uid 99); 5 Apr 2017 11:20:49 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 11:20:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 51F99C002D
	for <users@camel.apache.org>; Wed,  5 Apr 2017 11:20:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.693
X-Spam-Level: *
X-Spam-Status: No, score=1.693 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id ANraHLt3sOxY for <users@camel.apache.org>;
	Wed,  5 Apr 2017 11:20:47 +0000 (UTC)
Received: from mail-qt0-f169.google.com (mail-qt0-f169.google.com [209.85.216.169])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 5C24C5F1E9
	for <users@camel.apache.org>; Wed,  5 Apr 2017 11:20:46 +0000 (UTC)
Received: by mail-qt0-f169.google.com with SMTP id x35so7295347qtc.2
        for <users@camel.apache.org>; Wed, 05 Apr 2017 04:20:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=uWG3lfgFIfdI0/ReQG1wzy3g9xZQ90xChZ4+6sNhTYU=;
        b=U4oPS2y1cvYxBG9QlGpI4aFaSO9Z+QftUghNV5HLPebF8lT6+Bw2gxvH2uF3XyNPyc
         GYEZTmssRXXUXSiMSKDHvWrngJtF6nzER36IBKEOtmo5wodC/J+a3p5ruO5gtUEp4v5s
         mtTG0HI9JxsVtw8sGZsA4yYV1KM2AJXSxW6GVHOnb69JYW93XkyBCqCStAiPDnGWhEad
         ieqZC9roHaMo7Nc1OIk6VjibKSRX/E08tIY1sZMycR4MtIPZmKda0WN6quh94XUrpUcJ
         aJeE1x24TWNvgRkNJ2IWumIXCnM267ExA9At9JkWG4kYN9TrGxZlwsh1dMTeW4omIzqY
         bCFg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=uWG3lfgFIfdI0/ReQG1wzy3g9xZQ90xChZ4+6sNhTYU=;
        b=AeCaqHHCR+nvBrK2GyynurtKQtY2FWusFL2l3BJu8thBG8dxIE4PlAko7f3aSa6JD7
         l+L3Xx7CAHpiT3WaUViyRSCjZLHPnFC+Q/BxkIqU8a3FHUlqQ/PQbK/qT/DMfI6o+1Sh
         0HH4AA8Z3l1Owg/wutefQYQQgVNlmrYNupaT8E3ykqDhKC5FVrGhOGk9Ba8thV9+9z5l
         JnMQzfpAN2XNgxanxMmb3yr8rgnjPD3cDSH427mxKp2AKpZUBgKyBHWCp3H1dryMpQId
         hOrGm5WmVCEJgVXB7LK2j93+d/JeB033Wduh5wGVGvES6ZQxoQUZmS0b9wiA6cNKHGSd
         sefg==
X-Gm-Message-State: AFeK/H2l91nymyY2Bm/FJHmNgAD4290LJLCErSdQMwPKLxs1SveBv0eVfDvg1ygvG2SlcKdAemdtpIp1imgYHA==
X-Received: by 10.200.56.24 with SMTP id q24mr27995499qtb.234.1491391245324;
 Wed, 05 Apr 2017 04:20:45 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Wed, 5 Apr 2017 04:20:24 -0700 (PDT)
In-Reply-To: <1491323059445-5796926.post@n5.nabble.com>
References: <1491323059445-5796926.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 5 Apr 2017 13:20:24 +0200
Message-ID: <CAGB5yN=E66zTdSp_XyuEMsPr-RPa48z4ZgQbDKkAt4uMFsGzXA@mail.gmail.com>
Subject: Re: Parsing/exporting sql result
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

There is some database examples
https://github.com/apache/camel/tree/master/examples

And there are also some Camel books which cover using database with Camel
http://camel.apache.org/books


On Tue, Apr 4, 2017 at 6:24 PM, romdj <dev.romdj@gmail.com> wrote:
> Hello everyone,
> I apologize in advance as this is basic stuff, but after a full day of
> searching my brain is begging me to write this.
>
> So my goal is very simpleStupid, I'm querying a sql server db and I want to
> export that data to either json or csv.
> So using jdbc for the query returns an ArrayList<HashMap>. So obvious choice
> in my mind would be to try to use Jackson ObjectMapper but when I add
> <dataFormats><json id="jack" library="Jackson" prettyPrint="true"
> objectMapper="myMapper" /></dataFormats>
> I got /Attribute 'objectMapper' is not allowed to appear in element 'json'./
>
> Besides, I wouldn't know how to properly use it as I don't know how I could
> properly use it.
> The examples I have are queries run in JS in a CDATA long string.
>
> Is there any place where I can find a simple example of some data being
> fetched and exported from a sql db? This would be enormous.
>
> Thank you so much!
> Romain
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Parsing-exporting-sql-result-tp5796926.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65242-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 11:22:05 2017
Return-Path: <users-return-65242-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD68418A96
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 11:22:05 +0000 (UTC)
Received: (qmail 50047 invoked by uid 500); 5 Apr 2017 11:22:05 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 50002 invoked by uid 500); 5 Apr 2017 11:22:05 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 49972 invoked by uid 99); 5 Apr 2017 11:22:05 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 11:22:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7ECA11813A4
	for <users@camel.apache.org>; Wed,  5 Apr 2017 11:22:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.693
X-Spam-Level: *
X-Spam-Status: No, score=1.693 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Qw3QhcppNx10 for <users@camel.apache.org>;
	Wed,  5 Apr 2017 11:22:03 +0000 (UTC)
Received: from mail-qk0-f180.google.com (mail-qk0-f180.google.com [209.85.220.180])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 677CD5FAE7
	for <users@camel.apache.org>; Wed,  5 Apr 2017 11:22:03 +0000 (UTC)
Received: by mail-qk0-f180.google.com with SMTP id d10so7662765qke.1
        for <users@camel.apache.org>; Wed, 05 Apr 2017 04:22:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=8oZSTd39QnutrRGiFfmmE516MBPgrZ12LiLmBtoYdA0=;
        b=Cl2QkZEjj/8coyKUGGfbpbps9iqjyHeW8BRSxlFNqzQXy28Mds3bX7eC4VxHuzwzfo
         dwyDJz8zPWxd+IQ0E9uHw+pzpiIsb7iqyEN/sT9h5kyysd5uuoqv7LUTziV+alFktKxr
         QGaRJtLDr4kIUFIrRAl25vcK60WqjtmivtxMOQ+EBHDNVAGGut2MgoGUZF2X70aTkf2g
         akrp6d8pYOKMPyLiNc218V6rAiafr/oIJWZ2oFjIj7buNL5l8LN7TEOTrGEbyAorzxWz
         MkTF559u9y757FZNjQLLEBnror2Sj0OGGpsKCvZYGKHRhNqMSw5YpWiaW4i15Y9zpRM7
         XZjg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=8oZSTd39QnutrRGiFfmmE516MBPgrZ12LiLmBtoYdA0=;
        b=Iuhmd0IFxbJU1V1TxXRRpxvYCmyajABWnmXKvXdQ3AqIaYjIrCcyeo+nM5c6tVey89
         Vd+VUVIMiMB37jkQB5ek5fhQ4Ljs/SqzT9ZmRsNrXBua47qGLWfiG04VmMpSVuzD7XBH
         ifzTOJ9uDi97FFdYl6k1OVqZCOfMabjX46JtxvMhEXAgEyukfTPftEjbfgmiZCjC1pHZ
         H9yu6Rspo8Lh6iOxEb5gvRl1teQhQggSQXPpcDOC9aAuRJpwX/8BIOCZWDSrfBs8/IQg
         k1zrQp8k5L7X8y4zwt3BH4Yofqm8O9aPsyhaGntHIbtgaAATrGBhaD2mGS7/gfBlnGf+
         LdRQ==
X-Gm-Message-State: AN3rC/7ALKPRhD4XKBbEqbKwJnzpVEGtiVJb9Gm/SjoWoMaYhaluD693pBbwEjpYqM2zVzXIvVk3JSZeht03DQ==
X-Received: by 10.55.48.68 with SMTP id w65mr10707542qkw.160.1491391322960;
 Wed, 05 Apr 2017 04:22:02 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Wed, 5 Apr 2017 04:21:42 -0700 (PDT)
In-Reply-To: <1491316922522-5796922.post@n5.nabble.com>
References: <1491311900635-5796914.post@n5.nabble.com> <CAGB5yNktJ4_4MFFHejZOfFZtHsBd=KWhAropAp-xmpZP90bDUA@mail.gmail.com>
 <1491316922522-5796922.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 5 Apr 2017 13:21:42 +0200
Message-ID: <CAGB5yNkNiFJVRy_qVwcvvt=jMJRDPYN3YrZZijTUCe6iqw8L9g@mail.gmail.com>
Subject: Re: Using Python script in Camel
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

[[CDATA[ is only when using XML.

Also do a simple python example, try to see some of the unit tests of
camel-script for a jython example.


On Tue, Apr 4, 2017 at 4:42 PM, samer <razzook@gmail.com> wrote:
> Thanks for reply!
>
> One thing I missed writing in my above code, is that the directory I am
> loading the file from is populated by Camel:
>
>         <python>
>                         H = dict(line.strip().split('=') for line in
> open('{{datadir}}/properties/VaraExport.properties') if not
> line.startswith('#') and not line.startswith('\n'))
>                         if H.has_key("time"):
>                         result = H["time"]
>                         else :
>                         result = '2001-01-01T00:00:00'
>         </python>
>
>
> So putting this code in python file and referencing it means I will have to
> somehow replace this variable. I am not python programmer, but is trying to
> use it instead of groovy, due to the memoryleak problem of groovy version
> that Camel is using.
>
> Note that I tried to put only one line instead of the above code and still I
> get same error!
> <python>
>     result = '2001-01-01T00:00:00'
> </python>
>
>
> Maybe I will have to try doing this in java if its easier. Do I have to
> inline my code using [CDATA[]] xml style for that as well or was it due to
> the "tab/indentation" sensitivity of python you meant?
>
> Thanks!
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Using-Python-script-in-Camel-tp5796914p5796922.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65243-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 11:29:58 2017
Return-Path: <users-return-65243-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AFBC818AF6
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 11:29:58 +0000 (UTC)
Received: (qmail 64839 invoked by uid 500); 5 Apr 2017 11:29:58 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 64804 invoked by uid 500); 5 Apr 2017 11:29:58 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 64791 invoked by uid 99); 5 Apr 2017 11:29:57 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 11:29:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5DEC1C0729
	for <users@camel.apache.org>; Wed,  5 Apr 2017 11:29:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.482
X-Spam-Level:
X-Spam-Status: No, score=-1.482 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-2.796, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key)
	header.d=pronoia-solutions-com.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id bdAs2EkFJT6M for <users@camel.apache.org>;
	Wed,  5 Apr 2017 11:29:55 +0000 (UTC)
Received: from mail-pf0-f181.google.com (mail-pf0-f181.google.com [209.85.192.181])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id D55985F1A0
	for <users@camel.apache.org>; Wed,  5 Apr 2017 11:29:54 +0000 (UTC)
Received: by mail-pf0-f181.google.com with SMTP id s16so6202074pfs.0
        for <users@camel.apache.org>; Wed, 05 Apr 2017 04:29:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pronoia-solutions-com.20150623.gappssmtp.com; s=20150623;
        h=from:content-transfer-encoding:mime-version:subject:date:references
         :to:in-reply-to:message-id;
        bh=sXj1KVXceccFgCOxLkQNZzX3hL2syNh6GXMAP8zoSgw=;
        b=KgSAIUjhuFjeilMjXmir/H2wcJoCXFjEhDnJt+7KpTd8BY0uS7hbKKmbEG3v+Y8X93
         QonmrNC5QzGRnCVVKMh8H89fSNUf3BWxlSkX9iJcLxV+LhXyPQVeAygmlFXOYlSKB75t
         CSzn8GQtURMrNJzWBTj4hmU7Rl9t6APa/toNtOkhQNE989R8b3299t6BE6zoEjD6uWnv
         cQzofNAjee+Q0HpkMWs0+lZfec4KucYkx8zFYERKzGdmknJ1q+w/kEYQ6E0LHUZkg3FL
         2fln40nFL2vp8X//eVE1+Fo8YBMo8wbYeNlWvJnQw4uxnGkgt1TNT8OZMLvzBpezi4YC
         so/Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:from:content-transfer-encoding:mime-version
         :subject:date:references:to:in-reply-to:message-id;
        bh=sXj1KVXceccFgCOxLkQNZzX3hL2syNh6GXMAP8zoSgw=;
        b=rVUKglkEjuk+AZizUm7ysJUioHZZPRzH+te2pCDq5vFErd/mw+C6cHsT17VW0Cl1vI
         mzL1XsAetAPES91zH0lu//q4Lou6hwOAe+r8M6JOUPZ1t+luRwnC4CkM0AvsZaeUvAfi
         npmYE89ST7tMJFjRO39DMKNqP+cwVXVu2k1/zYr9WOm2oVRyXmf07Zc4fEsKMnaUBV3J
         QWpPDIvziIDy2BhZ5s/9W+1HnDag9NZI3KS4SrNvm7O+8iuUO4ZHC6ng3aNCHCyNpUl2
         21fLAu07ER1ecsOas9V4G/ZhdStocWmcM1fh+6/k7JQdeSSgjeUszlhukmftphjdINvZ
         aBmA==
X-Gm-Message-State: AFeK/H16EMb5OpMqUIYpK6/w+hVUeneJ/jL+YCDxqD483ZF7fWMFCMNnVFd/0mIlLVKKjg==
X-Received: by 10.99.61.201 with SMTP id k192mr29751220pga.68.1491391793686;
        Wed, 05 Apr 2017 04:29:53 -0700 (PDT)
Received: from macpro.pronoia.local (c-73-20-8-23.hsd1.ut.comcast.net. [73.20.8.23])
        by smtp.gmail.com with ESMTPSA id q86sm8999150pfk.43.2017.04.05.04.29.52
        for <users@camel.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 05 Apr 2017 04:29:53 -0700 (PDT)
From: Quinn Stevenson <quinn@pronoia-solutions.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (Mac OS X Mail 10.2 \(3259\))
Subject: Re: AggregationStrategy: null body in new exchange
Date: Wed, 5 Apr 2017 05:29:52 -0600
References: <1491229244820-5796879.post@n5.nabble.com>
To: users@camel.apache.org
In-Reply-To: <1491229244820-5796879.post@n5.nabble.com>
Message-Id: <A2E176BC-A12C-4A90-B25B-33929B9A248D@pronoia-solutions.com>
X-Mailer: Apple Mail (2.3259)

Can you share a little more of the route?  Specifically I=E2=80=99d like =
to see the portion that is supposed to be reading the file and passing =
it on the the aggregation strategy.



> On Apr 3, 2017, at 8:20 AM, JD Innocenti <jd.innocenti@gmail.com> =
wrote:
>=20
> Hi all,
>=20
> I'm having a problem with the AggregationStrategy I implemented for an
> application. In short, the newExchange parameters I receive (to follow =
the
> same naming convention as in the  documentation
> <https://camel.apache.org/aggregator.html>  ) always have a null body.=20=

>=20
> To elaborate: my route is pretty simple. It downloads files from an =
FTP
> server, transforms then into POJOs, aggregate those into a single =
POJO,
> which is then marshalled and saved to a file. I'm working with JBoss
> Developer Studio (an Eclipse derivative), and when I test from the =
IDE, this
> works fine (behind the scenes, the IDE does "mvn clean package
> org.apache.camel:camel-maven-plugin:run").
>=20
> However, when I build an OSGi bundle of my application (with "mvn =
clean
> install"), which I then deploy in JBoss Fuse (on Karaf), the =
deployment is
> successful but my aggregator only receives null-bodied "newExchange" =
params.
> The correlation expression I use is a simple constant, since all POJOs =
must
> be aggregated.
>=20
> I also posted about this issue on  StackOverflow
> =
<https://stackoverflow.com/questions/43184357/different-behavior-of-apache=
-camel-aggregation-in-ide-and-when-deployed-in-jboss>=20
> , in case someone finds this post in the future ;)
>=20
> Here's what the aggregation looks like in my Camel context:
>=20
>=20
>=20
> And for the sake of completeness, here's the beginning of the =
aggregator:
>=20
>=20
>=20
> (MyPojoClass is in the same package than the aggregator)=20
> With the above, once again, everything happens as expected in the IDE, =
but
> when I deploy my application in Fuse, I get "Nothing to aggregate" all =
the
> time.
>=20
> I tried to set a header on all the messages and aggregate on the =
header
> (instead of the constant I currently use), but the results are the =
same.
>=20
> Please help, Camel user mailing list, you're my only hope. :)
>=20
>=20
>=20
> --
> View this message in context: =
http://camel.465427.n5.nabble.com/AggregationStrategy-null-body-in-new-exc=
hange-tp5796879.html
> Sent from the Camel - Users mailing list archive at Nabble.com.


From users-return-65244-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 11:36:11 2017
Return-Path: <users-return-65244-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EAD2A18B2C
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 11:36:11 +0000 (UTC)
Received: (qmail 79001 invoked by uid 500); 5 Apr 2017 11:36:11 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 78953 invoked by uid 500); 5 Apr 2017 11:36:11 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 78940 invoked by uid 99); 5 Apr 2017 11:36:11 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 11:36:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id AFFC3C07B3
	for <users@camel.apache.org>; Wed,  5 Apr 2017 11:36:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.083
X-Spam-Level:
X-Spam-Status: No, score=-1.083 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ltwyjBjaVtem for <users@camel.apache.org>;
	Wed,  5 Apr 2017 11:36:10 +0000 (UTC)
Received: from mail-qk0-f176.google.com (mail-qk0-f176.google.com [209.85.220.176])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id BC3E75F1A0
	for <users@camel.apache.org>; Wed,  5 Apr 2017 11:36:09 +0000 (UTC)
Received: by mail-qk0-f176.google.com with SMTP id g195so7871528qke.2
        for <users@camel.apache.org>; Wed, 05 Apr 2017 04:36:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=6qS+UlBlrh02iDo0VInX5zatMEhu6bk1FmMArGRaEkI=;
        b=aaqao/mJKz/fYu9a7HS1GRN3aKtpR3atjAPzJ5QMfwxQdbH9zOFwMW6hxIaEN/LRAj
         +q6lkkbnXp4ev9grx7Wa4XOaO5uHtNAxbdINapt2gL+1auB70aArv5uBcUKes6FJh2Xf
         KANZ4YQxQe3HCnKihoIk5ZPpBKRbBFywRqy7QvhLW5FsYNTQpbwPstmZRGx3Xenx70K2
         GzoCoAu0e7cQU9pOMRKMHqHqHh8gpDhqbvnXhGpSIPbyGmBxbypTw+kAqvLUAMKGNYEp
         ok+EdwVHUqo/GokZmrOQdhj9+REOKOcoBf2FZ+IFnrIXBx+wDeMIP4qxI7PwQ4/zJDyR
         OMBg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=6qS+UlBlrh02iDo0VInX5zatMEhu6bk1FmMArGRaEkI=;
        b=Y7vVX+F4oEVuf3FSWWhRCLmR1OfI+qfmIPjUtq/zz4s3+w0HxOCZgCn7O89neX1L6O
         3wulH/v/rIsmw4PUTsBI+72lcViq2OAQS34od+kocJtlka+YEQqsdxsIyDhhu2boFmea
         GtWa4wHrnGNgzhNHi5/CurRfog5Y3LlTVAgblh4bREhlCxCD781qwCNjVXLX0F0+V4tr
         OGhWe4Awksku9eYPShmPYjo1LCkGWpodmexTwFyfsc3oSm0C+W5AR/FkirHM0wx0DE7h
         0hQQLAvQuFVgaDAzHJTXFjBOVcISVqrx/dw5twJooRdVneXQd1CwQ210sJPEV1+AzVP/
         oB5g==
X-Gm-Message-State: AFeK/H38iLkCWgbi2QV3mCx4MIXolWaEdlDNc/enAZ224jOvZb0YU65EP2kNFv6xwupjOj/8+1UIdkm/N0Bhow==
X-Received: by 10.55.5.17 with SMTP id 17mr9310120qkf.279.1491392169286; Wed,
 05 Apr 2017 04:36:09 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Wed, 5 Apr 2017 04:35:48 -0700 (PDT)
In-Reply-To: <1491229244820-5796879.post@n5.nabble.com>
References: <1491229244820-5796879.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 5 Apr 2017 13:35:48 +0200
Message-ID: <CAGB5yNkwtLYvq7+3O+-coibhHSzDESyJkqNgtNNSbj-XEnDFTA@mail.gmail.com>
Subject: Re: AggregationStrategy: null body in new exchange
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Make a simple unit test with your aggregator and agg strategy and get
that working outside osgi/karaf and then take it from there.



On Mon, Apr 3, 2017 at 4:20 PM, JD Innocenti <jd.innocenti@gmail.com> wrote:
> Hi all,
>
> I'm having a problem with the AggregationStrategy I implemented for an
> application. In short, the newExchange parameters I receive (to follow the
> same naming convention as in the  documentation
> <https://camel.apache.org/aggregator.html>  ) always have a null body.
>
> To elaborate: my route is pretty simple. It downloads files from an FTP
> server, transforms then into POJOs, aggregate those into a single POJO,
> which is then marshalled and saved to a file. I'm working with JBoss
> Developer Studio (an Eclipse derivative), and when I test from the IDE, this
> works fine (behind the scenes, the IDE does "mvn clean package
> org.apache.camel:camel-maven-plugin:run").
>
> However, when I build an OSGi bundle of my application (with "mvn clean
> install"), which I then deploy in JBoss Fuse (on Karaf), the deployment is
> successful but my aggregator only receives null-bodied "newExchange" params.
> The correlation expression I use is a simple constant, since all POJOs must
> be aggregated.
>
> I also posted about this issue on  StackOverflow
> <https://stackoverflow.com/questions/43184357/different-behavior-of-apache-camel-aggregation-in-ide-and-when-deployed-in-jboss>
> , in case someone finds this post in the future ;)
>
> Here's what the aggregation looks like in my Camel context:
>
>
>
> And for the sake of completeness, here's the beginning of the aggregator:
>
>
>
> (MyPojoClass is in the same package than the aggregator)
> With the above, once again, everything happens as expected in the IDE, but
> when I deploy my application in Fuse, I get "Nothing to aggregate" all the
> time.
>
> I tried to set a header on all the messages and aggregate on the header
> (instead of the constant I currently use), but the results are the same.
>
> Please help, Camel user mailing list, you're my only hope. :)
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/AggregationStrategy-null-body-in-new-exchange-tp5796879.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65245-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 13:21:51 2017
Return-Path: <users-return-65245-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E479618254
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 13:21:50 +0000 (UTC)
Received: (qmail 39844 invoked by uid 500); 5 Apr 2017 13:21:49 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 39789 invoked by uid 500); 5 Apr 2017 13:21:49 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 39688 invoked by uid 99); 5 Apr 2017 13:21:48 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 13:21:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 58CC4C0742
	for <users@camel.apache.org>; Wed,  5 Apr 2017 13:21:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.286
X-Spam-Level: **
X-Spam-Status: No, score=2.286 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id wMsFfIHv9uNO for <users@camel.apache.org>;
	Wed,  5 Apr 2017 13:21:47 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 47F7A5FBC1
	for <users@camel.apache.org>; Wed,  5 Apr 2017 13:21:47 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 353204087788
	for <users@camel.apache.org>; Wed,  5 Apr 2017 06:21:45 -0700 (PDT)
Date: Wed, 5 Apr 2017 06:21:46 -0700 (MST)
From: Amruta Jawlekar <amruta.j@ignitiv.com>
To: users@camel.apache.org
Message-ID: <1491398506540-5797014.post@n5.nabble.com>
In-Reply-To: <5380c69c0905070846w3c59c158r2d2f35516f3fca38@mail.gmail.com>
References: <1491398506541-474477.post@n5.nabble.com> <f1c427510905041241w394e98a0y5648d20a9264f8c5@mail.gmail.com> <1491398506541-474479.post@n5.nabble.com> <f1c427510905041257g6675ed00m43cb4a95f79854ac@mail.gmail.com> <5380c69c0905042055j2a592489if998feb905d311@mail.gmail.com> <1491398506541-474482.post@n5.nabble.com> <f1c427510905061158o75a5a381hbd66ddf4a85a733@mail.gmail.com> <1491398506541-474484.post@n5.nabble.com> <5380c69c0905070846w3c59c158r2d2f35516f3fca38@mail.gmail.com>
Subject: Re: How long do the camel headers live in routes?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I have similar requirement. I am setting property in the starting route, and
I need to get that property value at the end of the route and compare it
with its value in order to forward to different routes.

Basically, I have different routes to poll to different folder location, the
middle processing of files is same and end route is different. I need to see
from which route the exchange has come, so as to forward to appropriate
route at the end.

I tried both -
1)
<camel:setHeader headerName="routeId">
	<camel:simple>${in.headers.ROUTE_ID}</camel:simple>
</camel:setHeader>

and then inside choice - <camel:simple>${header.routeId} ==
'value'</camel:simple>


2)
<camel:simple>${property.ROUTE_ID} == 'value' </camel:simple>

In both the cases it is not able to retrieve the value, as this condition is
never getting true and the expected route is not getting executed.

Could you please help?




--
View this message in context: http://camel.465427.n5.nabble.com/How-long-do-the-camel-headers-live-in-routes-tp474477p5797014.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65246-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 13:23:03 2017
Return-Path: <users-return-65246-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CBBD31829E
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 13:23:03 +0000 (UTC)
Received: (qmail 49426 invoked by uid 500); 5 Apr 2017 13:23:02 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 49384 invoked by uid 500); 5 Apr 2017 13:23:02 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 49371 invoked by uid 99); 5 Apr 2017 13:23:01 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 13:23:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9AC18C002D
	for <users@camel.apache.org>; Wed,  5 Apr 2017 13:23:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.286
X-Spam-Level: **
X-Spam-Status: No, score=2.286 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id x6ENZY3LJHa9 for <users@camel.apache.org>;
	Wed,  5 Apr 2017 13:23:00 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id A22D15F1E9
	for <users@camel.apache.org>; Wed,  5 Apr 2017 13:22:59 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id DFC3040877C0
	for <users@camel.apache.org>; Wed,  5 Apr 2017 06:22:56 -0700 (PDT)
Date: Wed, 5 Apr 2017 06:22:58 -0700 (MST)
From: Amruta Jawlekar <amruta.j@ignitiv.com>
To: users@camel.apache.org
Message-ID: <1491398578245-5797015.post@n5.nabble.com>
In-Reply-To: <CA+wbgs0KUDENMmtfix2HAdXLbPaaYyi9s9b6GfKgC6woV2es2Q@mail.gmail.com>
References: <1491304357365-5796906.post@n5.nabble.com> <CAGB5yNmgkF6DxEi4ojXwi9p4niKPVhOR=+bEfR50i3Q5p4uO4w@mail.gmail.com> <1491307880274-5796909.post@n5.nabble.com> <CA+wbgs0KUDENMmtfix2HAdXLbPaaYyi9s9b6GfKgC6woV2es2Q@mail.gmail.com>
Subject: Re: How to append text to the beginning of the file using Camel
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thank you souciance. Enrich best suits my requirement and it worked! :)



--
View this message in context: http://camel.465427.n5.nabble.com/How-to-append-text-to-the-beginning-of-the-file-using-Camel-tp5796906p5797015.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65247-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 13:33:32 2017
Return-Path: <users-return-65247-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 97F1218359
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 13:33:32 +0000 (UTC)
Received: (qmail 67722 invoked by uid 500); 5 Apr 2017 13:33:32 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 67660 invoked by uid 500); 5 Apr 2017 13:33:32 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 67649 invoked by uid 99); 5 Apr 2017 13:33:31 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 13:33:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 801C2C0985
	for <users@camel.apache.org>; Wed,  5 Apr 2017 13:33:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.487
X-Spam-Level: ***
X-Spam-Status: No, score=3.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 5msfkCmHpvG6 for <users@camel.apache.org>;
	Wed,  5 Apr 2017 13:33:31 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id BF4C15F1A0
	for <users@camel.apache.org>; Wed,  5 Apr 2017 13:33:30 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id E66BB40879C8
	for <users@camel.apache.org>; Wed,  5 Apr 2017 06:33:21 -0700 (PDT)
Date: Wed, 5 Apr 2017 06:33:23 -0700 (MST)
From: JD Innocenti <jd.innocenti@gmail.com>
To: users@camel.apache.org
Message-ID: <1491399203347-5797016.post@n5.nabble.com>
In-Reply-To: <A2E176BC-A12C-4A90-B25B-33929B9A248D@pronoia-solutions.com>
References: <1491229244820-5796879.post@n5.nabble.com> <A2E176BC-A12C-4A90-B25B-33929B9A248D@pronoia-solutions.com>
Subject: Re: AggregationStrategy: null body in new exchange
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

In fact, I recently had a breakthrough on this issue. It turns out that it
is due to a conflict during class loading. In my aggregator, I have the
following code:


And this code results in newBody being null. However, if I replace this
with:



This results in "java.lang.ClassCastException: net.j11e.MyClass cannot be
cast to net.j11e.MyClass".

Apparently, it is possible for multiple class loaders to load the same class
(here, MyClass). Indeed, the command "osgi:find-class MyClass" finds two
hits: one in my bundle, and another in dozer-osgi. This makes sense,
considering I use a dozer transformation to create instances of MyClass.

By renaming MyClass (to MyOtherClass) and rebooting (!), I manage to get my
application to work. However, by uninstalling and reinstalling my bundle,
the issue comes back. It looks like the class stays in some bundle's "cache"
when I uninstall/install my bundle... Whereas running the application
manually (or from the IDE) just loads everything "from scratch" everytime,
explaining why it works.

The question I have now is: how can I prevent this conflict from happening?
My application is pretty simple, I don't play with classloaders manually...



--
View this message in context: http://camel.465427.n5.nabble.com/AggregationStrategy-null-body-in-new-exchange-tp5796879p5797016.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65248-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 13:35:09 2017
Return-Path: <users-return-65248-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C32A21837B
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 13:35:09 +0000 (UTC)
Received: (qmail 76491 invoked by uid 500); 5 Apr 2017 13:35:08 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 76447 invoked by uid 500); 5 Apr 2017 13:35:08 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 76436 invoked by uid 99); 5 Apr 2017 13:35:08 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 13:35:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 41DBDC002D
	for <users@camel.apache.org>; Wed,  5 Apr 2017 13:35:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.487
X-Spam-Level: ***
X-Spam-Status: No, score=3.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RDjZxS2uSq5d for <users@camel.apache.org>;
	Wed,  5 Apr 2017 13:35:07 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 3675B5FAE7
	for <users@camel.apache.org>; Wed,  5 Apr 2017 13:35:07 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 73BDF4087A3C
	for <users@camel.apache.org>; Wed,  5 Apr 2017 06:35:05 -0700 (PDT)
Date: Wed, 5 Apr 2017 06:35:06 -0700 (MST)
From: JD Innocenti <jd.innocenti@gmail.com>
To: users@camel.apache.org
Message-ID: <1491399306675-5797017.post@n5.nabble.com>
In-Reply-To: <CAGB5yNkwtLYvq7+3O+-coibhHSzDESyJkqNgtNNSbj-XEnDFTA@mail.gmail.com>
References: <1491229244820-5796879.post@n5.nabble.com> <CAGB5yNkwtLYvq7+3O+-coibhHSzDESyJkqNgtNNSbj-XEnDFTA@mail.gmail.com>
Subject: Re: AggregationStrategy: null body in new exchange
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

Thanks for the reply! As I said to Quinn Stevenson,  I recently had a
breakthrough on this issue. It turns out that it is due to a conflict during
class loading. In my aggregator, I have the following code:



And this code results in newBody being null. However, if I replace this
with:



This results in "java.lang.ClassCastException: net.j11e.MyClass cannot be
cast to net.j11e.MyClass".

Apparently, it is possible for multiple class loaders to load the same class
(here, MyClass). Indeed, the command "osgi:find-class MyClass" finds two
hits: one in my bundle, and another in dozer-osgi. This makes sense,
considering I use a dozer transformation to create instances of MyClass.

By renaming MyClass (to MyOtherClass) and rebooting (!), I manage to get my
application to work. However, by uninstalling and reinstalling my bundle,
the issue comes back. It looks like the class stays in some bundle's "cache"
when I uninstall/install my bundle... Whereas running the application
manually (or from the IDE) just loads everything "from scratch" everytime,
explaining why it works.

The question I have now is: how can I prevent this conflict from happening?
My application is pretty simple, I don't play with classloaders manually...



--
View this message in context: http://camel.465427.n5.nabble.com/AggregationStrategy-null-body-in-new-exchange-tp5796879p5797017.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65249-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 13:46:16 2017
Return-Path: <users-return-65249-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA5BE18456
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 13:46:16 +0000 (UTC)
Received: (qmail 22559 invoked by uid 500); 5 Apr 2017 13:46:16 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 22518 invoked by uid 500); 5 Apr 2017 13:46:16 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 22506 invoked by uid 99); 5 Apr 2017 13:46:15 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 13:46:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 218A01A03CA
	for <users@camel.apache.org>; Wed,  5 Apr 2017 13:46:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.482
X-Spam-Level:
X-Spam-Status: No, score=-1.482 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-2.796, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key)
	header.d=pronoia-solutions-com.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Ny9MMv_dc9r6 for <users@camel.apache.org>;
	Wed,  5 Apr 2017 13:46:13 +0000 (UTC)
Received: from mail-pf0-f175.google.com (mail-pf0-f175.google.com [209.85.192.175])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 83DC55F1A0
	for <users@camel.apache.org>; Wed,  5 Apr 2017 13:46:13 +0000 (UTC)
Received: by mail-pf0-f175.google.com with SMTP id 197so7768348pfv.1
        for <users@camel.apache.org>; Wed, 05 Apr 2017 06:46:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pronoia-solutions-com.20150623.gappssmtp.com; s=20150623;
        h=from:content-transfer-encoding:mime-version:subject:date:references
         :to:in-reply-to:message-id;
        bh=RbBidbVzYoApsHyeRRqXnKECQGolp35mZVNEZCTuYuA=;
        b=zsCkNYxIAR4Ea5TTIO8mBI4GvPGs2uiAy5c2T8gTRvHeUQHNmAixyJsVaVmGvu/D9h
         SaaSS1y0q6ydsoc7dfahlclKjCuc5Ish7JQEleY6GLeb81qAvAbKs96aRgzc/glAvkhP
         2nNPeFfUzFdsHYJrpkVxB6blXgHNyc9ybasaDWTPHL6baio1qHFZR1tuuVaa+M1m1ukY
         BEi1WBtNYF71n9mAIfaIh0MUOR69lq1wXn4IpptlZdg9f9rRGvoZjX3pmPhbR61jEQ1G
         c3LXpIv8TW9NeB58dERPjwTPfmiWF6p1pcdkWwWiBzSm71L76W4jJlaCiPJ+mN+NKQtq
         tVGg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:from:content-transfer-encoding:mime-version
         :subject:date:references:to:in-reply-to:message-id;
        bh=RbBidbVzYoApsHyeRRqXnKECQGolp35mZVNEZCTuYuA=;
        b=WLNObQP6t+2aJ7lTfSJvqNsxTOgRH8N5RW9oMs5LW3w3vl3fIBXwwQk5LdiKrdgnZ7
         jK9Fy8i0QNPpGwEdhCSh9wiCrAKwgu/oKjl1AxEhaKOg0x7My74VxQjU4mQaROO7adfB
         Zu240n+nbTJYKJ7kgCTBtYFrTkfJv0Si9iMemSWT3s8tFsHMGVMCHQoLZYuRMBPI+xwB
         rG5wXxagXlI47krnl2LSDKHxknwl2rkTShJbjyKNMJzwZJb5GTXDIyDZY21tyObBjRf6
         V88oQpiI9Td88AbeyzKUwf0SyIFEByoTllibOR5VkeuyHBsx727OThon27D12R9nOHPD
         A4Qw==
X-Gm-Message-State: AFeK/H1zfDqHRW0nmUVW655dt0SLWNrHn/8x2B6DvTLdtuw5y4divdqJmVe7Dcbnui5oQw==
X-Received: by 10.98.209.25 with SMTP id z25mr29997206pfg.200.1491399972379;
        Wed, 05 Apr 2017 06:46:12 -0700 (PDT)
Received: from macpro.pronoia.local (c-73-20-8-23.hsd1.ut.comcast.net. [73.20.8.23])
        by smtp.gmail.com with ESMTPSA id o17sm37857518pfa.98.2017.04.05.06.46.11
        for <users@camel.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 05 Apr 2017 06:46:11 -0700 (PDT)
From: Quinn Stevenson <quinn@pronoia-solutions.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (Mac OS X Mail 10.2 \(3259\))
Subject: Re: AggregationStrategy: null body in new exchange
Date: Wed, 5 Apr 2017 07:46:10 -0600
References: <1491229244820-5796879.post@n5.nabble.com>
 <CAGB5yNkwtLYvq7+3O+-coibhHSzDESyJkqNgtNNSbj-XEnDFTA@mail.gmail.com>
 <1491399306675-5797017.post@n5.nabble.com>
To: users@camel.apache.org
In-Reply-To: <1491399306675-5797017.post@n5.nabble.com>
Message-Id: <6145D957-6314-4B71-B89A-DCF988631505@pronoia-solutions.com>
X-Mailer: Apple Mail (2.3259)

The easiest way to avoid this problem is to ensure you have unique =
package names.  OSGi allows you to have an implementation of the a class =
in your bundle as well as import it (useful for providing default =
implementations).

As far as net.j11i.MyClass being in the dozer-osgi bundle - which =
version of Dozer are you using?  I looked in v5.5.1 of the dozer-osgi =
bundle, and it isn=E2=80=99t there.  Did you build dozer yourself and =
add this class?

> On Apr 5, 2017, at 7:35 AM, JD Innocenti <jd.innocenti@gmail.com> =
wrote:
>=20
> Hi,
>=20
> Thanks for the reply! As I said to Quinn Stevenson,  I recently had a
> breakthrough on this issue. It turns out that it is due to a conflict =
during
> class loading. In my aggregator, I have the following code:
>=20
>=20
>=20
> And this code results in newBody being null. However, if I replace =
this
> with:
>=20
>=20
>=20
> This results in "java.lang.ClassCastException: net.j11e.MyClass cannot =
be
> cast to net.j11e.MyClass".
>=20
> Apparently, it is possible for multiple class loaders to load the same =
class
> (here, MyClass). Indeed, the command "osgi:find-class MyClass" finds =
two
> hits: one in my bundle, and another in dozer-osgi. This makes sense,
> considering I use a dozer transformation to create instances of =
MyClass.
>=20
> By renaming MyClass (to MyOtherClass) and rebooting (!), I manage to =
get my
> application to work. However, by uninstalling and reinstalling my =
bundle,
> the issue comes back. It looks like the class stays in some bundle's =
"cache"
> when I uninstall/install my bundle... Whereas running the application
> manually (or from the IDE) just loads everything "from scratch" =
everytime,
> explaining why it works.
>=20
> The question I have now is: how can I prevent this conflict from =
happening?
> My application is pretty simple, I don't play with classloaders =
manually...
>=20
>=20
>=20
> --
> View this message in context: =
http://camel.465427.n5.nabble.com/AggregationStrategy-null-body-in-new-exc=
hange-tp5796879p5797017.html
> Sent from the Camel - Users mailing list archive at Nabble.com.


From users-return-65250-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 14:08:31 2017
Return-Path: <users-return-65250-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4F4AF18584
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 14:08:31 +0000 (UTC)
Received: (qmail 63880 invoked by uid 500); 5 Apr 2017 14:08:30 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 63804 invoked by uid 500); 5 Apr 2017 14:08:29 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 63792 invoked by uid 99); 5 Apr 2017 14:08:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 14:08:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 4BF421A055B
	for <users@camel.apache.org>; Wed,  5 Apr 2017 14:08:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.482
X-Spam-Level:
X-Spam-Status: No, score=-1.482 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-2.796, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key)
	header.d=pronoia-solutions-com.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id HwzM2f78lleo for <users@camel.apache.org>;
	Wed,  5 Apr 2017 14:08:26 +0000 (UTC)
Received: from mail-pf0-f171.google.com (mail-pf0-f171.google.com [209.85.192.171])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 62FE45F24E
	for <users@camel.apache.org>; Wed,  5 Apr 2017 14:08:25 +0000 (UTC)
Received: by mail-pf0-f171.google.com with SMTP id o126so8036669pfb.3
        for <users@camel.apache.org>; Wed, 05 Apr 2017 07:08:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pronoia-solutions-com.20150623.gappssmtp.com; s=20150623;
        h=from:content-transfer-encoding:mime-version:subject:date:references
         :to:in-reply-to:message-id;
        bh=Y54bQAJnhPvuQGkuehgjONJHD3wL1O2Bt5vWlXJQ1SA=;
        b=vjwkZSymIqUYNMttE61kGVUBE9tHX/REnWRfyo4Cxz+27XVoiesKwGkdZCjF+YVrAp
         b0W5YsX8cJqzuLqnwPIi+LW0FpM7a04qvb+RxmI+KW+BqRvCgyKiJeB8N94ZKzXKA6ba
         3IIdpHTIBj4dlh6z7fgqd8/IGFIQmd84RL8GzIcUgrSOTCFYB0ffo6MT+FVi2A2toB4G
         K6YfKrGf1g+AjFNv9gpZzPLAQQXGvSVQjWK+tjaNnl/h5IWfF7kTxurLw5o0qR5YAWO4
         gyg9SKvfec5kmT7C2jd23Vlfbf0CseUjKG/S7tcd1rTlI26XKv7LYeSZW5dsfQ4A5Tkz
         2k+Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:from:content-transfer-encoding:mime-version
         :subject:date:references:to:in-reply-to:message-id;
        bh=Y54bQAJnhPvuQGkuehgjONJHD3wL1O2Bt5vWlXJQ1SA=;
        b=e4PNSlKH4vTSh6Jh4mFuqwIULr05hHCSPxJaSD+iPAHjiV/P2uUtIZUQlOrk6NZKC7
         +MLrMRH2y89KSdnO7kF42Dbnm1EgCoEV4QiilBgSX4kvU4rGnFHExn0iMyXh+jNSryhN
         sag7dXdd4UjgpTraCphTUyS9WpXMy6it2lccQdMI14f0KfoIhbQsffSuHrpy1cDjFuv9
         knRl0M0NmGoXVX1VxHJK7n5dFKqUuiOnaS+POXmkZ79DtptNEeYapyL6fQq+kxOPmAaX
         RcBP3DfYdxOH9H+tPHIxAGLQdnPQEDW/IwPErD3TFJp7Qyvk3vnb3+eEdgM4p3o1K/IG
         8iJQ==
X-Gm-Message-State: AFeK/H2ILAiIi+7g9u+zyNXzZNnv3AWERjQxj9RKjI0mTaYTNe15S8foXLPboT//HzYR5g==
X-Received: by 10.99.55.7 with SMTP id e7mr30838861pga.175.1491401303863;
        Wed, 05 Apr 2017 07:08:23 -0700 (PDT)
Received: from macpro.pronoia.local (c-73-20-8-23.hsd1.ut.comcast.net. [73.20.8.23])
        by smtp.gmail.com with ESMTPSA id u22sm38107747pgo.67.2017.04.05.07.08.22
        for <users@camel.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 05 Apr 2017 07:08:23 -0700 (PDT)
From: Quinn Stevenson <quinn@pronoia-solutions.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (Mac OS X Mail 10.2 \(3259\))
Subject: Re: How long do the camel headers live in routes?
Date: Wed, 5 Apr 2017 08:08:22 -0600
References: <1491398506541-474477.post@n5.nabble.com>
 <f1c427510905041241w394e98a0y5648d20a9264f8c5@mail.gmail.com>
 <1491398506541-474479.post@n5.nabble.com>
 <f1c427510905041257g6675ed00m43cb4a95f79854ac@mail.gmail.com>
 <5380c69c0905042055j2a592489if998feb905d311@mail.gmail.com>
 <1491398506541-474482.post@n5.nabble.com>
 <f1c427510905061158o75a5a381hbd66ddf4a85a733@mail.gmail.com>
 <1491398506541-474484.post@n5.nabble.com>
 <5380c69c0905070846w3c59c158r2d2f35516f3fca38@mail.gmail.com>
 <1491398506540-5797014.post@n5.nabble.com>
To: users@camel.apache.org
In-Reply-To: <1491398506540-5797014.post@n5.nabble.com>
Message-Id: <631F4427-DCBA-4397-BBC5-3516D7B2E27C@pronoia-solutions.com>
X-Mailer: Apple Mail (2.3259)

The DSL for 1 looks OK.  The DSL for option 2 should be using =
exchangeProperty.ROUTE_ID instead of property.ROUTE_ID if your Camel =
version is 2.15 or later.

Can you share routes so we can see the details?


> On Apr 5, 2017, at 7:21 AM, Amruta Jawlekar <amruta.j@ignitiv.com> =
wrote:
>=20
> I have similar requirement. I am setting property in the starting =
route, and
> I need to get that property value at the end of the route and compare =
it
> with its value in order to forward to different routes.
>=20
> Basically, I have different routes to poll to different folder =
location, the
> middle processing of files is same and end route is different. I need =
to see
> from which route the exchange has come, so as to forward to =
appropriate
> route at the end.
>=20
> I tried both -
> 1)
> <camel:setHeader headerName=3D"routeId">
> 	<camel:simple>${in.headers.ROUTE_ID}</camel:simple>
> </camel:setHeader>
>=20
> and then inside choice - <camel:simple>${header.routeId} =3D=3D
> 'value'</camel:simple>
>=20
>=20
> 2)
> <camel:simple>${property.ROUTE_ID} =3D=3D 'value' </camel:simple>
>=20
> In both the cases it is not able to retrieve the value, as this =
condition is
> never getting true and the expected route is not getting executed.
>=20
> Could you please help?
>=20
>=20
>=20
>=20
> --
> View this message in context: =
http://camel.465427.n5.nabble.com/How-long-do-the-camel-headers-live-in-ro=
utes-tp474477p5797014.html
> Sent from the Camel - Users mailing list archive at Nabble.com.


From users-return-65251-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 15:51:29 2017
Return-Path: <users-return-65251-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DDE0218B54
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 15:51:28 +0000 (UTC)
Received: (qmail 66099 invoked by uid 500); 5 Apr 2017 15:51:28 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 66053 invoked by uid 500); 5 Apr 2017 15:51:28 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 66042 invoked by uid 99); 5 Apr 2017 15:51:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 15:51:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C04A21A056C
	for <users@camel.apache.org>; Wed,  5 Apr 2017 15:51:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.487
X-Spam-Level: ***
X-Spam-Status: No, score=3.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id HwxlfHQbTMAu for <users@camel.apache.org>;
	Wed,  5 Apr 2017 15:51:25 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 3B3A15F3BF
	for <users@camel.apache.org>; Wed,  5 Apr 2017 15:51:25 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 1A0FA408A2D9
	for <users@camel.apache.org>; Wed,  5 Apr 2017 08:51:24 -0700 (PDT)
Date: Wed, 5 Apr 2017 08:51:24 -0700 (MST)
From: JD Innocenti <jd.innocenti@gmail.com>
To: users@camel.apache.org
Message-ID: <1491407484466-5797024.post@n5.nabble.com>
In-Reply-To: <6145D957-6314-4B71-B89A-DCF988631505@pronoia-solutions.com>
References: <1491229244820-5796879.post@n5.nabble.com> <CAGB5yNkwtLYvq7+3O+-coibhHSzDESyJkqNgtNNSbj-XEnDFTA@mail.gmail.com> <1491399306675-5797017.post@n5.nabble.com> <6145D957-6314-4B71-B89A-DCF988631505@pronoia-solutions.com>
Subject: Re: AggregationStrategy: null body in new exchange
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

When I look into the imported packages of dozer (v5.5.1) in JBoss Fuse's web
UI, I see all of my application's packages... It says "Dynamic import -
imported due to DynamicImport-Package=*". 

So I found a fix to my issue: every time I deploy a new version of my
bundle, I refresh dozer's bundle. This "removes" my packages (including the
one with MyClass) from dozer's imported packages, and solves my problem.

Now, on to "why is my log4j.properties ignored when I deploy my application
in karaf, while it's not when I run my application from the terminal"... :)

Thanks for your time anyway! And if you have ideas regarding the reason
dozer imports my bundle's packages, I'm interested.



--
View this message in context: http://camel.465427.n5.nabble.com/AggregationStrategy-null-body-in-new-exchange-tp5796879p5797024.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65252-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 17:42:58 2017
Return-Path: <users-return-65252-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B673018318
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 17:42:58 +0000 (UTC)
Received: (qmail 72139 invoked by uid 500); 5 Apr 2017 17:42:58 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 72093 invoked by uid 500); 5 Apr 2017 17:42:58 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 71791 invoked by uid 99); 5 Apr 2017 17:42:57 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 17:42:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5DF011813A4
	for <users@camel.apache.org>; Wed,  5 Apr 2017 17:42:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.388
X-Spam-Level:
X-Spam-Status: No, score=-0.388 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_ENVFROM_END_DIGIT=0.25, FREEMAIL_REPLYTO_END_DIGIT=0.25,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001, T_KAM_HTML_FONT_INVALID=0.01]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=yahoo.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id f7vV7yuo1bF7 for <users@camel.apache.org>;
	Wed,  5 Apr 2017 17:42:55 +0000 (UTC)
Received: from nm41-vm1.bullet.mail.gq1.yahoo.com (nm41-vm1.bullet.mail.gq1.yahoo.com [67.195.87.88])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id B4BB55F3BF
	for <users@camel.apache.org>; Wed,  5 Apr 2017 17:42:54 +0000 (UTC)
Received: from [127.0.0.1] by nm41.bullet.mail.gq1.yahoo.com with NNFMP; 05 Apr 2017 17:42:48 -0000
Received: from [98.137.12.63] by nm41.bullet.mail.gq1.yahoo.com with NNFMP; 05 Apr 2017 17:39:51 -0000
Received: from [98.139.170.182] by tm8.bullet.mail.gq1.yahoo.com with NNFMP; 05 Apr 2017 17:39:51 -0000
Received: from [98.139.212.242] by tm25.bullet.mail.bf1.yahoo.com with NNFMP; 05 Apr 2017 17:39:51 -0000
Received: from [127.0.0.1] by omp1051.mail.bf1.yahoo.com with NNFMP; 05 Apr 2017 17:39:51 -0000
X-Yahoo-Newman-Property: ymail-4
X-Yahoo-Newman-Id: 268903.58341.bm@omp1051.mail.bf1.yahoo.com
X-YMail-OSG: hS9BAFUVM1mQqc5RYnzl7BDHstN22reirSjIV7d1yM3yUmjHul4cf7ztfBeo7M0
 ubZ9Jle2xsdknnrslaPmIHzYRoLQ68Jr8qXetKkhJ88QEQMu6SK7CllRHDsaMsSJ03b8GFefOi5U
 9dopTQ0xy9pty3gHSFMh57jT4Re7GZbMdr3BND.E5rRgyKhD0MSyADaFyrn5hUXBnc9icgbvNo1q
 5d89X.G9gFVfV2G1BCcjNgH.S22_NLY87MatKC8.Cu5M2uBA.Ihg24xkQysAu6etApclAG6RJE80
 ZQn29j01TLqcP8Zifp23_.M46zV7boAhwLa_or75Z_F.jpPzbhwKdLypauieLxyPlF28Ac5OPWg4
 rmHWMYKLXzjfjoH8SiFRwI0ZneW9HNWRK5A_APAe.Hs_oUxVjDC4ilNnGnBFvfnRGh0SHysli6Ko
 FnCNMXn6p920C3EdYnk9Nw0d.qloBQxV2zo4MA9s1PSTN30pr6GKYH4rjytsYVEX6pA9QNaVGeHg
 z6qCPw06ca_bXW_DDTONT._FQOzS71iGoyNCUIBjKxGE-
Received: from jws400116.mail.bf2.yahoo.com by sendmailws130.mail.bf1.yahoo.com; Wed, 05 Apr 2017 17:39:50 +0000; 1491413990.919
Date: Wed, 5 Apr 2017 17:39:50 +0000 (UTC)
From: Caleb Skidmore <caliskid8888@yahoo.com.INVALID>
Reply-To: Caleb Skidmore <caliskid8888@yahoo.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Message-ID: <1571051417.11767359.1491413990773@mail.yahoo.com>
Subject: Camel not Sending Headers with Objects to RabbitMQ
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11767358_486768957.1491413990771"
References: <1571051417.11767359.1491413990773.ref@mail.yahoo.com>

------=_Part_11767358_486768957.1491413990771
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hello,

When I set a header as an object and route it to RabbitMQ, the header does =
not arrive.=C2=A0 For instance:

List<String> testData =3D new ArrayList<>();
testData.add("test");
testData.add("data");
exchange.getIn().setHeader("ObjectHeader", testData);
exchange.getIn().setHeader("StringHeader", testData.toString());

When I check the headers in RabbitMQ, the StringHeader is there but the Obj=
ectHeader is missing.=C2=A0 Any thoughts on what is happening to the Object=
Header?

Thanks,
C


------=_Part_11767358_486768957.1491413990771--

From users-return-65253-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 18:44:09 2017
Return-Path: <users-return-65253-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A5E771896B
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 18:44:09 +0000 (UTC)
Received: (qmail 65535 invoked by uid 500); 5 Apr 2017 18:44:09 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 65486 invoked by uid 500); 5 Apr 2017 18:44:09 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 26332 invoked by uid 99); 5 Apr 2017 16:47:57 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.737
X-Spam-Level: ***
X-Spam-Status: No, score=3.737 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Date: Wed, 5 Apr 2017 09:47:55 -0700 (MST)
From: "Abhishek.Jha09" <abhij03@gmail.com>
To: users@camel.apache.org
Message-ID: <1491410875656-5797025.post@n5.nabble.com>
Subject: Updating hystrix configuration at runtime
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Is there a way to update hystrix configuration at runtime? I am using Java
DSL to create route and referring to a hystrix configuration bean in
SimpleRegistry. Nothing seems to change when I modify this bean and then do
camelContext.addRouteDefinition().



--
View this message in context: http://camel.465427.n5.nabble.com/Updating-hystrix-configuration-at-runtime-tp5797025.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65254-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 18:44:16 2017
Return-Path: <users-return-65254-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF4991896F
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 18:44:16 +0000 (UTC)
Received: (qmail 67664 invoked by uid 500); 5 Apr 2017 18:44:15 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 67628 invoked by uid 500); 5 Apr 2017 18:44:15 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 57300 invoked by uid 99); 5 Apr 2017 17:03:34 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FORGED_MUA_MOZILLA=1.596, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	FREEMAIL_REPLYTO_END_DIGIT=0.25, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-2.796, RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=yahoo.com
X-Yahoo-Newman-Property: ymail-4
X-Yahoo-Newman-Id: 426810.70105.bm@omp1066.mail.bf1.yahoo.com
X-YMail-OSG: 3oJL1b0VM1kj8SLXxz1lcgpRThmwaFLlG.KZXCeGBo_AipJ64nM59rE46pb3ahS
 tMhKdEx42wgmDqxjsZ.PGlr.EY8sJEw8YV5ASPjQH6Q7bAV7eYuRAYyDs8t2Qk8RS2DY5ihWNB8L
 runing56loXz2XaKoDonSL94Q2gIktRSskXva_TE.tKnCzsiFp8dSCruM2BkEVH_CGFrrOayYhl9
 4ulNWPMlOBLnPx4TLoVT9F48CGgO24SqTV1Rwzt3Av.qU6Lk7RbruJzydYLKaoOHP_pQcGtE5hcr
 EOennejGqI2j9Iha8r0XPIMkFG_GHXMm8Qz7mOnF5IawtKjZGGVdoBbdi_f0K0lu5hcZ8JsWRlzD
 QrlkJ0y8jpLyuBcKFctTMTu64hwAQE_VzWzNLlHE1OsTE20EWPC4RLnYpdRk__XY2qDp7S.kmc7D
 rRNqnp7U6JuAWSPYww2ys9fAXoL1W3MOu21rbe2TkECcZVrXGLNyyYOwXBOBUAZzitSD7uaseyyx
 OIv9Q_Z0TkgdYHWPNLQbcStaUWrHG7cvNi5.nu7IE7Q--
Date: Wed, 5 Apr 2017 17:00:02 +0000 (UTC)
From: Caleb Skidmore <caliskid8888@yahoo.com.INVALID>
Reply-To: Caleb Skidmore <caliskid8888@yahoo.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Message-ID: <2025742436.608379.1491411602072@mail.yahoo.com>
Subject: Camel Not Sending Objects in Headers to RabbitMQ
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
References: <2025742436.608379.1491411602072.ref@mail.yahoo.com>
X-Mailer: WebService/1.1.9272 YahooMailNeo Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36

Hello,

When I set a header as an object and route it to RabbitMQ, the header does not arrive.  For instance:

List<String> testData = new ArrayList<>();
testData.add("test");
testData.add("data");
exchange.getIn().setHeader("ObjectHeader", testData);
exchange.getIn().setHeader("StringHeader", testData.toString());

When I check the headers in RabbitMQ, the StringHeader is there but the ObjectHeader is missing.  Any thoughts on what is happening to the ObjectHeader?

Thanks,
C

From users-return-65255-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 19:02:41 2017
Return-Path: <users-return-65255-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B296318A87
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 19:02:41 +0000 (UTC)
Received: (qmail 30599 invoked by uid 500); 5 Apr 2017 19:02:41 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 30548 invoked by uid 500); 5 Apr 2017 19:02:41 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 30537 invoked by uid 99); 5 Apr 2017 19:02:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 19:02:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8F2401803A6
	for <users@camel.apache.org>; Wed,  5 Apr 2017 19:02:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.487
X-Spam-Level: *****
X-Spam-Status: No, score=5.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id z2RSpmKKMTYH for <users@camel.apache.org>;
	Wed,  5 Apr 2017 19:02:39 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 04F0E5F24C
	for <users@camel.apache.org>; Wed,  5 Apr 2017 19:02:39 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 41FA3408D0E6
	for <users@camel.apache.org>; Wed,  5 Apr 2017 12:02:37 -0700 (PDT)
Date: Wed, 5 Apr 2017 12:02:38 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs2g5yZTFwEUF9prxx7uprXWFPJy3Dw2N-k8h9dRkcnnnw@mail.gmail.com>
In-Reply-To: <2025742436.608379.1491411602072@mail.yahoo.com>
References: <2025742436.608379.1491411602072@mail.yahoo.com>
Subject: Re: Camel Not Sending Objects in Headers to RabbitMQ
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_171427_796804610.1491418958587"

------=_Part_171427_796804610.1491418958587
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello,

Looking at the Camel rabbitmq component source you can see here:
https://github.com/apache/camel/blob/master/components/camel-rabbitmq/src/main/java/org/apache/camel/component/rabbitmq/RabbitMQMessageConverter.java#L161
and a bit below that only primitive types are supported. Lists or Objects
will be returned as null so I guess that is why the header is not allowed
to pass through.

Could be a feature request?


Best
Souciance

On Wed, Apr 5, 2017 at 8:44 PM, Caleb Skidmore [via Camel] <
ml-node+s465427n5797027h0@n5.nabble.com> wrote:

> Hello,
>
> When I set a header as an object and route it to RabbitMQ, the header does
> not arrive.  For instance:
>
> List<String> testData = new ArrayList<>();
> testData.add("test");
> testData.add("data");
> exchange.getIn().setHeader("ObjectHeader", testData);
> exchange.getIn().setHeader("StringHeader", testData.toString());
>
> When I check the headers in RabbitMQ, the StringHeader is there but the
> ObjectHeader is missing.  Any thoughts on what is happening to the
> ObjectHeader?
>
> Thanks,
> C
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Camel-Not-Sending-Objects-
> in-Headers-to-RabbitMQ-tp5797027.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Camel-Not-Sending-Objects-in-Headers-to-RabbitMQ-tp5797027p5797028.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_171427_796804610.1491418958587--

From users-return-65256-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 21:15:56 2017
Return-Path: <users-return-65256-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 057ED18318
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 21:15:56 +0000 (UTC)
Received: (qmail 97451 invoked by uid 500); 5 Apr 2017 21:15:55 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 97394 invoked by uid 500); 5 Apr 2017 21:15:55 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 97383 invoked by uid 99); 5 Apr 2017 21:15:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 21:15:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E1B671A020F
	for <users@camel.apache.org>; Wed,  5 Apr 2017 21:15:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.314
X-Spam-Level: **
X-Spam-Status: No, score=2.314 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id h6e5ftjW0czw for <users@camel.apache.org>;
	Wed,  5 Apr 2017 21:15:54 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id DDE635FAE7
	for <users@camel.apache.org>; Wed,  5 Apr 2017 21:15:53 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 280C8408F4F8
	for <users@camel.apache.org>; Wed,  5 Apr 2017 14:15:53 -0700 (PDT)
Date: Wed, 5 Apr 2017 14:15:53 -0700 (MST)
From: Gary <gary.mills@ge.com>
To: users@camel.apache.org
Message-ID: <1491426953340-5797029.post@n5.nabble.com>
Subject: JAXB Marshalling from email route
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

hello, I am wondering if anyone has seen this before.=20
a route that does JAXB unmarshalling. it works fine. it works as it should.=
=20
however, if I send the XML file as an attachment and pick the XML attachmen=
t
from the email, then process it. I get the following exception:
[com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character '=EF=BF=
=BD'
(code 65533 / 0xfffd) in prolog; expected '<'

IF I use the same XML files, place on the file system to be consumed ALSO i=
f
I send it by SFTP/FTP it works fine. If I send the XML as an attachment -
extra characters are introduced. ???
I've tried plain/text, rich Text, html, format of the email on outlook, thi=
s
doesn't do anything.=20

something with the email sending to route is introducing hidden or special
characters.






-----
Gary Lee Mills
--
View this message in context: http://camel.465427.n5.nabble.com/JAXB-Marsha=
lling-from-email-route-tp5797029.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65257-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 21:28:58 2017
Return-Path: <users-return-65257-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0D51F184E2
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 21:28:58 +0000 (UTC)
Received: (qmail 49259 invoked by uid 500); 5 Apr 2017 21:28:57 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 49207 invoked by uid 500); 5 Apr 2017 21:28:57 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 49196 invoked by uid 99); 5 Apr 2017 21:28:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 21:28:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0BA391803A6
	for <users@camel.apache.org>; Wed,  5 Apr 2017 21:28:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.487
X-Spam-Level: *****
X-Spam-Status: No, score=5.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id KFdq45StYXF9 for <users@camel.apache.org>;
	Wed,  5 Apr 2017 21:28:54 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id AF7FC5F3BF
	for <users@camel.apache.org>; Wed,  5 Apr 2017 21:28:53 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 0FC7C408F793
	for <users@camel.apache.org>; Wed,  5 Apr 2017 14:28:53 -0700 (PDT)
Date: Wed, 5 Apr 2017 14:28:53 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs1OZc_jrCHR344a8FzMHfNXJ65GVDSbPZWQVrYqM7zAHg@mail.gmail.com>
In-Reply-To: <1491426953340-5797029.post@n5.nabble.com>
References: <1491426953340-5797029.post@n5.nabble.com>
Subject: Re: JAXB Marshalling from email route
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_173644_1193938678.1491427733337"

------=_Part_173644_1193938678.1491427733337
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

How you extract the attachment from the e-mail?

On Wed, Apr 5, 2017 at 11:15 PM, Gary [via Camel] <
ml-node+s465427n5797029h62@n5.nabble.com> wrote:

> hello, I am wondering if anyone has seen this before.
> a route that does JAXB unmarshalling. it works fine. it works as it
> should.
> however, if I send the XML file as an attachment and pick the XML
> attachment from the email, then process it. I get the following exception=
:
> [com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character '=EF=
=BF=BD'
> (code 65533 / 0xfffd) in prolog; expected '<'
>
> IF I use the same XML files, place on the file system to be consumed ALSO
> if I send it by SFTP/FTP it works fine. If I send the XML as an attachmen=
t
> - extra characters are introduced. ???
> I've tried plain/text, rich Text, html, format of the email on outlook,
> this doesn't do anything.
>
> something with the email sending to route is introducing hidden or specia=
l
> characters.
>
>
> Gary Lee Mills
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/JAXB-Marshalling-from-
> email-route-tp5797029.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dunsub=
scribe_by_code&node=3D465428&code=3Dc291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5=
jb218NDY1NDI4fDE1MzI5MTE2NTY=3D>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dmacro=
_viewer&id=3Dinstant_html%21nabble%3Aemail.naml&base=3Dnabble.naml.namespac=
es.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.=
template.NodeNamespace&breadcrumbs=3Dnotify_subscribers%21nabble%3Aemail.na=
ml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail=
.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/JAXB-Marsha=
lling-from-email-route-tp5797029p5797030.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_173644_1193938678.1491427733337--

From users-return-65258-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 22:12:27 2017
Return-Path: <users-return-65258-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D503D187B5
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 22:12:27 +0000 (UTC)
Received: (qmail 68832 invoked by uid 500); 5 Apr 2017 22:12:27 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 68771 invoked by uid 500); 5 Apr 2017 22:12:27 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 68760 invoked by uid 99); 5 Apr 2017 22:12:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 22:12:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A20491A009C
	for <users@camel.apache.org>; Wed,  5 Apr 2017 22:12:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.314
X-Spam-Level: **
X-Spam-Status: No, score=2.314 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id LXPAOxVSDxol for <users@camel.apache.org>;
	Wed,  5 Apr 2017 22:12:25 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id C5EF35FBC1
	for <users@camel.apache.org>; Wed,  5 Apr 2017 22:12:24 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 26CA6408FF39
	for <users@camel.apache.org>; Wed,  5 Apr 2017 15:12:23 -0700 (PDT)
Date: Wed, 5 Apr 2017 15:12:23 -0700 (MST)
From: Gary <gary.mills@ge.com>
To: users@camel.apache.org
Message-ID: <1491430343631-5797032.post@n5.nabble.com>
In-Reply-To: <CA+wbgs1OZc_jrCHR344a8FzMHfNXJ65GVDSbPZWQVrYqM7zAHg@mail.gmail.com>
References: <1491426953340-5797029.post@n5.nabble.com> <CA+wbgs1OZc_jrCHR344a8FzMHfNXJ65GVDSbPZWQVrYqM7zAHg@mail.gmail.com>
Subject: Re: JAXB Marshalling from email route
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

here is my code for extracting attachments  - thank you - I also use this
with CSV files and it works ok. 

public class EmailProcessor implements Processor {

	private static final Logger LOG = Logger.getLogger(EmailProcessor.class);

	private SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd-hh-mm-ss");

	public void process(Exchange exchange) throws Exception {

		LOG.debug("Entering EmailProcessor...");

		Map<String, DataHandler> attachments = exchange.getIn()
				.getAttachments();

		if ((null == attachments) || (attachments.size() < 1)) {
			throw new EmailProcessorException("Null or 0 attachements");
		} else {
			LOG.debug("attachments.size = " + attachments.size());
		}

		Map<String, String> emailAttr = gatherEmailHeaderInformation(exchange);

		List<String> attachmentFilenames = new ArrayList<String>();

		try {

			List<FilenameAndContents> attachmentArray = new
ArrayList<FilenameAndContents>();

			for (String name : attachments.keySet()) {

				DataHandler dh = attachments.get(name);

				// get the file name
				String filename = dh.getName();

				// convert the input string to a string
				String contents = exchange.getContext().getTypeConverter()
						.convertTo(String.class, dh.getInputStream());

				LOG.info("filename: " + filename);

				attachmentFilenames.add(filename);

				FilenameAndContents attachmentFile = new FilenameAndContents();
				attachmentFile.setFileContents(contents);
				attachmentFile.setFileName(filename);
				attachmentArray.add(attachmentFile);

			}

			exchange.getIn().setBody(attachmentArray);

		} catch (org.apache.camel.TypeConversionException tce) {
			throw new EmailProcessorException(
					"Unable to type convert from file to string", tce);
		} catch (java.io.IOException ioe) {
			throw new EmailProcessorException(
					"IOException while obtaining Input Stream", ioe);
		} catch (java.lang.UnsupportedOperationException uoe) {
			throw new EmailProcessorException(
					"UnsupportedOperationException add operation is not supported by list",
					uoe);
		} catch (java.lang.ClassCastException cce) {
			throw new EmailProcessorException(
					"ClassCastException element prevents it from being added to list",
					cce);
		} catch (java.lang.NullPointerException npe) {
			throw new EmailProcessorException(
					"NullPointerException element is null", npe);
		} catch (java.lang.IllegalArgumentException iae) {
			throw new EmailProcessorException(
					"IllegalArgumentException property of element prevents it from being
added to list",
					iae);
		}

		archiveEmail(emailAttr, attachmentFilenames, exchange);

		LOG.debug("Exiting EmailProcessor.");
	}

	private Map<String, String> gatherEmailHeaderInformation(Exchange exchange)
{

		final String emailBody = exchange.getIn().getBody(String.class);

		final Message mailMessage = exchange.getIn().getBody(
				javax.mail.Message.class);

		Map<String, String> attr = new HashMap<String, String>();

		try {
			if (null != mailMessage) {

				final Address[] fromArray = mailMessage.getFrom();
				if (null != fromArray) {
					String fromStr = convertAddressListToString(fromArray);
					attr.put("from", fromStr);
				}

				final Address[] toArray = mailMessage
						.getRecipients(javax.mail.Message.RecipientType.TO);
				if (null != toArray) {
					String toStr = convertAddressListToString(fromArray);
					attr.put("to", toStr);
				}

				final Address[] ccArray = mailMessage
						.getRecipients(javax.mail.Message.RecipientType.CC);
				if (null != ccArray) {
					String ccStr = convertAddressListToString(fromArray);
					attr.put("CC", ccStr);
				}

				final Address[] bccArray = mailMessage
						.getRecipients(javax.mail.Message.RecipientType.BCC);
				if (null != bccArray) {
					String bccStr = convertAddressListToString(fromArray);
					attr.put("BCC", bccStr);
				}

				final String subjectStr = mailMessage.getSubject();
				if (null != subjectStr) {
					attr.put("subject", subjectStr);
				}

				final Date sentDate = mailMessage.getReceivedDate();
				if (null != sentDate) {
					attr.put("sentDate", sdf.format(sentDate));
				}

				final Date receivedDate = mailMessage.getSentDate();
				if (null != receivedDate) {
					attr.put("receivedDate", sdf.format(receivedDate));
				}

				if (null != emailBody) {
					attr.put("body", emailBody);
				}

			}
		} catch (javax.mail.MessagingException me) {
			LOG.error("Unable to gather email header information");
		}

		return attr;

	}

	private void archiveEmail(Map<String, String> attr,
			List<String> attachmentFilenames, Exchange exchange) {

		final String archivePath = exchange.getIn().getHeader("emailArchive",
				String.class);

		Path parentP = Paths.get(archivePath);
		Path fileP;
		if (null != attr.get("receivedDate")) {
			fileP = Paths.get(archivePath, exchange.getExchangeId() + "."
					+ attr.get("receivedDate"));
		} else {
			fileP = Paths.get(archivePath, exchange.getExchangeId());
		}

		try {
			Files.createDirectories(parentP);
		} catch (IOException ioe) {
			LOG.error("Unable to create email archive directories");
			ioe.printStackTrace();
		}

		Charset charset = Charset.forName("utf-8");

		try (BufferedWriter bufferedWriter = Files.newBufferedWriter(fileP,
				charset)) {

			if (null != attr.get("from")) {
				bufferedWriter.write("From:" + attr.get("from"));
				bufferedWriter.newLine();
			}

			if (null != attr.get("to")) {
				bufferedWriter.write("To:" + attr.get("to"));
				bufferedWriter.newLine();
			}

			if (null != attr.get("CC")) {
				bufferedWriter.write("CC:" + attr.get("CC"));
				bufferedWriter.newLine();
			}

			if (null != attr.get("BCC")) {
				bufferedWriter.write("BCC" + attr.get("BCC"));
				bufferedWriter.newLine();
			}

			if (null != attr.get("subject")) {
				bufferedWriter.write("Subject:" + attr.get("subject"));
				bufferedWriter.newLine();
			}

			if (null != attr.get("sentDate")) {
				bufferedWriter.write("Sent Date:" + attr.get("sentDate"));
				bufferedWriter.newLine();
			}

			if (null != attr.get("receivedDate")) {
				bufferedWriter.write("Received Date:"
						+ attr.get("receivedDate"));
				bufferedWriter.newLine();
			}

			if (null != attr.get("body")) {
				bufferedWriter.write("Body:" + attr.get("body"));
				bufferedWriter.newLine();
			}

			for (String s : attachmentFilenames) {
				bufferedWriter.write("Attachment File:" + s);
				bufferedWriter.newLine();
			}

		} catch (IOException ioe) {
			LOG.error("Unable to write email archive");
			ioe.printStackTrace();
		}

	}

	private String convertAddressListToString(Address[] adds) {

		String returnStr = "";

		for (Address adr : adds) {
			returnStr = returnStr + adr.toString() + " ";
		}

		return returnStr;

	}
}




-----
Gary Lee Mills
--
View this message in context: http://camel.465427.n5.nabble.com/JAXB-Marshalling-from-email-route-tp5797029p5797032.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65259-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 22:17:10 2017
Return-Path: <users-return-65259-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2AEA2187D9
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 22:17:10 +0000 (UTC)
Received: (qmail 79742 invoked by uid 500); 5 Apr 2017 22:17:09 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 79693 invoked by uid 500); 5 Apr 2017 22:17:09 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 79679 invoked by uid 99); 5 Apr 2017 22:17:09 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 22:17:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D44501A00E9
	for <users@camel.apache.org>; Wed,  5 Apr 2017 22:17:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.487
X-Spam-Level: *****
X-Spam-Status: No, score=5.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id pe_JfVMdk5te for <users@camel.apache.org>;
	Wed,  5 Apr 2017 22:17:05 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id A199D5F2FE
	for <users@camel.apache.org>; Wed,  5 Apr 2017 22:17:04 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 61E1B409006A
	for <users@camel.apache.org>; Wed,  5 Apr 2017 15:17:03 -0700 (PDT)
Date: Wed, 5 Apr 2017 15:17:03 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs1m9YYSCRg1G16007xLh-eVqod_hAJUqAkEYDLTru0tEQ@mail.gmail.com>
In-Reply-To: <1491430343631-5797032.post@n5.nabble.com>
References: <1491426953340-5797029.post@n5.nabble.com> <CA+wbgs1OZc_jrCHR344a8FzMHfNXJ65GVDSbPZWQVrYqM7zAHg@mail.gmail.com> <1491430343631-5797032.post@n5.nabble.com>
Subject: Re: JAXB Marshalling from email route
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_174421_1704380010.1491430623896"

------=_Part_174421_1704380010.1491430623896
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Just a guess but could it be that you are converting the attachment to a
string`? In the documentation it is converted to a byte[] first.


On Thu, Apr 6, 2017 at 12:12 AM, Gary [via Camel] <
ml-node+s465427n5797032h55@n5.nabble.com> wrote:

> here is my code for extracting attachments  - thank you - I also use this
> with CSV files and it works ok.
>
> public class EmailProcessor implements Processor {
>
>         private static final Logger LOG = Logger.getLogger(EmailProcessor.class);
>
>
>         private SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd-hh-mm-ss");
>
>
>         public void process(Exchange exchange) throws Exception {
>
>                 LOG.debug("Entering EmailProcessor...");
>
>                 Map<String, DataHandler> attachments = exchange.getIn()
>                                 .getAttachments();
>
>                 if ((null == attachments) || (attachments.size() < 1)) {
>                         throw new EmailProcessorException("Null or 0
> attachements");
>                 } else {
>                         LOG.debug("attachments.size = " +
> attachments.size());
>                 }
>
>                 Map<String, String> emailAttr =
> gatherEmailHeaderInformation(exchange);
>
>                 List<String> attachmentFilenames = new
> ArrayList<String>();
>
>                 try {
>
>                         List<FilenameAndContents> attachmentArray = new
> ArrayList<FilenameAndContents>();
>
>                         for (String name : attachments.keySet()) {
>
>                                 DataHandler dh = attachments.get(name);
>
>                                 // get the file name
>                                 String filename = dh.getName();
>
>                                 // convert the input string to a string
>                                 String contents = exchange.getContext().getTypeConverter()
>
>                                                 .convertTo(String.class,
> dh.getInputStream());
>
>                                 LOG.info("filename: " + filename);
>
>                                 attachmentFilenames.add(filename);
>
>                                 FilenameAndContents attachmentFile = new
> FilenameAndContents();
>                                 attachmentFile.setFileContents(contents);
>                                 attachmentFile.setFileName(filename);
>                                 attachmentArray.add(attachmentFile);
>
>                         }
>
>                         exchange.getIn().setBody(attachmentArray);
>
>                 } catch (org.apache.camel.TypeConversionException tce) {
>                         throw new EmailProcessorException(
>                                         "Unable to type convert from file
> to string", tce);
>                 } catch (java.io.IOException ioe) {
>                         throw new EmailProcessorException(
>                                         "IOException while obtaining Input
> Stream", ioe);
>                 } catch (java.lang.UnsupportedOperationException uoe) {
>                         throw new EmailProcessorException(
>                                         "UnsupportedOperationException add
> operation is not supported by list",
>                                         uoe);
>                 } catch (java.lang.ClassCastException cce) {
>                         throw new EmailProcessorException(
>                                         "ClassCastException element
> prevents it from being added to list",
>                                         cce);
>                 } catch (java.lang.NullPointerException npe) {
>                         throw new EmailProcessorException(
>                                         "NullPointerException element is
> null", npe);
>                 } catch (java.lang.IllegalArgumentException iae) {
>                         throw new EmailProcessorException(
>                                         "IllegalArgumentException property
> of element prevents it from being added to list",
>                                         iae);
>                 }
>
>                 archiveEmail(emailAttr, attachmentFilenames, exchange);
>
>                 LOG.debug("Exiting EmailProcessor.");
>         }
>
>         private Map<String, String> gatherEmailHeaderInformation(Exchange
> exchange) {
>
>                 final String emailBody = exchange.getIn().getBody(String.class);
>
>
>                 final Message mailMessage = exchange.getIn().getBody(
>                                 javax.mail.Message.class);
>
>                 Map<String, String> attr = new HashMap<String, String>();
>
>                 try {
>                         if (null != mailMessage) {
>
>                                 final Address[] fromArray =
> mailMessage.getFrom();
>                                 if (null != fromArray) {
>                                         String fromStr =
> convertAddressListToString(fromArray);
>                                         attr.put("from", fromStr);
>                                 }
>
>                                 final Address[] toArray = mailMessage
>                                                 .getRecipients(javax.mail.
> Message.RecipientType.TO);
>                                 if (null != toArray) {
>                                         String toStr =
> convertAddressListToString(fromArray);
>                                         attr.put("to", toStr);
>                                 }
>
>                                 final Address[] ccArray = mailMessage
>                                                 .getRecipients(javax.mail.
> Message.RecipientType.CC);
>                                 if (null != ccArray) {
>                                         String ccStr =
> convertAddressListToString(fromArray);
>                                         attr.put("CC", ccStr);
>                                 }
>
>                                 final Address[] bccArray = mailMessage
>                                                 .getRecipients(javax.mail.Message.RecipientType.BCC);
>
>                                 if (null != bccArray) {
>                                         String bccStr =
> convertAddressListToString(fromArray);
>                                         attr.put("BCC", bccStr);
>                                 }
>
>                                 final String subjectStr =
> mailMessage.getSubject();
>                                 if (null != subjectStr) {
>                                         attr.put("subject", subjectStr);
>                                 }
>
>                                 final Date sentDate =
> mailMessage.getReceivedDate();
>                                 if (null != sentDate) {
>                                         attr.put("sentDate",
> sdf.format(sentDate));
>                                 }
>
>                                 final Date receivedDate =
> mailMessage.getSentDate();
>                                 if (null != receivedDate) {
>                                         attr.put("receivedDate",
> sdf.format(receivedDate));
>                                 }
>
>                                 if (null != emailBody) {
>                                         attr.put("body", emailBody);
>                                 }
>
>                         }
>                 } catch (javax.mail.MessagingException me) {
>                         LOG.error("Unable to gather email header
> information");
>                 }
>
>                 return attr;
>
>         }
>
>         private void archiveEmail(Map<String, String> attr,
>                         List<String> attachmentFilenames, Exchange
> exchange) {
>
>                 final String archivePath = exchange.getIn().getHeader("emailArchive",
>
>                                 String.class);
>
>                 Path parentP = Paths.get(archivePath);
>                 Path fileP;
>                 if (null != attr.get("receivedDate")) {
>                         fileP = Paths.get(archivePath,
> exchange.getExchangeId() + "."
>                                         + attr.get("receivedDate"));
>                 } else {
>                         fileP = Paths.get(archivePath,
> exchange.getExchangeId());
>                 }
>
>                 try {
>                         Files.createDirectories(parentP);
>                 } catch (IOException ioe) {
>                         LOG.error("Unable to create email archive
> directories");
>                         ioe.printStackTrace();
>                 }
>
>                 Charset charset = Charset.forName("utf-8");
>
>                 try (BufferedWriter bufferedWriter =
> Files.newBufferedWriter(fileP,
>                                 charset)) {
>
>                         if (null != attr.get("from")) {
>                                 bufferedWriter.write("From:" +
> attr.get("from"));
>                                 bufferedWriter.newLine();
>                         }
>
>                         if (null != attr.get("to")) {
>                                 bufferedWriter.write("To:" +
> attr.get("to"));
>                                 bufferedWriter.newLine();
>                         }
>
>                         if (null != attr.get("CC")) {
>                                 bufferedWriter.write("CC:" +
> attr.get("CC"));
>                                 bufferedWriter.newLine();
>                         }
>
>                         if (null != attr.get("BCC")) {
>                                 bufferedWriter.write("BCC" +
> attr.get("BCC"));
>                                 bufferedWriter.newLine();
>                         }
>
>                         if (null != attr.get("subject")) {
>                                 bufferedWriter.write("Subject:" +
> attr.get("subject"));
>                                 bufferedWriter.newLine();
>                         }
>
>                         if (null != attr.get("sentDate")) {
>                                 bufferedWriter.write("Sent Date:" +
> attr.get("sentDate"));
>                                 bufferedWriter.newLine();
>                         }
>
>                         if (null != attr.get("receivedDate")) {
>                                 bufferedWriter.write("Received Date:"
>                                                 +
> attr.get("receivedDate"));
>                                 bufferedWriter.newLine();
>                         }
>
>                         if (null != attr.get("body")) {
>                                 bufferedWriter.write("Body:" +
> attr.get("body"));
>                                 bufferedWriter.newLine();
>                         }
>
>                         for (String s : attachmentFilenames) {
>                                 bufferedWriter.write("Attachment File:" +
> s);
>                                 bufferedWriter.newLine();
>                         }
>
>                 } catch (IOException ioe) {
>                         LOG.error("Unable to write email archive");
>                         ioe.printStackTrace();
>                 }
>
>         }
>
>         private String convertAddressListToString(Address[] adds) {
>
>                 String returnStr = "";
>
>                 for (Address adr : adds) {
>                         returnStr = returnStr + adr.toString() + " ";
>                 }
>
>                 return returnStr;
>
>         }
> }
> Gary Lee Mills
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/JAXB-Marshalling-from-
> email-route-tp5797029p5797032.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/JAXB-Marshalling-from-email-route-tp5797029p5797033.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_174421_1704380010.1491430623896--


From users-return-65260-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 22:32:53 2017
Return-Path: <users-return-65260-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6078118933
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 22:32:53 +0000 (UTC)
Received: (qmail 38384 invoked by uid 500); 5 Apr 2017 22:32:52 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 38336 invoked by uid 500); 5 Apr 2017 22:32:52 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 38325 invoked by uid 99); 5 Apr 2017 22:32:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 22:32:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 40BFEC67A4
	for <users@camel.apache.org>; Wed,  5 Apr 2017 22:32:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.314
X-Spam-Level: **
X-Spam-Status: No, score=2.314 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 5i2T7fZye7ho for <users@camel.apache.org>;
	Wed,  5 Apr 2017 22:32:51 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 3D84B5F1A0
	for <users@camel.apache.org>; Wed,  5 Apr 2017 22:32:51 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 64A104090346
	for <users@camel.apache.org>; Wed,  5 Apr 2017 15:32:50 -0700 (PDT)
Date: Wed, 5 Apr 2017 15:32:50 -0700 (MST)
From: Gary <gary.mills@ge.com>
To: users@camel.apache.org
Message-ID: <1491431570982-5797034.post@n5.nabble.com>
In-Reply-To: <1491430343631-5797032.post@n5.nabble.com>
References: <1491426953340-5797029.post@n5.nabble.com> <CA+wbgs1OZc_jrCHR344a8FzMHfNXJ65GVDSbPZWQVrYqM7zAHg@mail.gmail.com> <1491430343631-5797032.post@n5.nabble.com>
Subject: Re: JAXB Marshalling from email route
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

interesting...
the XML doc extracted from email as attachment...
=EF=BF=BD=EF=BF=BD<^@?^@x^@m^@l^@ ^@v^@e^@r^@s^@i^@o^@n^@=3D^@"^@1^@.^@0^@"=
^@
^@e^@n^@c^@o^@d^@i^@n^@g^@=3D^@"^@u^@t^@f^@-^@1^@6^@"^@?^@>^@^M^@
^@<^@T^@r^@a^@n^@s^@f^@e^@r^@D^@a^@t^@a^@H^@e^@a^@d^@e^@r^@
^@x^@m^@l^@n^@s^@:^@i^@=3D^@"^@h^@t^@t^@p^@:^@/^@/^@w^@w^@w^@.^@w^@3^@.^@o^=
@r^@g^@/^@2^@0^@0^@1^@/^@X^@M^@L^@S^@c^@h^@e^@m^@a^@-^@i^@n^@s^@t^@a^@n^@c^=
@e^@"^@
^@x^@m^@l^@n^@s^@=3D^@"^@h^@t^@t^@p^@:^@/^@/^@s^@m^@a^@r^@t^@s^@i^@g^@n^@a^=
@l^@.^@c^@o^@m^@"^@>^@^M^@

the XML sent either by file system or sftp endpoint
<?xml version=3D"1.0" encoding=3D"utf-16"?>
<TransferDataHeader xmlns:i=3D"http://www.w3.org/2001/XMLSchema-instance"
xmlns=3D"http://smartsignal.com">
        <ApplicationId>00000000-0000-0000-0000-000000000000</ApplicationId>
        <ApplicationName i:nil=3D"true" />

- something truely is corrupting the document when extracted - type or char
set?=20



-----
Gary Lee Mills
--
View this message in context: http://camel.465427.n5.nabble.com/JAXB-Marsha=
lling-from-email-route-tp5797029p5797034.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65261-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 22:35:11 2017
Return-Path: <users-return-65261-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E7B11896C
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 22:35:11 +0000 (UTC)
Received: (qmail 48410 invoked by uid 500); 5 Apr 2017 22:35:10 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 48361 invoked by uid 500); 5 Apr 2017 22:35:10 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 47887 invoked by uid 99); 5 Apr 2017 22:35:09 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 22:35:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 6A39DC023E
	for <users@camel.apache.org>; Wed,  5 Apr 2017 22:35:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.814
X-Spam-Level: **
X-Spam-Status: No, score=2.814 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=0.5,
	RCVD_IN_DNSWL_NONE=-0.0001, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Z8omw_LR-9t7 for <users@camel.apache.org>;
	Wed,  5 Apr 2017 22:35:08 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 85D245F1A0
	for <users@camel.apache.org>; Wed,  5 Apr 2017 22:35:08 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 3563540903CB
	for <users@camel.apache.org>; Wed,  5 Apr 2017 15:35:07 -0700 (PDT)
Date: Wed, 5 Apr 2017 15:35:07 -0700 (MST)
From: Gary <gary.mills@ge.com>
To: users@camel.apache.org
Message-ID: <1491431707799-5797035.post@n5.nabble.com>
In-Reply-To: <CA+wbgs1m9YYSCRg1G16007xLh-eVqod_hAJUqAkEYDLTru0tEQ@mail.gmail.com>
References: <1491426953340-5797029.post@n5.nabble.com> <CA+wbgs1OZc_jrCHR344a8FzMHfNXJ65GVDSbPZWQVrYqM7zAHg@mail.gmail.com> <1491430343631-5797032.post@n5.nabble.com> <CA+wbgs1m9YYSCRg1G16007xLh-eVqod_hAJUqAkEYDLTru0tEQ@mail.gmail.com>
Subject: Re: JAXB Marshalling from email route
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

:) I think you're on to something - was thinking the same thing. I will try
tomorrow morning and let you know... I greatly appreciate your help, it
helps sometimes having others look over. 

c u tomorrow, and thank you!!!



-----
Gary Lee Mills
--
View this message in context: http://camel.465427.n5.nabble.com/JAXB-Marshalling-from-email-route-tp5797029p5797035.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65262-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr  5 22:37:05 2017
Return-Path: <users-return-65262-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D2BE118986
	for <apmail-camel-users-archive@www.apache.org>; Wed,  5 Apr 2017 22:37:05 +0000 (UTC)
Received: (qmail 54525 invoked by uid 500); 5 Apr 2017 22:37:05 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 54470 invoked by uid 500); 5 Apr 2017 22:37:05 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 54453 invoked by uid 99); 5 Apr 2017 22:37:05 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Apr 2017 22:37:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B3D0D1813A4
	for <users@camel.apache.org>; Wed,  5 Apr 2017 22:37:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.487
X-Spam-Level: *****
X-Spam-Status: No, score=5.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id N8SrnpdfYgGL for <users@camel.apache.org>;
	Wed,  5 Apr 2017 22:37:03 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 71B3C5FAE7
	for <users@camel.apache.org>; Wed,  5 Apr 2017 22:37:03 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id DE6E04090450
	for <users@camel.apache.org>; Wed,  5 Apr 2017 15:37:01 -0700 (PDT)
Date: Wed, 5 Apr 2017 15:37:02 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs1_C7uABWRtPEb4iRhhdVb0+G+RVJAuUhXfam4f4Mtsdw@mail.gmail.com>
In-Reply-To: <1491431707799-5797035.post@n5.nabble.com>
References: <1491426953340-5797029.post@n5.nabble.com> <CA+wbgs1OZc_jrCHR344a8FzMHfNXJ65GVDSbPZWQVrYqM7zAHg@mail.gmail.com> <1491430343631-5797032.post@n5.nabble.com> <CA+wbgs1m9YYSCRg1G16007xLh-eVqod_hAJUqAkEYDLTru0tEQ@mail.gmail.com> <1491431707799-5797035.post@n5.nabble.com>
Subject: Re: JAXB Marshalling from email route
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_174816_349304524.1491431822500"

------=_Part_174816_349304524.1491431822500
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

No problem, hope it solves it!

On Thu, Apr 6, 2017 at 12:35 AM, Gary [via Camel] <
ml-node+s465427n5797035h48@n5.nabble.com> wrote:

> :) I think you're on to something - was thinking the same thing. I will
> try tomorrow morning and let you know... I greatly appreciate your help, it
> helps sometimes having others look over.
>
> c u tomorrow, and thank you!!!
> Gary Lee Mills
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/JAXB-Marshalling-from-
> email-route-tp5797029p5797035.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/JAXB-Marshalling-from-email-route-tp5797029p5797036.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_174816_349304524.1491431822500--

From users-return-65263-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr  6 05:30:55 2017
Return-Path: <users-return-65263-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 205A518B57
	for <apmail-camel-users-archive@www.apache.org>; Thu,  6 Apr 2017 05:30:55 +0000 (UTC)
Received: (qmail 86509 invoked by uid 500); 6 Apr 2017 05:30:54 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 86461 invoked by uid 500); 6 Apr 2017 05:30:54 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 86449 invoked by uid 99); 6 Apr 2017 05:30:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Apr 2017 05:30:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 37CD3C142F
	for <users@camel.apache.org>; Thu,  6 Apr 2017 05:30:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.778
X-Spam-Level:
X-Spam-Status: No, score=0.778 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, KAM_ASCII_DIVIDERS=0.8,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=sigmasys1.onmicrosoft.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id lpUV9Ytt_Zot for <users@camel.apache.org>;
	Thu,  6 Apr 2017 05:30:51 +0000 (UTC)
Received: from NAM01-SN1-obe.outbound.protection.outlook.com (mail-sn1nam01on0050.outbound.protection.outlook.com [104.47.32.50])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id E1A875F1A0
	for <users@camel.apache.org>; Thu,  6 Apr 2017 05:30:50 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=SIGMASYS1.onmicrosoft.com; s=selector1-sigmasystems-com01c;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version;
 bh=7rGx8qk1HqHW+kQ1WrzMkWpKDUiheMjDy93AJl1YEF8=;
 b=XV7va5oJ3Sbp5RXw6QKvfI7dfH8ic02HBLwuf8hae9QErtJJ4fVKOe+597UsYu/zu/VJ2H6kx7wRyqspTKmR6Ur6OeyjSsveCc9RyQ8NLwfJvQnRMnPDDSOaLwZEn5zOhZAy5+xZ+LPJSeO6Wn5+kk41FkCnzIxH98IZfcK/vF0=
Received: from CY4PR05MB2885.namprd05.prod.outlook.com (10.169.183.19) by
 CY4PR05MB2886.namprd05.prod.outlook.com (10.169.183.20) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1019.8; Thu, 6 Apr 2017 05:30:49 +0000
Received: from CY4PR05MB2885.namprd05.prod.outlook.com ([10.169.183.19]) by
 CY4PR05MB2885.namprd05.prod.outlook.com ([10.169.183.19]) with mapi id
 15.01.1019.019; Thu, 6 Apr 2017 05:30:49 +0000
From: Ayush Dixit <Ayush.Dixit@sigma-systems.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: RE: Performance issue in Camel SFTP component
Thread-Topic: Performance issue in Camel SFTP component
Thread-Index: AdKtEaZ99I3uUpCsSKyU5SgaYvJPwAACIUkAAAQc2PAALT1BAAAAXMjQAC10h5A=
Date: Thu, 6 Apr 2017 05:30:49 +0000
Message-ID: <CY4PR05MB28857E840D4E5C7801BAB592AF0D0@CY4PR05MB2885.namprd05.prod.outlook.com>
References: <CY4PR05MB288556474F742B4395CD66D3AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CAGB5yN=okDLFFxhA5MDAWwH0oLovNB_D6BMYCuLhMfUimw8tng@mail.gmail.com>
 <CY4PR05MB288500B6CF77E297A58C0CC5AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CAGB5yNksbd7r6dUFPYy64A2ny9qS6+3c=B44Gp+Wa9AQy4GdhA@mail.gmail.com> 
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: camel.apache.org; dkim=none (message not signed)
 header.d=none;camel.apache.org; dmarc=none action=none
 header.from=sigma-systems.com;
x-originating-ip: [115.113.155.67]
x-microsoft-exchange-diagnostics: 1;CY4PR05MB2886;7:cELSyj9EkM76JCN0ZrDd5J66rMYrW6GIAffNnvAtY8X4GUCr3jvGx0hSJFYg2Jc4OEbejCrOAT6dJgh4sAPmQ227k8o0htey3qr/hgIFAW4sU9l7V09om+JVCngJQYlgSDA2XAy2lRKbt8EqEZnueZB/IB4jMSG8bddYBzxNa1BN1U6k2vElcv6Lly3BTe5keRZ0bs2qoAqebnzgcwyeIyfZDsfyWYuv3RC9GGEmIv5bxFUm6Tk4FpM1XSNeZEnwt0uVL3cmmSgokmv59Z3STyDUc6t9k/W1GOUqOBmqAlft1ZxsGBZFJqjF1Ft60eiLmEOe+GPYchVEcAjYSp+A0A==
x-ms-office365-filtering-correlation-id: 537c227e-4a20-49fa-4a97-08d47cae15c7
x-microsoft-antispam: UriScan:;BCL:0;PCL:0;RULEID:(22001)(2017030254075)(201703131423075)(201703031133081);SRVR:CY4PR05MB2886;
x-microsoft-antispam-prvs: <CY4PR05MB2886DCC0DB19E8A2D0FED6F4AF0D0@CY4PR05MB2886.namprd05.prod.outlook.com>
x-exchange-antispam-report-test: UriScan:(212892494489503);
x-exchange-antispam-report-cfa-test: BCL:0;PCL:0;RULEID:(6040450)(601004)(2401047)(8121501046)(5005006)(10201501046)(93006095)(93001095)(3002001)(6041248)(201703131423075)(201702281528075)(201703061421075)(20161123564025)(20161123560025)(20161123555025)(20161123562025)(6072148);SRVR:CY4PR05MB2886;BCL:0;PCL:0;RULEID:;SRVR:CY4PR05MB2886;
x-forefront-prvs: 02698DF457
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(6009001)(39450400003)(39840400002)(39400400002)(39410400002)(377454003)(13464003)(24454002)(7736002)(54356999)(2906002)(50986999)(33656002)(76176999)(93886004)(5660300001)(966004)(74316002)(305945005)(122556002)(3660700001)(53386004)(53546009)(9686003)(2351001)(5640700003)(25786009)(6306002)(55016002)(99286003)(6246003)(38730400002)(110136004)(7696004)(6506006)(6436002)(3280700002)(53936002)(6116002)(102836003)(3846002)(77096006)(575784001)(86362001)(66066001)(229853002)(81166006)(551544002)(8936002)(2900100001)(8676002)(1730700003)(6916009)(189998001);DIR:OUT;SFP:1101;SCL:1;SRVR:CY4PR05MB2886;H:CY4PR05MB2885.namprd05.prod.outlook.com;FPR:;SPF:None;MLV:sfv;LANG:en;
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: sigma-systems.com
X-MS-Exchange-CrossTenant-originalarrivaltime: 06 Apr 2017 05:30:49.6277
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: dba5b4ed-9d8f-46b1-95cb-4b550e5a68e1
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY4PR05MB2886

U2hvdWxkIEkgcmFpc2UgYSBKSVJBIGZvciB0aGF0Pw0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2Ut
LS0tLQ0KRnJvbTogQXl1c2ggRGl4aXQgDQpTZW50OiBXZWRuZXNkYXksIEFwcmlsIDUsIDIwMTcg
MToyMiBQTQ0KVG86IHVzZXJzQGNhbWVsLmFwYWNoZS5vcmcNClN1YmplY3Q6IFJFOiBQZXJmb3Jt
YW5jZSBpc3N1ZSBpbiBDYW1lbCBTRlRQIGNvbXBvbmVudA0KDQpIaSBDbGF1cywNCg0KQWxyZWFk
eSB0cmllZCB0aGF0ICwgU2VlIGJlbG93IGVuZHBvaW50IGNvbmZpZ3VyYXRpb24gLiBObyBsdWNr
IDooIA0KDQp0bygic2Z0cDovLzEwLjEwMC4xNTAuMTkwL2ljb21zLzE/ZG93bmxvYWQ9ZmFsc2Um
bWF4TWVzc2FnZXNQZXJQb2xsPTEwJnBhc3N3b3JkPXh4eHh4eCZ0ZW1wUHJlZml4PVEmdXNlcm5h
bWU9c2lnbWF1c2VyJnN0ZXB3aXNlPWZhbHNlIikNCg0KVGhhbmtzDQpBeXVzaCANCg0KLS0tLS1P
cmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IENsYXVzIElic2VuIFttYWlsdG86Y2xhdXMuaWJz
ZW5AZ21haWwuY29tXQ0KU2VudDogV2VkbmVzZGF5LCBBcHJpbCA1LCAyMDE3IDE6MDggUE0NClRv
OiB1c2Vyc0BjYW1lbC5hcGFjaGUub3JnDQpTdWJqZWN0OiBSZTogUGVyZm9ybWFuY2UgaXNzdWUg
aW4gQ2FtZWwgU0ZUUCBjb21wb25lbnQNCg0KVHJ5IHdpdGggbWF4TWVzc2FnZXNQZXJQb2xsIHRv
IHNldCBhbiB1cHBlciBsaW1pdC4NCg0KT24gVHVlLCBBcHIgNCwgMjAxNyBhdCAxMjoxMCBQTSwg
QXl1c2ggRGl4aXQgPEF5dXNoLkRpeGl0QHNpZ21hLXN5c3RlbXMuY29tPiB3cm90ZToNCj4NCj4g
VGhhbmtzIENsYXVzICwgSSd2ZSB0cmllZCAgc3RlcHdpc2U9ZmFsc2UgIGluIGNhbWVsIHByb2R1
Y2VyIC4gTm8gc3VjaCANCj4gbHVjaw0KPg0KPiBBbHNvLCBJIGhhdmUgdHJpZWQgZG93bmxvYWQ9
ZmFsc2UgYW5kIHVzZUxpc3Q9ZmFsc2UuIFN0aWxsIHRoZSANCj4gcGVyZm9ybWFuY2UgaXMgc2Ft
ZS4gSSBhbSByZWZlcnJpbmcgdGhlIGJlbG93IGxpbmsgZm9yIGNhbWVsIA0KPiBkb2N1bWVudGF0
aW9uDQo+DQo+IGh0dHA6Ly9jYW1lbC5hcGFjaGUub3JnL2Z0cDIuaHRtbA0KPg0KPiBJcyB0aGVy
ZSBpcyBhbnl0aGluZyBlbHNlIHlvdSB0aGluayBJIGNhbiB0cnk/DQo+DQo+IFRoYW5rcw0KPiBB
eXVzaA0KPg0KPg0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBDbGF1cyBJ
YnNlbiBbbWFpbHRvOmNsYXVzLmlic2VuQGdtYWlsLmNvbV0NCj4gU2VudDogVHVlc2RheSwgQXBy
aWwgNCwgMjAxNyAxOjM1IFBNDQo+IFRvOiB1c2Vyc0BjYW1lbC5hcGFjaGUub3JnDQo+IENjOiB1
c2Vycy1zdWJzY3JpYmVAY2FtZWwuYXBhY2hlLm9yZw0KPiBTdWJqZWN0OiBSZTogUGVyZm9ybWFu
Y2UgaXNzdWUgaW4gQ2FtZWwgU0ZUUCBjb21wb25lbnQNCj4NCj4gUGxlYXNlIHNwZW5kIG1vcmUg
dGltZSB0byByZWFkIHRoZSBkb2N1bWVudGF0aW9uIGFuZCB5b3UgY2FuIGZpbmQgDQo+IG9wdGlv
bnMgdG8gdHdlYWsgdGhlIG9wdGlvbnMgdG8gdXNlIG9yIG5vdCB1c2UgRlRQIGxpc3QgZXRjLCBh
bmQgdGhlcmUgDQo+IGlzIGFsc28gYSBzdGVwd2lzZSBvcHRpb24NCj4NCj4gT24gVHVlLCBBcHIg
NCwgMjAxNyBhdCA5OjE2IEFNLCBBeXVzaCBEaXhpdCANCj4gPEF5dXNoLkRpeGl0QHNpZ21hLXN5
c3RlbXMuY29tPg0KPiB3cm90ZToNCj4NCj4+DQo+Pg0KPj4gSGkgLA0KPj4NCj4+DQo+Pg0KPj4N
Cj4+DQo+PiBXZSBoYXZlIGltcGxlbWVudGVkIGEgY2FtZWwgcm91dGUgd2hlcmUgd2UgYXJlIGhh
dmluZyBjYW1lbCBzZnRwIA0KPj4gcHJvZHVjZXIgdG8gdHJhbnNmZXIgYSBmaWxlcyB0byByZW1v
dGUgU0ZUUCBsb2NhdGlvbiBidXQgb24gDQo+PiBwZXJmb3JtYW5jZSB0ZXN0aW5nIG9uIGNsaWVu
dCBlbnZpcm9ubWVudCBhbmQgb24gb3VyIGxvY2FsIA0KPj4gZW52aXJvbm1lbnQgd2UgaGF2ZSBv
YnNlcnZlZCBkZWdyYWRhdGlvbiBpbiB0aGUgdGltZSBmb3IgdHJhbnNmZXJyaW5nIGZpbGVzIHRv
IHJlbW90ZSBTRlRQIGxvY2F0aW9uLg0KPj4gUGxlYXNlIGZpbmQgdGhlIGRldGFpbGVkIGFuYWx5
c2lzIGJlbG93LiBUaGUgd2UgdHJpZWQgdGhlIHZhcmlvdXMgDQo+PiB0ZXN0IGluIG91ciBsb2Nh
bCBlbnZpcm9ubWVudC4gSW4gZWFjaCB0ZXN0IHdlIHB1dCBhcm91bmQgMjIgZmlsZXMgb24gDQo+
PiBjYW1lbCBmaWxlIGNvbnN1bWVyIGFuZCBlYWNoIGZpbGUgdG9vayBiZWxvdyB0aW1lIHRvIHdy
aXRlIHRoZSBmaWxlLg0KPj4gUEZCIGRldGFpbHMNCj4+DQo+Pg0KPj4NCj4+DQo+Pg0KPj4gPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
DQo+PiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+Pg0KPj4gV2hlbiB0YXJnZXQgZGly
ZWN0b3J5IGhhdmluZyAyMCwwMDAgZmlsZXMuIENhbWVsIHNmdHAgcHJvZHVjZXIgdG9vayANCj4+
IGFyb3VuZA0KPj4gMSBtaW51dGUgNDMgc2Vjb25kIHRvIGEgdHJhbnNmZXIgZmlsZQ0KPj4NCj4+
ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQ0KPj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KPj4NCj4+DQo+Pg0KPj4gREVC
VUcgMDc6MDA6MzggKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+PiBm
aWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNw
b25zZXMvMSkNCj4+IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUuRmlsZUNvbnN1bWVy
PiBBYm91dCB0byBwcm9jZXNzIGZpbGU6DQo+PiBHZW5lcmljRmlsZVsvZGF0YS91c2Vycy9zbHZt
MDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8NCj4+IDEgL1NUMzBQRVJG
T1JQTUFKQVIxNzAyMDcyNi50eHRdIHVzaW5nIGV4Y2hhbmdlOg0KPj4gRXhjaGFuZ2VbU1QzMFBF
UkZPUlBNQUpBUjE3MDIwNzI2LnR4dF0NCj4+DQo+PiAgICAgICAgICAgIElORk8gMDc6MDA6Mzgg
KENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+PiBmaWxlOi8vL2RhdGEv
dXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+
IGNvbS5zaWdtYS5zYW1wLmltcC52aXJnaW5tZWRpYS5ic3Mudm9pY2UuY2FtZWxyb3V0ZXMuaW9w
Um91dGUuSU9QUmVzcA0KPj4gbw0KPj4gbnNlRnRwUm91dGVCdWlsZGVyPiBQaWNrZWQgSU9QIHJl
c3BvbnNlIGZpbGUgOg0KPj4gU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dCBmcm9tIElPUCBG
VFAgZGlyZWN0b3J5DQo+Pg0KPj4gICAgICAgICAgICAgSU5GTyAwNzowMDozOCAoQ2FtZWwgKGNm
Z01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZt
MDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4gY29tLnNpZ21h
LnNhbXAuaW1wLnZpcmdpbm1lZGlhLmJzcy52b2ljZS5jYW1lbHJvdXRlcy5pb3BSb3V0ZS5JT1BS
ZXNwDQo+PiBvDQo+PiBuc2VGdHBSb3V0ZUJ1aWxkZXI+IFNlbmRpbmcgSU9QIHJlc3BvbnNlIGZp
bGUgOg0KPj4gU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dCB0byBJQ09NUyBGVFAgZGlyZWN0
b3J5DQo+Pg0KPj4gICAgICAgICAgICAgREVCVUcgMDc6MDA6MzggKENhbWVsIChjZmdNZ3JDYW1l
bENvbnRleHQpIHRocmVhZCAjNiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUz
L2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IG9yZy5hcGFjaGUuY2FtZWwu
cHJvY2Vzc29yLlNlbmRQcm9jZXNzb3I+ID4+Pj4gRW5kcG9pbnRbc2Z0cDovLzEwLjEwMC4xNTAu
DQo+PiAxOTAvaWNvbXMvMT9kb3dubG9hZD1mYWxzZSZtYXhNZXNzYWdlc1BlclBvbGw9MTAmDQo+
PiBwYXNzd29yZD14eHh4eHgmdGVtcFByZWZpeD1RJnVzZXJuYW1lPXNpZ21hdXNlcl0gRXhjaGFu
Z2VbIA0KPj4gU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dF0NCj4+DQo+Pg0KPj4NCj4+DQo+
Pg0KPj4NCj4+DQo+PiAgICAgICAgICAgICBERUJVRyAwNzowMjoxOSAoQ2FtZWwgKGNmZ01nckNh
bWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21w
NTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4gb3JnLmFwYWNoZS5jYW1l
bC5jb21wb25lbnQuZmlsZS5HZW5lcmljRmlsZUNvbnZlcnRlcj4gUmVhZCBmaWxlIA0KPj4gL2Rh
dGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMS9T
VDMwUEVSRk9SDQo+PiBQDQo+PiBNQUpBUjE3MDIwNzI2LnR4dA0KPj4gKG5vIGNoYXJzZXQpDQo+
Pg0KPj4gICAgICAgICAgICBERUJVRyAwNzowMjoxOSAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4
dCkgdGhyZWFkICM2IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlu
cy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25l
bnQuZmlsZS5yZW1vdGUuU2Z0cE9wZXJhdGlvbnM+IEFib3V0IHRvIHN0b3JlDQo+PiBmaWxlOiBR
U1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dCB1c2luZyBzdHJlYW06DQo+PiBqYXZhLmlvLkJ1
ZmZlcmVkSW5wdXRTdHJlYW1ANTRhODlmZjUNCj4+DQo+PiAgICAgICAgICAgIERFQlVHIDA3OjAy
OjE5IChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0KPj4gZmlsZTovLy9k
YXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEp
DQo+PiBvcmcuYXBhY2hlLmNhbWVsLmNvbXBvbmVudC5maWxlLnJlbW90ZS5TZnRwT3BlcmF0aW9u
cz4gVG9vayAwLjY1OCANCj4+IHNlY29uZHMNCj4+ICg2NTggbWlsbGlzKSB0byBzdG9yZSBmaWxl
OiBRU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dCBhbmQgRlRQIA0KPj4gY2xpZW50DQo+PiBy
ZXR1cm5lZDogdHJ1ZQ0KPj4NCj4+DQo+Pg0KPj4gICAgICAgICAgICBERUJVRyAwNzowMjoyMCAo
Q2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4+IGZpbGU6Ly8vZGF0YS91
c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4g
b3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1vdGUuUmVtb3RlRmlsZVByb2R1Y2Vy
PiBXcm90ZSANCj4+IFtpY29tcy8xL1FTVDMwUEVSRk9SUE1BSkFSMTcwMjA3MjYudHh0XQ0KPj4g
dG8gW0VuZHBvaW50W3NmdHA6Ly8xMC4xMDAuMTUwLjE5MC9pY29tcy8xP2Rvd25sb2FkPWZhbHNl
Jg0KPj4gbWF4TWVzc2FnZXNQZXJQb2xsPTEwJnBhc3N3b3JkPXh4eHh4eCZ0ZW1wUHJlZml4PVEm
dXNlcm5hbWU9c2lnbWF1c2VyDQo+PiBdDQo+PiBdDQo+Pg0KPj4gICAgICAgICAgICBERUJVRyAw
NzowMjoyMCAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4+IGZpbGU6
Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNl
cy8xKQ0KPj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1vdGUuU2Z0cE9wZXJh
dGlvbnM+IFJlbmFtaW5nIGZpbGU6DQo+PiBpY29tcy8xL1FTVDMwUEVSRk9SUE1BSkFSMTcwMjA3
MjYudHh0IHRvOiBpY29tcy8xLyANCj4+IFNUMzBQRVJGT1JQTUFKQVIxNzAyMDcyNi50eHQNCj4+
DQo+PiAgICAgICAgICAgICBJTkZPIDA3OjAyOjIwIChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0
KSB0aHJlYWQgIzYgLQ0KPj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5z
L3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+PiBjb20uc2lnbWEuc2FtcC5pbXAudmlyZ2lu
bWVkaWEuYnNzLnZvaWNlLmNhbWVscm91dGVzLmlvcFJvdXRlLklPUFJlc3ANCj4+IG8NCj4+IG5z
ZUZ0cFJvdXRlQnVpbGRlcj4gSU9QIHJlc3BvbnNlIGZpbGUgOiBTVDMwUEVSRk9SUE1BSkFSMTcw
MjA3MjYudHh0DQo+PiBzdWNjZXNzZnVsbHkgc2VudCB0byBJQ09NUyBGVFAgZGlyZWN0b3J5DQo+
Pg0KPj4NCj4+DQo+Pg0KPj4NCj4+ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PQ0KPj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09
DQo+Pg0KPj4gV2hlbiB0YXJnZXQgZGlyZWN0b3J5IGhhdmluZyA0MCwwMDAgZmlsZXMuIENhbWVs
IHNmdHAgcHJvZHVjZXIgdG9vayANCj4+IGFyb3VuZA0KPj4gMyBtaW51dGUgMTcgc2Vjb25kIHRv
IHRyYW5zZmVyIGZpbGUNCj4+DQo+PiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0NCj4+ID09PT09PT09PT09PT09PT09PT09PT09PT09
PQ0KPj4NCj4+DQo+Pg0KPj4gREVCVUcgMDc6NDc6MjMgKENhbWVsIChjZmdNZ3JDYW1lbENvbnRl
eHQpIHRocmVhZCAjNiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFp
bnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9u
ZW50LmZpbGUuRmlsZUNvbnN1bWVyPiBBYm91dCB0byBwcm9jZXNzIGZpbGU6DQo+PiBHZW5lcmlj
RmlsZVsvZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92DQo+Pg0KPj4NCj4+IG1iL0lj
b21zL2lvcF9yZXNwb25zZXMvMS9TWDMwUlBNQUpBUjE3MDI0ODM3NTYudHh0XQ0KPj4gdXNpbmcg
ZXhjaGFuZ2U6IEV4Y2hhbmdlW1NYMzBSUE1BSkFSMTcwMjQ4Mzc1Ni50eHRdDQo+Pg0KPj4gICAg
ICAgICAgICAgICAgIElORk8gMDc6NDc6MjMgKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRo
cmVhZCAjNiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1i
L0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IGNvbS5zaWdtYS5zYW1wLmltcC52aXJnaW5tZWRp
YS5ic3Mudm9pY2UuY2FtZWxyb3V0ZXMuaW9wUm91dGUuSU9QUmVzcA0KPj4gbw0KPj4gbnNlRnRw
Um91dGVCdWlsZGVyPg0KPj4gUGlja2VkIElPUCByZXNwb25zZSBmaWxlIDoNCj4+DQo+PiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNYMzBSUE1BSkFSMTcwMjQ4Mzc1Ni50eHQgZnJv
bSBJT1AgDQo+PiBGVFAgZGlyZWN0b3J5DQo+Pg0KPj4gICAgICAgICAgICAgICAgIElORk8gMDc6
NDc6MjMgKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+PiBmaWxlOi8v
L2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMv
MSkNCj4+IGNvbS5zaWdtYS5zYW1wLmltcC52aXJnaW5tZWRpYS5ic3Mudm9pY2UuY2FtZWxyb3V0
ZXMuaW9wUm91dGUuSU9QUmVzcA0KPj4gbw0KPj4gbnNlRnRwUm91dGVCdWlsZGVyPg0KPj4gU2Vu
ZGluZyBJT1AgcmVzcG9uc2UgZmlsZQ0KPj4NCj4+ICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgOiBTWDMwUlBNQUpBUjE3MDI0ODM3NTYudHh0IHRvIElDT01TIA0KPj4gRlRQIGRpcmVj
dG9yeQ0KPj4NCj4+ICAgICAgICAgICAgICAgICBERUJVRyAwNzo0NzoyMyAoQ2FtZWwgKGNmZ01n
ckNhbWVsQ29udGV4dCkgdGhyZWFkICM2DQo+PiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2
bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IG9yZy5hcGFj
aGUuY2FtZWwucHJvY2Vzc29yLlNlbmRQcm9jZXNzb3I+ID4+Pj4gRW5kcG9pbnRbc2Z0cDovLzEw
LjEwMC4xNTAuDQo+PiAxOTAvaWNvbXMvMT9kb3dubG9hZD1mYWxzZSZtYXhNZXNzYWdlc1Blcg0K
Pj4NCj4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9sbD0xMCZwYXNzd29yZD14
eHh4eHgmIA0KPj4gdGVtcFByZWZpeD1RJnVzZXJuYW1lPXNpZ21hdXNlcl0gRXhjaGFuZ2VbU1gz
MFJQTUFKQVIxNzAyNDgzNzU2LnR4dF0NCj4+DQo+Pg0KPj4NCj4+DQo+Pg0KPj4gICAgICAgICAg
ICAgICAgIERFQlVHIDA3OjUwOjQwIChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQg
IzYNCj4+IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIv
SWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmls
ZS5HZW5lcmljRmlsZUNvbnZlcnRlcj4gUmVhZCBmaWxlIA0KPj4gL2RhdGEvdXNlcnMvc2x2bTAy
L3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMS9TWDMwUlBNQUpBDQo+PiBS
DQo+PiAxNzAyNDgzNzU2LnR4dA0KPj4gKG5vIGNoYXJzZXQpDQo+Pg0KPj4gICAgICAgICAgICAg
ICAgIERFQlVHIDA3OjUwOjQwIChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYN
Cj4+IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNv
bXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5y
ZW1vdGUuU2Z0cE9wZXJhdGlvbnM+IEFib3V0IHRvIHN0b3JlDQo+PiBmaWxlOiBRU1gzMFJQTUFK
QVIxNzAyNDgzNzU2LnR4dCB1c2luZyBzdHJlYW06DQo+PiBqYXZhLmlvLkJ1ZmZlcmVkSW5wdXRT
dHJlYW1ADQo+PiA3OTU0Y2ZhOA0KPj4NCj4+ICAgICAgICAgICAgICAgICBERUJVRyAwNzo1MDo0
MCAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2DQo+PiAtDQo+PiBmaWxlOi8v
L2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMv
MSkNCj4+IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUucmVtb3RlLlNmdHBPcGVyYXRp
b25zPiBUb29rIDAuNjU5IA0KPj4gc2Vjb25kcw0KPj4gKDY1OSBtaWxsaXMpIHRvIHN0b3JlIGZp
bGU6IFFTWDMwUlBNQUpBUjE3MDI0ODM3NTYudHh0IGFuZCBGVFAgY2xpZW50DQo+PiByZXR1cm5l
ZDogdHJ1ZQ0KPj4NCj4+ICAgICAgICAgICAgICAgICBERUJVRyAwNzo1MDo0MSAoQ2FtZWwgKGNm
Z01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2DQo+PiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMv
c2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IG9yZy5h
cGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUucmVtb3RlLlJlbW90ZUZpbGVQcm9kdWNlcj4gV3Jv
dGUgDQo+PiBbaWNvbXMvMS9RU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dF0NCj4+IHRvIFtFbmRw
b2ludFtzZnRwOi8vMTAuMTAwLjE1MC4xOTAvaWNvbXMvMT9kb3dubG9hZD1mYWxzZSYNCj4+IG1h
eE1lc3NhZ2VzUGVyUG9sbD0xMCZwYXNzd29yZD14eHh4eHgmdGVtcFByZWZpeD1RJnVzZXJuYW1l
PXNpZ21hdXNlcg0KPj4gXQ0KPj4gXQ0KPj4NCj4+ICAgICAgICAgICAgICAgICBERUJVRyAwNzo1
MDo0MSAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2DQo+PiAtDQo+PiBmaWxl
Oi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25z
ZXMvMSkNCj4+IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUucmVtb3RlLlNmdHBPcGVy
YXRpb25zPiBSZW5hbWluZyBmaWxlOg0KPj4gaWNvbXMvMS9RU1gzMFJQTUFKQVIxNzAyNDgzNzU2
LnR4dCB0bzoNCj4+IGljb21zLzEvU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dA0KPj4NCj4+ICAg
ICAgICAgICAgICAgICBJTkZPIDA3OjUwOjQxIChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0
aHJlYWQgIzYgLQ0KPj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3Zt
Yi9JY29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+PiBjb20uc2lnbWEuc2FtcC5pbXAudmlyZ2lubWVk
aWEuYnNzLnZvaWNlLmNhbWVscm91dGVzLmlvcFJvdXRlLklPUFJlc3ANCj4+IG8NCj4+IG5zZUZ0
cFJvdXRlQnVpbGRlcj4gSU9QIHJlc3BvbnNlIGZpbGUgOiBTWDMwUlBNQUpBUjE3MDI0ODM3NTYu
dHh0DQo+PiBzdWNjZXNzZnVsbHkgc2VudCB0byBJQ09NUyBGVFAgZGlyZWN0b3J5DQo+Pg0KPj4N
Cj4+DQo+Pg0KPj4NCj4+DQo+Pg0KPj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+PiA9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09DQo+Pg0KPj4gU2ltaWxhcmx5IHdoZW4gd2UgYWNoaWV2ZWQgdGhlIGZp
bGVzIGZyb20gdGFyZ2V0IGRpcmVjdG9yeS4gSXQgdG9vayANCj4+IGFyb3VuZA0KPj4gNiBzZWMu
SXQgc2VlbXMgbGlrZSB0aGVyZSBpcyBhIHBlcmZvcm1hbmNlIGlzc3VlIHdpdGggY2FtZWwgc2Z0
cCBjb21wb25lbnQuDQo+PiBEb2VzIGl0IGxpc3QgdGhlIGZpbGVzIGluIHRhcmdldCBkaXJlY3Rv
cnkgd2hpY2ggaXMgdGFraW5nIHRpbWUuDQo+Pg0KPj4gPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+PiA9PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT0NCj4+DQo+Pg0KPj4NCj4+IFBGQiB0aGUgcHJvZHVjZXIg
cm91dGUgd2hpY2ggd2Ugc2V0IHVwDQo+Pg0KPj4gc2Z0cDovLzEwLjEwMC4xNTAuMTkwL2ljb21z
LzE/ZG93bmxvYWQ9ZmFsc2UmbWF4TWVzc2FnZXNQZXJQb2xsPTEwJg0KPj4gcGFzc3dvcmQ9eHh4
eHh4JnRlbXBQcmVmaXg9USZ1c2VybmFtZT1zaWdtYXVzZXINCj4+DQo+Pg0KPj4NCj4+DQo+Pg0K
Pj4gUGxlYXNlIGxldCB1cyBrbm93IGlmIHlvdSBuZWVkIGFueXRoaW5nIGVsc2UuDQo+Pg0KPj4N
Cj4+DQo+Pg0KPj4NCj4+ICpBeXVzaCBEaXhpdCoNCj4+ICpTb2Z0d2FyZSBFbmdpbmVlcioNCj4+
IGF5dXNoLmRpeGl0QHNpZ21hLXN5c3RlbXMuY29tDQo+Pg0KPj4gTzogKzkxLjIwLjI1NjYxOTky
IHggMzIxIDwrOTElMjAyMCUyMDI1NjYlMjAxOTkyPiB8ICBNOg0KPj4gKzkxLTgxNC05ODItNjI2
MCA8KzkxJTIwODE0OTglMjAyNjI2MD4gfCBTa3lwZTogYXl1c2hkaXhpdDQyMQ0KPj4NCj4+IFtp
bWFnZTogY2lkOmltYWdlMDAxLmpwZ0AwMUQxNjgwOS5FMTJDMEQ1MF0NCj4+IDxodHRwOi8vd3d3
LnNpZ21hLXN5c3RlbXMuY29tLz4NCj4+DQo+Pg0KPj4NCj4+DQo+Pg0KPg0KPg0KPg0KPiAtLQ0K
PiBDbGF1cyBJYnNlbg0KPiAtLS0tLS0tLS0tLS0tLS0tLQ0KPiBodHRwOi8vZGF2c2NsYXVzLmNv
bSBAZGF2c2NsYXVzDQo+IENhbWVsIGluIEFjdGlvbiAyOiBodHRwczovL3d3dy5tYW5uaW5nLmNv
bS9pYnNlbjINCg0KDQoNCi0tDQpDbGF1cyBJYnNlbg0KLS0tLS0tLS0tLS0tLS0tLS0NCmh0dHA6
Ly9kYXZzY2xhdXMuY29tIEBkYXZzY2xhdXMNCkNhbWVsIGluIEFjdGlvbiAyOiBodHRwczovL3d3
dy5tYW5uaW5nLmNvbS9pYnNlbjINCg==

From users-return-65264-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr  6 05:44:05 2017
Return-Path: <users-return-65264-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 58B6018BEA
	for <apmail-camel-users-archive@www.apache.org>; Thu,  6 Apr 2017 05:44:05 +0000 (UTC)
Received: (qmail 20906 invoked by uid 500); 6 Apr 2017 05:44:04 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 20863 invoked by uid 500); 6 Apr 2017 05:44:04 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 20852 invoked by uid 99); 6 Apr 2017 05:44:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Apr 2017 05:44:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 14AD51A045C
	for <users@camel.apache.org>; Thu,  6 Apr 2017 05:44:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -5.985
X-Spam-Level:
X-Spam-Status: No, score=-5.985 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_HI=-5, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id GoDp88r_JDMp for <users@camel.apache.org>;
	Thu,  6 Apr 2017 05:43:59 +0000 (UTC)
Received: from smtpgw.sap-ag.de (smtpgw04.sap-ag.de [155.56.66.99])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 9F8165F1A0
	for <users@camel.apache.org>; Thu,  6 Apr 2017 05:43:58 +0000 (UTC)
From: "Goyal, Arpit" <arpit.goyal@sap.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: RE: Camel Http vs Camel Http4 - Content Type Header
Thread-Topic: Camel Http vs Camel Http4 - Content Type Header
Thread-Index: AdKDBsjC6BuVmCQTR6SzglZ6oAGKegADdsoAAAJ2wrAKaxsaYAA8VyCAAABL4IAANgxNcA==
Date: Thu, 6 Apr 2017 05:43:57 +0000
Message-ID: <9a78b6bb614a446787b2881d913b4447@sap.com>
References: <82c767ed74fc4a22bde87ae8b643283c@dewdfe13de47.global.corp.sap>
 <CA+wbgs16=e_1VQwR_fB4_oiBm-y4S70QmcWoLYxbONDvkKmWrw@mail.gmail.com>
 <968c6d4d8cfb4132b37f3c603ffd36e7@dewdfe13de47.global.corp.sap>
 <ac960ff362d5444bbff5bcbb22ee04f0@sap.com>
 <63544303-ABF8-4415-86D4-EA0DF4FFEDE5@sap.com>
 <CA+wbgs38uurAfpFy8Uo0=SBhUFDoa+KF4kZcM_kT570o6q5+7w@mail.gmail.com>
In-Reply-To: <CA+wbgs38uurAfpFy8Uo0=SBhUFDoa+KF4kZcM_kT570o6q5+7w@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.21.23.231]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Hi souciance,

Below is the complete test case I have written to debug this problem. You c=
an import and fix the 'package' and 'logger' to remove errors. 'createRoute=
Builder' method at the end has the two routes using camel-http and camel-ht=
tp4. The URLs are constants.=20

I am using the SAP Cloud Identity API [1] which expects Content-Type: appli=
cation/scim+json. But if this is not given then it works fine. In case of c=
amel-http4 we get 'text/plain' by default.=20

Can't provide credential, you may be able to debug to see the 'Content Type=
' getting set with Camel-Http4 and not getting with Camel-Http

Right now my need is to just make it empty like Camel-http. We HAD to move =
to camel-http4 because of SSL support. And now this one use-case isn't work=
ing :(=20

Regards,
Arpit.

[1] - https://help.sap.com/viewer/6d6d63354d1242d185ab4830fc04feb1/Cloud/en=
-US/2f215687fcf34170b0bbc8b36b60f2e9.html=20


Complete test case

import org.apache.camel.CamelContext;
import org.apache.camel.EndpointInject;
import org.apache.camel.Exchange;
import org.apache.camel.Processor;
import org.apache.camel.Produce;
import org.apache.camel.ProducerTemplate;
import org.apache.camel.builder.RouteBuilder;
import org.apache.camel.component.direct.DirectEndpoint;
import org.apache.camel.http.common.HttpOperationFailedException;
import org.apache.camel.impl.DefaultCamelContext;
import org.apache.camel.impl.DefaultExchange;
import org.apache.camel.impl.SimpleRegistry;
import org.apache.camel.testng.CamelTestSupport;
import org.testng.annotations.Test;

public class TestSCIMScenario extends CamelTestSupport {

  static {
    System.setProperty("javax.net.debug", "all");
    System.setProperty("org.apache.commons.logging.Log", "org.apache.common=
s.logging.impl.SimpleLog");
    System.setProperty("org.apache.commons.logging.simplelog.showdatetime",=
 "true");
    System.setProperty("org.apache.commons.logging.simplelog.log.org.apache=
.http", "DEBUG");
  }

  @EndpointInject(uri =3D "direct:startHttp")
  protected DirectEndpoint startHttp;

  @EndpointInject(uri =3D "direct:startHttp4")
  protected DirectEndpoint startHttp4;

  @Produce(uri =3D "direct:start")
  protected ProducerTemplate producer;

  /* Payload based on SAP Cloud Indentity REST API - https://help.sap.com/v=
iewer/6d6d63354d1242d185ab4830fc04feb1/Cloud/en-US/2f215687fcf34170b0bbc8b3=
6b60f2e9.html */
  private static final String SCIM_PAYLOAD =3D "{\r\n  \"userName\": \"alex=
Aderson\",\r\n  \"name\": {\r\n    \"givenName\": \"Alex\",\r\n    \"family=
Name\": \"Anderson\",\r\n    \"honorificPrefix\": \"Mr.\"\r\n  },\r\n  \"em=
ails\": [\r\n    {\r\n      \"value\": \"alex.anderson@myworld.com\"\r\n   =
 }\r\n  ],\r\n  \"addresses\": [\r\n    {\r\n      \"type\": \"home\",\r\n =
     \"streetAddress\": \"1029 East River Drive\",\r\n      \"locality\": \=
"Street 301\",\r\n      \"region\": \"CA\",\r\n      \"postalCode\": \"9440=
1\"\r\n    }\r\n  ],\r\n  \"phoneNumbers\": [],\r\n  \"displayName\": \"nos=
ample\",\r\n  \"company\": \"YYY_USA\",\r\n  \"active\": true\r\n}";

  /* Camel-Http4 based URL */
  private static final String http4Endpoint =3D "https4://<tenant ID>.ondem=
and.com/service/scim/Users?proxyAuthHost=3Dppppp&proxyAuthPort=3D8888&proxy=
AuthScheme=3Dhttp4&authUsername=3Dxxxxxx&authPassword=3Dyyyyy&httpClientCon=
figurer=3D#customConfigurer";

  /* Camel-Http based URL */
  private static final String httpEndpoint =3D "https://<tenant ID>.ondeman=
d.com/service/scim/Users?proxyHost=3Dppppp&proxyPort=3D8888&authUsername=3D=
xxxxxx&authPassword=3Dyyyyy&authMethod=3DBasic";

  private static final Logger LOG =3D LogManager.getLogger();

  @Test
  public void testSCIMHttp() throws Exception {
    DefaultExchange request =3D (DefaultExchange) producer.request(startHtt=
p, new Processor() {

      @Override
      public void process(Exchange exchange) throws Exception {

      }
    });
    if (request.getException() !=3D null) {
      throw request.getException();
    }

  }

  @Test
  public void testSCIMHttp4() throws Exception {
    DefaultExchange request =3D (DefaultExchange) producer.request(startHtt=
p4, new Processor() {

      @Override
      public void process(Exchange exchange) throws Exception {

      }
    });
    if (request.getException() !=3D null) {
      throw request.getException();
    }

  }

  protected CamelContext createCamelContext() throws Exception {
    SimpleRegistry registry =3D new SimpleRegistry();
    registry.put("customConfigurer", new CustomHttpClientConfigurer());
    CamelContext cc =3D new DefaultCamelContext(registry);
    return cc;
  }

  @Override
  protected RouteBuilder createRouteBuilder() throws Exception {

    return new RouteBuilder() {

      @Override
      public void configure() throws Exception {
        onException(Exception.class).process(new Processor() {

          @Override
          public void process(Exchange exchange) throws Exception {
            Exception exception =3D null;
            if (exchange !=3D null && exchange.getProperty(CAMEL_PROPERTY_E=
XCEPTION_CAUGHT) instanceof Exception) {
              exception =3D  (Exception) exchange.getProperty(CAMEL_PROPERT=
Y_EXCEPTION_CAUGHT);
            }
            if (exception instanceof HttpOperationFailedException) {
              HttpOperationFailedException ex =3D (HttpOperationFailedExcep=
tion) exception;
              LOG.info("*********************HTTP FAILED BEGIN*************=
********");
              LOG.info("Status Code " + ex.getStatusCode() + " Status Text =
" + ex.getStatusText() + " Response Body " + ex.getResponseBody());
              LOG.info("*********************HTTP FAILED END***************=
******");
            }
            if(exception !=3D null) {
              throw exception; =20
            }           =20
          }
        });

        from(startHttp).setBody().constant(SCIM_PAYLOAD).to(httpEndpoint).p=
rocess(new Processor() {

          @Override
          public void process(Exchange exchange) throws Exception {
            LOG.info("*********************HTTP SUCCESS BEGIN**************=
*******");
            LOG.info(exchange.getIn().getBody(String.class));
            LOG.info("*********************HTTP SUCCESS END****************=
*****");
          }
        });

        from(startHttp4).setBody().constant(SCIM_PAYLOAD).setHeader(Exchang=
e.CONTENT_TYPE).constant(null).to(http4Endpoint);
      }
    };
  }
}

-----Original Message-----
From: souciance [mailto:souciance.eqdam.rashti@gmail.com]=20
Sent: Tuesday, April 4, 2017 10:34 PM
To: users@camel.apache.org
Subject: Re: Camel Http vs Camel Http4 - Content Type Header

Can you share your entire route code?

Den 5 apr. 2017 5:25 fm skrev "Goyal, Arpit [via Camel]" <
ml-node+s465427n5796938h41@n5.nabble.com>:

> Anyone else has idea of this camel logic?
>
> Sent from my iPhone
>
> > On Apr 3, 2017, at 4:33 PM, Goyal, Arpit <[hidden email]
> <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796938&i=3D0>> wrote:
> >
> > Hi Claus,
> >
> > HttpProduce -- from camel-http4 library is setting the content-type
> 'text/plain'  in method [1] line # 488 (camel version 2.16.3) even though
> we have set the Content-Type to be NULL - This is NOT the case with
> HttpProducer - from camel-http library.
> >
> > By enabling the apache commons log, the headers are clearly visible.
> >
> > The end-system we are invoking throws '415' due to the wrong Content
> Type passed and if we DO NOT pass any content type it works. As at
> execution time we can't determine the Content-Type, we want to pass it
> NULL.
> >
> > Any possible way to achieve not sending of Content-Type header?
> >
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> POST
> /service/scim/Users HTTP/1.1
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> breadcrumbId: ID-i044312-33503-1491259732621-0-1
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> Content-Length: 518
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> Content-Type: text/plain                            ---- in this line.
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> Host:
> xxxxxxx
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> Connection: Keep-Alive
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> User-Agent: Apache-HttpClient/4.5.2 (Java/1.7.0_101)
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> Accept-Encoding: gzip,deflate
> > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> Authorization: Basic XXXXXXXX
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "POST
> /service/scim/Users HTTP/1.1[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "breadcrumbId: ID-i044312-33503-1491259732621-0-1[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "Content-Length: 518[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "Content-Type: text/plain[\r][\n]"                        --- in this lin=
e
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Host:
> xxxxxxxxx[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "Connection: Keep-Alive[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "User-Agent: Apache-HttpClient/4.5.2 (Java/1.7.0_101)[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "Accept-Encoding: gzip,deflate[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "Authorization: Basic XXXXXXXX[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "[\r][\n]"
> > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> "{[\r][\n]"
> > 2017/04/04 00:48:55:620 CEST [DEBUG] wire - http-outgoing-0 >> "}"
> >
> > [1] - org.apache.camel.component.http4.HttpProducer.createRequestEntity=
(Exchange)
>
> >
> > Regards,
> > Arpit.
> >
> >
> > -----Original Message-----
> > From: souciance [mailto:[hidden email]
> <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796938&i=3D1>]
> > Sent: Thursday, February 9, 2017 1:40 PM
> > To: [hidden email]
> <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796938&i=3D2>
> > Subject: Re: Camel Http vs Camel Http4 - Content Type Header
> >
> > Well it should be pretty easy to setup a http server and see what
> headers
> > your route are sending and compare that to what the actual server wants=
.
> If
> > camel-http4 is suppressing some headers then perhaps try another
> component.
> >
> > On Thu, Feb 9, 2017 at 10:32 PM, Goyal, Arpit [via Camel] <
> > [hidden email] <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796938&i=
=3D3>>
> wrote:
> >
> >> Hi,
> >>
> >> We were on Camel-Http (2.16) and moving to Camel-Http4 (2.16) and saw
> that
> >> URL which worked with Camel-http now fails with Camel-Http4 with statu=
s
> >> code - 415 (Unsupported Media Type).
> >>
> >> Caused by: org.apache.camel.http.common.HttpOperationFailedException:
> >> HTTP operation failed invoking https://<host>:<port>/
> >> myservice/Users?authMethod=3DBasic with statusCode: 415
> >>
> >> Saw this discussion on Nabble - http://camel.465427.n5.nabble.
> >> com/Http4-Set-Header-Content-Type-not-passing-through-to-
> >> the-HTTP-Request-td5746414.html#a5752856
> >>
> >> Does this mean we CAN"T USE - Camel-HTTP4 ?
> >>
> >> Regards,
> >> Arpit.
> >>
> >>
> >> ------------------------------
> >> If you reply to this email, your message will be added to the
> discussion
> >> below:
> >> http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-
> >> Content-Type-Header-tp5793736.html
> >> To start a new topic under Camel - Users, email
> >> [hidden email] <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796938&=
i=3D4>
> >> To unsubscribe from Camel - Users, click here
> >> <
> >> .
> >> NAML
> >> <http://camel.465427.n5.nabble.com/template/
> NamlServlet.jtp?macro=3Dmacro_viewer&id=3Dinstant_html%
> 21nabble%3Aemail.naml&base=3Dnabble.naml.namespaces.
> BasicNamespace-nabble.view.web.template.NabbleNamespace-
> nabble.view.web.template.NodeNamespace&breadcrumbs=3D
> notify_subscribers%21nabble%3Aemail.naml-instant_emails%
> 21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
> >>
> >
> >
> >
> >
> > --
> > View this message in context: http://camel.465427.n5.nabble.
> com/Camel-Http-vs-Camel-Http4-Content-Type-Header-tp5793736p5793737.html
> > Sent from the Camel - Users mailing list archive at Nabble.com.
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-
> Content-Type-Header-tp5793736p5796938.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dunsub=
scribe_by_code&node=3D465428&code=3Dc291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5=
jb218NDY1NDI4fDE1MzI5MTE2NTY=3D>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dmacro=
_viewer&id=3Dinstant_html%21nabble%3Aemail.naml&base=3Dnabble.naml.namespac=
es.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.=
template.NodeNamespace&breadcrumbs=3Dnotify_subscribers%21nabble%3Aemail.na=
ml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail=
.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Camel-Http-=
vs-Camel-Http4-Content-Type-Header-tp5793736p5796944.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65265-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr  6 06:05:54 2017
Return-Path: <users-return-65265-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6884418C74
	for <apmail-camel-users-archive@www.apache.org>; Thu,  6 Apr 2017 06:05:54 +0000 (UTC)
Received: (qmail 50228 invoked by uid 500); 6 Apr 2017 06:05:54 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 50196 invoked by uid 500); 6 Apr 2017 06:05:53 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 50184 invoked by uid 99); 6 Apr 2017 06:05:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Apr 2017 06:05:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C10F6C237D
	for <users@camel.apache.org>; Thu,  6 Apr 2017 06:05:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.486
X-Spam-Level: *****
X-Spam-Status: No, score=5.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id udlwK7YjYOKS for <users@camel.apache.org>;
	Thu,  6 Apr 2017 06:05:50 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 38B375F1A0
	for <users@camel.apache.org>; Thu,  6 Apr 2017 06:05:50 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id F0F1840957CB
	for <users@camel.apache.org>; Wed,  5 Apr 2017 23:05:47 -0700 (PDT)
Date: Wed, 5 Apr 2017 23:05:48 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs058CrWz6zHLv-dYNT0Dtu_eUOEZx1WrXbSGVhqRYixWw@mail.gmail.com>
In-Reply-To: <9a78b6bb614a446787b2881d913b4447@sap.com>
References: <82c767ed74fc4a22bde87ae8b643283c@dewdfe13de47.global.corp.sap> <CA+wbgs16=e_1VQwR_fB4_oiBm-y4S70QmcWoLYxbONDvkKmWrw@mail.gmail.com> <968c6d4d8cfb4132b37f3c603ffd36e7@dewdfe13de47.global.corp.sap> <ac960ff362d5444bbff5bcbb22ee04f0@sap.com> <63544303-ABF8-4415-86D4-EA0DF4FFEDE5@sap.com> <CA+wbgs38uurAfpFy8Uo0=SBhUFDoa+KF4kZcM_kT570o6q5+7w@mail.gmail.com> <9a78b6bb614a446787b2881d913b4447@sap.com>
Subject: RE: Camel Http vs Camel Http4 - Content Type Header
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_178858_1920874839.1491458748801"

------=_Part_178858_1920874839.1491458748801
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi, I can take a look later during the day and get back to you.

Den 6 apr. 2017 7:44 fm skrev "Goyal, Arpit [via Camel]" <
ml-node+s465427n5797051h44@n5.nabble.com>:

> Hi souciance,
>
> Below is the complete test case I have written to debug this problem. You
> can import and fix the 'package' and 'logger' to remove errors.
> 'createRouteBuilder' method at the end has the two routes using camel-http
> and camel-http4. The URLs are constants.
>
> I am using the SAP Cloud Identity API [1] which expects Content-Type:
> application/scim+json. But if this is not given then it works fine. In case
> of camel-http4 we get 'text/plain' by default.
>
> Can't provide credential, you may be able to debug to see the 'Content
> Type' getting set with Camel-Http4 and not getting with Camel-Http
>
> Right now my need is to just make it empty like Camel-http. We HAD to move
> to camel-http4 because of SSL support. And now this one use-case isn't
> working :(
>
> Regards,
> Arpit.
>
> [1] - https://help.sap.com/viewer/6d6d63354d1242d185ab4830fc04fe
> b1/Cloud/en-US/2f215687fcf34170b0bbc8b36b60f2e9.html
>
>
> Complete test case
>
> import org.apache.camel.CamelContext;
> import org.apache.camel.EndpointInject;
> import org.apache.camel.Exchange;
> import org.apache.camel.Processor;
> import org.apache.camel.Produce;
> import org.apache.camel.ProducerTemplate;
> import org.apache.camel.builder.RouteBuilder;
> import org.apache.camel.component.direct.DirectEndpoint;
> import org.apache.camel.http.common.HttpOperationFailedException;
> import org.apache.camel.impl.DefaultCamelContext;
> import org.apache.camel.impl.DefaultExchange;
> import org.apache.camel.impl.SimpleRegistry;
> import org.apache.camel.testng.CamelTestSupport;
> import org.testng.annotations.Test;
>
> public class TestSCIMScenario extends CamelTestSupport {
>
>   static {
>     System.setProperty("javax.net.debug", "all");
>     System.setProperty("org.apache.commons.logging.Log",
> "org.apache.commons.logging.impl.SimpleLog");
>     System.setProperty("org.apache.commons.logging.simplelog.showdatetime",
> "true");
>     System.setProperty("org.apache.commons.logging.
> simplelog.log.org.apache.http", "DEBUG");
>   }
>
>   @EndpointInject(uri = "direct:startHttp")
>   protected DirectEndpoint startHttp;
>
>   @EndpointInject(uri = "direct:startHttp4")
>   protected DirectEndpoint startHttp4;
>
>   @Produce(uri = "direct:start")
>   protected ProducerTemplate producer;
>
>   /* Payload based on SAP Cloud Indentity REST API -
> https://help.sap.com/viewer/6d6d63354d1242d185ab4830fc04feb1/Cloud/en-US/
> 2f215687fcf34170b0bbc8b36b60f2e9.html */
>   private static final String SCIM_PAYLOAD = "{\r\n  \"userName\":
> \"alexAderson\",\r\n  \"name\": {\r\n    \"givenName\": \"Alex\",\r\n
>  \"familyName\": \"Anderson\",\r\n    \"honorificPrefix\": \"Mr.\"\r\n
>  },\r\n  \"emails\": [\r\n    {\r\n      \"value\": \"[hidden email]
> <http:///user/SendEmail.jtp?type=node&node=5797051&i=0>\"\r\n    }\r\n
>  ],\r\n  \"addresses\": [\r\n    {\r\n      \"type\": \"home\",\r\n
>  \"streetAddress\": \"1029 East River Drive\",\r\n      \"locality\":
> \"Street 301\",\r\n      \"region\": \"CA\",\r\n      \"postalCode\":
> \"94401\"\r\n    }\r\n  ],\r\n  \"phoneNumbers\": [],\r\n  \"displayName\":
> \"nosample\",\r\n  \"company\": \"YYY_USA\",\r\n  \"active\": true\r\n}";
>
>   /* Camel-Http4 based URL */
>   private static final String http4Endpoint = "https4://<tenant ID>.
> ondemand.com/service/scim/Users?proxyAuthHost=ppppp&proxyAuthPort=8888&
> proxyAuthScheme=http4&authUsername=xxxxxx&authPassword=yyyyy&
> httpClientConfigurer=#customConfigurer";
>
>   /* Camel-Http based URL */
>   private static final String httpEndpoint = "https://<tenant ID>.
> ondemand.com/service/scim/Users?proxyHost=ppppp&
> proxyPort=8888&authUsername=xxxxxx&authPassword=yyyyy&authMethod=Basic";
>
>   private static final Logger LOG = LogManager.getLogger();
>
>   @Test
>   public void testSCIMHttp() throws Exception {
>     DefaultExchange request = (DefaultExchange)
> producer.request(startHttp, new Processor() {
>
>       @Override
>       public void process(Exchange exchange) throws Exception {
>
>       }
>     });
>     if (request.getException() != null) {
>       throw request.getException();
>     }
>
>   }
>
>   @Test
>   public void testSCIMHttp4() throws Exception {
>     DefaultExchange request = (DefaultExchange)
> producer.request(startHttp4, new Processor() {
>
>       @Override
>       public void process(Exchange exchange) throws Exception {
>
>       }
>     });
>     if (request.getException() != null) {
>       throw request.getException();
>     }
>
>   }
>
>   protected CamelContext createCamelContext() throws Exception {
>     SimpleRegistry registry = new SimpleRegistry();
>     registry.put("customConfigurer", new CustomHttpClientConfigurer());
>     CamelContext cc = new DefaultCamelContext(registry);
>     return cc;
>   }
>
>   @Override
>   protected RouteBuilder createRouteBuilder() throws Exception {
>
>     return new RouteBuilder() {
>
>       @Override
>       public void configure() throws Exception {
>         onException(Exception.class).process(new Processor() {
>
>           @Override
>           public void process(Exchange exchange) throws Exception {
>             Exception exception = null;
>             if (exchange != null && exchange.getProperty(CAMEL_PROPERTY_EXCEPTION_CAUGHT)
> instanceof Exception) {
>               exception =  (Exception) exchange.getProperty(CAMEL_PROPERTY_EXCEPTION_CAUGHT);
>
>             }
>             if (exception instanceof HttpOperationFailedException) {
>               HttpOperationFailedException ex =
> (HttpOperationFailedException) exception;
>               LOG.info("*********************HTTP FAILED
> BEGIN*********************");
>               LOG.info("Status Code " + ex.getStatusCode() + " Status Text
> " + ex.getStatusText() + " Response Body " + ex.getResponseBody());
>               LOG.info("*********************HTTP FAILED
> END*********************");
>             }
>             if(exception != null) {
>               throw exception;
>             }
>           }
>         });
>
>         from(startHttp).setBody().constant(SCIM_PAYLOAD).to(httpEndpoint).process(new
> Processor() {
>
>           @Override
>           public void process(Exchange exchange) throws Exception {
>             LOG.info("*********************HTTP SUCCESS
> BEGIN*********************");
>             LOG.info(exchange.getIn().getBody(String.class));
>             LOG.info("*********************HTTP SUCCESS
> END*********************");
>           }
>         });
>
>         from(startHttp4).setBody().constant(SCIM_PAYLOAD).
> setHeader(Exchange.CONTENT_TYPE).constant(null).to(http4Endpoint);
>       }
>     };
>   }
> }
>
> -----Original Message-----
> From: souciance [mailto:[hidden email]
> <http:///user/SendEmail.jtp?type=node&node=5797051&i=1>]
> Sent: Tuesday, April 4, 2017 10:34 PM
> To: [hidden email] <http:///user/SendEmail.jtp?type=node&node=5797051&i=2>
> Subject: Re: Camel Http vs Camel Http4 - Content Type Header
>
> Can you share your entire route code?
>
> Den 5 apr. 2017 5:25 fm skrev "Goyal, Arpit [via Camel]" <
> [hidden email] <http:///user/SendEmail.jtp?type=node&node=5797051&i=3>>:
>
> > Anyone else has idea of this camel logic?
> >
> > Sent from my iPhone
> >
> > > On Apr 3, 2017, at 4:33 PM, Goyal, Arpit <[hidden email]
> > <http:///user/SendEmail.jtp?type=node&node=5796938&i=0>> wrote:
> > >
> > > Hi Claus,
> > >
> > > HttpProduce -- from camel-http4 library is setting the content-type
> > 'text/plain'  in method [1] line # 488 (camel version 2.16.3) even
> though
> > we have set the Content-Type to be NULL - This is NOT the case with
> > HttpProducer - from camel-http library.
> > >
> > > By enabling the apache commons log, the headers are clearly visible.
> > >
> > > The end-system we are invoking throws '415' due to the wrong Content
> > Type passed and if we DO NOT pass any content type it works. As at
> > execution time we can't determine the Content-Type, we want to pass it
> > NULL.
> > >
> > > Any possible way to achieve not sending of Content-Type header?
> > >
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> POST
> > /service/scim/Users HTTP/1.1
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > breadcrumbId: ID-i044312-33503-1491259732621-0-1
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > Content-Length: 518
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > Content-Type: text/plain                            ---- in this line.
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> Host:
> > xxxxxxx
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > Connection: Keep-Alive
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > User-Agent: Apache-HttpClient/4.5.2 (Java/1.7.0_101)
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > Accept-Encoding: gzip,deflate
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > Authorization: Basic XXXXXXXX
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "POST
> > /service/scim/Users HTTP/1.1[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "breadcrumbId: ID-i044312-33503-1491259732621-0-1[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "Content-Length: 518[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "Content-Type: text/plain[\r][\n]"                        --- in this
> line
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Host:
> > xxxxxxxxx[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "Connection: Keep-Alive[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "User-Agent: Apache-HttpClient/4.5.2 (Java/1.7.0_101)[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "Accept-Encoding: gzip,deflate[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "Authorization: Basic XXXXXXXX[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "{[\r][\n]"
> > > 2017/04/04 00:48:55:620 CEST [DEBUG] wire - http-outgoing-0 >> "}"
> > >
> > > [1] - org.apache.camel.component.http4.HttpProducer.createRequestEntity(Exchange)
>
> >
> > >
> > > Regards,
> > > Arpit.
> > >
> > >
> > > -----Original Message-----
> > > From: souciance [mailto:[hidden email]
> > <http:///user/SendEmail.jtp?type=node&node=5796938&i=1>]
> > > Sent: Thursday, February 9, 2017 1:40 PM
> > > To: [hidden email]
> > <http:///user/SendEmail.jtp?type=node&node=5796938&i=2>
> > > Subject: Re: Camel Http vs Camel Http4 - Content Type Header
> > >
> > > Well it should be pretty easy to setup a http server and see what
> > headers
> > > your route are sending and compare that to what the actual server
> wants.
> > If
> > > camel-http4 is suppressing some headers then perhaps try another
> > component.
> > >
> > > On Thu, Feb 9, 2017 at 10:32 PM, Goyal, Arpit [via Camel] <
> > > [hidden email] <http:///user/SendEmail.jtp?type=node&node=5796938&i=3>>
>
> > wrote:
> > >
> > >> Hi,
> > >>
> > >> We were on Camel-Http (2.16) and moving to Camel-Http4 (2.16) and saw
> > that
> > >> URL which worked with Camel-http now fails with Camel-Http4 with
> status
> > >> code - 415 (Unsupported Media Type).
> > >>
> > >> Caused by: org.apache.camel.http.common.HttpOperationFailedException:
>
> > >> HTTP operation failed invoking https://<host>:<port>/
> > >> myservice/Users?authMethod=Basic with statusCode: 415
> > >>
> > >> Saw this discussion on Nabble - http://camel.465427.n5.nabble.
> > >> com/Http4-Set-Header-Content-Type-not-passing-through-to-
> > >> the-HTTP-Request-td5746414.html#a5752856
> > >>
> > >> Does this mean we CAN"T USE - Camel-HTTP4 ?
> > >>
> > >> Regards,
> > >> Arpit.
> > >>
> > >>
> > >> ------------------------------
> > >> If you reply to this email, your message will be added to the
> > discussion
> > >> below:
> > >> http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-
> > >> Content-Type-Header-tp5793736.html
> > >> To start a new topic under Camel - Users, email
> > >> [hidden email] <http:///user/SendEmail.jtp?type=node&node=5796938&i=4>
>
> > >> To unsubscribe from Camel - Users, click here
> > >> <
> > >> .
> > >> NAML
> > >> <http://camel.465427.n5.nabble.com/template/
> > NamlServlet.jtp?macro=macro_viewer&id=instant_html%
> > 21nabble%3Aemail.naml&base=nabble.naml.namespaces.
> > BasicNamespace-nabble.view.web.template.NabbleNamespace-
> > nabble.view.web.template.NodeNamespace&breadcrumbs=
> > notify_subscribers%21nabble%3Aemail.naml-instant_emails%
> > 21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
> > >>
> > >
> > >
> > >
> > >
> > > --
> > > View this message in context: http://camel.465427.n5.nabble.
> > com/Camel-Http-vs-Camel-Http4-Content-Type-Header-tp5793736p5793737.html
>
> > > Sent from the Camel - Users mailing list archive at Nabble.com.
> >
> >
> > ------------------------------
> > If you reply to this email, your message will be added to the discussion
> > below:
> > http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-
> > Content-Type-Header-tp5793736p5796938.html
> > To start a new topic under Camel - Users, email
> > [hidden email] <http:///user/SendEmail.jtp?type=node&node=5797051&i=4>
> > To unsubscribe from Camel - Users, click here
> > <
> > .
> > NAML
> > <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_
> viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.
> BasicNamespace-nabble.view.web.template.NabbleNamespace-
> nabble.view.web.template.NodeNamespace&breadcrumbs=
> notify_subscribers%21nabble%3Aemail.naml-instant_emails%
> 21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
> >
>
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.
> com/Camel-Http-vs-Camel-Http4-Content-Type-Header-tp5793736p5796944.html
> Sent from the Camel - Users mailing list archive at Nabble.com.
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-
> Content-Type-Header-tp5793736p5797051.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-Content-Type-Header-tp5793736p5797052.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_178858_1920874839.1491458748801--


From users-return-65266-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr  6 07:01:54 2017
Return-Path: <users-return-65266-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB98018F05
	for <apmail-camel-users-archive@www.apache.org>; Thu,  6 Apr 2017 07:01:53 +0000 (UTC)
Received: (qmail 51753 invoked by uid 500); 6 Apr 2017 07:01:50 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 51030 invoked by uid 500); 6 Apr 2017 07:01:49 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 50430 invoked by uid 99); 6 Apr 2017 07:01:49 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Apr 2017 07:01:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7CD45CB32B
	for <users@camel.apache.org>; Thu,  6 Apr 2017 07:01:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -5.003
X-Spam-Level:
X-Spam-Status: No, score=-5.003 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_HI=-5, RP_MATCHES_RCVD=-0.001,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id s_S1O_pik_0y for <users@camel.apache.org>;
	Thu,  6 Apr 2017 07:01:46 +0000 (UTC)
Received: from mailsecgw01.visana.ch (mailsecgw01.visana.ch [217.192.234.114])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 8249A5FC73
	for <users@camel.apache.org>; Thu,  6 Apr 2017 07:01:46 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="5.37,283,1488841200"; 
   d="scan'208";a="15761907"
Received: from a0zbrn13.visana.intra ([192.168.51.13])
  by mailsecgw01-int.visana.ch with ESMTP/TLS/AES256-SHA; 06 Apr 2017 09:01:38 +0200
Received: from a0zbrn11.visana.intra (192.168.51.11) by a0zbrn13.visana.intra
 (192.168.51.13) with Microsoft SMTP Server (TLS) id 15.0.1178.4; Thu, 6 Apr
 2017 09:01:38 +0200
Received: from a0zbrn11.visana.intra ([fe80::ec82:1f65:8ed9:4894]) by
 a0zbrn11.visana.intra ([fe80::ec82:1f65:8ed9:4894%12]) with mapi id
 15.00.1178.000; Thu, 6 Apr 2017 09:01:38 +0200
From: Burkard Stephan <Stephan.Burkard@visana.ch>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: Route and route test in Spring Boot application
Thread-Topic: Route and route test in Spring Boot application
Thread-Index: AdKuoS99BuoKcxZlT9yYjbE4RMgn7Q==
Date: Thu, 6 Apr 2017 07:01:38 +0000
Message-ID: <e6245ee69bf341fcbbbf6fd828dc5724@a0zbrn11.visana.intra>
Accept-Language: de-CH, en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-ms-exchange-transport-fromentityheader: Hosted
x-originating-ip: [192.168.39.50]
x-tm-as-product-ver: SMEX-11.0.0.1191-8.100.1062-22988.005
x-tm-as-result: No--8.043500-5.000000-31
x-tm-as-user-approved-sender: No
x-tm-as-user-blocked-sender: No
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

SGkgDQoNCldlIGFyZSBtb3Zpbmcgb3VyIENhbWVsL0FjdGl2ZU1RIHNlcnZpY2VzIGZyb20gS2Fy
YWYgYnVuZGxlcyB3aXRoIFNwcmluZyAzIGFuZCBYTUwtQ29uZmlnIHRvIFNwcmluZy1Cb290IHdp
dGggU3ByaW5nIDQgYW5kIEphdmEgLUNvbmZpZy4gDQoNCkkgaGF2ZSBidWlsdCBhIHZlcnkgc21h
bGwgcHJvdG90eXBlIG9mIHN1Y2ggYSBTcHJpbmcgQm9vdCBhcHBsaWNhdGlvbiB3aXRoIGEgQ2Ft
ZWwgcm91dGUgYW5kIHRoZSBjb3JyZXNwb25kaW5nIHJvdXRlIHRlc3QuIEkgd291bGQgbGlrZSB0
byBrbm93IGlmIHRoaXMgaXMgInN0YXRlIG9mIHRoZSBhcnQiIHRvIGJ1aWxkIENhbWVsIHJvdXRl
cyBhbmQgdGVzdHMgaW4gU3ByaW5nIEJvb3Qgb3IgaWYgdGhpcyBleGFtcGxlIHN0aWxsIGNvdWxk
IGJlIHNpbXBsaWZpZWQgb3IgY29udGFpbnMgb2xkIGNvbmNlcHRzIHRoYXQgY291bGQgYmUgcmVw
bGFjZWQgd2l0aCBhIHN1Y2Nlc3NvciBjb25jZXB0Lg0KDQpXZSB1c2UgU3ByaW5nIEJvb3QgMS40
LjIsIFNwcmluZyA0LjMuNCBhbmQgQ2FtZWwgMi4xNy4zDQoNCkkgZm9sbG93ZWQgaHR0cDovL2Nh
bWVsLmFwYWNoZS5vcmcvc3ByaW5nLWJvb3QuaHRtbCBhbmQgaHR0cDovL2NhbWVsLmFwYWNoZS5v
cmcvc3ByaW5nLXRlc3RpbmcuaHRtbCB0byBidWlsZCB0aGUgZXhhbXBsZS4NCg0KVGhhbmtzIGEg
bG90DQpTdGVwaGFuDQoNCg0KKioqKiBQb20ueG1sIGRlcGVuZGVuY2llcyAqKioqDQo8IS0tIGNh
bWVsIC0tPg0KPGRlcGVuZGVuY3k+DQoJPGdyb3VwSWQ+b3JnLmFwYWNoZS5jYW1lbDwvZ3JvdXBJ
ZD4NCgk8YXJ0aWZhY3RJZD5jYW1lbC1zcHJpbmctYm9vdC1zdGFydGVyPC9hcnRpZmFjdElkPg0K
PC9kZXBlbmRlbmN5Pg0KPGRlcGVuZGVuY3k+DQoJPGdyb3VwSWQ+b3JnLmFwYWNoZS5jYW1lbDwv
Z3JvdXBJZD4NCgk8YXJ0aWZhY3RJZD5jYW1lbC1zcHJpbmctamF2YWNvbmZpZzwvYXJ0aWZhY3RJ
ZD4NCjwvZGVwZW5kZW5jeT4NCjwhLS0gdGVzdCBzY29wZSAtLT4NCjxkZXBlbmRlbmN5Pg0KCTxn
cm91cElkPm9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdDwvZ3JvdXBJZD4NCgk8YXJ0aWZhY3RJZD5z
cHJpbmctYm9vdC1zdGFydGVyLXRlc3Q8L2FydGlmYWN0SWQ+DQoJPHNjb3BlPnRlc3Q8L3Njb3Bl
Pg0KPC9kZXBlbmRlbmN5Pg0KPGRlcGVuZGVuY3k+DQoJPGdyb3VwSWQ+b3JnLmFwYWNoZS5jYW1l
bDwvZ3JvdXBJZD4NCgk8YXJ0aWZhY3RJZD5jYW1lbC10ZXN0LXNwcmluZzwvYXJ0aWZhY3RJZD4N
Cgk8c2NvcGU+dGVzdDwvc2NvcGU+DQo8L2RlcGVuZGVuY3k+DQoNCioqKiogUm91dGUgY2xhc3Mg
KioqKg0KcGFja2FnZSBwcm90b3R5cGU7DQpAQ29tcG9uZW50DQpwdWJsaWMgY2xhc3MgUm91dGUg
ZXh0ZW5kcyBTcHJpbmdSb3V0ZUJ1aWxkZXIgew0KICAgIEBBdXRvd2lyZWQNCiAgICBwcml2YXRl
IENhbWVsQ29udGV4dCBjYW1lbENvbnRleHQ7DQoNCiAgICBAT3ZlcnJpZGUNCiAgICBwdWJsaWMg
dm9pZCBjb25maWd1cmUoKSB7DQogICAgICAgIGZyb20oImRpcmVjdDpyb3V0ZSIpDQogICAgICAg
ICAgICAgICAgLnJvdXRlSWQoInJvdXRlIikNCiAgICAgICAgICAgICAgICAudG8oIm1vY2s6ZGVz
dGluYXRpb24iKTsNCiAgICB9DQp9DQoNCioqKiogUm91dGUgdGVzdCBjbGFzcyAqKioqDQpwYWNr
YWdlIHByb3RvdHlwZTsNCkBSdW5XaXRoKENhbWVsU3ByaW5nSlVuaXQ0Q2xhc3NSdW5uZXIuY2xh
c3MpDQpAQm9vdHN0cmFwV2l0aChDYW1lbFRlc3RDb250ZXh0Qm9vdHN0cmFwcGVyLmNsYXNzKQ0K
QENvbnRleHRDb25maWd1cmF0aW9uKGNsYXNzZXMgPSB7IFJvdXRlVGVzdC5UZXN0Q29uZmlnLmNs
YXNzfSwgbG9hZGVyID0gQ2FtZWxTcHJpbmdEZWxlZ2F0aW5nVGVzdENvbnRleHRMb2FkZXIuY2xh
c3MpDQpwdWJsaWMgY2xhc3MgUm91dGVUZXN0IHsNCiAgICBAQXV0b3dpcmVkDQogICAgcHJvdGVj
dGVkIENhbWVsQ29udGV4dCBjYW1lbENvbnRleHQ7DQoNCiAgICBARW5kcG9pbnRJbmplY3QodXJp
ID0gIm1vY2s6ZGVzdGluYXRpb24iKQ0KICAgIHByb3RlY3RlZCBNb2NrRW5kcG9pbnQgZGVzdGlu
YXRpb247DQoNCiAgICBAUHJvZHVjZSh1cmkgPSAiZGlyZWN0OnJvdXRlIikNCiAgICBwcm90ZWN0
ZWQgUHJvZHVjZXJUZW1wbGF0ZSBwcm9kdWNlcjsNCg0KICAgIEBUZXN0DQogICAgQERpcnRpZXND
b250ZXh0DQogICAgcHVibGljIHZvaWQgdGVzdENvbnRleHRTdGFydHVwKCkgdGhyb3dzIEV4Y2Vw
dGlvbiB7DQogICAgICAgIGRlc3RpbmF0aW9uLmV4cGVjdGVkTWVzc2FnZUNvdW50KDIpOw0KICAg
ICAgICBkZXN0aW5hdGlvbi5leHBlY3RlZEJvZGllc1JlY2VpdmVkKCJ0ZXN0MSIsICJ0ZXN0MiIp
Ow0KDQogICAgICAgIHByb2R1Y2VyLnNlbmRCb2R5KCJ0ZXN0MSIpOw0KICAgICAgICBwcm9kdWNl
ci5zZW5kQm9keSgidGVzdDIiKTsNCg0KICAgICAgICBkZXN0aW5hdGlvbi5hc3NlcnRJc1NhdGlz
ZmllZCgpOw0KICAgIH0NCg0KICAgIEBDb25maWd1cmF0aW9uDQogICAgQENvbXBvbmVudFNjYW4o
InByb3RvdHlwZSIpDQogICAgcHVibGljIHN0YXRpYyBjbGFzcyBUZXN0Q29uZmlnIGV4dGVuZHMg
Q2FtZWxDb25maWd1cmF0aW9uIHsNCiAgICB9DQp9DQo=

From users-return-65267-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr  6 12:28:56 2017
Return-Path: <users-return-65267-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D1093186D2
	for <apmail-camel-users-archive@www.apache.org>; Thu,  6 Apr 2017 12:28:56 +0000 (UTC)
Received: (qmail 33199 invoked by uid 500); 6 Apr 2017 12:28:56 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 33145 invoked by uid 500); 6 Apr 2017 12:28:54 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 33127 invoked by uid 99); 6 Apr 2017 12:28:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Apr 2017 12:28:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1270ACCC6F
	for <users@camel.apache.org>; Thu,  6 Apr 2017 12:28:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.301
X-Spam-Level:
X-Spam-Status: No, score=-2.301 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_MED=-2.3,
	RP_MATCHES_RCVD=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=mitre.onmicrosoft.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id wuSM1eoZpof5 for <users@camel.apache.org>;
	Thu,  6 Apr 2017 12:28:53 +0000 (UTC)
Received: from smtpvmsrv1.mitre.org (smtpvmsrv1.mitre.org [192.52.194.136])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 5E4255FC3D
	for <users@camel.apache.org>; Thu,  6 Apr 2017 12:28:47 +0000 (UTC)
Received: from smtpvmsrv1.mitre.org (localhost.localdomain [127.0.0.1])
	by localhost (Postfix) with SMTP id 74B4C6CC00E;
	Thu,  6 Apr 2017 08:28:47 -0400 (EDT)
Received: from imshyb01.MITRE.ORG (imshyb01.mitre.org [129.83.29.2])
	by smtpvmsrv1.mitre.org (Postfix) with ESMTP id 65B8D6C01FF;
	Thu,  6 Apr 2017 08:28:47 -0400 (EDT)
Received: from imshyb01.MITRE.ORG (129.83.29.2) by imshyb01.MITRE.ORG
 (129.83.29.2) with Microsoft SMTP Server (TLS) id 15.0.1263.5; Thu, 6 Apr
 2017 08:28:41 -0400
Received: from gcc01-CY1-obe.outbound.protection.outlook.com (10.140.19.249)
 by imshyb01.MITRE.ORG (129.83.29.2) with Microsoft SMTP Server (TLS) id
 15.0.1263.5 via Frontend Transport; Thu, 6 Apr 2017 08:28:41 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=mitre.onmicrosoft.com;
 s=selector1-mitre-org;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version;
 bh=TptTX052TIs2ER0xxG9NqivmQCi6ljQd1PT4XKsaMBE=;
 b=u9VgbMcaYCKAIu5pY61l+BGHLZL3iaIA789tl5lLW8ajoT1Na4quGIqLGw0ZYpW7UlFxbvnBAUMFsKEkDeKlf6YYL9tm0zp+wPm0yJCyUq6eK+6IBStHoiqR7G7rNhkuj/AoORsXNurWsJI7Ro0zCWA5znHvqPDEqS7dQtmzZH4=
Received: from CY1PR09MB0908.namprd09.prod.outlook.com (10.163.89.139) by
 CY1PR09MB0908.namprd09.prod.outlook.com (10.163.89.139) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1019.17; Thu, 6 Apr 2017 12:28:34 +0000
Received: from CY1PR09MB0908.namprd09.prod.outlook.com ([10.163.89.139]) by
 CY1PR09MB0908.namprd09.prod.outlook.com ([10.163.89.139]) with mapi id
 15.01.1019.019; Thu, 6 Apr 2017 12:28:34 +0000
From: "Jacobsen, Jasen W." <jasenj1@mitre.org>
To: "users@camel.apache.org" <users@camel.apache.org>, Caleb Skidmore
	<caliskid8888@yahoo.com>
Subject: Re: Camel not Sending Headers with Objects to RabbitMQ
Thread-Topic: Camel not Sending Headers with Objects to RabbitMQ
Thread-Index: AQHSrjQtRN2HekVllUqb83ShYWw8paG4AysA
Date: Thu, 6 Apr 2017 12:28:34 +0000
Message-ID: <D50BAC35.F916%jasenj1@mitre.org>
References: <1571051417.11767359.1491413990773.ref@mail.yahoo.com>
 <1571051417.11767359.1491413990773@mail.yahoo.com>
In-Reply-To: <1571051417.11767359.1491413990773@mail.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
user-agent: Microsoft-MacOutlook/14.7.2.170228
authentication-results: camel.apache.org; dkim=none (message not signed)
 header.d=none;camel.apache.org; dmarc=none action=none header.from=mitre.org;
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [128.29.43.1]
x-microsoft-exchange-diagnostics: 1;CY1PR09MB0908;7:sV4Ab3JGCvB4Ekqf7+IdXR9ufRamgE0BdlYI+P2SoauXvE6WYxQdjYlmE9bc1GryA8DJ8bo5fKMQTKUBqJ9aW8rlH3NkEYGUaZCnB3iXa4La9FkXuRXPmFgILn/V4ttC3t9AoVmp3B609Pagxw8a5bj5pjvziIY0DlaHzVJei/+5rnp/4ywGXXZ5ktbjFz+sSEkFtSKL73W2t89xuLCQ+Ksph19gxyBNNEsuYsXFCfhoUVDFH7XxPoIsLmvnU0iDSCTNJIoYa/trUp0BqwhuUHhFiWl84FCKASfU1NXp9gOJjHUbYz7pb2RhyHDzzFuHcMdYU1BKoLdFPake7mk7xQ==
x-ms-office365-filtering-correlation-id: af71524a-bd01-44a3-a5d9-08d47ce8716e
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: UriScan:;BCL:0;PCL:0;RULEID:(22001)(2017030254075)(48565401081)(201703131423075)(201703031133081)(201702281549075);SRVR:CY1PR09MB0908;
x-microsoft-antispam-prvs: <CY1PR09MB0908C63F2016BF6762275B70E10D0@CY1PR09MB0908.namprd09.prod.outlook.com>
x-exchange-antispam-report-test: UriScan:(146099531331640)(37804248451712);
x-exchange-antispam-report-cfa-test: BCL:0;PCL:0;RULEID:(6040450)(601004)(2401047)(8121501046)(5005006)(10201501046)(3002001)(93006095)(93001095)(6055026)(6041248)(201703131423075)(201702281528075)(201703061421075)(20161123560025)(20161123564025)(20161123555025)(20161123562025)(6072148);SRVR:CY1PR09MB0908;BCL:0;PCL:0;RULEID:;SRVR:CY1PR09MB0908;
x-forefront-prvs: 02698DF457
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(6009001)(39840400002)(39850400002)(39400400002)(39410400002)(39450400003)(377454003)(24454002)(189998001)(6246003)(2501003)(305945005)(4001350100001)(6116002)(102836003)(7736002)(83506001)(3846002)(2950100002)(229853002)(5660300001)(66066001)(2900100001)(6306002)(2521001)(86362001)(53546009)(81166006)(38730400002)(25786009)(6486002)(77096006)(99286003)(8676002)(39060400002)(122556002)(6512007)(36756003)(53936002)(3660700001)(54356999)(3280700002)(76176999)(8936002)(2906002)(6436002)(50986999)(6506006);DIR:OUT;SFP:1101;SCL:1;SRVR:CY1PR09MB0908;H:CY1PR09MB0908.namprd09.prod.outlook.com;FPR:;SPF:None;MLV:ovrnspm;PTR:InfoNoRecords;LANG:en;
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: text/plain; charset="utf-8"
Content-ID: <D6D1BFBEE8A32E42978EA919F9C2498F@namprd09.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-MS-Exchange-CrossTenant-originalarrivaltime: 06 Apr 2017 12:28:34.1284
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: c620dc48-1d50-4952-8b39-df4d54d74d82
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY1PR09MB0908
X-OriginatorOrg: mitre.org

SXMgdGhlIG9iamVjdCBzZXJpYWxpemFibGU/DQoNCmh0dHBzOi8vZG9jcy5vcmFjbGUuY29tL2ph
dmFzZS83L2RvY3MvYXBpL2phdmEvaW8vU2VyaWFsaXphYmxlLmh0bWwNCg0KLSBKYXNlbi4NCg0K
T24gNC81LzE3LCAxOjM5IFBNLCAiQ2FsZWIgU2tpZG1vcmUiIDxjYWxpc2tpZDg4ODhAeWFob28u
Y29tLklOVkFMSUQ+DQp3cm90ZToNCg0KPkhlbGxvLA0KPg0KPldoZW4gSSBzZXQgYSBoZWFkZXIg
YXMgYW4gb2JqZWN0IGFuZCByb3V0ZSBpdCB0byBSYWJiaXRNUSwgdGhlIGhlYWRlcg0KPmRvZXMg
bm90IGFycml2ZS4gIEZvciBpbnN0YW5jZToNCj4NCj5MaXN0PFN0cmluZz4gdGVzdERhdGEgPSBu
ZXcgQXJyYXlMaXN0PD4oKTsNCj50ZXN0RGF0YS5hZGQoInRlc3QiKTsNCj50ZXN0RGF0YS5hZGQo
ImRhdGEiKTsNCj5leGNoYW5nZS5nZXRJbigpLnNldEhlYWRlcigiT2JqZWN0SGVhZGVyIiwgdGVz
dERhdGEpOw0KPmV4Y2hhbmdlLmdldEluKCkuc2V0SGVhZGVyKCJTdHJpbmdIZWFkZXIiLCB0ZXN0
RGF0YS50b1N0cmluZygpKTsNCj4NCj5XaGVuIEkgY2hlY2sgdGhlIGhlYWRlcnMgaW4gUmFiYml0
TVEsIHRoZSBTdHJpbmdIZWFkZXIgaXMgdGhlcmUgYnV0IHRoZQ0KPk9iamVjdEhlYWRlciBpcyBt
aXNzaW5nLiAgQW55IHRob3VnaHRzIG9uIHdoYXQgaXMgaGFwcGVuaW5nIHRvIHRoZQ0KPk9iamVj
dEhlYWRlcj8NCj4NCj5UaGFua3MsDQo+Qw0KPg0KDQo=

From users-return-65268-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr  6 15:19:36 2017
Return-Path: <users-return-65268-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B5DCF1805F
	for <apmail-camel-users-archive@www.apache.org>; Thu,  6 Apr 2017 15:19:36 +0000 (UTC)
Received: (qmail 99168 invoked by uid 500); 6 Apr 2017 15:19:36 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 99116 invoked by uid 500); 6 Apr 2017 15:19:36 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 99105 invoked by uid 99); 6 Apr 2017 15:19:35 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Apr 2017 15:19:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 98CD3C0750
	for <users@camel.apache.org>; Thu,  6 Apr 2017 15:19:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.813
X-Spam-Level: **
X-Spam-Status: No, score=2.813 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=0.5,
	RCVD_IN_DNSWL_NONE=-0.0001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id bU2OExLTOrMY for <users@camel.apache.org>;
	Thu,  6 Apr 2017 15:19:35 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id AD17F5FAE7
	for <users@camel.apache.org>; Thu,  6 Apr 2017 15:19:34 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 4CB73409ED5C
	for <users@camel.apache.org>; Thu,  6 Apr 2017 08:19:29 -0700 (PDT)
Date: Thu, 6 Apr 2017 08:19:32 -0700 (MST)
From: Gary <gary.mills@ge.com>
To: users@camel.apache.org
Message-ID: <1491491972786-5797091.post@n5.nabble.com>
In-Reply-To: <1491431707799-5797035.post@n5.nabble.com>
References: <1491426953340-5797029.post@n5.nabble.com> <CA+wbgs1OZc_jrCHR344a8FzMHfNXJ65GVDSbPZWQVrYqM7zAHg@mail.gmail.com> <1491430343631-5797032.post@n5.nabble.com> <CA+wbgs1m9YYSCRg1G16007xLh-eVqod_hAJUqAkEYDLTru0tEQ@mail.gmail.com> <1491431707799-5797035.post@n5.nabble.com>
Subject: Re: JAXB Marshalling from email route
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

sure enough, thanks for everything. again, it was something stupid I
overlooked. you never know real bug or just human error. 9 out 10 human
error. 

I was type converting my attachments content as string. I changed my wrapper
and exchange to byte[] and all is good. 

thanks again!



-----
Gary Lee Mills
--
View this message in context: http://camel.465427.n5.nabble.com/JAXB-Marshalling-from-email-route-tp5797029p5797091.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65269-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr  6 16:59:31 2017
Return-Path: <users-return-65269-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 41C49185DA
	for <apmail-camel-users-archive@www.apache.org>; Thu,  6 Apr 2017 16:59:31 +0000 (UTC)
Received: (qmail 63883 invoked by uid 500); 6 Apr 2017 16:59:30 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 63838 invoked by uid 500); 6 Apr 2017 16:59:30 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 63826 invoked by uid 99); 6 Apr 2017 16:59:30 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Apr 2017 16:59:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 204CCC6B48
	for <users@camel.apache.org>; Thu,  6 Apr 2017 16:59:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id DIpT4YpDDDt4 for <users@camel.apache.org>;
	Thu,  6 Apr 2017 16:59:29 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 654DD5F1A1
	for <users@camel.apache.org>; Thu,  6 Apr 2017 16:59:29 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id DC4B840A0C3B
	for <users@camel.apache.org>; Thu,  6 Apr 2017 09:59:24 -0700 (PDT)
Date: Thu, 6 Apr 2017 09:59:28 -0700 (MST)
From: dvlato <dvlato@gmail.com>
To: users@camel.apache.org
Message-ID: <1491497968877-5797098.post@n5.nabble.com>
In-Reply-To: <1490356966195-5796094.post@n5.nabble.com>
References: <1490356966195-5796094.post@n5.nabble.com>
Subject: Re: Best way to poll a database and process in chunks
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello Claus, Ibsen:

 Thank you very much for the thorough responses. We don't really need to use
the JPA component, and I think it makes more sense to use sql/jdbc for the
kind of bulk operations we want to do.

What I think it would be really useful is to allow for the
"onConsumeBatchComplete" SQL statement  to use parameters from the  select
query.  I mean, if the sql consumer is performing the query  "select * from
mytable where status=0",  I would like to be able to declare  the
"onConsumeBatchComplete" query like this " update mytable set status=1 where 
idfield in (:idfield)", where the idfield parameter would be populated with
the results of the select statement.   

 Does my explanation make sense? I want to change the status only for the 
rows returned by the select query.  

 Is there another way to do that currently in Camel?  I tried to connect the
output of the SQL component with another SQL component but I think I might
need a bean processor to generate the correct body. In any case, I think
that would be a useful built-in feature, so if you agree I will create a
ticket for that. 









--
View this message in context: http://camel.465427.n5.nabble.com/Best-way-to-poll-a-database-and-process-in-chunks-tp5796094p5797098.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65270-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr  6 20:05:33 2017
Return-Path: <users-return-65270-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4B5FC18593
	for <apmail-camel-users-archive@www.apache.org>; Thu,  6 Apr 2017 20:05:33 +0000 (UTC)
Received: (qmail 53890 invoked by uid 500); 6 Apr 2017 20:05:31 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 53847 invoked by uid 500); 6 Apr 2017 20:05:31 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 53831 invoked by uid 99); 6 Apr 2017 20:05:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Apr 2017 20:05:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 7E3DAC0D94
	for <users@camel.apache.org>; Thu,  6 Apr 2017 20:05:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.379
X-Spam-Level:
X-Spam-Status: No, score=0.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 72ThBfUfY1pz for <users@camel.apache.org>;
	Thu,  6 Apr 2017 20:05:26 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 6FAEA5FB5A
	for <users@camel.apache.org>; Thu,  6 Apr 2017 20:05:26 +0000 (UTC)
Received: by mail-qk0-f179.google.com with SMTP id h67so47264332qke.0
        for <users@camel.apache.org>; Thu, 06 Apr 2017 13:05:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=FSnWzk5UNud4LHqc9OA8dcj26e9/lQL612Xi4owXAj4=;
        b=tz4Ltmu5bTbqv6+s+B7ZIW77qAAvgpPAiyvudbGSFdwoHiiYx/azjo0dh2GaSAy2k8
         FOO6/s8ajb2ozesyITehKZWhp895UxeiAiZ9bL751hXwerTFo68N8F4Yf1FJMMuHPUAA
         XKglI76NNEQnp86pS7+XkglyfXISwCxMV0MmU7KzPIjgZPSBp4yYboi7iafq6aaWW6pp
         l+eGpZW9l/mMhK+xzJ3ZJYil44Oz3Lp+3iem7MWfGuMkhcUP+z1LeGaudZVK8G2wdxR0
         Ekh02iouUVjZEHjx8QS1Fasotz1qgY3tnbxhPMnz+flWgwpCeC5c1jljq5lYRMTMuXXf
         uuRA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=FSnWzk5UNud4LHqc9OA8dcj26e9/lQL612Xi4owXAj4=;
        b=cWkEovaW18SqDOULwgwaduEtsDG/7TEz5bGy2Ux8E6igoF7+nKFvlw5QWq39IL4kbE
         7KYuK1oYZO9KdfnDYYu9xUpyExrU6QS906VDqsOFyhR+I6hfDfoML7EYqUoT6ILa+0J+
         5Od1UGaYkexnIGIiNOKB/HP4KcPNw3ndx28XExfv5IVjheS3yFTeVTUh6A6yjzmT/ldG
         qN0H3n0AdgtensFVbYbTkUFWsVLyDz7TMn3aZf3U3xeT2w01w1vzEENa3MrrKfLGbMxM
         OtdJDS4ObDbANmcajQCdqcHF/zlxgc+Qfqxr5wVQoR3i1+N3wSQ56vD7DkRXP6ZWBZm+
         JCsA==
X-Gm-Message-State: AFeK/H1nnl9mUvcGvrh0umxDPJefwzCwp2aOGkHGM1XC5snxAou+f1UfRwbzNKX/QvmcfsdAOVN0koBOqZvGyg==
X-Received: by 10.55.144.6 with SMTP id s6mr32787679qkd.27.1491509125734; Thu,
 06 Apr 2017 13:05:25 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Thu, 6 Apr 2017 13:05:05 -0700 (PDT)
In-Reply-To: <1571051417.11767359.1491413990773@mail.yahoo.com>
References: <1571051417.11767359.1491413990773.ref@mail.yahoo.com> <1571051417.11767359.1491413990773@mail.yahoo.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Thu, 6 Apr 2017 22:05:05 +0200
Message-ID: <CAGB5yN=PRvxiCK0Z_r_k=joucDnabgzPpQ28uPA7Vzde29GPFw@mail.gmail.com>
Subject: Re: Camel not Sending Headers with Objects to RabbitMQ
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

You cannot just send any kind of java object as a header.

Search the rabbitmq documentation what kind of header types it
supports. Currently its set to primitive types and string etc just as
the JMS spec etc do.


On Wed, Apr 5, 2017 at 7:39 PM, Caleb Skidmore
<caliskid8888@yahoo.com.invalid> wrote:
> Hello,
>
> When I set a header as an object and route it to RabbitMQ, the header does not arrive.  For instance:
>
> List<String> testData = new ArrayList<>();
> testData.add("test");
> testData.add("data");
> exchange.getIn().setHeader("ObjectHeader", testData);
> exchange.getIn().setHeader("StringHeader", testData.toString());
>
> When I check the headers in RabbitMQ, the StringHeader is there but the ObjectHeader is missing.  Any thoughts on what is happening to the ObjectHeader?
>
> Thanks,
> C
>



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65271-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr  6 20:12:27 2017
Return-Path: <users-return-65271-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B331F185DF
	for <apmail-camel-users-archive@www.apache.org>; Thu,  6 Apr 2017 20:12:27 +0000 (UTC)
Received: (qmail 74991 invoked by uid 500); 6 Apr 2017 20:12:27 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 74950 invoked by uid 500); 6 Apr 2017 20:12:25 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 74937 invoked by uid 99); 6 Apr 2017 20:12:24 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Apr 2017 20:12:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 78C18188897
	for <users@camel.apache.org>; Thu,  6 Apr 2017 20:12:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.892
X-Spam-Level: **
X-Spam-Status: No, score=2.892 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_LINEPADDING=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id TjtirylvvSsR for <users@camel.apache.org>;
	Thu,  6 Apr 2017 20:12:22 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 9DBF85F1E9
	for <users@camel.apache.org>; Thu,  6 Apr 2017 20:12:21 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id p68so22008692qke.1
        for <users@camel.apache.org>; Thu, 06 Apr 2017 13:12:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=N7e0IVlu8b4hWjkDajCYIC4Uv7WY8tOBBVzbUyLTUXc=;
        b=GQPgTJft66poH1avP/PhGTeCL2/k4EBU8NfMLdhJqxhLIkiaY3YHWlQeGsEpaB+0y+
         bi1k+/zpz97q4odQ+3PtL7SvcseTR3GC1fjcSkK43nUFDnE5fofFXqw/PdsxR3FT0TqB
         oXMdihJB1ChKijJvoJ0qGp1W4Rdxz1LtVxIUjPcAr1qBlCYZMu6Ld3mf8M0Ird48vCuD
         ZZyECwdwpjSrgxgcgJVjSuVsRXevYuk5HYeyFAa5zhLF4ZWShfY6vi/5jTMU5xlPo0SN
         YcOHgYsbALxmp+mmqBNO0VF6CTgD1KxTCx5429CWMjGuPuJN/irmU+HNz7mIbFBInqez
         EzAg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=N7e0IVlu8b4hWjkDajCYIC4Uv7WY8tOBBVzbUyLTUXc=;
        b=cD+O86O7KvB4FeCF+CIrx8j2OHUouCTWMmMKr3hk/YRkF+wKB7cAD8N3m9XZY4ZeIe
         Ok5+MV+u6PS94x+FM/tHE87IDxYuRRGwm10eDUviSKQOVSIRQo7+pmqgYg63XqyIv/sJ
         Muo+vwJNhaotVnvuzEFZNEU5P6sU/5Dotq6Ugyd11ZkPcAHxOKqJOSX4XrgQQ3blLSyy
         7D8c3pYnaySBmnBYbt6qIftLxJt8keS7MfCIzWHUAKeVkpNN+qAnKTvuxiJoNCXuX+Wa
         zsZz9q7TDJQAkwC1czfPe9YzvLMCC6qqG63gS+6wJuIFZD84jwcEyg0RDwOiRWYI6Gp2
         ANPQ==
X-Gm-Message-State: AFeK/H1MHL6dLPOkT/D/1tnJrKDS2b34zPFWt03pLaLDDGvSbXR6WTN2Q+NGosWF0vA4fT3TklNwWO9M5f304g==
X-Received: by 10.55.144.6 with SMTP id s6mr32822328qkd.27.1491509540550; Thu,
 06 Apr 2017 13:12:20 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Thu, 6 Apr 2017 13:12:00 -0700 (PDT)
In-Reply-To: <1491497968877-5797098.post@n5.nabble.com>
References: <1490356966195-5796094.post@n5.nabble.com> <1491497968877-5797098.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Thu, 6 Apr 2017 22:12:00 +0200
Message-ID: <CAGB5yN=-WzWCLXu6UCL4mYxZqs46246osfVYk9hjp6m4R2_gEg@mail.gmail.com>
Subject: Re: Best way to poll a database and process in chunks
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

Maybe you can try and let us see what it goes. I am not so sure we can
make this in a way to make it not complicated. How would you specify
what those IN keys are from a select statement that can return
basically anything.



On Thu, Apr 6, 2017 at 6:59 PM, dvlato <dvlato@gmail.com> wrote:
> Hello Claus, Ibsen:
>
>  Thank you very much for the thorough responses. We don't really need to use
> the JPA component, and I think it makes more sense to use sql/jdbc for the
> kind of bulk operations we want to do.
>
> What I think it would be really useful is to allow for the
> "onConsumeBatchComplete" SQL statement  to use parameters from the  select
> query.  I mean, if the sql consumer is performing the query  "select * from
> mytable where status=0",  I would like to be able to declare  the
> "onConsumeBatchComplete" query like this " update mytable set status=1 where
> idfield in (:idfield)", where the idfield parameter would be populated with
> the results of the select statement.
>
>  Does my explanation make sense? I want to change the status only for the
> rows returned by the select query.
>
>  Is there another way to do that currently in Camel?  I tried to connect the
> output of the SQL component with another SQL component but I think I might
> need a bean processor to generate the correct body. In any case, I think
> that would be a useful built-in feature, so if you agree I will create a
> ticket for that.
>
>
>
>
>
>
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Best-way-to-poll-a-database-and-process-in-chunks-tp5796094p5797098.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65272-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr  6 22:43:39 2017
Return-Path: <users-return-65272-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8092418EAB
	for <apmail-camel-users-archive@www.apache.org>; Thu,  6 Apr 2017 22:43:39 +0000 (UTC)
Received: (qmail 68642 invoked by uid 500); 6 Apr 2017 22:43:39 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 68592 invoked by uid 500); 6 Apr 2017 22:43:39 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 68579 invoked by uid 99); 6 Apr 2017 22:43:38 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Apr 2017 22:43:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id DE0811A080D
	for <users@camel.apache.org>; Thu,  6 Apr 2017 22:43:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.396
X-Spam-Level:
X-Spam-Status: No, score=-2.396 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=regvart.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id DSgvVsC_MBSs for <users@camel.apache.org>;
	Thu,  6 Apr 2017 22:43:33 +0000 (UTC)
Received: from mail-wr0-f178.google.com (mail-wr0-f178.google.com [209.85.128.178])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 5DDD25FB5A
	for <users@camel.apache.org>; Thu,  6 Apr 2017 22:43:33 +0000 (UTC)
Received: by mail-wr0-f178.google.com with SMTP id c55so9683714wrc.3
        for <users@camel.apache.org>; Thu, 06 Apr 2017 15:43:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=regvart.com; s=google;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=4jpJTZFIBglz3z8iBWfdSQe8pDX6gOwYkFge6b7g2vY=;
        b=JNePIizdnoAQqEP5SQp+kwqCxKdoB/sihRFJY+cOYIEpBARd43+r2Zbkojyq7iWHFB
         rxV3+dAHmoAkXs2OFD5Z9HZV0LAIhtn4tUIuQDh8ODZ5SiTB+cgFGs+xnyI6WfOrY6Bv
         p7Ujdt5MnqzHSRJ9lcQyYEX7ieGZwiRA341ec=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=4jpJTZFIBglz3z8iBWfdSQe8pDX6gOwYkFge6b7g2vY=;
        b=c2pv6iLpImN0uM/3rhWMaEX2MP/4rRfm//hzTuvvsKQ4lPbq26c974zhQE4irk/PdW
         LbxIvDto1usCq2bXRayqooMJqTEMWd97lyzN50OvguukTfClqPm2WBMCviOLiagDAH6x
         XkypJoihaHLhngvhnMFt1gaVgRnp1NsM9dz7SXx38eXNPSzJxa1Powh6qjk2WbMbuiU+
         SB84gn/8G4cC8ctO1EMRfBKJL4i11i3LB/kYERe+qDIROEwZUclunqsjknF8DhHJtHnO
         QcGBDJo08b9UsmhntVKa0vRJi7O7tq9BM/LDPTv1gnqpsxkO18I9cH9+WS3eHY6gG16C
         mjAA==
X-Gm-Message-State: AFeK/H010j9gDtP+Lgzbv9OEY3VpzV2LucfTJrimnFLSnfEoYDo0/BuyWq1hkfiXO2r+SeDYsC7LRbRg1MQcMw==
X-Received: by 10.223.135.113 with SMTP id 46mr34242244wrz.95.1491518612217;
 Thu, 06 Apr 2017 15:43:32 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.80.131.101 with HTTP; Thu, 6 Apr 2017 15:43:11 -0700 (PDT)
In-Reply-To: <1491497968877-5797098.post@n5.nabble.com>
References: <1490356966195-5796094.post@n5.nabble.com> <1491497968877-5797098.post@n5.nabble.com>
From: Zoran Regvart <zoran@regvart.com>
Date: Fri, 7 Apr 2017 00:43:11 +0200
Message-ID: <CABD_Zr-Hh1kZB8Envh2PVRvdfpEAPOyf0hHYO6bVWVHgX8r0MQ@mail.gmail.com>
Subject: Re: Best way to poll a database and process in chunks
To: users@camel.apache.org
Content-Type: text/plain; charset=UTF-8

Hi David,

I think you will find that binding a bigger number of parameters won't
lead to better performance, both with missing statement cache due to
fluctuating number of parameters and due to not using indexes and
performing full table scans. But you should run SQL explain and gather
statistics for your own use case to see that.

I also think that you should solve this at the SQL level first. For
instance select first n rows from your table with certain status and
process those as a batch.

zoran

On Thu, Apr 6, 2017 at 6:59 PM, dvlato <dvlato@gmail.com> wrote:
> Hello Claus, Ibsen:
>
>  Thank you very much for the thorough responses. We don't really need to use
> the JPA component, and I think it makes more sense to use sql/jdbc for the
> kind of bulk operations we want to do.
>
> What I think it would be really useful is to allow for the
> "onConsumeBatchComplete" SQL statement  to use parameters from the  select
> query.  I mean, if the sql consumer is performing the query  "select * from
> mytable where status=0",  I would like to be able to declare  the
> "onConsumeBatchComplete" query like this " update mytable set status=1 where
> idfield in (:idfield)", where the idfield parameter would be populated with
> the results of the select statement.
>
>  Does my explanation make sense? I want to change the status only for the
> rows returned by the select query.
>
>  Is there another way to do that currently in Camel?  I tried to connect the
> output of the SQL component with another SQL component but I think I might
> need a bean processor to generate the correct body. In any case, I think
> that would be a useful built-in feature, so if you agree I will create a
> ticket for that.

-- 
Zoran Regvart

From users-return-65273-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr  7 07:02:58 2017
Return-Path: <users-return-65273-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE5B318FC6
	for <apmail-camel-users-archive@www.apache.org>; Fri,  7 Apr 2017 07:02:58 +0000 (UTC)
Received: (qmail 61317 invoked by uid 500); 7 Apr 2017 07:02:58 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 61269 invoked by uid 500); 7 Apr 2017 07:02:58 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 5616 invoked by uid 99); 7 Apr 2017 05:37:17 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.737
X-Spam-Level: ***
X-Spam-Status: No, score=3.737 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Date: Thu, 6 Apr 2017 22:37:13 -0700 (MST)
From: Fatima Sajjad <fatimasajjad514@gmail.com>
To: users@camel.apache.org
Message-ID: <1491543433387-5797121.post@n5.nabble.com>
Subject: how to enable Scala/Groovy route definition in camel web console
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

i am using came-web-standalone jars (2.15.4 and 2.15.6) as mentioned here
http://camel.apache.org/web-console.html
when i try to create routes on web console there is only option to create
route in XML. I can't find options for other languages like Groovy and Scala
in the following pages: 
http://localhost:8080/routes/route2
http://localhost:8080/routes/create

How can i enable/edit the route definition in Groovy and Scala ?

Please reply soon



--
View this message in context: http://camel.465427.n5.nabble.com/how-to-enable-Scala-Groovy-route-definition-in-camel-web-console-tp5797121.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65274-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr  7 07:05:23 2017
Return-Path: <users-return-65274-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B55518FCF
	for <apmail-camel-users-archive@www.apache.org>; Fri,  7 Apr 2017 07:05:23 +0000 (UTC)
Received: (qmail 63789 invoked by uid 500); 7 Apr 2017 07:05:23 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 63741 invoked by uid 500); 7 Apr 2017 07:05:22 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 63729 invoked by uid 99); 7 Apr 2017 07:05:22 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Apr 2017 07:05:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0F9D0182390
	for <users@camel.apache.org>; Fri,  7 Apr 2017 07:05:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.083
X-Spam-Level:
X-Spam-Status: No, score=-1.083 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id IwA2HwtnnQ_a for <users@camel.apache.org>;
	Fri,  7 Apr 2017 07:05:20 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 582745F1B3
	for <users@camel.apache.org>; Fri,  7 Apr 2017 07:05:19 +0000 (UTC)
Received: by mail-qk0-f175.google.com with SMTP id f133so38747982qke.2
        for <users@camel.apache.org>; Fri, 07 Apr 2017 00:05:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=Oh+8mJ5nQkcKs7cOwoLG40Anx+Wcqart2LA+oLlvgas=;
        b=eYFceFUefG4ju36QEE0kncb/x3Ef1P5fj2qtNmzZHsphxqUKO+N5HpQ8imy2Im+499
         YwRSI5tT9SuOB3tkHmLXOhsgbCS+8Fq8kYepBlJL01u1lumzW+VFD0b8uXEfojGFlyWn
         kiJzcLmNa51Xzu9jo5FxvGhWAVHvO54oal395Vu11tSW6R4tmfxb0yVCGQsTV1iGe/hO
         szJRKUx52Uxx0xLSIeoE6npbDnDotClCaQBZwECxUiwsstnqsT+253w1doNcNfC72l0Q
         2ODtvfyeHeoprUXf+bLemyn6uh3Esqz114SMjZQZHMj3PhMraVn5VB4N4moGfSSIqGD+
         eRuw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=Oh+8mJ5nQkcKs7cOwoLG40Anx+Wcqart2LA+oLlvgas=;
        b=Sqz+ByDehrNf4kJN7+iNsKfy7ROViSfshMAFTNgJLtOk3zB00O7sPw5e8PWvCzFNQT
         i/MNo+6SmRWaxa3c+sOEdV6vUN79TnNRIs3i/sKLcxUzDO/jerInYsIyfg5Y2wIUIjmr
         4cY2qzNuweGKebmIS7Y9H/6VYmGKrK0mgem87sBOpLLW1798A6bby564zKi8zWOmbkKB
         jTZxWV8VRA/8RyilVzGW2wxNt0ijBRYRIUKzgm0oiVGiueZDSg1d7Yvq7FdYJ4eDANQW
         xL9EPzCGsO61kTLmCfjGXthiKabZkbDUVuzhsy2NknTx2pg9eiz3KS27xQyvfxJeZG00
         Q+IA==
X-Gm-Message-State: AN3rC/6x96ATzK5iyIdAw1L3Tw26fIKtx+rUPmcdensEwOJOpNL4cuivm4LHVy/hqXLugizDl7SECRkmW9S/8A==
X-Received: by 10.55.48.68 with SMTP id w65mr21761440qkw.160.1491548718344;
 Fri, 07 Apr 2017 00:05:18 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Fri, 7 Apr 2017 00:04:58 -0700 (PDT)
In-Reply-To: <1491543433387-5797121.post@n5.nabble.com>
References: <1491543433387-5797121.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Fri, 7 Apr 2017 09:04:58 +0200
Message-ID: <CAGB5yNkLiKC9N+kQDXuZ2kHQ2z-ENX8DdY8u++xBigimUjdYig@mail.gmail.com>
Subject: Re: how to enable Scala/Groovy route definition in camel web console
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

This web console is deprecated and removed in newer releases - do not use it.
And it can only edit routes in XML.

For groovy/scala use your IDE editor such as IDEA or Eclipse.

On Fri, Apr 7, 2017 at 7:37 AM, Fatima Sajjad <fatimasajjad514@gmail.com> wrote:
> i am using came-web-standalone jars (2.15.4 and 2.15.6) as mentioned here
> http://camel.apache.org/web-console.html
> when i try to create routes on web console there is only option to create
> route in XML. I can't find options for other languages like Groovy and Scala
> in the following pages:
> http://localhost:8080/routes/route2
> http://localhost:8080/routes/create
>
> How can i enable/edit the route definition in Groovy and Scala ?
>
> Please reply soon
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/how-to-enable-Scala-Groovy-route-definition-in-camel-web-console-tp5797121.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65275-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr  7 07:32:55 2017
Return-Path: <users-return-65275-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0DE4918191
	for <apmail-camel-users-archive@www.apache.org>; Fri,  7 Apr 2017 07:32:55 +0000 (UTC)
Received: (qmail 15178 invoked by uid 500); 7 Apr 2017 07:32:49 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 15134 invoked by uid 500); 7 Apr 2017 07:32:49 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 98293 invoked by uid 99); 7 Apr 2017 07:27:46 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.737
X-Spam-Level: ***
X-Spam-Status: No, score=3.737 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Date: Fri, 7 Apr 2017 00:27:44 -0700 (MST)
From: Fatima Sajjad <fatimasajjad514@gmail.com>
To: users@camel.apache.org
Message-ID: <1491550064337-5797125.post@n5.nabble.com>
In-Reply-To: <CAGB5yNkLiKC9N+kQDXuZ2kHQ2z-ENX8DdY8u++xBigimUjdYig@mail.gmail.com>
References: <1491543433387-5797121.post@n5.nabble.com> <CAGB5yNkLiKC9N+kQDXuZ2kHQ2z-ENX8DdY8u++xBigimUjdYig@mail.gmail.com>
Subject: Re: how to enable Scala/Groovy route definition in camel web
 console
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thank you for your reply. 
Can you please answer one more question? Is there any way to define or add
new routes in camel context without recompiling the project, Like run time
route addition? Does any of the DSLs (Spring, Scala , Groovy or Java)
provide that ? 



--
View this message in context: http://camel.465427.n5.nabble.com/how-to-enable-Scala-Groovy-route-definition-in-camel-web-console-tp5797121p5797125.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65276-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr  7 07:45:13 2017
Return-Path: <users-return-65276-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 58933181CA
	for <apmail-camel-users-archive@www.apache.org>; Fri,  7 Apr 2017 07:45:13 +0000 (UTC)
Received: (qmail 33694 invoked by uid 500); 7 Apr 2017 07:45:12 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 33641 invoked by uid 500); 7 Apr 2017 07:45:12 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 33629 invoked by uid 99); 7 Apr 2017 07:45:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Apr 2017 07:45:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 15E7FC24C8
	for <users@camel.apache.org>; Fri,  7 Apr 2017 07:45:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.693
X-Spam-Level: *
X-Spam-Status: No, score=1.693 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 5Jh8-o3OHRxF for <users@camel.apache.org>;
	Fri,  7 Apr 2017 07:45:11 +0000 (UTC)
Received: from mail-qk0-f170.google.com (mail-qk0-f170.google.com [209.85.220.170])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 22F0B5F3BF
	for <users@camel.apache.org>; Fri,  7 Apr 2017 07:45:11 +0000 (UTC)
Received: by mail-qk0-f170.google.com with SMTP id f133so39317664qke.2
        for <users@camel.apache.org>; Fri, 07 Apr 2017 00:45:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=Qqoh4pDckcdPHCq9uAbqUMh/Q0r4PoRt9EKA90pCn/w=;
        b=OqWoJsW8dzjnES7bx8iuoqWCKL/Te0DUhPc7LAQd721cLcukNWcrRFcDMdSIOoFuAN
         4n7cZgMQJdnu1tBPC7naNVDtjI1/FaNsfQ5Q+3hwdwrgZZjkqcfRVZTjSEQmq22BI/RQ
         lGeqS+BnKWiz1jYDr+mI5vjbDDOCFy2H1GjBmEpTKkBe49sq+unH5Gtj/pOy78okYMUZ
         WC1GEyoznaBJNPH91ZAfKFMu80Jifm18U1C43Q3NNjcDht8jS7a4hlGQHOvozum6+roM
         TfxPSOKrxAk6V64MLHRyugbC0flpwTtqHs5Ucjpy7cBn+OVe2oQ5CRycYw5ltm4dzqgS
         jeCQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=Qqoh4pDckcdPHCq9uAbqUMh/Q0r4PoRt9EKA90pCn/w=;
        b=sZjyJfBbth4+OCsQ0JqEFnKOCnfIXn0xFOlS77izwe1rvTXtK1z0lav1yt4NGDlvUo
         YgpRnyowEphtcL/iYAj74OC1YxrFJnBW9xQlSk0jBIu3gKSUsaFrcG7lWqyi7nJSWF7F
         Ol7GjLMGzamaguQ8DArDmHf7GNifVHoPcMc7gbsX02z/YvI4hNyzKYFzkQTToUAH2dRR
         S89C2TTkQVb+TDCofkeXlNW5XLxvdHpdachjO7IC98hzMyrbYMSoDKsSWtfHK+ZldAjR
         myDo7r5NUSe+mL0VsfqilfbrZYeJ+0zx23DDqZbWoRVFVopPp3XYh+kAvklyFvKtNOcO
         oq/w==
X-Gm-Message-State: AN3rC/5Hj5CXbVV4aqKmcai/3Ovc8zX5Il70+diWTFi8o1AqMXD9HRfAwmr+OyXxKLga51Gxt2nidsaRkt1nDA==
X-Received: by 10.55.51.1 with SMTP id z1mr80096qkz.66.1491551110727; Fri, 07
 Apr 2017 00:45:10 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.237.41.33 with HTTP; Fri, 7 Apr 2017 00:44:50 -0700 (PDT)
In-Reply-To: <1491550064337-5797125.post@n5.nabble.com>
References: <1491543433387-5797121.post@n5.nabble.com> <CAGB5yNkLiKC9N+kQDXuZ2kHQ2z-ENX8DdY8u++xBigimUjdYig@mail.gmail.com>
 <1491550064337-5797125.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Fri, 7 Apr 2017 09:44:50 +0200
Message-ID: <CAGB5yNnVtafumob_+-Gyae8N4jdT9obfxHD_CNpt+uv1HQ7KOQ@mail.gmail.com>
Subject: Re: how to enable Scala/Groovy route definition in camel web console
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

You can use the apis on CamelContext to add new routes / remove routes etc.

However its all standard Java and how you can add dynamic new code to
a running JVM is outside the scope of Apache Camel and you need to
look elsewhere how to do that.

Groovy allows scripting so you can have it load some .groovy source
code and compile and run that in an existing JVM. Plain Java code is
harder and you likely need some external tooling such as jrebel or
what else is out there. But I dont recommend doing so.

Try to look at the idea of immutable containers with rolling
upgrades/downgrades to change your running applications.



On Fri, Apr 7, 2017 at 9:27 AM, Fatima Sajjad <fatimasajjad514@gmail.com> wrote:
> Thank you for your reply.
> Can you please answer one more question? Is there any way to define or add
> new routes in camel context without recompiling the project, Like run time
> route addition? Does any of the DSLs (Spring, Scala , Groovy or Java)
> provide that ?
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/how-to-enable-Scala-Groovy-route-definition-in-camel-web-console-tp5797121p5797125.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65277-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr  7 09:39:58 2017
Return-Path: <users-return-65277-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A2B38187E2
	for <apmail-camel-users-archive@www.apache.org>; Fri,  7 Apr 2017 09:39:58 +0000 (UTC)
Received: (qmail 6894 invoked by uid 500); 7 Apr 2017 09:39:53 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 6847 invoked by uid 500); 7 Apr 2017 09:39:53 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 76786 invoked by uid 99); 7 Apr 2017 09:28:56 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.737
X-Spam-Level: ***
X-Spam-Status: No, score=3.737 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Date: Fri, 7 Apr 2017 02:28:53 -0700 (MST)
From: Fatima Sajjad <fatimasajjad514@gmail.com>
To: users@camel.apache.org
Message-ID: <1491557333330-5797135.post@n5.nabble.com>
In-Reply-To: <CAGB5yNnVtafumob_+-Gyae8N4jdT9obfxHD_CNpt+uv1HQ7KOQ@mail.gmail.com>
References: <1491543433387-5797121.post@n5.nabble.com> <CAGB5yNkLiKC9N+kQDXuZ2kHQ2z-ENX8DdY8u++xBigimUjdYig@mail.gmail.com> <1491550064337-5797125.post@n5.nabble.com> <CAGB5yNnVtafumob_+-Gyae8N4jdT9obfxHD_CNpt+uv1HQ7KOQ@mail.gmail.com>
Subject: Re: how to enable Scala/Groovy route definition in camel web
 console
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

yeah i understand this its harder to do this is java.

with reference to your following statement which is infact true .is there
any standard camel project /sample having done this thing already ?
"Groovy allows scripting so you can have it load some .groovy source 
code and compile and run that in an existing JVM."



--
View this message in context: http://camel.465427.n5.nabble.com/how-to-enable-Scala-Groovy-route-definition-in-camel-web-console-tp5797121p5797135.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65278-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr  7 12:58:09 2017
Return-Path: <users-return-65278-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 08B2118F8F
	for <apmail-camel-users-archive@www.apache.org>; Fri,  7 Apr 2017 12:58:09 +0000 (UTC)
Received: (qmail 72388 invoked by uid 500); 7 Apr 2017 12:58:08 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 72340 invoked by uid 500); 7 Apr 2017 12:58:08 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 36212 invoked by uid 99); 7 Apr 2017 12:47:29 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.737
X-Spam-Level: ***
X-Spam-Status: No, score=3.737 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Date: Fri, 7 Apr 2017 05:47:27 -0700 (MST)
From: partha006 <sarathy006@gmail.com>
To: users@camel.apache.org
Message-ID: <1491569247724-5797149.post@n5.nabble.com>
Subject: Getting BeanIOConfigurationException when calling osgi service
 which has beanio implementation
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am using blueprint DSL and I have osgi service which has beanio
implementation 

In my beanio mapping file , I am referring the class in the different
package or the same package of my interface service class.

Like 
mapping file:

<beanio xmlns="http://www.beanio.org/2012/03">

	<stream name="xxx" format="fixedlength">
		<record name="yyy" class="com.blueprint.map.xxxRecord">
			<field name="Flag" length="1" />
			
		</record>
	</stream>
</beanio>

when I am calling my interface, It is accessing the implementation class
correctly.

In my implementation class ,I am using beanio functionality which referring
above mapping file. 

but while executing I am getting below errors

1.org.beanio.BeanIOConfigurationException: Invalid record 
2.org.beanio.BeanIOConfigurationException: Invalid bean class
3.java.lang.ClassNotFoundException

where it is unable to find the class which I am referring in the mapping
file.





--
View this message in context: http://camel.465427.n5.nabble.com/Getting-BeanIOConfigurationException-when-calling-osgi-service-which-has-beanio-implementation-tp5797149.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65279-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr  7 13:57:49 2017
Return-Path: <users-return-65279-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 06846182DE
	for <apmail-camel-users-archive@www.apache.org>; Fri,  7 Apr 2017 13:57:49 +0000 (UTC)
Received: (qmail 9607 invoked by uid 500); 7 Apr 2017 13:57:48 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 9549 invoked by uid 500); 7 Apr 2017 13:57:48 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 9537 invoked by uid 99); 7 Apr 2017 13:57:48 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Apr 2017 13:57:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 62F91C047D
	for <users@camel.apache.org>; Fri,  7 Apr 2017 13:57:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.794
X-Spam-Level: ***
X-Spam-Status: No, score=3.794 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key)
	header.d=pronoia-solutions-com.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 8ik7Vq8ZFV2v for <users@camel.apache.org>;
	Fri,  7 Apr 2017 13:57:45 +0000 (UTC)
Received: from mail-pg0-f45.google.com (mail-pg0-f45.google.com [74.125.83.45])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 139C55FCBA
	for <users@camel.apache.org>; Fri,  7 Apr 2017 13:57:45 +0000 (UTC)
Received: by mail-pg0-f45.google.com with SMTP id g2so66590549pge.3
        for <users@camel.apache.org>; Fri, 07 Apr 2017 06:57:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pronoia-solutions-com.20150623.gappssmtp.com; s=20150623;
        h=from:mime-version:subject:date:references:to:in-reply-to:message-id;
        bh=0KvJk1Fx1sLrmgU3e5MAnfQwHiu5mGGlb4fvjh67EcA=;
        b=nIAlJLB60nUx04fMyujerfdXrRCGo6nVwEF9K2DTt3pkWG7e+2iPSOAnr6K9Oo8/7Y
         UNYNx2I+aJKyo9jq3WnFIwFFGmA7pHZsLjsVhy9EtBSNWv9fFyKh1qs/jlLXHn8CXWLh
         iDJt7b2R4/iywlf5Mj2CC8iaunUtlKHJ2J+HkGFi2pg/4GzxmGOFsG4/lcEEInZ4Jbis
         JBhO1wKCbgvGL/Lp6Qk9xt9dOynH15KhRxoZpzS5wgUr4yTUgcVmCeib9HrscrNm5mMu
         rkhm+8diLgrpZ8Fm8KldIqt8E2w0vaxO3KKzc1GBDxdLWXMMpFhDzOVAJyxqr0HEvupJ
         WIWw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:from:mime-version:subject:date:references:to
         :in-reply-to:message-id;
        bh=0KvJk1Fx1sLrmgU3e5MAnfQwHiu5mGGlb4fvjh67EcA=;
        b=Bft5quloyX4QY2hRLBH+0Q0qH5NyMw/aSzVQBcelp4cNGFzVSPgQU7USm/08v55Pa5
         aP6TI9mm7PU39HJlRswF2kOgIs2wMrmSbu+DfkyaTVAm3RewmA57Mvb+4vBjJzGFWpq/
         v5YS+3rnL2yy/AA7kNcysiiWVPPhrp0gBjiGDTRoX+yYsSbjRdfDmdbL57OgKbAqMmNn
         5ORz+b6rExqgJrpgWdiAMqV/GsNRyJkCRK2x9SixrASlz1lwDgmMetATFcVFbWBsDSUX
         XZWyCa1JrqUhVZCNgLESubBGv5YOZ+hKNmCmkuGZ5RzsnjO1xVfQqVeWh0hZGB0vBoaY
         qkMg==
X-Gm-Message-State: AN3rC/7UfCsE2U+C/J4VzNu5GVj3HO4nZ17k3AeA9eebSH6ttZ3Q6JvJdoUfhQ5do4YZPQ==
X-Received: by 10.99.0.209 with SMTP id 200mr2212489pga.210.1491573463526;
        Fri, 07 Apr 2017 06:57:43 -0700 (PDT)
Received: from macpro.pronoia.local (c-73-20-8-23.hsd1.ut.comcast.net. [73.20.8.23])
        by smtp.gmail.com with ESMTPSA id n24sm10019406pgc.43.2017.04.07.06.57.42
        for <users@camel.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Fri, 07 Apr 2017 06:57:42 -0700 (PDT)
From: Quinn Stevenson <quinn@pronoia-solutions.com>
Content-Type: multipart/alternative;
 boundary="Apple-Mail=_FF1DE8A1-F368-40C4-B217-8E229ABC321E"
Mime-Version: 1.0 (Mac OS X Mail 10.2 \(3259\))
Subject: Re: how to enable Scala/Groovy route definition in camel web console
Date: Fri, 7 Apr 2017 07:57:41 -0600
References: <1491543433387-5797121.post@n5.nabble.com>
 <CAGB5yNkLiKC9N+kQDXuZ2kHQ2z-ENX8DdY8u++xBigimUjdYig@mail.gmail.com>
 <1491550064337-5797125.post@n5.nabble.com>
 <CAGB5yNnVtafumob_+-Gyae8N4jdT9obfxHD_CNpt+uv1HQ7KOQ@mail.gmail.com>
 <1491557333330-5797135.post@n5.nabble.com>
To: users@camel.apache.org
In-Reply-To: <1491557333330-5797135.post@n5.nabble.com>
Message-Id: <A9D3FD2E-B910-47D3-8339-94FD1AFD7579@pronoia-solutions.com>
X-Mailer: Apple Mail (2.3259)

--Apple-Mail=_FF1DE8A1-F368-40C4-B217-8E229ABC321E
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

The only was I=E2=80=99ve seen routes added and removed from a Camel =
context dynamically is using OGSi and some sort of a service factory - =
here=E2=80=99s one example ( =
https://blog.avisi.nl/2014/06/05/creating-camel-routes-on-the-fly-using-os=
gi/ =
<https://blog.avisi.nl/2014/06/05/creating-camel-routes-on-the-fly-using-o=
sgi/> )


> On Apr 7, 2017, at 3:28 AM, Fatima Sajjad <fatimasajjad514@gmail.com> =
wrote:
>=20
> yeah i understand this its harder to do this is java.
>=20
> with reference to your following statement which is infact true .is =
there
> any standard camel project /sample having done this thing already ?
> "Groovy allows scripting so you can have it load some .groovy source=20=

> code and compile and run that in an existing JVM."
>=20
>=20
>=20
> --
> View this message in context: =
http://camel.465427.n5.nabble.com/how-to-enable-Scala-Groovy-route-definit=
ion-in-camel-web-console-tp5797121p5797135.html
> Sent from the Camel - Users mailing list archive at Nabble.com.


--Apple-Mail=_FF1DE8A1-F368-40C4-B217-8E229ABC321E--

From users-return-65280-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr  7 16:21:38 2017
Return-Path: <users-return-65280-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 41B2B18ABC
	for <apmail-camel-users-archive@www.apache.org>; Fri,  7 Apr 2017 16:21:38 +0000 (UTC)
Received: (qmail 23399 invoked by uid 500); 7 Apr 2017 16:21:36 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 23359 invoked by uid 500); 7 Apr 2017 16:21:36 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 23348 invoked by uid 99); 7 Apr 2017 16:21:36 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Apr 2017 16:21:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id BC473C0E5A
	for <users@camel.apache.org>; Fri,  7 Apr 2017 16:21:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.786
X-Spam-Level: **
X-Spam-Status: No, score=2.786 tagged_above=-999 required=6.31
	tests=[KAM_NUMSUBJECT=0.5, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Mo5EFJIrSr8M for <users@camel.apache.org>;
	Fri,  7 Apr 2017 16:21:32 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 136FE5F4AC
	for <users@camel.apache.org>; Fri,  7 Apr 2017 16:21:32 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id AF32040B4BED
	for <users@camel.apache.org>; Fri,  7 Apr 2017 09:21:20 -0700 (PDT)
Date: Fri, 7 Apr 2017 09:21:31 -0700 (MST)
From: njssferreira <nuno.ferreira@stef.com>
To: users@camel.apache.org
Message-ID: <1491582091309-5797156.post@n5.nabble.com>
Subject: Camel route not working after update from Camel 2.13.0 to 2.17.2
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi everyone,

after upgrading the Java implementation of Camel from 2.13.0 to 2.17.2 (and
cxf-rt-frontend-jaxrs from 2.7.10 to 3.1.5, and spring framework from 3.2.8
to 4.3.2), the webapp that is serving as a proxy stopped working correctly.=
=20

The app is supposed to intercept a webservice request, modify fields that
are defined in a properties file throught the ContextManager class, and
forward the request to the correct endpoint.

After the upgrade, the app is unable to set the missing fields in the
original request, thus returning the following message:
"REQUEST_MESSAGE_NOT_COMPLIANT_WITH_SCHEMA - Your request message does not
comply to the web service schema".

This is of course expected since the missing fields are not being set.=20

Any help would be greatly appreciated.

My Camel route definition is as follows:

*CreditLimitRequestServiceRoute.class*

public class CreditLimitRequestServiceRoute extends AbstractEHRoute {

=09@Autowired
=09private ContextManager contextManager;
=09
=09@Override
=09public void configure() throws Exception {

=09=09Namespaces ns =3D new Namespaces("ns1", "http://ehsmartlink/commonErr=
or");
=09=09
=09=09onException(SoapFault.class)
=09=09
.to("consoleflux:message?level=3DERROR&text=3D${exception.message}&content=
=3D${exception.detail}")
=09=09=09.setHeader("soapFaultDetail", simple("${exception.detail}"))
=09=09=09.choice()
=09=09=09=09.when(and(header("soapFaultDetail").isNotNull(),
xpath("//ns1:commonError/errorType/text() =3D 'BusinessError'", ns,
"soapFaultDetail")))
=09=09=09=09=09.to("consoleflux:finish?ignoreContent=3Dtrue")
=09=09=09=09.otherwise()
=09=09=09=09=09.to("consoleflux:error?ignoreContent=3Dtrue");

=09=09onException(Exception.class)
=09=09=09.to("consoleflux:error");

=09
from("cxf:bean:creditLimitRequestServiceProxy?dataFormat=3DPAYLOAD").routeI=
d("creditLimitRequestServiceRoute")
=09=09=09.log(LoggingLevel.INFO, "Invocation du WS").streamCaching()
=09=09=09.to("consoleflux:start?source=3DSOA&dest=3DEH&type=3DCREDIT_LIMIT"=
)
=09=09=09.to("consoleflux:message?ignoreContent=3Dtrue&text=3DAffectation d=
u Contexte
EH")
=09=09=09.setHeader("context").xpath("//context")
=09=09=09.bean(contextManager, "setContext")
=09=09=09.to("consoleflux:message?ignoreContent=3Dtrue&text=3DInvocation du=
 WS EH
${headers.operationName}")
=09=09=09.to("cxf:bean:creditLimitRequestService?dataFormat=3DPAYLOAD")
=09=09=09.to("consoleflux:finish");

=09}

}
*AbstractEHRoute.class*

public abstract class AbstractEHRoute extends RouteBuilder {
=09
=09protected XPathBuilder xpath(String text, Namespaces namespaces, String
headerName) {
=09=09XPathBuilder xpath =3D XPathBuilder.xpath(text).namespaces(namespaces=
);
=09=09xpath.setHeaderName(headerName);
=09=09return xpath;
=09}
=09
}

*ContextManager*

package com.stef.soa.eh.integration.beans;

import static com.google.common.base.Objects.firstNonNull;
import static com.google.common.base.Strings.isNullOrEmpty;

import java.util.Map;
import java.util.UUID;

import org.apache.camel.Header;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;

import com.google.common.base.Preconditions;
import com.google.common.collect.Maps;

@Component
public class ContextManager {

=09private static final String USER_NAME =3D "userName"; =20
=09private static final String USER_PASSWORD =3D "userPassword";
=09private static final String LANGUAGE_TEXT_IDENTIFIER =3D
"languageTextIdentifier";
=09private static final String TRANSACTION_IDENTIFIER =3D
"transactionIdentifier";
=09private static final String POLICIY_IDENTIFIER =3D "policyIdentifier";
=09private static final String POLICY_EXTENSION_IDENTIFIER =3D
"policyExtensionIdentifier";
=09private static final String POLICY_EHBU_IDENTIFIER =3D
"policyEHBUIdentifier";
=09private static final String IP_ADRESS =3D "ipAdress";
=09
=09@Value("${eh.context.userName}")
=09private String userName;

=09@Value("${eh.context.userPassword}")
=09private String userPassword;

=09@Value("${eh.context.languageTextIdentifier}")
=09private String languageTextIdentifier;

=09@Value("${eh.context.policyIdentifier}")
=09private String policyIdentifier;

=09@Value("${eh.context.policyExtensionIdentifier}")
=09private String policyExtensionIdentifier;

=09@Value("${eh.context.policyEHBUIdentifier}")
=09private String policyEHBUIdentifier;

=09@Value("${eh.context.ipAdress}")
=09private String ipAdress;

=09public void setContext(@Header("context") Node context) {
=09=09
=09=09Preconditions.checkNotNull(context, "Le contexte doit =C3=AAtre rense=
ign=C3=A9");
=09=09
=09=09// Suppression des noeuds enfants avec sauvegarde les valeurs courant=
es
dans une map
=09=09Map<String, String> currentValues =3D Maps.newHashMap();
=09=09NodeList list =3D context.getChildNodes();
=09=09for (int i =3D list.getLength() - 1; i >=3D 0; i--) {
=09=09=09Node child =3D list.item(i);
=09=09=09if (child.getNodeType() =3D=3D Node.ELEMENT_NODE &&
!isNullOrEmpty(child.getTextContent())) {
=09=09=09=09currentValues.put(child.getNodeName(), child.getTextContent());
=09=09=09}
=09=09=09context.removeChild(child);
=09=09}
=09=09
=09=09// Ajout des noeuds enfants
=09=09appendChild(context, USER_NAME, userName, currentValues);
=09=09appendChild(context, USER_PASSWORD, userPassword, currentValues);
=09=09appendChild(context, LANGUAGE_TEXT_IDENTIFIER, languageTextIdentifier=
,
currentValues);
=09=09appendChild(context, TRANSACTION_IDENTIFIER, UUID.randomUUID().toStri=
ng(),
currentValues);
=09=09appendChild(context, POLICIY_IDENTIFIER, policyIdentifier, currentVal=
ues);
=09=09appendChild(context, POLICY_EXTENSION_IDENTIFIER,
policyExtensionIdentifier, currentValues);
=09=09appendChild(context, POLICY_EHBU_IDENTIFIER, policyEHBUIdentifier,
currentValues);
=09=09appendChild(context, IP_ADRESS, ipAdress, currentValues);
=09}
=09
=09private void appendChild(Node node, String name, String value, Map<Strin=
g,
String> currentValues) {
=09=09Document document =3D node.getOwnerDocument();
=09=09Element child =3D document.createElement(name);
=09=09child.setTextContent(firstNonNull(currentValues.get(name), value));
=09=09node.appendChild(child);
=09}

}

*context.xml*

<?xml version=3D"1.0" encoding=3D"UTF-8"?>
<beans xmlns=3D"http://www.springframework.org/schema/beans"=20
=09xmlns:xsi=3D"http://www.w3.org/2001/XMLSchema-instance"=20
=09xmlns:context=3D"http://www.springframework.org/schema/context"
=09xsi:schemaLocation=3D"http://www.springframework.org/schema/beans
             =09=09http://www.springframework.org/schema/beans/spring-beans=
.xsd
             =09=09http://www.springframework.org/schema/context
             =09
http://www.springframework.org/schema/context/spring-context.xsd">

=09<context:property-placeholder location=3D"classpath:eh.properties,
file:///${eh.home}/conf/eh.properties"
=09=09ignore-resource-not-found=3D"true" system-properties-mode=3D"OVERRIDE=
" />

=09<context:component-scan base-package=3D"com.stef.soa.eh" />

=09<context:annotation-config />

=09<import resource=3D"classpath:META-INF/eh/spring/broker.xml" />
=09<import resource=3D"classpath:META-INF/eh/spring/camel.xml" />
=09<import resource=3D"classpath:META-INF/eh/spring/cxf.xml" />
=09<import
resource=3D"classpath:META-INF/soa-console-flux-client/spring/context.xml"/=
>

</beans>

*camel.xml*

<?xml version=3D"1.0" encoding=3D"UTF-8"?>
<beans=20
=09xmlns=3D"http://www.springframework.org/schema/beans"=20
=09xmlns:xsi=3D"http://www.w3.org/2001/XMLSchema-instance"=20
=09xmlns:http=3D"http://cxf.apache.org/transports/http/configuration"
=09xsi:schemaLocation=3D"
=09=09http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://camel.apache.org/schema/spring=20
   =09=09http://camel.apache.org/schema/spring/camel-spring.xsd
  =09=09http://cxf.apache.org/transports/http/configuration
=09=09http://cxf.apache.org/schemas/configuration/http-conf.xsd" >
   =20
=09
=09<camelContext xmlns=3D"http://camel.apache.org/schema/spring" id=3D"ehCo=
ntext">
=09=09<properties>
=09=09=09<property key=3D"org.apache.camel.xmlconverter.output.indent" valu=
e=3D"yes"/>
=09=09=09<property
key=3D"org.apache.camel.xmlconverter.output.{http://xml.apache.org/xslt}ind=
ent-amount"
value=3D"4"/>
=09=09</properties>
=09=09<package>com.stef.soa.eh.integration</package>
=09</camelContext>

</beans>

*cxf.xml*

<?xml version=3D"1.0" encoding=3D"UTF-8"?>
<beans=20
=09xmlns=3D"http://www.springframework.org/schema/beans"=20
=09xmlns:xsi=3D"http://www.w3.org/2001/XMLSchema-instance"=20
=09xmlns:cxf=3D"http://camel.apache.org/schema/cxf"
=09xmlns:http=3D"http://cxf.apache.org/transports/http/configuration"
=09xmlns:sec=3D"http://cxf.apache.org/configuration/security"
=09xsi:schemaLocation=3D"
=09=09http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
  =09=09http://camel.apache.org/schema/cxf
  =09=09http://camel.apache.org/schema/cxf/camel-cxf.xsd
  =09=09http://cxf.apache.org/transports/http/configuration
=09=09http://cxf.apache.org/schemas/configuration/http-conf.xsd" >
   =20
=09
=09<http:conduit name=3D"*.http-conduit">
=09=09<http:client ProxyServer=3D"${proxy.host}" ProxyServerPort=3D"${proxy=
.port}"=20
=09=09=09ConnectionTimeout=3D"${http.client.connectionTimeout}"
ReceiveTimeout=3D"${http.client.receiveTimeout}" />
=09=09<http:proxyAuthorization>
=09=09=09<sec:UserName>${proxy.username}</sec:UserName>
=09=09=09<sec:Password>${proxy.password}</sec:Password>
=09=09</http:proxyAuthorization>
=09=09<http:tlsClientParameters>
=09=09=09<sec:keyManagers keyPassword=3D"${eh.keyStore.password}">
=09=09=09=09<sec:keyStore type=3D"pkcs12" password=3D"${eh.keyStore.passwor=
d}"
file=3D"${eh.home}/${eh.keyStore.file}" />
=09=09=09</sec:keyManagers>
=09=09</http:tlsClientParameters>
=09</http:conduit>

=09
=09
=09<cxf:cxfEndpoint=20
=09=09id=3D"creditLimitRequestServiceProxy"=20
=09=09address=3D"/creditLimitRequestService"=20
=09
wsdlURL=3D"META-INF/eh/wsdl/CreditLimitRequestService/EH_SMARTLINK_CreditLi=
mitRequestServiceV4.wsdl"=20
=09=09serviceName=3D"ns:CreditLimitRequestServiceV4"
=09=09endpointName=3D"ns:CreditLimitRequestServiceV4"
=09=09xmlns:ns=3D"http://ehsmartlink/CreditLimitRequestService/v4"
=09/>

=09<cxf:cxfEndpoint=20
=09=09id=3D"creditLimitRequestService"=20
=09=09address=3D"${eh.creditLimitRequestService.url}"
=09
wsdlURL=3D"META-INF/eh/wsdl/CreditLimitRequestService/EH_SMARTLINK_CreditLi=
mitRequestServiceV4.wsdl"
=09=09serviceName=3D"ns:CreditLimitRequestServiceV4"
=09=09endpointName=3D"ns:CreditLimitRequestServiceV4"
=09=09xmlns:ns=3D"http://ehsmartlink/CreditLimitRequestService/v4"
=09=09loggingFeatureEnabled=3D"true"
=09/>

=09<cxf:cxfEndpoint=20
=09=09id=3D"customerListRetrieveServiceProxy"=20
=09=09address=3D"/customerListRetrieveService"=20
=09
wsdlURL=3D"META-INF/eh/wsdl/CustomerListRetrieveService/CustomerListRetriev=
eV2.wsdl"=20
=09=09serviceName=3D"ns:CustomerListRetrieveServiceV2"
=09=09endpointName=3D"ns:CustomerListRetrieveServiceV2"
=09=09xmlns:ns=3D"http://ehsmartlink/CustomerListRetrieve/v2"
=09/>

=09<cxf:cxfEndpoint=20
=09=09id=3D"customerListRetrieveService"=20
=09=09address=3D"${eh.customerListRetrieveService.url}"
=09
wsdlURL=3D"META-INF/eh/wsdl/CustomerListRetrieveService/CustomerListRetriev=
eV2.wsdl"
=09=09serviceName=3D"ns:CustomerListRetrieveServiceV2"
=09=09endpointName=3D"ns:CustomerListRetrieveServiceV2"
=09=09xmlns:ns=3D"http://ehsmartlink/CustomerListRetrieve/v2"
=09=09loggingFeatureEnabled=3D"true"
=09/>

=09<cxf:cxfEndpoint=20
=09=09id=3D"firstEuroListRepertoireReadServiceProxy"=20
=09=09address=3D"/firstEuroListRepertoireReadService"=20
=09
wsdlURL=3D"META-INF/eh/wsdl/FirstEuroListRepertoireReadService/EH_SMARTLINK=
_FirstEuroListRepertoireReadService-v1.wsdl"=20
=09=09serviceName=3D"ns:FirstEuroListRepertoireReadService-v1"
=09=09endpointName=3D"ns:FirstEuroListRepertoireReadServicePort-v1_soap11"
=09
xmlns:ns=3D"http://eulerhermes.com/SMARTLINK/services/FirstEuroListRepertoi=
reReadService/v1"
=09/>

=09<cxf:cxfEndpoint=20
=09=09id=3D"firstEuroListRepertoireReadService"=20
=09=09address=3D"${eh.firstEuroListRepertoireReadService.url}"
=09
wsdlURL=3D"META-INF/eh/wsdl/FirstEuroListRepertoireReadService/EH_SMARTLINK=
_FirstEuroListRepertoireReadService-v1.wsdl"=20
=09=09serviceName=3D"ns:FirstEuroListRepertoireReadService-v1"
=09=09endpointName=3D"ns:FirstEuroListRepertoireReadServicePort-v1_soap11"
=09
xmlns:ns=3D"http://eulerhermes.com/SMARTLINK/services/FirstEuroListRepertoi=
reReadService/v1"
=09=09loggingFeatureEnabled=3D"true"
=09/>

=09<cxf:cxfEndpoint=20
=09=09id=3D"firstEuroListRepertoireUpdateServiceProxy"=20
=09=09address=3D"/firstEuroListRepertoireUpdateService"=20
=09
wsdlURL=3D"META-INF/eh/wsdl/FirstEuroListRepertoireUpdateService/EH_SMARTLI=
NK_FirstEuroListRepertoireUpdateService-v1.wsdl"=20
=09=09serviceName=3D"ns:FirstEuroListRepertoireUpdateService-v1"
=09=09endpointName=3D"ns:FirstEuroListRepertoireUpdateServicePort-v1"
=09
xmlns:ns=3D"http://eulerhermes.com/SMARTLINK/services/FirstEuroListRepertoi=
reUpdateService/v1"
=09/>

=09<cxf:cxfEndpoint=20
=09=09id=3D"firstEuroListRepertoireUpdateService"=20
=09=09address=3D"${eh.firstEuroListRepertoireUpdateService.url}"
=09
wsdlURL=3D"META-INF/eh/wsdl/FirstEuroListRepertoireUpdateService/EH_SMARTLI=
NK_FirstEuroListRepertoireUpdateService-v1.wsdl"
=09=09serviceName=3D"ns:FirstEuroListRepertoireUpdateService-v1"
=09=09endpointName=3D"ns:FirstEuroListRepertoireUpdateServicePort-v1"
=09
xmlns:ns=3D"http://eulerhermes.com/SMARTLINK/services/FirstEuroListRepertoi=
reUpdateService/v1"
=09=09loggingFeatureEnabled=3D"true"
=09 />=09
=09=09=09=09=09
=09<cxf:cxfEndpoint=20
=09=09id=3D"limitDetailReadServiceProxy"=20
=09=09address=3D"/limitDetailReadService"
=09
wsdlURL=3D"META-INF/eh/wsdl/LimitDetailReadService/EH_SMARTLINK_LimitDetail=
ReadService-v2.wsdl"=20
=09=09serviceName=3D"ns:LimitDetailReadService-v2"
=09=09endpointName=3D"ns:LimitDetailReadServicePort-v2"
=09
xmlns:ns=3D"http://eulerhermes.com/SMARTLINK/services/LimitDetailReadServic=
e/v2"
=09/>

=09<cxf:cxfEndpoint=20
=09=09id=3D"limitDetailReadService"=20
=09=09address=3D"${eh.limitDetailReadService.url}"
=09
wsdlURL=3D"META-INF/eh/wsdl/LimitDetailReadService/EH_SMARTLINK_LimitDetail=
ReadService-v2.wsdl"=20
=09=09serviceName=3D"ns:LimitDetailReadService-v2"
=09=09endpointName=3D"ns:LimitDetailReadServicePort-v2"
=09
xmlns:ns=3D"http://eulerhermes.com/SMARTLINK/services/LimitDetailReadServic=
e/v2"
=09=09loggingFeatureEnabled=3D"true"
=09/>

</beans>



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-route=
-not-working-after-update-from-Camel-2-13-0-to-2-17-2-tp5797156.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65281-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sat Apr  8 06:12:09 2017
Return-Path: <users-return-65281-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 42DB218853
	for <apmail-camel-users-archive@www.apache.org>; Sat,  8 Apr 2017 06:12:09 +0000 (UTC)
Received: (qmail 87777 invoked by uid 500); 8 Apr 2017 06:12:08 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 87724 invoked by uid 500); 8 Apr 2017 06:12:08 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 87713 invoked by uid 99); 8 Apr 2017 06:12:08 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Apr 2017 06:12:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id EE9F51857B6
	for <users@camel.apache.org>; Sat,  8 Apr 2017 06:12:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -3.709
X-Spam-Level:
X-Spam-Status: No, score=-3.709 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_HI=-5, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id bdijjW3QsyNi for <users@camel.apache.org>;
	Sat,  8 Apr 2017 06:12:02 +0000 (UTC)
Received: from smtpgw.sap-ag.de (smtpgw03.sap-ag.de [155.56.66.98])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 394585F4AC
	for <users@camel.apache.org>; Sat,  8 Apr 2017 06:11:57 +0000 (UTC)
From: "Goyal, Arpit" <arpit.goyal@sap.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: RE: Camel Http vs Camel Http4 - Content Type Header
Thread-Topic: Camel Http vs Camel Http4 - Content Type Header
Thread-Index: AdKDBsjC6BuVmCQTR6SzglZ6oAGKegADdsoAAAJ2wrAKaxsaYAA8VyCAAABL4IAANgxNcP//6tMA//y4MKA=
Date: Sat, 8 Apr 2017 06:11:50 +0000
Message-ID: <c067523d6ba6436285655c9036ce1215@sap.com>
References: <82c767ed74fc4a22bde87ae8b643283c@dewdfe13de47.global.corp.sap>
 <CA+wbgs16=e_1VQwR_fB4_oiBm-y4S70QmcWoLYxbONDvkKmWrw@mail.gmail.com>
 <968c6d4d8cfb4132b37f3c603ffd36e7@dewdfe13de47.global.corp.sap>
 <ac960ff362d5444bbff5bcbb22ee04f0@sap.com>
 <63544303-ABF8-4415-86D4-EA0DF4FFEDE5@sap.com>
 <CA+wbgs38uurAfpFy8Uo0=SBhUFDoa+KF4kZcM_kT570o6q5+7w@mail.gmail.com>
 <9a78b6bb614a446787b2881d913b4447@sap.com>
 <CA+wbgs058CrWz6zHLv-dYNT0Dtu_eUOEZx1WrXbSGVhqRYixWw@mail.gmail.com>
In-Reply-To: <CA+wbgs058CrWz6zHLv-dYNT0Dtu_eUOEZx1WrXbSGVhqRYixWw@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.21.23.231]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Hi Souciance,

Any luck in solving the puzzle?

Regards,
Arpit.

-----Original Message-----
From: souciance [mailto:souciance.eqdam.rashti@gmail.com]=20
Sent: Wednesday, April 5, 2017 11:06 PM
To: users@camel.apache.org
Subject: RE: Camel Http vs Camel Http4 - Content Type Header

Hi, I can take a look later during the day and get back to you.

Den 6 apr. 2017 7:44 fm skrev "Goyal, Arpit [via Camel]" <
ml-node+s465427n5797051h44@n5.nabble.com>:

> Hi souciance,
>
> Below is the complete test case I have written to debug this problem. You
> can import and fix the 'package' and 'logger' to remove errors.
> 'createRouteBuilder' method at the end has the two routes using camel-htt=
p
> and camel-http4. The URLs are constants.
>
> I am using the SAP Cloud Identity API [1] which expects Content-Type:
> application/scim+json. But if this is not given then it works fine. In ca=
se
> of camel-http4 we get 'text/plain' by default.
>
> Can't provide credential, you may be able to debug to see the 'Content
> Type' getting set with Camel-Http4 and not getting with Camel-Http
>
> Right now my need is to just make it empty like Camel-http. We HAD to mov=
e
> to camel-http4 because of SSL support. And now this one use-case isn't
> working :(
>
> Regards,
> Arpit.
>
> [1] - https://help.sap.com/viewer/6d6d63354d1242d185ab4830fc04fe
> b1/Cloud/en-US/2f215687fcf34170b0bbc8b36b60f2e9.html
>
>
> Complete test case
>
> import org.apache.camel.CamelContext;
> import org.apache.camel.EndpointInject;
> import org.apache.camel.Exchange;
> import org.apache.camel.Processor;
> import org.apache.camel.Produce;
> import org.apache.camel.ProducerTemplate;
> import org.apache.camel.builder.RouteBuilder;
> import org.apache.camel.component.direct.DirectEndpoint;
> import org.apache.camel.http.common.HttpOperationFailedException;
> import org.apache.camel.impl.DefaultCamelContext;
> import org.apache.camel.impl.DefaultExchange;
> import org.apache.camel.impl.SimpleRegistry;
> import org.apache.camel.testng.CamelTestSupport;
> import org.testng.annotations.Test;
>
> public class TestSCIMScenario extends CamelTestSupport {
>
>   static {
>     System.setProperty("javax.net.debug", "all");
>     System.setProperty("org.apache.commons.logging.Log",
> "org.apache.commons.logging.impl.SimpleLog");
>     System.setProperty("org.apache.commons.logging.simplelog.showdatetime=
",
> "true");
>     System.setProperty("org.apache.commons.logging.
> simplelog.log.org.apache.http", "DEBUG");
>   }
>
>   @EndpointInject(uri =3D "direct:startHttp")
>   protected DirectEndpoint startHttp;
>
>   @EndpointInject(uri =3D "direct:startHttp4")
>   protected DirectEndpoint startHttp4;
>
>   @Produce(uri =3D "direct:start")
>   protected ProducerTemplate producer;
>
>   /* Payload based on SAP Cloud Indentity REST API -
> https://help.sap.com/viewer/6d6d63354d1242d185ab4830fc04feb1/Cloud/en-US/
> 2f215687fcf34170b0bbc8b36b60f2e9.html */
>   private static final String SCIM_PAYLOAD =3D "{\r\n  \"userName\":
> \"alexAderson\",\r\n  \"name\": {\r\n    \"givenName\": \"Alex\",\r\n
>  \"familyName\": \"Anderson\",\r\n    \"honorificPrefix\": \"Mr.\"\r\n
>  },\r\n  \"emails\": [\r\n    {\r\n      \"value\": \"[hidden email]
> <http:///user/SendEmail.jtp?type=3Dnode&node=3D5797051&i=3D0>\"\r\n    }\=
r\n
>  ],\r\n  \"addresses\": [\r\n    {\r\n      \"type\": \"home\",\r\n
>  \"streetAddress\": \"1029 East River Drive\",\r\n      \"locality\":
> \"Street 301\",\r\n      \"region\": \"CA\",\r\n      \"postalCode\":
> \"94401\"\r\n    }\r\n  ],\r\n  \"phoneNumbers\": [],\r\n  \"displayName\=
":
> \"nosample\",\r\n  \"company\": \"YYY_USA\",\r\n  \"active\": true\r\n}";
>
>   /* Camel-Http4 based URL */
>   private static final String http4Endpoint =3D "https4://<tenant ID>.
> ondemand.com/service/scim/Users?proxyAuthHost=3Dppppp&proxyAuthPort=3D888=
8&
> proxyAuthScheme=3Dhttp4&authUsername=3Dxxxxxx&authPassword=3Dyyyyy&
> httpClientConfigurer=3D#customConfigurer";
>
>   /* Camel-Http based URL */
>   private static final String httpEndpoint =3D "https://<tenant ID>.
> ondemand.com/service/scim/Users?proxyHost=3Dppppp&
> proxyPort=3D8888&authUsername=3Dxxxxxx&authPassword=3Dyyyyy&authMethod=3D=
Basic";
>
>   private static final Logger LOG =3D LogManager.getLogger();
>
>   @Test
>   public void testSCIMHttp() throws Exception {
>     DefaultExchange request =3D (DefaultExchange)
> producer.request(startHttp, new Processor() {
>
>       @Override
>       public void process(Exchange exchange) throws Exception {
>
>       }
>     });
>     if (request.getException() !=3D null) {
>       throw request.getException();
>     }
>
>   }
>
>   @Test
>   public void testSCIMHttp4() throws Exception {
>     DefaultExchange request =3D (DefaultExchange)
> producer.request(startHttp4, new Processor() {
>
>       @Override
>       public void process(Exchange exchange) throws Exception {
>
>       }
>     });
>     if (request.getException() !=3D null) {
>       throw request.getException();
>     }
>
>   }
>
>   protected CamelContext createCamelContext() throws Exception {
>     SimpleRegistry registry =3D new SimpleRegistry();
>     registry.put("customConfigurer", new CustomHttpClientConfigurer());
>     CamelContext cc =3D new DefaultCamelContext(registry);
>     return cc;
>   }
>
>   @Override
>   protected RouteBuilder createRouteBuilder() throws Exception {
>
>     return new RouteBuilder() {
>
>       @Override
>       public void configure() throws Exception {
>         onException(Exception.class).process(new Processor() {
>
>           @Override
>           public void process(Exchange exchange) throws Exception {
>             Exception exception =3D null;
>             if (exchange !=3D null && exchange.getProperty(CAMEL_PROPERTY=
_EXCEPTION_CAUGHT)
> instanceof Exception) {
>               exception =3D  (Exception) exchange.getProperty(CAMEL_PROPE=
RTY_EXCEPTION_CAUGHT);
>
>             }
>             if (exception instanceof HttpOperationFailedException) {
>               HttpOperationFailedException ex =3D
> (HttpOperationFailedException) exception;
>               LOG.info("*********************HTTP FAILED
> BEGIN*********************");
>               LOG.info("Status Code " + ex.getStatusCode() + " Status Tex=
t
> " + ex.getStatusText() + " Response Body " + ex.getResponseBody());
>               LOG.info("*********************HTTP FAILED
> END*********************");
>             }
>             if(exception !=3D null) {
>               throw exception;
>             }
>           }
>         });
>
>         from(startHttp).setBody().constant(SCIM_PAYLOAD).to(httpEndpoint)=
.process(new
> Processor() {
>
>           @Override
>           public void process(Exchange exchange) throws Exception {
>             LOG.info("*********************HTTP SUCCESS
> BEGIN*********************");
>             LOG.info(exchange.getIn().getBody(String.class));
>             LOG.info("*********************HTTP SUCCESS
> END*********************");
>           }
>         });
>
>         from(startHttp4).setBody().constant(SCIM_PAYLOAD).
> setHeader(Exchange.CONTENT_TYPE).constant(null).to(http4Endpoint);
>       }
>     };
>   }
> }
>
> -----Original Message-----
> From: souciance [mailto:[hidden email]
> <http:///user/SendEmail.jtp?type=3Dnode&node=3D5797051&i=3D1>]
> Sent: Tuesday, April 4, 2017 10:34 PM
> To: [hidden email] <http:///user/SendEmail.jtp?type=3Dnode&node=3D5797051=
&i=3D2>
> Subject: Re: Camel Http vs Camel Http4 - Content Type Header
>
> Can you share your entire route code?
>
> Den 5 apr. 2017 5:25 fm skrev "Goyal, Arpit [via Camel]" <
> [hidden email] <http:///user/SendEmail.jtp?type=3Dnode&node=3D5797051&i=
=3D3>>:
>
> > Anyone else has idea of this camel logic?
> >
> > Sent from my iPhone
> >
> > > On Apr 3, 2017, at 4:33 PM, Goyal, Arpit <[hidden email]
> > <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796938&i=3D0>> wrote:
> > >
> > > Hi Claus,
> > >
> > > HttpProduce -- from camel-http4 library is setting the content-type
> > 'text/plain'  in method [1] line # 488 (camel version 2.16.3) even
> though
> > we have set the Content-Type to be NULL - This is NOT the case with
> > HttpProducer - from camel-http library.
> > >
> > > By enabling the apache commons log, the headers are clearly visible.
> > >
> > > The end-system we are invoking throws '415' due to the wrong Content
> > Type passed and if we DO NOT pass any content type it works. As at
> > execution time we can't determine the Content-Type, we want to pass it
> > NULL.
> > >
> > > Any possible way to achieve not sending of Content-Type header?
> > >
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >> POS=
T
> > /service/scim/Users HTTP/1.1
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > breadcrumbId: ID-i044312-33503-1491259732621-0-1
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > Content-Length: 518
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > Content-Type: text/plain                            ---- in this line.
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> Host:
> > xxxxxxx
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > Connection: Keep-Alive
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > User-Agent: Apache-HttpClient/4.5.2 (Java/1.7.0_101)
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > Accept-Encoding: gzip,deflate
> > > 2017/04/04 00:48:55:618 CEST [DEBUG] headers - http-outgoing-0 >>
> > Authorization: Basic XXXXXXXX
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "POST
> > /service/scim/Users HTTP/1.1[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "breadcrumbId: ID-i044312-33503-1491259732621-0-1[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "Content-Length: 518[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "Content-Type: text/plain[\r][\n]"                        --- in this
> line
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >> "Host:
> > xxxxxxxxx[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "Connection: Keep-Alive[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "User-Agent: Apache-HttpClient/4.5.2 (Java/1.7.0_101)[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "Accept-Encoding: gzip,deflate[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "Authorization: Basic XXXXXXXX[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "[\r][\n]"
> > > 2017/04/04 00:48:55:619 CEST [DEBUG] wire - http-outgoing-0 >>
> > "{[\r][\n]"
> > > 2017/04/04 00:48:55:620 CEST [DEBUG] wire - http-outgoing-0 >> "}"
> > >
> > > [1] - org.apache.camel.component.http4.HttpProducer.createRequestEnti=
ty(Exchange)
>
> >
> > >
> > > Regards,
> > > Arpit.
> > >
> > >
> > > -----Original Message-----
> > > From: souciance [mailto:[hidden email]
> > <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796938&i=3D1>]
> > > Sent: Thursday, February 9, 2017 1:40 PM
> > > To: [hidden email]
> > <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796938&i=3D2>
> > > Subject: Re: Camel Http vs Camel Http4 - Content Type Header
> > >
> > > Well it should be pretty easy to setup a http server and see what
> > headers
> > > your route are sending and compare that to what the actual server
> wants.
> > If
> > > camel-http4 is suppressing some headers then perhaps try another
> > component.
> > >
> > > On Thu, Feb 9, 2017 at 10:32 PM, Goyal, Arpit [via Camel] <
> > > [hidden email] <http:///user/SendEmail.jtp?type=3Dnode&node=3D5796938=
&i=3D3>>
>
> > wrote:
> > >
> > >> Hi,
> > >>
> > >> We were on Camel-Http (2.16) and moving to Camel-Http4 (2.16) and sa=
w
> > that
> > >> URL which worked with Camel-http now fails with Camel-Http4 with
> status
> > >> code - 415 (Unsupported Media Type).
> > >>
> > >> Caused by: org.apache.camel.http.common.HttpOperationFailedException=
:
>
> > >> HTTP operation failed invoking https://<host>:<port>/
> > >> myservice/Users?authMethod=3DBasic with statusCode: 415
> > >>
> > >> Saw this discussion on Nabble - http://camel.465427.n5.nabble.
> > >> com/Http4-Set-Header-Content-Type-not-passing-through-to-
> > >> the-HTTP-Request-td5746414.html#a5752856
> > >>
> > >> Does this mean we CAN"T USE - Camel-HTTP4 ?
> > >>
> > >> Regards,
> > >> Arpit.
> > >>
> > >>
> > >> ------------------------------
> > >> If you reply to this email, your message will be added to the
> > discussion
> > >> below:
> > >> http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-
> > >> Content-Type-Header-tp5793736.html
> > >> To start a new topic under Camel - Users, email
> > >> [hidden email] <http:///user/SendEmail.jtp?type=3Dnode&node=3D579693=
8&i=3D4>
>
> > >> To unsubscribe from Camel - Users, click here
> > >> <
> > >> .
> > >> NAML
> > >> <http://camel.465427.n5.nabble.com/template/
> > NamlServlet.jtp?macro=3Dmacro_viewer&id=3Dinstant_html%
> > 21nabble%3Aemail.naml&base=3Dnabble.naml.namespaces.
> > BasicNamespace-nabble.view.web.template.NabbleNamespace-
> > nabble.view.web.template.NodeNamespace&breadcrumbs=3D
> > notify_subscribers%21nabble%3Aemail.naml-instant_emails%
> > 21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
> > >>
> > >
> > >
> > >
> > >
> > > --
> > > View this message in context: http://camel.465427.n5.nabble.
> > com/Camel-Http-vs-Camel-Http4-Content-Type-Header-tp5793736p5793737.htm=
l
>
> > > Sent from the Camel - Users mailing list archive at Nabble.com.
> >
> >
> > ------------------------------
> > If you reply to this email, your message will be added to the discussio=
n
> > below:
> > http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-
> > Content-Type-Header-tp5793736p5796938.html
> > To start a new topic under Camel - Users, email
> > [hidden email] <http:///user/SendEmail.jtp?type=3Dnode&node=3D5797051&i=
=3D4>
> > To unsubscribe from Camel - Users, click here
> > <
> > .
> > NAML
> > <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dmac=
ro_
> viewer&id=3Dinstant_html%21nabble%3Aemail.naml&base=3Dnabble.naml.namespa=
ces.
> BasicNamespace-nabble.view.web.template.NabbleNamespace-
> nabble.view.web.template.NodeNamespace&breadcrumbs=3D
> notify_subscribers%21nabble%3Aemail.naml-instant_emails%
> 21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
> >
>
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.
> com/Camel-Http-vs-Camel-Http4-Content-Type-Header-tp5793736p5796944.html
> Sent from the Camel - Users mailing list archive at Nabble.com.
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Camel-Http-vs-Camel-Http4-
> Content-Type-Header-tp5793736p5797051.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dunsub=
scribe_by_code&node=3D465428&code=3Dc291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5=
jb218NDY1NDI4fDE1MzI5MTE2NTY=3D>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=3Dmacro=
_viewer&id=3Dinstant_html%21nabble%3Aemail.naml&base=3Dnabble.naml.namespac=
es.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.=
template.NodeNamespace&breadcrumbs=3Dnotify_subscribers%21nabble%3Aemail.na=
ml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail=
.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Camel-Http-=
vs-Camel-Http4-Content-Type-Header-tp5793736p5797052.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65282-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 10 05:12:53 2017
Return-Path: <users-return-65282-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 30ACB1843A
	for <apmail-camel-users-archive@www.apache.org>; Mon, 10 Apr 2017 05:12:53 +0000 (UTC)
Received: (qmail 54628 invoked by uid 500); 10 Apr 2017 05:12:52 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 54430 invoked by uid 500); 10 Apr 2017 05:12:52 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 54418 invoked by uid 99); 10 Apr 2017 05:12:51 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Apr 2017 05:12:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id EDE481A000F
	for <users@camel.apache.org>; Mon, 10 Apr 2017 05:12:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.998
X-Spam-Level:
X-Spam-Status: No, score=-1.998 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, KAM_ASCII_DIVIDERS=0.8,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=sigmasys1.onmicrosoft.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ZtRVhmZN2MtA for <users@camel.apache.org>;
	Mon, 10 Apr 2017 05:12:48 +0000 (UTC)
Received: from NAM03-CO1-obe.outbound.protection.outlook.com (mail-co1nam03on0082.outbound.protection.outlook.com [104.47.40.82])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id B3E495FBA0
	for <users@camel.apache.org>; Mon, 10 Apr 2017 05:12:47 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=SIGMASYS1.onmicrosoft.com; s=selector1-sigmasystems-com01c;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version;
 bh=U8d3mnAnUrSw3W1exs6g7dqoL61xQn9UaCIvtc50rlo=;
 b=WSigPjLrs+WeeQKsK5PeR0DOjfmrTQwzqQxqIex+VxuahGIz97VdLw95snHWGnqUDpxulg2NAg9LdDxE7wrGlnE47dp/bP3fQL6ELcjZbdD/GSE8hwPi73XwimqgL+dXc8GeaUczWQj+EZ9rDfTYVK5TGBKPZDhUINRwWeFALF8=
Received: from CY4PR05MB2885.namprd05.prod.outlook.com (10.169.183.19) by
 CY4PR05MB2888.namprd05.prod.outlook.com (10.169.183.22) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1034.5; Mon, 10 Apr 2017 05:12:36 +0000
Received: from CY4PR05MB2885.namprd05.prod.outlook.com ([10.169.183.19]) by
 CY4PR05MB2885.namprd05.prod.outlook.com ([10.169.183.19]) with mapi id
 15.01.1034.007; Mon, 10 Apr 2017 05:12:36 +0000
From: Ayush Dixit <Ayush.Dixit@sigma-systems.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: RE: Performance issue in Camel SFTP component
Thread-Topic: Performance issue in Camel SFTP component
Thread-Index: AdKtEaZ99I3uUpCsSKyU5SgaYvJPwAACIUkAAAQc2PAALT1BAAAAXMjQAC10h5AAyICwEA==
Date: Mon, 10 Apr 2017 05:12:36 +0000
Message-ID: <CY4PR05MB288576BAD17B89A63CA0EA5FAF010@CY4PR05MB2885.namprd05.prod.outlook.com>
References: <CY4PR05MB288556474F742B4395CD66D3AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CAGB5yN=okDLFFxhA5MDAWwH0oLovNB_D6BMYCuLhMfUimw8tng@mail.gmail.com>
 <CY4PR05MB288500B6CF77E297A58C0CC5AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CAGB5yNksbd7r6dUFPYy64A2ny9qS6+3c=B44Gp+Wa9AQy4GdhA@mail.gmail.com>  
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
authentication-results: camel.apache.org; dkim=none (message not signed)
 header.d=none;camel.apache.org; dmarc=none action=none
 header.from=sigma-systems.com;
x-originating-ip: [115.113.155.67]
x-microsoft-exchange-diagnostics: 1;CY4PR05MB2888;7:5oEBV/ENaN7xAlkkuUrfjPM4GWY4oL01ojsJT4hhgC/hLJg99asSZfEKHkW5s0aPL+X87z/vTVxQAIXrsFRPh1SgMAMe+oYYTwKnBxboy4kch65x1wQqtD/bHV45vCLkCkYyqW5XhyAJ5Z54y/Ec328230ZZiAitnqZFlXAPRPa4eUQprmZT8DbbdzJomRQzgYJvYFA+vKHoXjRMeIR6YCHEI735dcp/dnl77jwaO3K85Th2LsSTXwQMwYj4hwjuYDfYPtJqWk8XS0SKmyx+QVFYU29bPbbuy4MGgsKeYgtba3TcvVQXGoXEHqcnYRjt6FyTNJMK9X1uVlTGesWIkw==
x-ms-office365-filtering-correlation-id: fb264734-aa28-4d7d-53fc-08d47fd03409
x-microsoft-antispam: UriScan:;BCL:0;PCL:0;RULEID:(22001)(2017030254075)(201703131423075)(201703031133081);SRVR:CY4PR05MB2888;
x-microsoft-antispam-prvs: <CY4PR05MB28888C745BC4E7B476926CE4AF010@CY4PR05MB2888.namprd05.prod.outlook.com>
x-exchange-antispam-report-test: UriScan:(212892494489503);
x-exchange-antispam-report-cfa-test: BCL:0;PCL:0;RULEID:(6040450)(601004)(2401047)(8121501046)(5005006)(3002001)(10201501046)(93006095)(93001095)(6041248)(20161123555025)(20161123560025)(20161123562025)(20161123564025)(201703131423075)(201702281528075)(201703061421075)(6072148);SRVR:CY4PR05MB2888;BCL:0;PCL:0;RULEID:;SRVR:CY4PR05MB2888;
x-forefront-prvs: 027367F73D
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(6009001)(39410400002)(39840400002)(39400400002)(39450400003)(377454003)(24454002)(3280700002)(53386004)(93886004)(38730400002)(33656002)(966004)(53936002)(6246003)(189998001)(575784001)(86362001)(229853002)(66066001)(110136004)(5660300001)(2501003)(7696004)(2906002)(25786009)(551544002)(54356999)(102836003)(50986999)(2900100001)(3660700001)(76176999)(3846002)(6916009)(6116002)(81166006)(6506006)(8936002)(55016002)(6436002)(53546009)(9686003)(77096006)(74316002)(6306002)(7736002)(122556002)(8676002)(305945005)(99286003)(1730700003)(2351001);DIR:OUT;SFP:1101;SCL:1;SRVR:CY4PR05MB2888;H:CY4PR05MB2885.namprd05.prod.outlook.com;FPR:;SPF:None;MLV:sfv;LANG:en;
spamdiagnosticoutput: 1:99
spamdiagnosticmetadata: NSPM
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: sigma-systems.com
X-MS-Exchange-CrossTenant-originalarrivaltime: 10 Apr 2017 05:12:36.7052
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: dba5b4ed-9d8f-46b1-95cb-4b550e5a68e1
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY4PR05MB2888

SGkgDQoNCkFueSBsdWNrIGluIHNvbHZpbmcgdGhlIHByb2JsZW0/DQoNClJlZ2FyZHMNCkF5dXNo
DQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBBeXVzaCBEaXhpdCANClNlbnQ6
IFRodXJzZGF5LCBBcHJpbCA2LCAyMDE3IDExOjAxIEFNDQpUbzogJ3VzZXJzQGNhbWVsLmFwYWNo
ZS5vcmcnIDx1c2Vyc0BjYW1lbC5hcGFjaGUub3JnPg0KU3ViamVjdDogUkU6IFBlcmZvcm1hbmNl
IGlzc3VlIGluIENhbWVsIFNGVFAgY29tcG9uZW50DQoNClNob3VsZCBJIHJhaXNlIGEgSklSQSBm
b3IgdGhhdD8NCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IEF5dXNoIERpeGl0
DQpTZW50OiBXZWRuZXNkYXksIEFwcmlsIDUsIDIwMTcgMToyMiBQTQ0KVG86IHVzZXJzQGNhbWVs
LmFwYWNoZS5vcmcNClN1YmplY3Q6IFJFOiBQZXJmb3JtYW5jZSBpc3N1ZSBpbiBDYW1lbCBTRlRQ
IGNvbXBvbmVudA0KDQpIaSBDbGF1cywNCg0KQWxyZWFkeSB0cmllZCB0aGF0ICwgU2VlIGJlbG93
IGVuZHBvaW50IGNvbmZpZ3VyYXRpb24gLiBObyBsdWNrIDooIA0KDQp0bygic2Z0cDovLzEwLjEw
MC4xNTAuMTkwL2ljb21zLzE/ZG93bmxvYWQ9ZmFsc2UmbWF4TWVzc2FnZXNQZXJQb2xsPTEwJnBh
c3N3b3JkPXh4eHh4eCZ0ZW1wUHJlZml4PVEmdXNlcm5hbWU9c2lnbWF1c2VyJnN0ZXB3aXNlPWZh
bHNlIikNCg0KVGhhbmtzDQpBeXVzaCANCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZy
b206IENsYXVzIElic2VuIFttYWlsdG86Y2xhdXMuaWJzZW5AZ21haWwuY29tXQ0KU2VudDogV2Vk
bmVzZGF5LCBBcHJpbCA1LCAyMDE3IDE6MDggUE0NClRvOiB1c2Vyc0BjYW1lbC5hcGFjaGUub3Jn
DQpTdWJqZWN0OiBSZTogUGVyZm9ybWFuY2UgaXNzdWUgaW4gQ2FtZWwgU0ZUUCBjb21wb25lbnQN
Cg0KVHJ5IHdpdGggbWF4TWVzc2FnZXNQZXJQb2xsIHRvIHNldCBhbiB1cHBlciBsaW1pdC4NCg0K
T24gVHVlLCBBcHIgNCwgMjAxNyBhdCAxMjoxMCBQTSwgQXl1c2ggRGl4aXQgPEF5dXNoLkRpeGl0
QHNpZ21hLXN5c3RlbXMuY29tPiB3cm90ZToNCj4NCj4gVGhhbmtzIENsYXVzICwgSSd2ZSB0cmll
ZCAgc3RlcHdpc2U9ZmFsc2UgIGluIGNhbWVsIHByb2R1Y2VyIC4gTm8gc3VjaCANCj4gbHVjaw0K
Pg0KPiBBbHNvLCBJIGhhdmUgdHJpZWQgZG93bmxvYWQ9ZmFsc2UgYW5kIHVzZUxpc3Q9ZmFsc2Uu
IFN0aWxsIHRoZSANCj4gcGVyZm9ybWFuY2UgaXMgc2FtZS4gSSBhbSByZWZlcnJpbmcgdGhlIGJl
bG93IGxpbmsgZm9yIGNhbWVsIA0KPiBkb2N1bWVudGF0aW9uDQo+DQo+IGh0dHA6Ly9jYW1lbC5h
cGFjaGUub3JnL2Z0cDIuaHRtbA0KPg0KPiBJcyB0aGVyZSBpcyBhbnl0aGluZyBlbHNlIHlvdSB0
aGluayBJIGNhbiB0cnk/DQo+DQo+IFRoYW5rcw0KPiBBeXVzaA0KPg0KPg0KPiAtLS0tLU9yaWdp
bmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBDbGF1cyBJYnNlbiBbbWFpbHRvOmNsYXVzLmlic2Vu
QGdtYWlsLmNvbV0NCj4gU2VudDogVHVlc2RheSwgQXByaWwgNCwgMjAxNyAxOjM1IFBNDQo+IFRv
OiB1c2Vyc0BjYW1lbC5hcGFjaGUub3JnDQo+IENjOiB1c2Vycy1zdWJzY3JpYmVAY2FtZWwuYXBh
Y2hlLm9yZw0KPiBTdWJqZWN0OiBSZTogUGVyZm9ybWFuY2UgaXNzdWUgaW4gQ2FtZWwgU0ZUUCBj
b21wb25lbnQNCj4NCj4gUGxlYXNlIHNwZW5kIG1vcmUgdGltZSB0byByZWFkIHRoZSBkb2N1bWVu
dGF0aW9uIGFuZCB5b3UgY2FuIGZpbmQgDQo+IG9wdGlvbnMgdG8gdHdlYWsgdGhlIG9wdGlvbnMg
dG8gdXNlIG9yIG5vdCB1c2UgRlRQIGxpc3QgZXRjLCBhbmQgdGhlcmUgDQo+IGlzIGFsc28gYSBz
dGVwd2lzZSBvcHRpb24NCj4NCj4gT24gVHVlLCBBcHIgNCwgMjAxNyBhdCA5OjE2IEFNLCBBeXVz
aCBEaXhpdCANCj4gPEF5dXNoLkRpeGl0QHNpZ21hLXN5c3RlbXMuY29tPg0KPiB3cm90ZToNCj4N
Cj4+DQo+Pg0KPj4gSGkgLA0KPj4NCj4+DQo+Pg0KPj4NCj4+DQo+PiBXZSBoYXZlIGltcGxlbWVu
dGVkIGEgY2FtZWwgcm91dGUgd2hlcmUgd2UgYXJlIGhhdmluZyBjYW1lbCBzZnRwIA0KPj4gcHJv
ZHVjZXIgdG8gdHJhbnNmZXIgYSBmaWxlcyB0byByZW1vdGUgU0ZUUCBsb2NhdGlvbiBidXQgb24g
DQo+PiBwZXJmb3JtYW5jZSB0ZXN0aW5nIG9uIGNsaWVudCBlbnZpcm9ubWVudCBhbmQgb24gb3Vy
IGxvY2FsIA0KPj4gZW52aXJvbm1lbnQgd2UgaGF2ZSBvYnNlcnZlZCBkZWdyYWRhdGlvbiBpbiB0
aGUgdGltZSBmb3IgdHJhbnNmZXJyaW5nIGZpbGVzIHRvIHJlbW90ZSBTRlRQIGxvY2F0aW9uLg0K
Pj4gUGxlYXNlIGZpbmQgdGhlIGRldGFpbGVkIGFuYWx5c2lzIGJlbG93LiBUaGUgd2UgdHJpZWQg
dGhlIHZhcmlvdXMgDQo+PiB0ZXN0IGluIG91ciBsb2NhbCBlbnZpcm9ubWVudC4gSW4gZWFjaCB0
ZXN0IHdlIHB1dCBhcm91bmQgMjIgZmlsZXMgb24gDQo+PiBjYW1lbCBmaWxlIGNvbnN1bWVyIGFu
ZCBlYWNoIGZpbGUgdG9vayBiZWxvdyB0aW1lIHRvIHdyaXRlIHRoZSBmaWxlLg0KPj4gUEZCIGRl
dGFpbHMNCj4+DQo+Pg0KPj4NCj4+DQo+Pg0KPj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+PiA9PT09PT09PT09PT09PT09PT09
PT09PT09PT09DQo+Pg0KPj4gV2hlbiB0YXJnZXQgZGlyZWN0b3J5IGhhdmluZyAyMCwwMDAgZmls
ZXMuIENhbWVsIHNmdHAgcHJvZHVjZXIgdG9vayANCj4+IGFyb3VuZA0KPj4gMSBtaW51dGUgNDMg
c2Vjb25kIHRvIGEgdHJhbnNmZXIgZmlsZQ0KPj4NCj4+ID09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KPj4gPT09PT09PT09PT09PT09
PT09PT09PT09PT09PQ0KPj4NCj4+DQo+Pg0KPj4gREVCVUcgMDc6MDA6MzggKENhbWVsIChjZmdN
Z3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAy
L3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IG9yZy5hcGFjaGUu
Y2FtZWwuY29tcG9uZW50LmZpbGUuRmlsZUNvbnN1bWVyPiBBYm91dCB0byBwcm9jZXNzIGZpbGU6
DQo+PiBHZW5lcmljRmlsZVsvZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNv
bXMvaW9wX3Jlc3BvbnNlcy8NCj4+IDEgL1NUMzBQRVJGT1JQTUFKQVIxNzAyMDcyNi50eHRdIHVz
aW5nIGV4Y2hhbmdlOg0KPj4gRXhjaGFuZ2VbU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2LnR4dF0N
Cj4+DQo+PiAgICAgICAgICAgIElORk8gMDc6MDA6MzggKENhbWVsIChjZmdNZ3JDYW1lbENvbnRl
eHQpIHRocmVhZCAjNiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFp
bnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IGNvbS5zaWdtYS5zYW1wLmltcC52aXJn
aW5tZWRpYS5ic3Mudm9pY2UuY2FtZWxyb3V0ZXMuaW9wUm91dGUuSU9QUmVzcA0KPj4gbw0KPj4g
bnNlRnRwUm91dGVCdWlsZGVyPiBQaWNrZWQgSU9QIHJlc3BvbnNlIGZpbGUgOg0KPj4gU1QzMFBF
UkZPUlBNQUpBUjE3MDIwNzI2LnR4dCBmcm9tIElPUCBGVFAgZGlyZWN0b3J5DQo+Pg0KPj4gICAg
ICAgICAgICAgSU5GTyAwNzowMDozOCAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFk
ICM2IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNv
bXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4gY29tLnNpZ21hLnNhbXAuaW1wLnZpcmdpbm1lZGlhLmJz
cy52b2ljZS5jYW1lbHJvdXRlcy5pb3BSb3V0ZS5JT1BSZXNwDQo+PiBvDQo+PiBuc2VGdHBSb3V0
ZUJ1aWxkZXI+IFNlbmRpbmcgSU9QIHJlc3BvbnNlIGZpbGUgOg0KPj4gU1QzMFBFUkZPUlBNQUpB
UjE3MDIwNzI2LnR4dCB0byBJQ09NUyBGVFAgZGlyZWN0b3J5DQo+Pg0KPj4gICAgICAgICAgICAg
REVCVUcgMDc6MDA6MzggKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+
PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9y
ZXNwb25zZXMvMSkNCj4+IG9yZy5hcGFjaGUuY2FtZWwucHJvY2Vzc29yLlNlbmRQcm9jZXNzb3I+
ID4+Pj4gRW5kcG9pbnRbc2Z0cDovLzEwLjEwMC4xNTAuDQo+PiAxOTAvaWNvbXMvMT9kb3dubG9h
ZD1mYWxzZSZtYXhNZXNzYWdlc1BlclBvbGw9MTAmDQo+PiBwYXNzd29yZD14eHh4eHgmdGVtcFBy
ZWZpeD1RJnVzZXJuYW1lPXNpZ21hdXNlcl0gRXhjaGFuZ2VbIA0KPj4gU1QzMFBFUkZPUlBNQUpB
UjE3MDIwNzI2LnR4dF0NCj4+DQo+Pg0KPj4NCj4+DQo+Pg0KPj4NCj4+DQo+PiAgICAgICAgICAg
ICBERUJVRyAwNzowMjoxOSAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0N
Cj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9w
X3Jlc3BvbnNlcy8xKQ0KPj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5HZW5lcmlj
RmlsZUNvbnZlcnRlcj4gUmVhZCBmaWxlIA0KPj4gL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2Rv
bWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMS9TVDMwUEVSRk9SDQo+PiBQDQo+PiBNQUpB
UjE3MDIwNzI2LnR4dA0KPj4gKG5vIGNoYXJzZXQpDQo+Pg0KPj4gICAgICAgICAgICBERUJVRyAw
NzowMjoxOSAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4+IGZpbGU6
Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNl
cy8xKQ0KPj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1vdGUuU2Z0cE9wZXJh
dGlvbnM+IEFib3V0IHRvIHN0b3JlDQo+PiBmaWxlOiBRU1QzMFBFUkZPUlBNQUpBUjE3MDIwNzI2
LnR4dCB1c2luZyBzdHJlYW06DQo+PiBqYXZhLmlvLkJ1ZmZlcmVkSW5wdXRTdHJlYW1ANTRhODlm
ZjUNCj4+DQo+PiAgICAgICAgICAgIERFQlVHIDA3OjAyOjE5IChDYW1lbCAoY2ZnTWdyQ2FtZWxD
b250ZXh0KSB0aHJlYWQgIzYgLQ0KPj4gZmlsZTovLy9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9k
b21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEpDQo+PiBvcmcuYXBhY2hlLmNhbWVsLmNv
bXBvbmVudC5maWxlLnJlbW90ZS5TZnRwT3BlcmF0aW9ucz4gVG9vayAwLjY1OCANCj4+IHNlY29u
ZHMNCj4+ICg2NTggbWlsbGlzKSB0byBzdG9yZSBmaWxlOiBRU1QzMFBFUkZPUlBNQUpBUjE3MDIw
NzI2LnR4dCBhbmQgRlRQIA0KPj4gY2xpZW50DQo+PiByZXR1cm5lZDogdHJ1ZQ0KPj4NCj4+DQo+
Pg0KPj4gICAgICAgICAgICBERUJVRyAwNzowMjoyMCAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4
dCkgdGhyZWFkICM2IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlu
cy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25l
bnQuZmlsZS5yZW1vdGUuUmVtb3RlRmlsZVByb2R1Y2VyPiBXcm90ZSANCj4+IFtpY29tcy8xL1FT
VDMwUEVSRk9SUE1BSkFSMTcwMjA3MjYudHh0XQ0KPj4gdG8gW0VuZHBvaW50W3NmdHA6Ly8xMC4x
MDAuMTUwLjE5MC9pY29tcy8xP2Rvd25sb2FkPWZhbHNlJg0KPj4gbWF4TWVzc2FnZXNQZXJQb2xs
PTEwJnBhc3N3b3JkPXh4eHh4eCZ0ZW1wUHJlZml4PVEmdXNlcm5hbWU9c2lnbWF1c2VyDQo+PiBd
DQo+PiBdDQo+Pg0KPj4gICAgICAgICAgICBERUJVRyAwNzowMjoyMCAoQ2FtZWwgKGNmZ01nckNh
bWVsQ29udGV4dCkgdGhyZWFkICM2IC0NCj4+IGZpbGU6Ly8vZGF0YS91c2Vycy9zbHZtMDIvc21w
NTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4gb3JnLmFwYWNoZS5jYW1l
bC5jb21wb25lbnQuZmlsZS5yZW1vdGUuU2Z0cE9wZXJhdGlvbnM+IFJlbmFtaW5nIGZpbGU6DQo+
PiBpY29tcy8xL1FTVDMwUEVSRk9SUE1BSkFSMTcwMjA3MjYudHh0IHRvOiBpY29tcy8xLyANCj4+
IFNUMzBQRVJGT1JQTUFKQVIxNzAyMDcyNi50eHQNCj4+DQo+PiAgICAgICAgICAgICBJTkZPIDA3
OjAyOjIwIChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0KPj4gZmlsZTov
Ly9kYXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2Vz
LzEpDQo+PiBjb20uc2lnbWEuc2FtcC5pbXAudmlyZ2lubWVkaWEuYnNzLnZvaWNlLmNhbWVscm91
dGVzLmlvcFJvdXRlLklPUFJlc3ANCj4+IG8NCj4+IG5zZUZ0cFJvdXRlQnVpbGRlcj4gSU9QIHJl
c3BvbnNlIGZpbGUgOiBTVDMwUEVSRk9SUE1BSkFSMTcwMjA3MjYudHh0DQo+PiBzdWNjZXNzZnVs
bHkgc2VudCB0byBJQ09NUyBGVFAgZGlyZWN0b3J5DQo+Pg0KPj4NCj4+DQo+Pg0KPj4NCj4+ID09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PQ0KPj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+Pg0KPj4gV2hlbiB0YXJnZXQgZGly
ZWN0b3J5IGhhdmluZyA0MCwwMDAgZmlsZXMuIENhbWVsIHNmdHAgcHJvZHVjZXIgdG9vayANCj4+
IGFyb3VuZA0KPj4gMyBtaW51dGUgMTcgc2Vjb25kIHRvIHRyYW5zZmVyIGZpbGUNCj4+DQo+PiA9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0NCj4+ID09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KPj4NCj4+DQo+Pg0KPj4gREVCVUcg
MDc6NDc6MjMgKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+PiBmaWxl
Oi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25z
ZXMvMSkNCj4+IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUuRmlsZUNvbnN1bWVyPiBB
Ym91dCB0byBwcm9jZXNzIGZpbGU6DQo+PiBHZW5lcmljRmlsZVsvZGF0YS91c2Vycy9zbHZtMDIv
c21wNTMvZG9tYWlucy92DQo+Pg0KPj4NCj4+IG1iL0ljb21zL2lvcF9yZXNwb25zZXMvMS9TWDMw
UlBNQUpBUjE3MDI0ODM3NTYudHh0XQ0KPj4gdXNpbmcgZXhjaGFuZ2U6IEV4Y2hhbmdlW1NYMzBS
UE1BSkFSMTcwMjQ4Mzc1Ni50eHRdDQo+Pg0KPj4gICAgICAgICAgICAgICAgIElORk8gMDc6NDc6
MjMgKENhbWVsIChjZmdNZ3JDYW1lbENvbnRleHQpIHRocmVhZCAjNiAtDQo+PiBmaWxlOi8vL2Rh
dGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkN
Cj4+IGNvbS5zaWdtYS5zYW1wLmltcC52aXJnaW5tZWRpYS5ic3Mudm9pY2UuY2FtZWxyb3V0ZXMu
aW9wUm91dGUuSU9QUmVzcA0KPj4gbw0KPj4gbnNlRnRwUm91dGVCdWlsZGVyPg0KPj4gUGlja2Vk
IElPUCByZXNwb25zZSBmaWxlIDoNCj4+DQo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIFNYMzBSUE1BSkFSMTcwMjQ4Mzc1Ni50eHQgZnJvbSBJT1AgDQo+PiBGVFAgZGlyZWN0b3J5
DQo+Pg0KPj4gICAgICAgICAgICAgICAgIElORk8gMDc6NDc6MjMgKENhbWVsIChjZmdNZ3JDYW1l
bENvbnRleHQpIHRocmVhZCAjNiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUz
L2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IGNvbS5zaWdtYS5zYW1wLmlt
cC52aXJnaW5tZWRpYS5ic3Mudm9pY2UuY2FtZWxyb3V0ZXMuaW9wUm91dGUuSU9QUmVzcA0KPj4g
bw0KPj4gbnNlRnRwUm91dGVCdWlsZGVyPg0KPj4gU2VuZGluZyBJT1AgcmVzcG9uc2UgZmlsZQ0K
Pj4NCj4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBTWDMwUlBNQUpBUjE3MDI0
ODM3NTYudHh0IHRvIElDT01TIA0KPj4gRlRQIGRpcmVjdG9yeQ0KPj4NCj4+ICAgICAgICAgICAg
ICAgICBERUJVRyAwNzo0NzoyMyAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFkICM2
DQo+PiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0lj
b21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IG9yZy5hcGFjaGUuY2FtZWwucHJvY2Vzc29yLlNlbmRQ
cm9jZXNzb3I+ID4+Pj4gRW5kcG9pbnRbc2Z0cDovLzEwLjEwMC4xNTAuDQo+PiAxOTAvaWNvbXMv
MT9kb3dubG9hZD1mYWxzZSZtYXhNZXNzYWdlc1Blcg0KPj4NCj4+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgUG9sbD0xMCZwYXNzd29yZD14eHh4eHgmIA0KPj4gdGVtcFByZWZpeD1R
JnVzZXJuYW1lPXNpZ21hdXNlcl0gRXhjaGFuZ2VbU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dF0N
Cj4+DQo+Pg0KPj4NCj4+DQo+Pg0KPj4gICAgICAgICAgICAgICAgIERFQlVHIDA3OjUwOjQwIChD
YW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYNCj4+IC0NCj4+IGZpbGU6Ly8vZGF0
YS91c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0K
Pj4gb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5HZW5lcmljRmlsZUNvbnZlcnRlcj4g
UmVhZCBmaWxlIA0KPj4gL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1iL0ljb21z
L2lvcF9yZXNwb25zZXMvMS9TWDMwUlBNQUpBDQo+PiBSDQo+PiAxNzAyNDgzNzU2LnR4dA0KPj4g
KG5vIGNoYXJzZXQpDQo+Pg0KPj4gICAgICAgICAgICAgICAgIERFQlVHIDA3OjUwOjQwIChDYW1l
bCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYNCj4+IC0NCj4+IGZpbGU6Ly8vZGF0YS91
c2Vycy9zbHZtMDIvc21wNTMvZG9tYWlucy92bWIvSWNvbXMvaW9wX3Jlc3BvbnNlcy8xKQ0KPj4g
b3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5yZW1vdGUuU2Z0cE9wZXJhdGlvbnM+IEFi
b3V0IHRvIHN0b3JlDQo+PiBmaWxlOiBRU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dCB1c2luZyBz
dHJlYW06DQo+PiBqYXZhLmlvLkJ1ZmZlcmVkSW5wdXRTdHJlYW1ADQo+PiA3OTU0Y2ZhOA0KPj4N
Cj4+ICAgICAgICAgICAgICAgICBERUJVRyAwNzo1MDo0MCAoQ2FtZWwgKGNmZ01nckNhbWVsQ29u
dGV4dCkgdGhyZWFkICM2DQo+PiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUz
L2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IG9yZy5hcGFjaGUuY2FtZWwu
Y29tcG9uZW50LmZpbGUucmVtb3RlLlNmdHBPcGVyYXRpb25zPiBUb29rIDAuNjU5IA0KPj4gc2Vj
b25kcw0KPj4gKDY1OSBtaWxsaXMpIHRvIHN0b3JlIGZpbGU6IFFTWDMwUlBNQUpBUjE3MDI0ODM3
NTYudHh0IGFuZCBGVFAgY2xpZW50DQo+PiByZXR1cm5lZDogdHJ1ZQ0KPj4NCj4+ICAgICAgICAg
ICAgICAgICBERUJVRyAwNzo1MDo0MSAoQ2FtZWwgKGNmZ01nckNhbWVsQ29udGV4dCkgdGhyZWFk
ICM2DQo+PiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3NtcDUzL2RvbWFpbnMvdm1i
L0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IG9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZp
bGUucmVtb3RlLlJlbW90ZUZpbGVQcm9kdWNlcj4gV3JvdGUgDQo+PiBbaWNvbXMvMS9RU1gzMFJQ
TUFKQVIxNzAyNDgzNzU2LnR4dF0NCj4+IHRvIFtFbmRwb2ludFtzZnRwOi8vMTAuMTAwLjE1MC4x
OTAvaWNvbXMvMT9kb3dubG9hZD1mYWxzZSYNCj4+IG1heE1lc3NhZ2VzUGVyUG9sbD0xMCZwYXNz
d29yZD14eHh4eHgmdGVtcFByZWZpeD1RJnVzZXJuYW1lPXNpZ21hdXNlcg0KPj4gXQ0KPj4gXQ0K
Pj4NCj4+ICAgICAgICAgICAgICAgICBERUJVRyAwNzo1MDo0MSAoQ2FtZWwgKGNmZ01nckNhbWVs
Q29udGV4dCkgdGhyZWFkICM2DQo+PiAtDQo+PiBmaWxlOi8vL2RhdGEvdXNlcnMvc2x2bTAyL3Nt
cDUzL2RvbWFpbnMvdm1iL0ljb21zL2lvcF9yZXNwb25zZXMvMSkNCj4+IG9yZy5hcGFjaGUuY2Ft
ZWwuY29tcG9uZW50LmZpbGUucmVtb3RlLlNmdHBPcGVyYXRpb25zPiBSZW5hbWluZyBmaWxlOg0K
Pj4gaWNvbXMvMS9RU1gzMFJQTUFKQVIxNzAyNDgzNzU2LnR4dCB0bzoNCj4+IGljb21zLzEvU1gz
MFJQTUFKQVIxNzAyNDgzNzU2LnR4dA0KPj4NCj4+ICAgICAgICAgICAgICAgICBJTkZPIDA3OjUw
OjQxIChDYW1lbCAoY2ZnTWdyQ2FtZWxDb250ZXh0KSB0aHJlYWQgIzYgLQ0KPj4gZmlsZTovLy9k
YXRhL3VzZXJzL3Nsdm0wMi9zbXA1My9kb21haW5zL3ZtYi9JY29tcy9pb3BfcmVzcG9uc2VzLzEp
DQo+PiBjb20uc2lnbWEuc2FtcC5pbXAudmlyZ2lubWVkaWEuYnNzLnZvaWNlLmNhbWVscm91dGVz
LmlvcFJvdXRlLklPUFJlc3ANCj4+IG8NCj4+IG5zZUZ0cFJvdXRlQnVpbGRlcj4gSU9QIHJlc3Bv
bnNlIGZpbGUgOiBTWDMwUlBNQUpBUjE3MDI0ODM3NTYudHh0DQo+PiBzdWNjZXNzZnVsbHkgc2Vu
dCB0byBJQ09NUyBGVFAgZGlyZWN0b3J5DQo+Pg0KPj4NCj4+DQo+Pg0KPj4NCj4+DQo+Pg0KPj4g
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09DQo+PiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+Pg0KPj4g
U2ltaWxhcmx5IHdoZW4gd2UgYWNoaWV2ZWQgdGhlIGZpbGVzIGZyb20gdGFyZ2V0IGRpcmVjdG9y
eS4gSXQgdG9vayANCj4+IGFyb3VuZA0KPj4gNiBzZWMuSXQgc2VlbXMgbGlrZSB0aGVyZSBpcyBh
IHBlcmZvcm1hbmNlIGlzc3VlIHdpdGggY2FtZWwgc2Z0cCBjb21wb25lbnQuDQo+PiBEb2VzIGl0
IGxpc3QgdGhlIGZpbGVzIGluIHRhcmdldCBkaXJlY3Rvcnkgd2hpY2ggaXMgdGFraW5nIHRpbWUu
DQo+Pg0KPj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09DQo+PiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0N
Cj4+DQo+Pg0KPj4NCj4+IFBGQiB0aGUgcHJvZHVjZXIgcm91dGUgd2hpY2ggd2Ugc2V0IHVwDQo+
Pg0KPj4gc2Z0cDovLzEwLjEwMC4xNTAuMTkwL2ljb21zLzE/ZG93bmxvYWQ9ZmFsc2UmbWF4TWVz
c2FnZXNQZXJQb2xsPTEwJg0KPj4gcGFzc3dvcmQ9eHh4eHh4JnRlbXBQcmVmaXg9USZ1c2VybmFt
ZT1zaWdtYXVzZXINCj4+DQo+Pg0KPj4NCj4+DQo+Pg0KPj4gUGxlYXNlIGxldCB1cyBrbm93IGlm
IHlvdSBuZWVkIGFueXRoaW5nIGVsc2UuDQo+Pg0KPj4NCj4+DQo+Pg0KPj4NCj4+ICpBeXVzaCBE
aXhpdCoNCj4+ICpTb2Z0d2FyZSBFbmdpbmVlcioNCj4+IGF5dXNoLmRpeGl0QHNpZ21hLXN5c3Rl
bXMuY29tDQo+Pg0KPj4gTzogKzkxLjIwLjI1NjYxOTkyIHggMzIxIDwrOTElMjAyMCUyMDI1NjYl
MjAxOTkyPiB8ICBNOg0KPj4gKzkxLTgxNC05ODItNjI2MCA8KzkxJTIwODE0OTglMjAyNjI2MD4g
fCBTa3lwZTogYXl1c2hkaXhpdDQyMQ0KPj4NCj4+IFtpbWFnZTogY2lkOmltYWdlMDAxLmpwZ0Aw
MUQxNjgwOS5FMTJDMEQ1MF0NCj4+IDxodHRwOi8vd3d3LnNpZ21hLXN5c3RlbXMuY29tLz4NCj4+
DQo+Pg0KPj4NCj4+DQo+Pg0KPg0KPg0KPg0KPiAtLQ0KPiBDbGF1cyBJYnNlbg0KPiAtLS0tLS0t
LS0tLS0tLS0tLQ0KPiBodHRwOi8vZGF2c2NsYXVzLmNvbSBAZGF2c2NsYXVzDQo+IENhbWVsIGlu
IEFjdGlvbiAyOiBodHRwczovL3d3dy5tYW5uaW5nLmNvbS9pYnNlbjINCg0KDQoNCi0tDQpDbGF1
cyBJYnNlbg0KLS0tLS0tLS0tLS0tLS0tLS0NCmh0dHA6Ly9kYXZzY2xhdXMuY29tIEBkYXZzY2xh
dXMNCkNhbWVsIGluIEFjdGlvbiAyOiBodHRwczovL3d3dy5tYW5uaW5nLmNvbS9pYnNlbjINCg==

From users-return-65283-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 10 05:24:56 2017
Return-Path: <users-return-65283-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 264E718485
	for <apmail-camel-users-archive@www.apache.org>; Mon, 10 Apr 2017 05:24:56 +0000 (UTC)
Received: (qmail 84651 invoked by uid 500); 10 Apr 2017 05:24:53 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 84521 invoked by uid 500); 10 Apr 2017 05:24:53 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 83597 invoked by uid 99); 10 Apr 2017 05:24:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Apr 2017 05:24:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 39816C1A9D
	for <users@camel.apache.org>; Mon, 10 Apr 2017 05:24:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.897
X-Spam-Level:
X-Spam-Status: No, score=-0.897 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id u6UPN8LnFPNX for <users@camel.apache.org>;
	Mon, 10 Apr 2017 05:24:48 +0000 (UTC)
Received: from mail-qk0-f172.google.com (mail-qk0-f172.google.com [209.85.220.172])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 6E39F5FD84
	for <users@camel.apache.org>; Mon, 10 Apr 2017 05:24:45 +0000 (UTC)
Received: by mail-qk0-f172.google.com with SMTP id f133so82752974qke.2
        for <users@camel.apache.org>; Sun, 09 Apr 2017 22:24:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=Nu332RlwBNaVv+MjHMMnwF1x3iipQowtxtjjAstGNtU=;
        b=ut1beRRwgdsDJ09Rf3SLPHFYU5X55vbzdQlKePPh2wfVYbUCRVy7Yu152mFwvHnC/u
         BsjVke9wMy3TiXLzpNVJINmhqpxDHFli8NjeFXim6Sh0dSb1lqkTuTWPnt0JfAYQiIDl
         RRqtEMqFEirI8hAuCuZCUBAjhgvlDqXlSyvgBnW8AV+XeN1wB3Slzz9ZFBRDeDZIMMff
         QsYkwIg6PbW1EBVhKy9+LQusvDhrGqWBev5RM/oyEBlsdo67pGWkspkAIRoewEufcKJL
         9FSfxXwNTJg8davptpjuAVCjn2pUY+sqUMaUXMwZFvm+mT5V0/i8Cdo6mucd6ZX1get8
         Ihmw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=Nu332RlwBNaVv+MjHMMnwF1x3iipQowtxtjjAstGNtU=;
        b=OX+jihVJUvfpygpPjzprDMTvlR7+zLnioHXh83fiqPSoJd46A2K7hDWC1Sdkj1gJvJ
         gY6t/d+8BfNXyaVE4SyYnwaYumtBSj9gxuKyjJeftZ+KB/BPNakNKQhpTSDE7Hzd5Ta9
         c+B8swTo2GQsKW49XPCKS7/z9JMynsfPQQEyKxep/HNEESJaALIKN9OG3JecFcfa0UGP
         xtostjDgi1HGkC5+06evi8r+r36u2yeWavpZNnuTZdhkvb0ef3GlVz3r2HvYy1iECMqk
         kZfm3VWY46Mgx+jrwYWXub7VABNfWttZctss4Jrde2Eq+ZDlO5N25/YPjiCPcD71pjkV
         qk4g==
X-Gm-Message-State: AFeK/H0MKaQiicM+60WwfQNPtTaPiNxGndEgQYMYFezO0ETA/p6eAdczxMwHC/WaTuP+9nKft1uFMXRHdoNg9g==
X-Received: by 10.55.201.202 with SMTP id m71mr39825679qkl.31.1491801884860;
 Sun, 09 Apr 2017 22:24:44 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.12.163.166 with HTTP; Sun, 9 Apr 2017 22:24:24 -0700 (PDT)
In-Reply-To: <CY4PR05MB288576BAD17B89A63CA0EA5FAF010@CY4PR05MB2885.namprd05.prod.outlook.com>
References: <CY4PR05MB288556474F742B4395CD66D3AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CAGB5yN=okDLFFxhA5MDAWwH0oLovNB_D6BMYCuLhMfUimw8tng@mail.gmail.com>
 <CY4PR05MB288500B6CF77E297A58C0CC5AF0B0@CY4PR05MB2885.namprd05.prod.outlook.com>
 <CAGB5yNksbd7r6dUFPYy64A2ny9qS6+3c=B44Gp+Wa9AQy4GdhA@mail.gmail.com> <CY4PR05MB288576BAD17B89A63CA0EA5FAF010@CY4PR05MB2885.namprd05.prod.outlook.com>
From: Onder SEZGIN <ondersezgin@gmail.com>
Date: Mon, 10 Apr 2017 08:24:24 +0300
Message-ID: <CAE9ARBTAOj_Yajo0gN4ncchpBqxRKwjr1Wqc0_=RLgbzD73P8g@mail.gmail.com>
Subject: Re: Performance issue in Camel SFTP component
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1149af4e6c26f5054cc93177

--001a1149af4e6c26f5054cc93177
Content-Type: text/plain; charset=UTF-8

Hi Ayush,

As souciance suggested, i guess you should use another FTP client to
transfer files and better measure camel FTP component against and get some
benchmark results to compare in a better way.

If the file transfer is what we are talking, there may be lots of reason
why you have low performance. Network connectivity, firewalls, proxies, big
files & blocking IO etc..

Even if there may be a problem regarding camel, having what you provided is
not sufficient to diagnose and resolve the problem.

Rough to say that, you seem you have to deep dive into details to resolve
the problem.

Regards

On Mon, Apr 10, 2017 at 8:12 AM, Ayush Dixit <Ayush.Dixit@sigma-systems.com>
wrote:

> Hi
>
> Any luck in solving the problem?
>
> Regards
> Ayush
>
> -----Original Message-----
> From: Ayush Dixit
> Sent: Thursday, April 6, 2017 11:01 AM
> To: 'users@camel.apache.org' <users@camel.apache.org>
> Subject: RE: Performance issue in Camel SFTP component
>
> Should I raise a JIRA for that?
>
> -----Original Message-----
> From: Ayush Dixit
> Sent: Wednesday, April 5, 2017 1:22 PM
> To: users@camel.apache.org
> Subject: RE: Performance issue in Camel SFTP component
>
> Hi Claus,
>
> Already tried that , See below endpoint configuration . No luck :(
>
> to("sftp://10.100.150.190/icoms/1?download=false&maxMessagesPerPoll=10&
> password=xxxxxx&tempPrefix=Q&username=sigmauser&stepwise=false")
>
> Thanks
> Ayush
>
> -----Original Message-----
> From: Claus Ibsen [mailto:claus.ibsen@gmail.com]
> Sent: Wednesday, April 5, 2017 1:08 PM
> To: users@camel.apache.org
> Subject: Re: Performance issue in Camel SFTP component
>
> Try with maxMessagesPerPoll to set an upper limit.
>
> On Tue, Apr 4, 2017 at 12:10 PM, Ayush Dixit <
> Ayush.Dixit@sigma-systems.com> wrote:
> >
> > Thanks Claus , I've tried  stepwise=false  in camel producer . No such
> > luck
> >
> > Also, I have tried download=false and useList=false. Still the
> > performance is same. I am referring the below link for camel
> > documentation
> >
> > http://camel.apache.org/ftp2.html
> >
> > Is there is anything else you think I can try?
> >
> > Thanks
> > Ayush
> >
> >
> > -----Original Message-----
> > From: Claus Ibsen [mailto:claus.ibsen@gmail.com]
> > Sent: Tuesday, April 4, 2017 1:35 PM
> > To: users@camel.apache.org
> > Cc: users-subscribe@camel.apache.org
> > Subject: Re: Performance issue in Camel SFTP component
> >
> > Please spend more time to read the documentation and you can find
> > options to tweak the options to use or not use FTP list etc, and there
> > is also a stepwise option
> >
> > On Tue, Apr 4, 2017 at 9:16 AM, Ayush Dixit
> > <Ayush.Dixit@sigma-systems.com>
> > wrote:
> >
> >>
> >>
> >> Hi ,
> >>
> >>
> >>
> >>
> >>
> >> We have implemented a camel route where we are having camel sftp
> >> producer to transfer a files to remote SFTP location but on
> >> performance testing on client environment and on our local
> >> environment we have observed degradation in the time for transferring
> files to remote SFTP location.
> >> Please find the detailed analysis below. The we tried the various
> >> test in our local environment. In each test we put around 22 files on
> >> camel file consumer and each file took below time to write the file.
> >> PFB details
> >>
> >>
> >>
> >>
> >>
> >> ============================================================
> >> ============================
> >>
> >> When target directory having 20,000 files. Camel sftp producer took
> >> around
> >> 1 minute 43 second to a transfer file
> >>
> >> ============================================================
> >> ============================
> >>
> >>
> >>
> >> DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.component.file.FileConsumer> About to process file:
> >> GenericFile[/data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/
> >> 1 /ST30PERFORPMAJAR17020726.txt] using exchange:
> >> Exchange[ST30PERFORPMAJAR17020726.txt]
> >>
> >>            INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResp
> >> o
> >> nseFtpRouteBuilder> Picked IOP response file :
> >> ST30PERFORPMAJAR17020726.txt from IOP FTP directory
> >>
> >>             INFO 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResp
> >> o
> >> nseFtpRouteBuilder> Sending IOP response file :
> >> ST30PERFORPMAJAR17020726.txt to ICOMS FTP directory
> >>
> >>             DEBUG 07:00:38 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.processor.SendProcessor> >>>> Endpoint[sftp://
> 10.100.150.
> >> 190/icoms/1?download=false&maxMessagesPerPoll=10&
> >> password=xxxxxx&tempPrefix=Q&username=sigmauser] Exchange[
> >> ST30PERFORPMAJAR17020726.txt]
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >>             DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.component.file.GenericFileConverter> Read file
> >> /data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/ST30PERFOR
> >> P
> >> MAJAR17020726.txt
> >> (no charset)
> >>
> >>            DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.component.file.remote.SftpOperations> About to store
> >> file: QST30PERFORPMAJAR17020726.txt using stream:
> >> java.io.BufferedInputStream@54a89ff5
> >>
> >>            DEBUG 07:02:19 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.component.file.remote.SftpOperations> Took 0.658
> >> seconds
> >> (658 millis) to store file: QST30PERFORPMAJAR17020726.txt and FTP
> >> client
> >> returned: true
> >>
> >>
> >>
> >>            DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.component.file.remote.RemoteFileProducer> Wrote
> >> [icoms/1/QST30PERFORPMAJAR17020726.txt]
> >> to [Endpoint[sftp://10.100.150.190/icoms/1?download=false&
> >> maxMessagesPerPoll=10&password=xxxxxx&tempPrefix=Q&username=sigmauser
> >> ]
> >> ]
> >>
> >>            DEBUG 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.component.file.remote.SftpOperations> Renaming file:
> >> icoms/1/QST30PERFORPMAJAR17020726.txt to: icoms/1/
> >> ST30PERFORPMAJAR17020726.txt
> >>
> >>             INFO 07:02:20 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResp
> >> o
> >> nseFtpRouteBuilder> IOP response file : ST30PERFORPMAJAR17020726.txt
> >> successfully sent to ICOMS FTP directory
> >>
> >>
> >>
> >>
> >>
> >> ============================================================
> >> ===========================
> >>
> >> When target directory having 40,000 files. Camel sftp producer took
> >> around
> >> 3 minute 17 second to transfer file
> >>
> >> ============================================================
> >> ===========================
> >>
> >>
> >>
> >> DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.component.file.FileConsumer> About to process file:
> >> GenericFile[/data/users/slvm02/smp53/domains/v
> >>
> >>
> >> mb/Icoms/iop_responses/1/SX30RPMAJAR1702483756.txt]
> >> using exchange: Exchange[SX30RPMAJAR1702483756.txt]
> >>
> >>                 INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResp
> >> o
> >> nseFtpRouteBuilder>
> >> Picked IOP response file :
> >>
> >>                                 SX30RPMAJAR1702483756.txt from IOP
> >> FTP directory
> >>
> >>                 INFO 07:47:23 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResp
> >> o
> >> nseFtpRouteBuilder>
> >> Sending IOP response file
> >>
> >>                                 : SX30RPMAJAR1702483756.txt to ICOMS
> >> FTP directory
> >>
> >>                 DEBUG 07:47:23 (Camel (cfgMgrCamelContext) thread #6
> >> -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.processor.SendProcessor> >>>> Endpoint[sftp://
> 10.100.150.
> >> 190/icoms/1?download=false&maxMessagesPer
> >>
> >>                                 Poll=10&password=xxxxxx&
> >> tempPrefix=Q&username=sigmauser] Exchange[SX30RPMAJAR1702483756.txt]
> >>
> >>
> >>
> >>
> >>
> >>                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6
> >> -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.component.file.GenericFileConverter> Read file
> >> /data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1/SX30RPMAJA
> >> R
> >> 1702483756.txt
> >> (no charset)
> >>
> >>                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6
> >> -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.component.file.remote.SftpOperations> About to store
> >> file: QSX30RPMAJAR1702483756.txt using stream:
> >> java.io.BufferedInputStream@
> >> 7954cfa8
> >>
> >>                 DEBUG 07:50:40 (Camel (cfgMgrCamelContext) thread #6
> >> -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.component.file.remote.SftpOperations> Took 0.659
> >> seconds
> >> (659 millis) to store file: QSX30RPMAJAR1702483756.txt and FTP client
> >> returned: true
> >>
> >>                 DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6
> >> -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.component.file.remote.RemoteFileProducer> Wrote
> >> [icoms/1/QSX30RPMAJAR1702483756.txt]
> >> to [Endpoint[sftp://10.100.150.190/icoms/1?download=false&
> >> maxMessagesPerPoll=10&password=xxxxxx&tempPrefix=Q&username=sigmauser
> >> ]
> >> ]
> >>
> >>                 DEBUG 07:50:41 (Camel (cfgMgrCamelContext) thread #6
> >> -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> org.apache.camel.component.file.remote.SftpOperations> Renaming file:
> >> icoms/1/QSX30RPMAJAR1702483756.txt to:
> >> icoms/1/SX30RPMAJAR1702483756.txt
> >>
> >>                 INFO 07:50:41 (Camel (cfgMgrCamelContext) thread #6 -
> >> file:///data/users/slvm02/smp53/domains/vmb/Icoms/iop_responses/1)
> >> com.sigma.samp.imp.virginmedia.bss.voice.camelroutes.iopRoute.IOPResp
> >> o
> >> nseFtpRouteBuilder> IOP response file : SX30RPMAJAR1702483756.txt
> >> successfully sent to ICOMS FTP directory
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >> ============================================================
> >> ========================================
> >>
> >> Similarly when we achieved the files from target directory. It took
> >> around
> >> 6 sec.It seems like there is a performance issue with camel sftp
> component.
> >> Does it list the files in target directory which is taking time.
> >>
> >> ============================================================
> >> =======================================
> >>
> >>
> >>
> >> PFB the producer route which we set up
> >>
> >> sftp://10.100.150.190/icoms/1?download=false&maxMessagesPerPoll=10&
> >> password=xxxxxx&tempPrefix=Q&username=sigmauser
> >>
> >>
> >>
> >>
> >>
> >> Please let us know if you need anything else.
> >>
> >>
> >>
> >>
> >>
> >> *Ayush Dixit*
> >> *Software Engineer*
> >> ayush.dixit@sigma-systems.com
> >>
> >> O: +91.20.25661992 x 321 <+91%2020%202566%201992> |  M:
> >> +91-814-982-6260 <+91%2081498%2026260> | Skype: ayushdixit421
> >>
> >> [image: cid:image001.jpg@01D16809.E12C0D50]
> >> <http://www.sigma-systems.com/>
> >>
> >>
> >>
> >>
> >>
> >
> >
> >
> > --
> > Claus Ibsen
> > -----------------
> > http://davsclaus.com @davsclaus
> > Camel in Action 2: https://www.manning.com/ibsen2
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>

--001a1149af4e6c26f5054cc93177--

From users-return-65284-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 10 07:30:49 2017
Return-Path: <users-return-65284-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 79FDB187F9
	for <apmail-camel-users-archive@www.apache.org>; Mon, 10 Apr 2017 07:30:49 +0000 (UTC)
Received: (qmail 51504 invoked by uid 500); 10 Apr 2017 07:30:49 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 51459 invoked by uid 500); 10 Apr 2017 07:30:48 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 47352 invoked by uid 99); 10 Apr 2017 07:29:13 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.63
X-Spam-Level: **
X-Spam-Status: No, score=2.63 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_ENVFROM_END_DIGIT=0.25, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	WEIRD_PORT=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=D7og2cnxFTThbebgEdenmBQAZNzpidECKjISjRv8fEQ=;
        b=nUM5FCjvsJrkhkV1+oM4Kszgc5xjhnKxwLWkNHVQ1/swm203EGqR6rWXXia8+VCjJt
         Q3JFDNixyXeydUOeRDy0NxPlI+dObeTOk+ib4MEBcRmL7tSK7vcIzDrYPWDI56aatI7v
         h4ay7PDOCHfgY30jcRbtM3Jo8RIgOZpj/gSRpguydHzkzDG4BusMv8AcvLrAlgnMvXKU
         j+qkV7np6Vy+6hJA1xSmwohYi+eSyQx01k/NE5tI81Bdqp/Tobn7TGL6Eur5vrnKttZ/
         ouS5N7ACzhzxCj+3qqqNQolXrKEbS4h9f7AF1IB3D9bfUx4RCfb8hqo5vxSH3gNTKHrt
         tUGg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=D7og2cnxFTThbebgEdenmBQAZNzpidECKjISjRv8fEQ=;
        b=Z13ESrUyXTN6bkGD0WJZgRvQILtd2FkJ2WrhZSbrXPFiegdu72mv+2fRzRodYBCDD1
         0D0AJy4i2XQxBta1rYihCs9wnr3znnAMXnN3clXyFp20zRmirJPGtr91s+ZUCWEODzv8
         2jKvpmoGbKa0Z/N65eR2WTjSjUgV0IssG2gZYKCj64II64qtmOcnU5AtmWj7RUpu+u1a
         BKVXUcG+pSj0rrNfiby/IJvFE1apOfdBhiCATVCJPvcmqHOqO0W0eiKOfxFXzP6gFG6O
         fYlQ0lDXSI/fBUSRn8T7cByF7WkRhck0V91BQm8842AbBmGzooDMcn8wED/aMbMTAjSB
         uRSw==
X-Gm-Message-State: AFeK/H2CSaNRWbonyXBg7KZcb5d1/2ZwZaffKA/2SWtlluRBk0VHHFG4M6ERUK0AIc0V83V78/DCxkrFltV22g==
X-Received: by 10.176.91.85 with SMTP id v21mr27160680uae.133.1491809305199;
 Mon, 10 Apr 2017 00:28:25 -0700 (PDT)
MIME-Version: 1.0
From: james isaac <jamesisaac21@gmail.com>
Date: Mon, 10 Apr 2017 12:58:24 +0530
Message-ID: <CAGjCRh7g7ur=EhAyPexOKf8ODRTryb8ZzJ7FEO5Jyp558GzFrQ@mail.gmail.com>
Subject: Optimizing Camel HTTP4 with KeepAlive
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=f403045f8d3ab58a4d054ccaeb98

--f403045f8d3ab58a4d054ccaeb98
Content-Type: text/plain; charset=UTF-8

down votefavorite
<http://stackoverflow.com/questions/43276849/optimizing-camel-http4-with-keepalive#>

I want to be able to POST messages to an HTTPS server using Camel at a
pretty fast rate ( > 1500/sec) using only one connection to the server.

I tried setting keepAlive to true, but I still cant see any improvement in
speed.

Took the tcpdump while sending 5 messages, and I find 5 SYN/ACK packets on
wireshark. Possibly the SSL certificate is also being sent on each POST.
(102 packets captured by the tcpdump, but all I am sending are 5
"HelloWorld" strings)

Is there any way I can speed things up? This is the code I used:

 CamelContext context = new DefaultCamelContext();
    final HttpComponent http = (HttpComponent) context.getComponent("https4");

    http.setConnectionsPerRoute(1);
    http.setMaxTotalConnections(1);
    HttpConfiguration httpConfiguration = new HttpConfiguration();
    http.setHttpConfiguration(httpConfiguration);;

    context.addComponent("fcpHttpComponent", http);
    template = context.createProducerTemplate();

    headers.put(Exchange.CONTENT_TYPE, "application/json");
    headers.put(Exchange.HTTP_METHOD, HttpMethods.POST);
    final String endpoint = "https://xxx.xxx.xxx.xxx:4443";

    try {
        httpEndpoint = new HttpEndpoint(endpoint, http, new URI(endpoint));
        httpEndpoint.configureProperties(headers);
        PoolingHttpClientConnectionManager clientConnectionManager =
new PoolingHttpClientConnectionManager();
        SocketConfig socketConfig = SocketConfig.custom()
                .setSoKeepAlive(true)
                .setSoReuseAddress(true)
                .setTcpNoDelay(true)
                .setSndBufSize(10)
                .build();
        clientConnectionManager.setDefaultSocketConfig(socketConfig);

        HttpClientBuilder clientBuilder = HttpClientBuilder.create();
        clientBuilder.setMaxConnPerRoute(1);
        clientBuilder.setConnectionManager(clientConnectionManager);
        clientBuilder.build();
        ConnectionKeepAliveStrategy keepAliveStrategy = new
DefaultConnectionKeepAliveStrategy();
        clientBuilder.setKeepAliveStrategy(keepAliveStrategy );
        httpEndpoint.setClientBuilder(clientBuilder);

        httpEndpoint.setClientConnectionManager(clientConnectionManager);

        template.start();
        context.start();
    } catch (final Exception e) {
        LOG.error("Exception while starting Camel context ", e);
    }

    //Call this method 5 times
    template.asyncRequestBodyAndHeaders(httpEndpoint, message, headers);


The SSL certificate details are given as JVM arguments. I am able to POST
data but the speed is something I need to improve.

[Posted this on stackoverflow, too :
http://stackoverflow.com/questions/43276849/optimizing-camel-http4-with-keepalive
]

--f403045f8d3ab58a4d054ccaeb98--

From users-return-65285-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 10 09:49:21 2017
Return-Path: <users-return-65285-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A85018D0F
	for <apmail-camel-users-archive@www.apache.org>; Mon, 10 Apr 2017 09:49:21 +0000 (UTC)
Received: (qmail 78746 invoked by uid 500); 10 Apr 2017 09:49:21 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 78698 invoked by uid 500); 10 Apr 2017 09:49:21 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 78687 invoked by uid 99); 10 Apr 2017 09:49:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Apr 2017 09:49:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 58C701A7B4C
	for <users@camel.apache.org>; Mon, 10 Apr 2017 09:49:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.785
X-Spam-Level: **
X-Spam-Status: No, score=2.785 tagged_above=-999 required=6.31
	tests=[KAM_NUMSUBJECT=0.5, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Qjwbp1QZ-Dgd for <users@camel.apache.org>;
	Mon, 10 Apr 2017 09:49:17 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id BCD9F5FB5B
	for <users@camel.apache.org>; Mon, 10 Apr 2017 09:49:16 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 5E56A38CF8A73
	for <users@camel.apache.org>; Mon, 10 Apr 2017 02:49:16 -0700 (MST)
Date: Mon, 10 Apr 2017 02:49:16 -0700 (MST)
From: njssferreira <nuno.ferreira@stef.com>
To: users@camel.apache.org
Message-ID: <1491817756379-5797302.post@n5.nabble.com>
In-Reply-To: <1491582091309-5797156.post@n5.nabble.com>
References: <1491582091309-5797156.post@n5.nabble.com>
Subject: Re: Camel route not working after update from Camel 2.13.0 to
 2.17.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


UPDATE:

The problem seems to be coming from the xpath method which in the previous
version returned the correct node where some information needs to be set and
now is returning null.



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-route-not-working-after-update-from-Camel-2-13-0-to-2-17-2-tp5797156p5797302.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65286-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 10 13:39:50 2017
Return-Path: <users-return-65286-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C1C9719665
	for <apmail-camel-users-archive@www.apache.org>; Mon, 10 Apr 2017 13:39:50 +0000 (UTC)
Received: (qmail 45941 invoked by uid 500); 10 Apr 2017 13:39:50 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 45886 invoked by uid 500); 10 Apr 2017 13:39:50 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 45863 invoked by uid 99); 10 Apr 2017 13:39:49 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Apr 2017 13:39:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1EA1CC1444
	for <users@camel.apache.org>; Mon, 10 Apr 2017 13:39:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.313
X-Spam-Level: ****
X-Spam-Status: No, score=4.313 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=2, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_NONE=-0.0001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id xerrInns3mL1 for <users@camel.apache.org>;
	Mon, 10 Apr 2017 13:39:47 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 6C0945F610
	for <users@camel.apache.org>; Mon, 10 Apr 2017 13:39:46 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 44BC038D9EF5F
	for <users@camel.apache.org>; Mon, 10 Apr 2017 06:39:45 -0700 (MST)
Date: Mon, 10 Apr 2017 06:39:45 -0700 (MST)
From: raulsperoni <raul@mgcoders.uy>
To: users@camel.apache.org
Message-ID: <1491831585275-5797310.post@n5.nabble.com>
Subject: Testing Jpa Consumer Route.
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_78055_1093513302.1491831585275"

------=_Part_78055_1093513302.1491831585275
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi, i'm having problems with testing a Jpaconsumer route, i'm trying to
replace the jpa endpoint with direct: using replacefromwith but i'm getting:
No consumers available on endpoint.What am i doing wrong?Thank you.*Test
def*public class RutaArchivarItemsTest extends CamelTestSupport {   
@Produce(uri = "direct:producer")    protected ProducerTemplate template;   
@EndpointInject(uri = "direct:lala")    protected DirectEndpoint
directEndpoint;    @EndpointInject(uri = "mock:borrarEventoPieza")   
protected MockEndpoint borrarEventoPieza;    @EndpointInject(uri =
"mock:archivoArchivoPieza")    protected MockEndpoint archivoArchivoPieza;   
private String id_prefix = RutaArchivarItems.class.getSimpleName();   
@Override    protected RouteBuilder createRouteBuilder() throws Exception {       
return new RutaArchivarItems();    }    @Override    public boolean
isUseAdviceWith() {        return true;    }    public void adviceRoutes()
throws Exception {       
context.getRouteDefinitions().get(0).adviceWith(context, new
AdviceWithRouteBuilder() {            @Override            public void
configure() throws Exception {               
replaceFromWith(directEndpoint);                weaveById(id_prefix +
"guardarArchivo").replace().to(archivoArchivoPieza);               
weaveById(id_prefix + "buscarEventoPieza").remove();               
weaveById(id_prefix + "borrarEventoPieza").replace().to(borrarEventoPieza);               
weaveById(id_prefix + "buscarConfiguracion").replace().process(new
Processor() {                    @Override                    public void
process(Exchange exchange) throws Exception {                       
exchange.getIn().setHeader((String) exchange.getIn().getHeader("key"), "3");                   
}                });            }        });    }    @Test    public void
testEventoSeArchiva() throws Exception {        adviceRoutes();       
context.start();        Date fechaPieza =
DateTime.now().plusHours(-4).toDate();        EventoPieza eventoPieza = new
EventoPieza();        eventoPieza.setIntentos(3);       
eventoPieza.setUltimaFechaEnvio(fechaPieza);       
template.sendBody(directEndpoint,eventoPieza);        assertEquals(1,
borrarEventoPieza.getReceivedCounter());        assertEquals(1,
archivoArchivoPieza.getReceivedCounter());        context.stop();   
}}*Route def:*public class RutaArchivarItems extends RutaBase {    protected
int offset_hours;    protected boolean habilitado;    JpaEndpoint
jpaEventoPieza = new JpaEndpoint();    JpaEndpoint jpaArchivo = new
JpaEndpoint();    @PostConstruct    public void intialize() {        String
delay = cf.find(Configuracion.class,
Configuracion.GENERAL_CONSUMER_DELAY).getValue();        int
backoff_multiplier = Integer.valueOf(cf.find(Configuracion.class,
Configuracion.GENERAL_CONSUMER_BACKOFF_MULTIPLIER).getValue());        int
backoff_threshold = Integer.valueOf(cf.find(Configuracion.class,
Configuracion.GENERAL_CONSUMER_BACKOFF_THRESHOLD).getValue());       
//EventoPieza        jpaEventoPieza.setCamelContext(getContext());       
jpaEventoPieza.setEntityType(EventoPieza.class);       
jpaEventoPieza.setEntityManagerFactory(entityManagerFactory);       
jpaEventoPieza.setTransactionManager(transactionManager);       
jpaEventoPieza.setEndpointUriIfNotSpecified("jpa://archivoEventoPieza");       
//Consumer        jpaEventoPieza.setConsumeDelete(false);        Map<String,
Object> prop = new HashMap<>();        prop.put("delay", delay);       
prop.put("namedQuery", "pieza.paraArchivar");       
jpaEventoPieza.setConsumerProperties(prop);       
jpaEventoPieza.setBackoffMultiplier(backoff_multiplier);       
jpaEventoPieza.setBackoffIdleThreshold(backoff_threshold);       
jpaEventoPieza.setMaximumResults(1000);        //Producer       
jpaArchivo.setCamelContext(getContext());       
jpaArchivo.setEntityType(ArchivoEventos.class);       
jpaArchivo.setEntityManagerFactory(entityManagerFactory);       
jpaArchivo.setTransactionManager(transactionManager);       
jpaArchivo.setFlushOnSend(true);       
jpaArchivo.setEndpointUriIfNotSpecified("jpa://archivoArchivoPieza");       
offset_hours = Integer.valueOf(cf.find(Configuracion.class,
Configuracion.GENERAL_ARCHIVO_OFFSET).getValue());        habilitado =
Boolean.valueOf(cf.find(Configuracion.class,
Configuracion.GENERAL_ARCHIVO_ENABLED).getValue());    }    @Override   
public void configure() throws Exception {       
from(jpaEventoPieza).routeId("A_" + id_prefix).autoStartup(isHabilitado())               
.setHeader("key", constant(Configuracion.GENERAL_ARCHIVO_OFFSET))               
.to("buscarConfiguracion").id(id_prefix + "buscarConfiguracion")               
.filter().method(BDUtils.class, "piezaListaParaArchivar")               
.process(new Processor() {                    @Override                   
public void process(Exchange exchange) throws Exception {                       
Message in = exchange.getIn();                        EventoPieza item =
(EventoPieza) in.getBody();                        ArchivoEventos
archivoEventos = new ArchivoEventos(item);                       
in.setBody(archivoEventos);                        in.setHeader("itemId",
item.getItemId());                        in.setHeader("event",
item.getEvent());                        in.setHeader("version",
item.getVersion());                    }                })               
.to(jpaArchivo).id(id_prefix + "guardarArchivo")               
.log(LoggingLevel.INFO, "Archivar: " + body().toString())               
.to("buscarEventoPieza").id(id_prefix + "buscarEventoPieza")               
.to("borrarEventoPieza").id(id_prefix + "borrarEventoPieza")               
.log(LoggingLevel.INFO, "Borrar: " + body().toString());    }    public
boolean isHabilitado() {        return habilitado;    }}



--
View this message in context: http://camel.465427.n5.nabble.com/Testing-Jpa-Consumer-Route-tp5797310.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_78055_1093513302.1491831585275--

From users-return-65287-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 10 13:54:28 2017
Return-Path: <users-return-65287-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1CA631971E
	for <apmail-camel-users-archive@www.apache.org>; Mon, 10 Apr 2017 13:54:28 +0000 (UTC)
Received: (qmail 82288 invoked by uid 500); 10 Apr 2017 13:54:27 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 82244 invoked by uid 500); 10 Apr 2017 13:54:27 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 76012 invoked by uid 99); 10 Apr 2017 13:51:25 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.486
X-Spam-Level: *****
X-Spam-Status: No, score=5.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Mon, 10 Apr 2017 06:51:20 -0700 (MST)
From: raulsperoni <raulsperoni@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+rFw4tgbFNRJdt0mxvWhziMsW216ZDQ4m=JNJ0SveSxr4XUUQ@mail.gmail.com>
Subject: Test JpaConsumer route.
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_78589_1129073421.1491832280864"

------=_Part_78589_1129073421.1491832280864
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi, I'm having problems while replacing jpaEndpoint with direct in the
test. Error is "No consumers available on endpoint".

Thanks in advance!

Here is test definition:

 public class RutaArchivarItemsTest extends CamelTestSupport {


    @Produce(uri = "direct:producer")
    protected ProducerTemplate template;

    @EndpointInject(uri = "direct:lala")
    protected DirectEndpoint directEndpoint;

    @EndpointInject(uri = "mock:borrarEventoPieza")
    protected MockEndpoint borrarEventoPieza;

    @EndpointInject(uri = "mock:archivoArchivoPieza")
    protected MockEndpoint archivoArchivoPieza;

    private String id_prefix = RutaArchivarItems.class.getSimpleName();

    @Override
    protected RouteBuilder createRouteBuilder() throws Exception {
        return new RutaArchivarItems();
    }

    @Override
    public boolean isUseAdviceWith() {
        return true;
    }

    public void adviceRoutes() throws Exception {
        context.getRouteDefinitions().get(0).adviceWith(context, new
AdviceWithRouteBuilder() {
            @Override
            public void configure() throws Exception {
                replaceFromWith(directEndpoint);
                weaveById(id_prefix +
"guardarArchivo").replace().to(archivoArchivoPieza);
                weaveById(id_prefix + "buscarEventoPieza").remove();
                weaveById(id_prefix +
"borrarEventoPieza").replace().to(borrarEventoPieza);
                weaveById(id_prefix +
"buscarConfiguracion").replace().process(new Processor() {
                    @Override
                    public void process(Exchange exchange) throws Exception {
                        exchange.getIn().setHeader((String)
exchange.getIn().getHeader("key"), "3");
                    }
                });
            }
        });
    }

    @Test
    public void testEventoSeArchiva() throws Exception {
        adviceRoutes();
        context.start();
        Date fechaPieza = DateTime.now().plusHours(-4).toDate();
        EventoPieza eventoPieza = new EventoPieza();
        eventoPieza.setIntentos(3);
        eventoPieza.setUltimaFechaEnvio(fechaPieza);
        template.sendBody(directEndpoint,eventoPieza);
        assertEquals(1, borrarEventoPieza.getReceivedCounter());
        assertEquals(1, archivoArchivoPieza.getReceivedCounter());
        context.stop();
    }

}


And route definition:

@ContextName("cdi-context")
public class RutaArchivarItems extends RutaBase {

    protected int offset_hours;
    protected boolean habilitado;

    JpaEndpoint jpaEventoPieza = new JpaEndpoint();
    JpaEndpoint jpaArchivo = new JpaEndpoint();

    @PostConstruct
    public void intialize() {

        String delay = cf.find(Configuracion.class,
Configuracion.GENERAL_CONSUMER_DELAY).getValue();
        int backoff_multiplier =
Integer.valueOf(cf.find(Configuracion.class,
Configuracion.GENERAL_CONSUMER_BACKOFF_MULTIPLIER).getValue());
        int backoff_threshold =
Integer.valueOf(cf.find(Configuracion.class,
Configuracion.GENERAL_CONSUMER_BACKOFF_THRESHOLD).getValue());

        //EventoPieza
        jpaEventoPieza.setCamelContext(getContext());
        jpaEventoPieza.setEntityType(EventoPieza.class);
        jpaEventoPieza.setEntityManagerFactory(entityManagerFactory);
        jpaEventoPieza.setTransactionManager(transactionManager);
        jpaEventoPieza.setEndpointUriIfNotSpecified("jpa://archivoEventoPieza");

        //Consumer
        jpaEventoPieza.setConsumeDelete(false);
        Map<String, Object> prop = new HashMap<>();
        prop.put("delay", delay);
        prop.put("namedQuery", "pieza.paraArchivar");
        jpaEventoPieza.setConsumerProperties(prop);
        jpaEventoPieza.setBackoffMultiplier(backoff_multiplier);
        jpaEventoPieza.setBackoffIdleThreshold(backoff_threshold);
        jpaEventoPieza.setMaximumResults(1000);


        //Producer
        jpaArchivo.setCamelContext(getContext());
        jpaArchivo.setEntityType(ArchivoEventos.class);
        jpaArchivo.setEntityManagerFactory(entityManagerFactory);
        jpaArchivo.setTransactionManager(transactionManager);
        jpaArchivo.setFlushOnSend(true);
        jpaArchivo.setEndpointUriIfNotSpecified("jpa://archivoArchivoPieza");

        offset_hours = Integer.valueOf(cf.find(Configuracion.class,
Configuracion.GENERAL_ARCHIVO_OFFSET).getValue());
        habilitado = Boolean.valueOf(cf.find(Configuracion.class,
Configuracion.GENERAL_ARCHIVO_ENABLED).getValue());


    }

    @Override
    public void configure() throws Exception {


        from(jpaEventoPieza).routeId("A_" +
id_prefix).autoStartup(isHabilitado())
                .setHeader("key",
constant(Configuracion.GENERAL_ARCHIVO_OFFSET))
                .to("buscarConfiguracion").id(id_prefix + "buscarConfiguracion")
                .filter().method(BDUtils.class, "piezaListaParaArchivar")
                .process(new Processor() {
                    @Override
                    public void process(Exchange exchange) throws Exception {
                        Message in = exchange.getIn();
                        EventoPieza item = (EventoPieza) in.getBody();
                        ArchivoEventos archivoEventos = new
ArchivoEventos(item);
                        in.setBody(archivoEventos);
                        in.setHeader("itemId", item.getItemId());
                        in.setHeader("event", item.getEvent());
                        in.setHeader("version", item.getVersion());
                    }
                })
                .to(jpaArchivo).id(id_prefix + "guardarArchivo")
                .log(LoggingLevel.INFO, "Archivar: " + body().toString())
                .to("buscarEventoPieza").id(id_prefix + "buscarEventoPieza")
                .to("borrarEventoPieza").id(id_prefix + "borrarEventoPieza")
                .log(LoggingLevel.INFO, "Borrar: " + body().toString());

    }

    public boolean isHabilitado() {
        return habilitado;
    }

}




--
View this message in context: http://camel.465427.n5.nabble.com/Test-JpaConsumer-route-tp5797313.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_78589_1129073421.1491832280864--

From users-return-65288-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 10 14:44:03 2017
Return-Path: <users-return-65288-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AFC16199B1
	for <apmail-camel-users-archive@www.apache.org>; Mon, 10 Apr 2017 14:44:03 +0000 (UTC)
Received: (qmail 92971 invoked by uid 500); 10 Apr 2017 14:44:03 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 92927 invoked by uid 500); 10 Apr 2017 14:44:03 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 92911 invoked by uid 99); 10 Apr 2017 14:44:02 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Apr 2017 14:44:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 708B8C1444
	for <users@camel.apache.org>; Mon, 10 Apr 2017 14:44:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id UHJZZW--21M9 for <users@camel.apache.org>;
	Mon, 10 Apr 2017 14:44:00 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id C4AEB5F610
	for <users@camel.apache.org>; Mon, 10 Apr 2017 14:43:59 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 2E83838DCC905
	for <users@camel.apache.org>; Mon, 10 Apr 2017 07:43:59 -0700 (MST)
Date: Mon, 10 Apr 2017 07:43:59 -0700 (MST)
From: sathwik <inbox2sathwik@gmail.com>
To: users@camel.apache.org
Message-ID: <1491835439183-5797319.post@n5.nabble.com>
Subject: Camel-cassandra component
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi,

I am trying to query Cassandra Db from camel-context.=20

Below is the route:

<route=3D&quot;test&quot;>
    <to uri=3D"cql://127.0.0.1:9042/empdetails?cql=3Dselect * from
employee;&amp;consistencyLevel=3Dquorum"/>
</route>

I have included below dependencies:

<dependency>
    <groupId>org.apache.camel</groupId>
    <artifactId>camel-cassandraql</artifactId>
    <version>2.17.1</version>
=09</dependency>
=09<dependency>
  <groupId>com.datastax.cassandra</groupId>
  <artifactId>cassandra-driver-core</artifactId>
  <version>3.0.0-alpha1</version>
</dependency>

I am facing below exceptions:

by: java.lang.IllegalArgumentException: Prepared statement has only 0
variables, 1 values provided at
com.datastax.driver.core.BoundStatement.bind(BoundStatement.=E2=80=8C=E2=80=
=8Bjava:140)[556:com.da=E2=80=8C=E2=80=8Btastax.driver.core:2=E2=80=8C=E2=
=80=8B.1.5]

Therefore i changed the my route as below:
 <to uri=3D"cql:127.0.0.1:9042/empdetails?cql=3Dselect * from employee wher=
e
id=3D2"/>

I am facing below exceptions:
com.datastax.driver.core.exceptions.InvalidQueryException: Invalid amount o=
f
bind variables
    at
com.datastax.driver.core.exceptions.InvalidQueryException.copy(InvalidQuery=
Exception.java

Please let me know the cause for this issue.

Thanks,
sathwik






--
View this message in context: http://camel.465427.n5.nabble.com/Camel-cassa=
ndra-component-tp5797319.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65289-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 05:14:44 2017
Return-Path: <users-return-65289-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3184B19DE5
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 05:14:44 +0000 (UTC)
Received: (qmail 94793 invoked by uid 500); 11 Apr 2017 05:14:43 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 94743 invoked by uid 500); 11 Apr 2017 05:14:43 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 94730 invoked by uid 99); 11 Apr 2017 05:14:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Apr 2017 05:14:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B6760C023E
	for <users@camel.apache.org>; Tue, 11 Apr 2017 05:14:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.192
X-Spam-Level: *
X-Spam-Status: No, score=1.192 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 01EH39nj_DnU for <users@camel.apache.org>;
	Tue, 11 Apr 2017 05:14:41 +0000 (UTC)
Received: from mail-pg0-f45.google.com (mail-pg0-f45.google.com [74.125.83.45])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 0402F5FE56
	for <users@camel.apache.org>; Tue, 11 Apr 2017 05:14:41 +0000 (UTC)
Received: by mail-pg0-f45.google.com with SMTP id x125so116635557pgb.0
        for <users@camel.apache.org>; Mon, 10 Apr 2017 22:14:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-transfer-encoding;
        bh=HBD/L2FXsREE/vyZSLspG+zjJhJ6tI1qKlTbjzA9S3Y=;
        b=MlL53MVsj9Ru7Mm7iNxISXDA/YA+6j3q1LGr9cjfiTBKBwOnP0y2zNtYcBW0VjdJCA
         tgzVWVzoQftLVQzNlnyQXQs6gcFTB6OIapnaBgZg4d5jfY5VP71OErZeV+5smXG377iF
         UO+9xG7eu4p6sQ08Uhij/wVo08OhvxFy4ZgStthCRTO/+cPsye7sxlOuQtqiXWcYX1LC
         Qcnlqmx/SI5x7qJJdcYpdqemv/x7sJu2Sn7BbLReojuuSQBEXb+kekAkBs0X4abeOTFX
         w2W7Re0KNv0QfQmcjudpm+rv63RgJOx+vP4t6+5PSQBU44Lp6hpNdkuKMQpTGzHQtPf4
         XyMg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-transfer-encoding;
        bh=HBD/L2FXsREE/vyZSLspG+zjJhJ6tI1qKlTbjzA9S3Y=;
        b=HAA09sb4vN+EhNAwlScs9CAWrfsXLH86bX/1yt4+btWhSbocnl6wb296TrXfIkEoP5
         fImFvFNAQ95wFMHstS3H4zMJzpiPhDgKVFeANuuIP80VAl+pznkaqCJJ1fHDBAKEfLNg
         gZOz2iPq1ZrorDSWzdKJ5c9L1NEyInZsnwOWZvI/bC/NTS9qRaozTfL4B/FZiEJP2S4R
         /4llHJVr6vZuUyxJVX+Rrb8TPrJ0QTZhibRlIDY3J6jtZ58HST1Dty0S7/kp6E0jeWLE
         iL/fMAqqQAs5wFy1adn89Q7XsIyRkvkLisYBZEolo/Fxwh5P3Xo106TF83gR2Kl76xqx
         aoMg==
X-Gm-Message-State: AFeK/H3VwqN6x2vyjKxKSFRFrwpOyFelk3XBrpq+DhXtNBLJIbzYoDy2OSOaaSUy8yJmWQ==
X-Received: by 10.98.9.156 with SMTP id 28mr58362846pfj.199.1491887674358;
        Mon, 10 Apr 2017 22:14:34 -0700 (PDT)
Received: from [192.168.12.56] (p539221-ipngn6101funabasi.chiba.ocn.ne.jp. [219.160.150.221])
        by smtp.googlemail.com with ESMTPSA id r17sm27721248pgg.19.2017.04.10.22.14.32
        for <users@camel.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Mon, 10 Apr 2017 22:14:33 -0700 (PDT)
Subject: Re: Camel-cassandra component
To: users@camel.apache.org
References: <1491835439183-5797319.post@n5.nabble.com>
From: Tomohisa Igarashi <tm.igarashi@gmail.com>
Message-ID: <605defa4-f35a-9856-2ef5-c8319123d9ca@gmail.com>
Date: Tue, 11 Apr 2017 14:14:31 +0900
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20100101
 Thunderbird/45.8.0
MIME-Version: 1.0
In-Reply-To: <1491835439183-5797319.post@n5.nabble.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Hi,

According to the doc and code message body is used as query parameters in camel-cassandrasql
http://camel.apache.org/cassandra.html
https://github.com/apache/camel/blob/master/components/camel-cassandraql/src/main/java/org/apache/camel/component/cassandra/CassandraProducer.java#L75

So you may need to send a null/empty body when using static cql.

Thanks,
Tomo


On 04/10/2017 11:43 PM, sathwik wrote:
> Hi,
>
> I am trying to query Cassandra Db from camel-context.
>
> Below is the route:
>
> <route=&quot;test&quot;>
>     <to uri="cql://127.0.0.1:9042/empdetails?cql=select * from
> employee;&amp;consistencyLevel=quorum"/>
> </route>
>
> I have included below dependencies:
>
> <dependency>
>     <groupId>org.apache.camel</groupId>
>     <artifactId>camel-cassandraql</artifactId>
>     <version>2.17.1</version>
> 	</dependency>
> 	<dependency>
>   <groupId>com.datastax.cassandra</groupId>
>   <artifactId>cassandra-driver-core</artifactId>
>   <version>3.0.0-alpha1</version>
> </dependency>
>
> I am facing below exceptions:
>
> by: java.lang.IllegalArgumentException: Prepared statement has only 0
> variables, 1 values provided at
> com.datastax.driver.core.BoundStatement.bind(BoundStatement.‌​java:140)[556:com.da‌​tastax.driver.core:2‌​.1.5]
>
> Therefore i changed the my route as below:
>  <to uri="cql:127.0.0.1:9042/empdetails?cql=select * from employee where
> id=2"/>
>
> I am facing below exceptions:
> com.datastax.driver.core.exceptions.InvalidQueryException: Invalid amount of
> bind variables
>     at
> com.datastax.driver.core.exceptions.InvalidQueryException.copy(InvalidQueryException.java
>
> Please let me know the cause for this issue.
>
> Thanks,
> sathwik
>
>
>
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Camel-cassandra-component-tp5797319.html
> Sent from the Camel - Users mailing list archive at Nabble.com.
>

From users-return-65290-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 08:45:55 2017
Return-Path: <users-return-65290-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5645A18515
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 08:45:55 +0000 (UTC)
Received: (qmail 2964 invoked by uid 500); 11 Apr 2017 08:45:54 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 2920 invoked by uid 500); 11 Apr 2017 08:45:54 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 2898 invoked by uid 99); 11 Apr 2017 08:45:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Apr 2017 08:45:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 78B3CCD46B
	for <users@camel.apache.org>; Tue, 11 Apr 2017 08:45:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.48
X-Spam-Level: **
X-Spam-Status: No, score=2.48 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=ravenpack-com.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ArtVMNwaqmIr for <users@camel.apache.org>;
	Tue, 11 Apr 2017 08:45:51 +0000 (UTC)
Received: from mail-lf0-f41.google.com (mail-lf0-f41.google.com [209.85.215.41])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 425525FC6F
	for <users@camel.apache.org>; Tue, 11 Apr 2017 08:45:51 +0000 (UTC)
Received: by mail-lf0-f41.google.com with SMTP id z15so83168546lfd.1
        for <users@camel.apache.org>; Tue, 11 Apr 2017 01:45:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ravenpack-com.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=+DJqszqjzVBYTfG518b7aEWNPYQ88QOld8PN9kxw5+c=;
        b=YDnyfxQA95BqK7922MPPdRKcjQiNBwJ5GrYZnhVy79D7kcbEalJv+3KdTicuu8dyeQ
         2RFfSMBe1y3gr0ebnaXo93rwlHLCRM6d8ZkM30C1XiF/DNxjMo96In4WmthVtbhxHMIq
         Q65yv3+I+N8yAlQwdEi+mzCFZut8Ry+1NYjLmsJoa+cJpv1c4szkzJvAVb7Sx4XqRieB
         /stuD4OpZ7fGTXM25eqy87TKYAERfFC2QVG3CDd1gVXQIQ6uD2Abp7g+TPwwdFJCB8xV
         K/djd3BABCvD1aCdO0PPTo6MLCp7gjK5dtPSbSucZVMHD85hXrMuljr3cJ5r2LDvTOlp
         M1mA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=+DJqszqjzVBYTfG518b7aEWNPYQ88QOld8PN9kxw5+c=;
        b=arTM2hxAV782PoL8KSHXwxOSlbhSDDhcOR6LEquSjj5blKpK1MQg3hy1iFl5l4ne4c
         mFBx9FTu84yek+78l2WLJm8rVMYWYMMSQvFBNqzK+q7G1P5f8+ySu2HOKd5G6sY2zrGf
         mSV8YLWK/bNPTzYE58nCXn7uRkQkEvj+M/SV3eDsnnAllkgIJKJXFdePnHPi0bpdScTz
         40xnMfBuAAw+mbISFoDENAHnYjVeiKogllC1AisLfaxkXKK+FdeArv/TPTAbpEXKnPxS
         W/tTPD709BwLLyji+ybmW2woJKRAlqACPIb4pElx3zAlXiBLFb70VOtpPU5v6HJLvhqN
         qh0g==
X-Gm-Message-State: AFeK/H1SmkMOYU8bptE1XBIWPpuP11o6UisfCefeIaZ4luKCsRAygR2ucdHF4nruvsCMSFaARVocmzrTIRRAtvDb
X-Received: by 10.25.190.2 with SMTP id o2mr20036900lff.80.1491900349769; Tue,
 11 Apr 2017 01:45:49 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.25.39.67 with HTTP; Tue, 11 Apr 2017 01:45:49 -0700 (PDT)
In-Reply-To: <CADUzpe71EqzOsSBk3XDx6hLAM9UTMYMOs6JPKaVgqQOp7H45TA@mail.gmail.com>
References: <CADUzpe432nZf=O_bShjzw9qvqS7Xubc_Bvhf8eifhKPi=VNWSw@mail.gmail.com>
 <CADUzpe6YwyAgZGBSLC9g98oDUkMrnVZ-N_a7SiAsCihSWf-f7A@mail.gmail.com>
 <CADUzpe6F2TvY7kM6S6Kdk-UYpCNxwY77NXp8aR7Reh1PGCGJfQ@mail.gmail.com>
 <CADUzpe4Zp_qhvM2THyc6+L-Pd3nwivhGuyw=k+TZNL64pGPe_g@mail.gmail.com>
 <CADUzpe4_FoBQus3yMvk0m+K_jc8n-66MOC8KCEC7Tyvcv9-N5w@mail.gmail.com>
 <CADUzpe7TMoGVyHVbtDQWxE23coSZxVVwrEXwioTmVm923McZaQ@mail.gmail.com>
 <CADUzpe6QfQciTxY9Xx-8hTs_RQcY_ehzAyZAYvvRNqPaNnRVSQ@mail.gmail.com>
 <CADUzpe4bD6u_7n2Nivje26Uvqa_6GPw6qYWjNYRegnZ70aLeew@mail.gmail.com>
 <CADUzpe5bHsXJoFtwFEJ1_o8SrFQKT1bOmUF6EM8vkjg8NrTUpA@mail.gmail.com>
 <CADUzpe7upq4whYMdZ6PPiuQpvShGaFcLAntALN-Kaz6K-HdO2A@mail.gmail.com>
 <CADUzpe6Nj0vTfpdnHxsreDT8m_Q1Om8iHzF624yvw1BAQgtD9Q@mail.gmail.com>
 <CADUzpe4g=_e2BeWcvEug9Sj7LcbDVMEgRT=7S6nnvOMKXS0eMw@mail.gmail.com>
 <CADUzpe7pXptw7phTajnq_8-ho3CEdG39PrNF1NwFhcmLiiL8aw@mail.gmail.com>
 <CADUzpe7QgvpT8x80UPixxpHR_MXtDr3Y6Mn-oiHbnF=wP67AAw@mail.gmail.com>
 <CABD_Zr-1MfR7kP+xHv3AN2HAuH7=tBTK-s7m_9cwogysqYRxyA@mail.gmail.com>
 <CADUzpe5K4Qy=Dtu=9Qgnz4HoXXnLfp2UkShMgACy-n-Kv77XZg@mail.gmail.com>
 <CABD_Zr95vrZzdwYTZFoQcKy-s3Xe8oG1uSUf3k-=+TSBPyNaYQ@mail.gmail.com> <CADUzpe71EqzOsSBk3XDx6hLAM9UTMYMOs6JPKaVgqQOp7H45TA@mail.gmail.com>
From: Artur Jablonski <ajablonski@ravenpack.com>
Date: Tue, 11 Apr 2017 10:45:49 +0200
Message-ID: <CADUzpe75hQ9n+Cdz-NYvcuoDP=Pi-JyyRnb+Yc=1u9Ff5QqqNQ@mail.gmail.com>
Subject: Re: Curious routing case
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c1a087c638169054ce01e39

--94eb2c1a087c638169054ce01e39
Content-Type: text/plain; charset=UTF-8

Hello,

I don't think this route definition is fitting my use case, though I learnt
a thing or two about the interesting patterns linked. Thanks!

Ok, so let me try to clarify the use case.


1. The stream is infinite, it's not a batch job. The messages keep on
coming from SQS 'all the time'

2. More important thing is about parallel processing.

Let A1 denote a message 1 from group A, B2 message 2 from group B, etc.

Let's say this is the order in which the messages happen to appear
 in the route from SQS

A1, A2, B1, C1, B2, A3, C2, B3

Now what I am trying to achieve is grouping the messages that have to be
processed sequentially (order doesn't matter as long as no two messages
from the same group are processed at the same time).
So I am trying to somehow get these streams

A1, A2, A3

B1, B2, B3

C1, C2


So, A1 B1 and C1 can be processed in parallel because they are from
different groups, but the messages within groups need to be processed one
by one.

In my example, there are 3 groups, but there can be many and I don't know
what they are in advance. The processing logic between the groups is
similar and is a function of the group so I can get a processor for group A
from a method call getProcessor(A), B getProcessor(B), etc.

I am stuck at how to do that in Camel, because since I don't know the
groups in advance, I would need to create processing routes dynamically.

Say the system starts, and A1 arrives, there can't be any processor for
group A yet, since it's the first message from the group and I need to
somehow dynamically add processing capability of the group A to the route
and then perhaps if the messages from group A stop arriving for some time,
that processor could be removed.

How to add the parallel part between the group messages is also blurry to
me. One way of doing this I was thinking was to do a multicast to all the
dynamically created processing routes for groups and stick a filter before
so that only messages from particular group can go through. From multicast
page:

from("direct:a").multicast().parallelProcessing().to("direct:x",
"direct:y", "direct:z");

But here the x,y,z endpoints are hardcoded. I could write up some custom
multicast I suppose to search the routes in CamelContext...... not sure.

Thanks
Artur





On Mon, Apr 3, 2017 at 1:36 PM, Artur Jablonski <ajablonski@ravenpack.com>
wrote:

> Hi Zoran,
>
> Thank you for such detailed response. This looks very promising. i will
> need to get my head around the aggregator pattern.
> For this week I will be busy with other tasks, but I will get back to it
> as soon as I can to see if I can get Camel work for the use case.
>
> Cheerio
> Artur
>
> On Mon, Apr 3, 2017 at 11:09 AM, Zoran Regvart <zoran@regvart.com> wrote:
>
>> Hi Artur,
>> I was thinking that the order of the messages would be important as
>> you need to process them sequentially.
>>
>> So I think you could use the dynamic message routing[1] with
>> aggregator[2], something like:
>>
>>     from("aws-sqs:...")
>>         .process("#preProcess")
>>         .toD("direct:${header.nextRoute}");
>>
>>     from("direct:parallel")...;
>>     from("direct:sequential").aggregate(simple("${header.group}"
>> )).completion..;
>>
>> So from yout SQS queue you would use a processor to pre-process
>> message whose responsibility would be to set the (custom) `nextRoute`
>> and (custom) `group` headers. `nextRoute` would be `parallel` or
>> `sequential`, and if `sequential` the messages would be aggregated
>> using the `group` header.
>>
>> You would want to define your own custom aggregation strategy or use
>> the completion* options that are available to you. There also might be
>> need to use seda[3] to fine tune any parallel processing. You might
>> throw in there a data format unmarshaller[4] instead of the
>> `preProcess` processor and use something like `${body.xyz} == foo` in
>> the `toD` expression.
>>
>> And I would guess that you need to examine transactions or persistence
>> at some point also in case your aggregation step runs for a long time
>> or if your use case is sensitive to message loss if interrupted --
>> which would undoubtedly lead you back to using queues to separate
>> those two ways of processing,
>>
>> HTH,
>>
>> zoran
>>
>> [1] https://camel.apache.org/message-endpoint.html
>> [2] https://camel.apache.org/aggregator2.html
>> [3] https://camel.apache.org/seda.html
>> [4] https://camel.apache.org/data-format.html
>>
>> On Sat, Apr 1, 2017 at 1:09 PM, Artur Jablonski
>> <ajablonski@ravenpack.com> wrote:
>> > Hey Zoran.
>> >
>> > I read again the patterns you mentioned. In my use case the order of
>> > processing within a group doesn't matter as long as two messages from
>> the
>> > same group are never processed in parallel. So i guess resenquencer is
>> out
>> > of the picture unless I didn't get the intention.
>> >
>> > So what we are left with is the content based router. Sure. The message
>> > comes, i can see what group it belongs two... And what next? Perhaps
>> it's
>> > the very first message from that group so I would need to trigger
>> creating
>> > route/processor for that group somehow, perhaps messages from this group
>> > were processed before in which case the processor for the group should
>> > already exist...
>> >
>> >
>> >
>> >
>> > On 31 Mar 2017 7:58 p.m., "Zoran Regvart" <zoran@regvart.com> wrote:
>> >
>> >> Hi Artur,
>> >> have a look at Camel EIP page[1], what you describe sounds to me like
>> >> Resequencer and Content based router patterns,
>> >>
>> >> zoran
>> >>
>> >> [1] https://camel.apache.org/eip.html
>> >>
>> >> On Fri, Mar 31, 2017 at 5:08 PM, Artur Jablonski
>> >> <ajablonski@ravenpack.com> wrote:
>> >> > Hello.
>> >> >
>> >> > I wonder if someone could push me in the right direction trying to
>> >> express
>> >> > quite curious case in Camel route.
>> >> >
>> >> > Imagine there's a stream of messages some of which can be processed
>> in
>> >> > parallel and some have to be processed serially. You can group the
>> >> messages
>> >> > that require serial processing together by looking at the message
>> body.
>> >> You
>> >> > don't know upfront how many groups can occur in the stream.
>> >> >
>> >> > The way I thought about doing this is having a route for each message
>> >> > group. Since I don't know upfront how many and what groups there
>> will be
>> >> > then I would need to create routes dynamically. If a message comes
>> >> > belonging to a group that doesn't have it's handling route, then i
>> could
>> >> > create it (is that even possible??) Then if there's no messages
>> coming
>> >> for
>> >> > a given group in some time I could remove the route for the group to
>> >> > cleanup (is that possible?)
>> >> >
>> >> > New to Camel
>> >> >
>> >> > Thx!
>> >> > Artur
>> >>
>> >>
>> >>
>> >> --
>> >> Zoran Regvart
>> >>
>>
>>
>>
>> --
>> Zoran Regvart
>>
>
>

--94eb2c1a087c638169054ce01e39--

From users-return-65291-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 11:09:59 2017
Return-Path: <users-return-65291-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DCAA219007
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 11:09:58 +0000 (UTC)
Received: (qmail 14195 invoked by uid 500); 11 Apr 2017 11:09:58 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 14147 invoked by uid 500); 11 Apr 2017 11:09:58 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 80451 invoked by uid 99); 11 Apr 2017 10:08:05 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Tue, 11 Apr 2017 03:07:58 -0700 (MST)
From: sugavanan <sugavanan.v@gmail.com>
To: users@camel.apache.org
Message-ID: <1491905278778-5797333.post@n5.nabble.com>
Subject: Blueprint equivalent of Camel instanceof Predicate
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

How do I convert the below line in Java DSL into an equivalent Blueprint XML
version:

from("seda:input?concurrentConsumers=2").filter(body().isInstanceOf(String.class))

I am particularly willing to know how to use the filter to access the
exchange's body and check if one of the messages is of type "String".

I am aware of creating a predicate class and referencing it. But is there
any other way to do it directly in XML itself with the help of tags.

Thanks.



--
View this message in context: http://camel.465427.n5.nabble.com/Blueprint-equivalent-of-Camel-instanceof-Predicate-tp5797333.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65292-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 11:10:58 2017
Return-Path: <users-return-65292-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CCF9C1904F
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 11:10:58 +0000 (UTC)
Received: (qmail 16266 invoked by uid 500); 11 Apr 2017 11:10:58 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 16222 invoked by uid 500); 11 Apr 2017 11:10:58 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 62223 invoked by uid 99); 11 Apr 2017 10:44:51 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.736
X-Spam-Level: ***
X-Spam-Status: No, score=3.736 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Tue, 11 Apr 2017 03:44:48 -0700 (MST)
From: Fatima Sajjad <fatimasajjad514@gmail.com>
To: users@camel.apache.org
Message-ID: <1491907488851-5797334.post@n5.nabble.com>
Subject: Camel olingo2 component serviceUri exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

 I'm trying to use camel-olingo2 componet but my routes fail with exception
from("direct:start")
   .to("olingo2://read/Products");

Even if I configure the route as this
from("direct:start")
  
.to("olingo2://read/Products?serviceUri=http://services.odata.org/OData/OData.svc/");
	
Please tell me how to set ServiceUri i routes or how to use
Olingo2Configuration class for solving this issue.


Following is the exception stack trace.
15:41:12.099 INFO  c.s.poc.app.EnterpriseIntegration - Camel Route STOPPED!
Exception in thread "main" org.apache.camel.FailedToCreateRouteException:
Failed to create route route3 at: >>>
To[olingo2://read?serviceUri=http://services.odata.org/OData/OData.svc/] <<<
in route: Route(route3)[[From[direct:start]] -> [To[olingo2://read?ser...
because of Failed to resolve endpoint:
olingo2://read?serviceUri=http%3A%2F%2Fservices.odata.org%2FOData%2FOData.svc%2F
due to: serviceUri
	at
org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1071)
	at
org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:196)
	at
org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:984)
	at
org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3401)
	at
org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3132)
	at
org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:183)
	at
org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:2961)
	at
org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:2957)
	at
org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:2980)
	at
org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:2957)
	at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61)
	at
org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:2924)
	at
com.sensys.poc.app.EnterpriseIntegration.main(EnterpriseIntegration.java:33)
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to
resolve endpoint:
olingo2://read?serviceUri=http%3A%2F%2Fservices.odata.org%2FOData%2FOData.svc%2F
due to: serviceUri
	at
org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:623)
	at
org.apache.camel.util.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:79)
	at
org.apache.camel.model.RouteDefinition.resolveEndpoint(RouteDefinition.java:211)
	at
org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:108)
	at
org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:114)
	at
org.apache.camel.model.SendDefinition.resolveEndpoint(SendDefinition.java:62)
	at
org.apache.camel.model.SendDefinition.createProcessor(SendDefinition.java:56)
	at
org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:545)
	at
org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:506)
	at
org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:222)
	at
org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1068)
	... 12 more
Caused by: java.lang.IllegalArgumentException: serviceUri
	at
org.apache.camel.component.olingo2.api.impl.Olingo2AppImpl.setServiceUri(Olingo2AppImpl.java:174)
	at
org.apache.camel.component.olingo2.api.impl.Olingo2AppImpl.<init>(Olingo2AppImpl.java:142)
	at
org.apache.camel.component.olingo2.Olingo2Component.createOlingo2App(Olingo2Component.java:161)
	at
org.apache.camel.component.olingo2.Olingo2Component.createApiProxy(Olingo2Component.java:121)
	at
org.apache.camel.component.olingo2.Olingo2Endpoint.createProxy(Olingo2Endpoint.java:186)
	at
org.apache.camel.component.olingo2.Olingo2Endpoint.afterConfigureProperties(Olingo2Endpoint.java:120)
	at
org.apache.camel.util.component.AbstractApiEndpoint.configureProperties(AbstractApiEndpoint.java:114)
	at
org.apache.camel.component.olingo2.Olingo2Endpoint.configureProperties(Olingo2Endpoint.java:110)
	at
org.apache.camel.component.olingo2.Olingo2Component.createEndpoint(Olingo2Component.java:82)
	at
org.apache.camel.impl.DefaultComponent.createEndpoint(DefaultComponent.java:112)
	at
org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:603)
	... 22 more




--
View this message in context: http://camel.465427.n5.nabble.com/Camel-olingo2-component-serviceUri-exception-tp5797334.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65293-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 11:30:17 2017
Return-Path: <users-return-65293-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5181E1912F
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 11:30:17 +0000 (UTC)
Received: (qmail 52635 invoked by uid 500); 11 Apr 2017 11:30:16 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 52575 invoked by uid 500); 11 Apr 2017 11:30:16 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 52563 invoked by uid 99); 11 Apr 2017 11:30:16 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Apr 2017 11:30:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 0AB50C04EF
	for <users@camel.apache.org>; Tue, 11 Apr 2017 11:30:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.692
X-Spam-Level: *
X-Spam-Status: No, score=1.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id V87gWn0mXmqW for <users@camel.apache.org>;
	Tue, 11 Apr 2017 11:30:11 +0000 (UTC)
Received: from mail-qk0-f173.google.com (mail-qk0-f173.google.com [209.85.220.173])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 9460960DA3
	for <users@camel.apache.org>; Tue, 11 Apr 2017 11:30:10 +0000 (UTC)
Received: by mail-qk0-f173.google.com with SMTP id d131so23382417qkc.3
        for <users@camel.apache.org>; Tue, 11 Apr 2017 04:30:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=/7gnb/634FCQnzOj5Ff0eedefxawL1wIbEeQ6npSe4o=;
        b=gqZ8nsq2NlXkgz7pzPvmBybZgLguLy9FZW+R6GPeHIWnxTDuea1XsdNbdiRBpGivQ0
         8sSm1q9wDwtl54TVc1d24UMJmF+lRyCILzeypVMEdohnfNZnrl3OdyRsf/taDrsFlvYk
         84gINDU/9Z+gtcJWpoaqIiKKtbi+G2vBwIjy6Qcr+q8i8frUREeTTvE0SGkMQyQkE9XQ
         9mA+nemrFH7NZmLoW9uYeGeS0wYrkw3wAxBUZdTK9Zt4E4ONQsoxNRuNR+P6nNNg7Kkb
         1jo5JNq8RntFcZDsqyRkTitr96u2TtdZdjPcYXLM+bXVxHjWI5lVJRoH8p0tNq4ITgB9
         w+HA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=/7gnb/634FCQnzOj5Ff0eedefxawL1wIbEeQ6npSe4o=;
        b=O4cIRvOH6RmeAeUjf3ndfutAoLeqpjlC6Mr13/niXtVxWLPDEq0NA/Hd3KpPhMawQS
         zylUG+AUJNeBjy6hizWjESB4Uv9KAdMluT0s4LnTEhAop6TJNmRacO2hIK0lxfFMpWQe
         qvb1sfqo5omltDTpX76loPFkE0Ts4jzcQHuksibB2kQboa3v8tdaLlFSKXheC+TacKnY
         v6a5uyEH1TCxDy7RYIZFJRZnJ3otxL7TdlJLtskHycwWR6TF14hyK5xXQ8dGvvIHtct8
         z3/Jytto+7l6bM8OCM8IXtuHa5hq8uXfdelSDWccpE4iLx7P6PUkRD8+GKW2daPUZSjV
         a1HA==
X-Gm-Message-State: AN3rC/7W1TiR9OORFMHXTGfhiHlWJ43pRzBij7aS3FxbQJqo8ubA8bt7pIDf8U3DqRKaXUc21/3ZX8GCZRa0EA==
X-Received: by 10.55.48.68 with SMTP id w65mr41735801qkw.160.1491910209620;
 Tue, 11 Apr 2017 04:30:09 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Tue, 11 Apr 2017 04:29:49 -0700 (PDT)
In-Reply-To: <1491905278778-5797333.post@n5.nabble.com>
References: <1491905278778-5797333.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 11 Apr 2017 13:29:49 +0200
Message-ID: <CAGB5yNkWuqYnGXb0nxNMdzV0x=7ECytKM4mL0umkp2=5Q=tsmA@mail.gmail.com>
Subject: Re: Blueprint equivalent of Camel instanceof Predicate
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

See the simple language which has some built in function and also for
checking a type
http://camel.apache.org/simple

On Tue, Apr 11, 2017 at 12:07 PM, sugavanan <sugavanan.v@gmail.com> wrote:
> How do I convert the below line in Java DSL into an equivalent Blueprint XML
> version:
>
> from("seda:input?concurrentConsumers=2").filter(body().isInstanceOf(String.class))
>
> I am particularly willing to know how to use the filter to access the
> exchange's body and check if one of the messages is of type "String".
>
> I am aware of creating a predicate class and referencing it. But is there
> any other way to do it directly in XML itself with the help of tags.
>
> Thanks.
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Blueprint-equivalent-of-Camel-instanceof-Predicate-tp5797333.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65294-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 11:30:58 2017
Return-Path: <users-return-65294-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF32719139
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 11:30:58 +0000 (UTC)
Received: (qmail 54408 invoked by uid 500); 11 Apr 2017 11:30:58 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 54360 invoked by uid 500); 11 Apr 2017 11:30:58 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 54344 invoked by uid 99); 11 Apr 2017 11:30:57 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Apr 2017 11:30:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 69043CD4AA
	for <users@camel.apache.org>; Tue, 11 Apr 2017 11:30:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.48
X-Spam-Level: **
X-Spam-Status: No, score=2.48 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=ravenpack-com.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id DfyPvsLat7ZS for <users@camel.apache.org>;
	Tue, 11 Apr 2017 11:30:56 +0000 (UTC)
Received: from mail-lf0-f52.google.com (mail-lf0-f52.google.com [209.85.215.52])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id E9E9160DA1
	for <users@camel.apache.org>; Tue, 11 Apr 2017 11:30:55 +0000 (UTC)
Received: by mail-lf0-f52.google.com with SMTP id h125so85127563lfe.0
        for <users@camel.apache.org>; Tue, 11 Apr 2017 04:30:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ravenpack-com.20150623.gappssmtp.com; s=20150623;
        h=mime-version:from:date:message-id:subject:to;
        bh=NRl0B0P1WQ8Yr/fSfZGtMEkdU1m7N+Y04TrN40us4ZE=;
        b=d65FaxCimsZpHXb7qnfXoT5yVoLtvPw0n2xol4mPUqR+iJc+9lTuzbnx7MHVNHTIMS
         DGrqtIntKwZiqk523gC/v4imkuWK7XpXIGb+ns1wCGK7voxgwag1RfbsFp4GcY3FTvn1
         lbptCpjCGUtuIeUeWAoWyGlGdERUV21A/BRoBs1WSNs/rVam4yge3nXsGCUdOxX6od6+
         +Zvf4lKjP0RmiD4vGIvAhIHdjR8vaK9UQDGGAetDtnwandqv//nGVgmPSgSz2hRGwTvr
         u++hsqCcZspXDraLLFAImNK5CcY1XoR4d1R0nj/AmK4jlCHHjVcTM7//QSBUQR6lT4/P
         Jiqg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=NRl0B0P1WQ8Yr/fSfZGtMEkdU1m7N+Y04TrN40us4ZE=;
        b=e/gHz0G/Bm9RRmM92HbiaqZ33ed1C7/j7E2r6o8CjUMJqDzWnn+KpZQtgf+CDaf/pP
         CJYMvEqlHEreOoqjEqHsLJUPoHSWcZTAPD0PdA8m68dV6gU6QkgyV51dGMk0jvS8dVDf
         i04KClEVXqE/9cpxc6K6anqOyUrRPCSXrBa1UO75ORbYfvQKXkRLWNgbjA7ymA6wPy+w
         P8y+AMBGs3C93cqJw/aBM5xap8mHxZzFHbzIFahF+6zJHYjvFcwUHCDGzBkTAaL4dd0V
         RlviAD2fkWuA5raTymKnfZzayX+OM1Vz4V7xfPXkI4OhWz36pbvYnWI/2Pt5UG0oy4kw
         VS+A==
X-Gm-Message-State: AFeK/H20BzCopVW8nMo8dem48BujLpyh5CLSS0OTwfCQRGQjjlLCy3ufc8ssu/x0UqeEPl81e3gMcHd+8Yu7aHSe
X-Received: by 10.46.33.164 with SMTP id h36mr14773586lji.57.1491910255131;
 Tue, 11 Apr 2017 04:30:55 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.25.39.67 with HTTP; Tue, 11 Apr 2017 04:30:54 -0700 (PDT)
From: Artur Jablonski <ajablonski@ravenpack.com>
Date: Tue, 11 Apr 2017 13:30:54 +0200
Message-ID: <CADUzpe6++x_B5Uz2VTatz9PM7=wH+bL1aJiOdBYJkLarQiMsoA@mail.gmail.com>
Subject: Camel + Spring + Spring Boot, waiting for the routes to start
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1142a746cb6139054ce26c84

--001a1142a746cb6139054ce26c84
Content-Type: text/plain; charset=UTF-8

Hello,

I have the Camel + Spring + SpringBoot combo working


I have my RouteBilder Spring Component that's being pickup up and started
during Spring startup.
The route starts fine as I can see SpringCamelContext output in the logs.

What I am trying to do is to send a message to direct endpoint using
injected ProducerTemplate but if I do it like this

@Produce(uri = "direct:myQueue")
private ProducerTemplate producerTemplate;

@EventListener(ContextRefreshedEvent.class)
public void send()
    throws Exception
{
    producerTemplate.start();
    producerTemplate.sendBody("hello");
}


I am getting

 No consumers available on endpoint: direct://myQueue

because the route has not started yet and if I try blocking parameter on
uri like this:

@Produce(uri = "direct:myQueue?block=true")

then the whole thing freezes for 30 secs (default timeout) and then blows
up with the same exception

I also tried to call the producerTemplate.sendBody() form @PostConstruct
annotaded method with the same effect.


How do I wait for the CamelContext to be fully started in this context????


Cheerio
Arur

--001a1142a746cb6139054ce26c84--

From users-return-65295-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 13:27:32 2017
Return-Path: <users-return-65295-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 00E8C195DC
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 13:27:32 +0000 (UTC)
Received: (qmail 85432 invoked by uid 500); 11 Apr 2017 13:27:31 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 85383 invoked by uid 500); 11 Apr 2017 13:27:31 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 85369 invoked by uid 99); 11 Apr 2017 13:27:31 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Apr 2017 13:27:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 91314C002D
	for <users@camel.apache.org>; Tue, 11 Apr 2017 13:27:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.68
X-Spam-Level: ***
X-Spam-Status: No, score=3.68 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	KAM_LINEPADDING=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RCVD_IN_SORBS_SPAM=0.5] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=ravenpack-com.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id werUzlrnHEXP for <users@camel.apache.org>;
	Tue, 11 Apr 2017 13:27:29 +0000 (UTC)
Received: from mail-lf0-f41.google.com (mail-lf0-f41.google.com [209.85.215.41])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 494C35FBA0
	for <users@camel.apache.org>; Tue, 11 Apr 2017 13:27:29 +0000 (UTC)
Received: by mail-lf0-f41.google.com with SMTP id h125so86833493lfe.0
        for <users@camel.apache.org>; Tue, 11 Apr 2017 06:27:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ravenpack-com.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=CNQWbggJLkZmQ7/h7dS8sxIbKsm3/e4hM03iZ2ARJGg=;
        b=Nj/T1dibWD58wLbrtp1pleXvDse99rsvJzDThlhIE2quAovIu1S5IORphvfk8zA//y
         vRYb3ySkmSu2bzPvk/4BHAF1mTc6DclbWRWKr8vTSbO09oG8g03iTuLy5EdrDcsE61ja
         zM6CJBa9+iyD707hvKf/d8I4jwsBfbDPHIsY5pJLEn3ggfhKmmE7kzXlb8oGP7BGv28/
         TsIIQ74yFlEheZmjkTVOz7Cij39eQSJhR8Ad3tF99JU+uO1XuXX3gqz9OXwlLXcHLPH+
         gWcRAXUKGidffsiO9HuUCSQm1tfTNmyFZ0zsGXY36bvzM0IxlrgHL90gZ0pVO6SVptLb
         L2Qw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=CNQWbggJLkZmQ7/h7dS8sxIbKsm3/e4hM03iZ2ARJGg=;
        b=dHO2U8pc2FHvhQ7X2Ks7g/m7CYF2w7UqfUaVNs6T1KoCIGNpjVxACwtTpHZn3XHoKY
         5y0Z+jNQ3HdgQNbvJF8ohLV8nyDVTaPE3TdE5QKQjKnDiUB//mGen03Hour57Og4HdND
         Z0F4UjnRoHIgZuMnBUNDNbfWes371lzGyCx0ryqEtw+h+GtYFe7liRV986H1A4TrXTfE
         6pqFGG7PGNd2H8ZVO9LTeAt8kwF7J5qi50zB9L1wlRdIXjs80dJXz2mJQ3MVRqFCrxPs
         PM+bjrF5qu0CiPNsp/9cXCm9Ndo6SYw4LA58w+bU+PxUXeoOO+iOymfC6VRQP4BKGZZY
         Jg4g==
X-Gm-Message-State: AFeK/H1qoksn2S6kk8e5WL3FSu82fwMSd93CKc6FTXlq1+AhEpcVY5ckEPtyz4+sXvPRovpdXgVF2bhpDxG0veO1
X-Received: by 10.25.141.73 with SMTP id p70mr20836986lfd.147.1491917247608;
 Tue, 11 Apr 2017 06:27:27 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.25.39.67 with HTTP; Tue, 11 Apr 2017 06:27:27 -0700 (PDT)
In-Reply-To: <CADUzpe6++x_B5Uz2VTatz9PM7=wH+bL1aJiOdBYJkLarQiMsoA@mail.gmail.com>
References: <CADUzpe6++x_B5Uz2VTatz9PM7=wH+bL1aJiOdBYJkLarQiMsoA@mail.gmail.com>
From: Artur Jablonski <ajablonski@ravenpack.com>
Date: Tue, 11 Apr 2017 15:27:27 +0200
Message-ID: <CADUzpe59_GeTwLRppnH376ziOimEtDcQuqfhuudy8_wwL9YqqA@mail.gmail.com>
Subject: Re: Camel + Spring + Spring Boot, waiting for the routes to start
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1140374a940d1a054ce40dba

--001a1140374a940d1a054ce40dba
Content-Type: text/plain; charset=UTF-8

Sure enough, when I try to do pretty much the same thing from a JUnit test,
it works:


@RunWith(SpringJUnit4ClassRunner.class)
@SpringBootTest(classes = { Application.class })
public class CamelTest
{
    @Produce(uri = "direct:myQueue")
    protected ProducerTemplate template;

    @Test
    public void sendMessage()
    {
        template.sendBody(attachment);
    }
}


so... what's the deal? If firing a message is a part of my application
logic... what's the recommended way of handling this?

Cheerio
Artur




On Tue, Apr 11, 2017 at 1:30 PM, Artur Jablonski <ajablonski@ravenpack.com>
wrote:

> Hello,
>
> I have the Camel + Spring + SpringBoot combo working
>
>
> I have my RouteBilder Spring Component that's being pickup up and started
> during Spring startup.
> The route starts fine as I can see SpringCamelContext output in the logs.
>
> What I am trying to do is to send a message to direct endpoint using
> injected ProducerTemplate but if I do it like this
>
> @Produce(uri = "direct:myQueue")
> private ProducerTemplate producerTemplate;
>
> @EventListener(ContextRefreshedEvent.class)
> public void send()
>     throws Exception
> {
>     producerTemplate.start();
>     producerTemplate.sendBody("hello");
> }
>
>
> I am getting
>
>  No consumers available on endpoint: direct://myQueue
>
> because the route has not started yet and if I try blocking parameter on
> uri like this:
>
> @Produce(uri = "direct:myQueue?block=true")
>
> then the whole thing freezes for 30 secs (default timeout) and then blows
> up with the same exception
>
> I also tried to call the producerTemplate.sendBody() form @PostConstruct
> annotaded method with the same effect.
>
>
> How do I wait for the CamelContext to be fully started in this context????
>
>
> Cheerio
> Arur
>
>
>
>
>
>
>
>
>
>
>
>
>

--001a1140374a940d1a054ce40dba--

From users-return-65296-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 13:31:24 2017
Return-Path: <users-return-65296-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1C13D19606
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 13:31:24 +0000 (UTC)
Received: (qmail 93453 invoked by uid 500); 11 Apr 2017 13:31:23 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 93393 invoked by uid 500); 11 Apr 2017 13:31:23 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 93381 invoked by uid 99); 11 Apr 2017 13:31:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Apr 2017 13:31:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9DDF51AF9D8
	for <users@camel.apache.org>; Tue, 11 Apr 2017 13:31:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.48
X-Spam-Level: **
X-Spam-Status: No, score=2.48 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=ravenpack-com.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id y56kdx_jVEok for <users@camel.apache.org>;
	Tue, 11 Apr 2017 13:31:19 +0000 (UTC)
Received: from mail-lf0-f45.google.com (mail-lf0-f45.google.com [209.85.215.45])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 2538D60DA1
	for <users@camel.apache.org>; Tue, 11 Apr 2017 13:31:19 +0000 (UTC)
Received: by mail-lf0-f45.google.com with SMTP id t144so795057lff.1
        for <users@camel.apache.org>; Tue, 11 Apr 2017 06:31:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ravenpack-com.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=hPlW890io/V1oBYKYR7ouEjWenWMu+4UImq3XwZcyC0=;
        b=CVbdLPyouExDpH2kCr+DOPkEaT16uUlsw3TtgU9pQZChPOCSiXnABt7ygW352azJMf
         n4y9A0HU6cAa1TsMj5KKvtv4I9MjyxL5bLfmuuZtg+ByShlWWLWbXlp5UNCIcPMRVCnm
         H7A3cyH1kCvFIHBZDSkLwK7HQ0So0bO7aDVsHZEJCTkAdiC365D0jvUtJyh8zRRihVJx
         zNJVjUdy4a/43FdGJD+TRQIobPVSFdoTRTBvYD2HWAvhRoMyE37c36XJUE8Ky6pG2o6E
         7kSK155tHZAZI2qoVfeUpicwiXYbwk3y7DX4SzZ4wbWnt72q9FE8meO8jITazC4cbvw4
         FSJg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=hPlW890io/V1oBYKYR7ouEjWenWMu+4UImq3XwZcyC0=;
        b=sY6z3/dflbkc+FpvIBFdlMKcNa8d1elvJ4BEpQbHhgFNNn0KYeVT7IG1Bp3Xh3RQVF
         FAi3aQkYej0eeUe8ddpA3r2mgJEhCCTQVz9M00R2VfvApTHrNtXLDqdQpKX9pT0hoh4k
         BWX4NVOAjTnQJNg+gGo29wFwz+17Z8VlxylPaysPeDRKR5QcgpnJY2b3v7/Fsnk3pm4r
         EVEjPaU96HS4B+5dQ+oTBl6qaRk3Uoe6Zh9L5P4P3gFVEGclRnpoVoa8G3BEAMEZAb9i
         ORRDmnu+zD7uFEPGag6d1UYoAQFaAFWst2PCOAhV8gmG8ubAmie+1mPrrU04Uuf2MO4i
         XUcQ==
X-Gm-Message-State: AN3rC/6HWWONVjYpDsvevUBCxyEYgOSjQMDhsTYr6VP5q521zr2I4NAQ3IzBiVRj9LpQEGrp5qBgSb1mTgxBKmDe
X-Received: by 10.46.92.135 with SMTP id q129mr169674ljb.133.1491917478215;
 Tue, 11 Apr 2017 06:31:18 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.25.39.67 with HTTP; Tue, 11 Apr 2017 06:31:17 -0700 (PDT)
In-Reply-To: <CADUzpe75hQ9n+Cdz-NYvcuoDP=Pi-JyyRnb+Yc=1u9Ff5QqqNQ@mail.gmail.com>
References: <CADUzpe432nZf=O_bShjzw9qvqS7Xubc_Bvhf8eifhKPi=VNWSw@mail.gmail.com>
 <CADUzpe6YwyAgZGBSLC9g98oDUkMrnVZ-N_a7SiAsCihSWf-f7A@mail.gmail.com>
 <CADUzpe6F2TvY7kM6S6Kdk-UYpCNxwY77NXp8aR7Reh1PGCGJfQ@mail.gmail.com>
 <CADUzpe4Zp_qhvM2THyc6+L-Pd3nwivhGuyw=k+TZNL64pGPe_g@mail.gmail.com>
 <CADUzpe4_FoBQus3yMvk0m+K_jc8n-66MOC8KCEC7Tyvcv9-N5w@mail.gmail.com>
 <CADUzpe7TMoGVyHVbtDQWxE23coSZxVVwrEXwioTmVm923McZaQ@mail.gmail.com>
 <CADUzpe6QfQciTxY9Xx-8hTs_RQcY_ehzAyZAYvvRNqPaNnRVSQ@mail.gmail.com>
 <CADUzpe4bD6u_7n2Nivje26Uvqa_6GPw6qYWjNYRegnZ70aLeew@mail.gmail.com>
 <CADUzpe5bHsXJoFtwFEJ1_o8SrFQKT1bOmUF6EM8vkjg8NrTUpA@mail.gmail.com>
 <CADUzpe7upq4whYMdZ6PPiuQpvShGaFcLAntALN-Kaz6K-HdO2A@mail.gmail.com>
 <CADUzpe6Nj0vTfpdnHxsreDT8m_Q1Om8iHzF624yvw1BAQgtD9Q@mail.gmail.com>
 <CADUzpe4g=_e2BeWcvEug9Sj7LcbDVMEgRT=7S6nnvOMKXS0eMw@mail.gmail.com>
 <CADUzpe7pXptw7phTajnq_8-ho3CEdG39PrNF1NwFhcmLiiL8aw@mail.gmail.com>
 <CADUzpe7QgvpT8x80UPixxpHR_MXtDr3Y6Mn-oiHbnF=wP67AAw@mail.gmail.com>
 <CABD_Zr-1MfR7kP+xHv3AN2HAuH7=tBTK-s7m_9cwogysqYRxyA@mail.gmail.com>
 <CADUzpe5K4Qy=Dtu=9Qgnz4HoXXnLfp2UkShMgACy-n-Kv77XZg@mail.gmail.com>
 <CABD_Zr95vrZzdwYTZFoQcKy-s3Xe8oG1uSUf3k-=+TSBPyNaYQ@mail.gmail.com>
 <CADUzpe71EqzOsSBk3XDx6hLAM9UTMYMOs6JPKaVgqQOp7H45TA@mail.gmail.com> <CADUzpe75hQ9n+Cdz-NYvcuoDP=Pi-JyyRnb+Yc=1u9Ff5QqqNQ@mail.gmail.com>
From: Artur Jablonski <ajablonski@ravenpack.com>
Date: Tue, 11 Apr 2017 15:31:17 +0200
Message-ID: <CADUzpe681vK66TONtOUbrn6p_PkDjqcVUfFhswuhueEdqszKsQ@mail.gmail.com>
Subject: Re: Curious routing case
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c1b538852db73054ce41b54

--94eb2c1b538852db73054ce41b54
Content-Type: text/plain; charset=UTF-8

I guess one thing that come to my mind is to hide all this parallel stuff
inside a processor, that would just spit out on the other end the result of
processing all those messages. It would handle grouping and serializing and
stuff I guess that would reduce the complexity of the route with a cost of
complexity of the processor. I have no better ideas anyway, so I will give
it a go

On Tue, Apr 11, 2017 at 10:45 AM, Artur Jablonski <ajablonski@ravenpack.com>
wrote:

> Hello,
>
> I don't think this route definition is fitting my use case, though I
> learnt a thing or two about the interesting patterns linked. Thanks!
>
> Ok, so let me try to clarify the use case.
>
>
> 1. The stream is infinite, it's not a batch job. The messages keep on
> coming from SQS 'all the time'
>
> 2. More important thing is about parallel processing.
>
> Let A1 denote a message 1 from group A, B2 message 2 from group B, etc.
>
> Let's say this is the order in which the messages happen to appear
>  in the route from SQS
>
> A1, A2, B1, C1, B2, A3, C2, B3
>
> Now what I am trying to achieve is grouping the messages that have to be
> processed sequentially (order doesn't matter as long as no two messages
> from the same group are processed at the same time).
> So I am trying to somehow get these streams
>
> A1, A2, A3
>
> B1, B2, B3
>
> C1, C2
>
>
> So, A1 B1 and C1 can be processed in parallel because they are from
> different groups, but the messages within groups need to be processed one
> by one.
>
> In my example, there are 3 groups, but there can be many and I don't know
> what they are in advance. The processing logic between the groups is
> similar and is a function of the group so I can get a processor for group A
> from a method call getProcessor(A), B getProcessor(B), etc.
>
> I am stuck at how to do that in Camel, because since I don't know the
> groups in advance, I would need to create processing routes dynamically.
>
> Say the system starts, and A1 arrives, there can't be any processor for
> group A yet, since it's the first message from the group and I need to
> somehow dynamically add processing capability of the group A to the route
> and then perhaps if the messages from group A stop arriving for some time,
> that processor could be removed.
>
> How to add the parallel part between the group messages is also blurry to
> me. One way of doing this I was thinking was to do a multicast to all the
> dynamically created processing routes for groups and stick a filter before
> so that only messages from particular group can go through. From multicast
> page:
>
> from("direct:a").multicast().parallelProcessing().to("direct:x",
> "direct:y", "direct:z");
>
> But here the x,y,z endpoints are hardcoded. I could write up some custom
> multicast I suppose to search the routes in CamelContext...... not sure.
>
> Thanks
> Artur
>
>
>
>
>
> On Mon, Apr 3, 2017 at 1:36 PM, Artur Jablonski <ajablonski@ravenpack.com>
> wrote:
>
>> Hi Zoran,
>>
>> Thank you for such detailed response. This looks very promising. i will
>> need to get my head around the aggregator pattern.
>> For this week I will be busy with other tasks, but I will get back to it
>> as soon as I can to see if I can get Camel work for the use case.
>>
>> Cheerio
>> Artur
>>
>> On Mon, Apr 3, 2017 at 11:09 AM, Zoran Regvart <zoran@regvart.com> wrote:
>>
>>> Hi Artur,
>>> I was thinking that the order of the messages would be important as
>>> you need to process them sequentially.
>>>
>>> So I think you could use the dynamic message routing[1] with
>>> aggregator[2], something like:
>>>
>>>     from("aws-sqs:...")
>>>         .process("#preProcess")
>>>         .toD("direct:${header.nextRoute}");
>>>
>>>     from("direct:parallel")...;
>>>     from("direct:sequential").aggregate(simple("${header.group}"
>>> )).completion..;
>>>
>>> So from yout SQS queue you would use a processor to pre-process
>>> message whose responsibility would be to set the (custom) `nextRoute`
>>> and (custom) `group` headers. `nextRoute` would be `parallel` or
>>> `sequential`, and if `sequential` the messages would be aggregated
>>> using the `group` header.
>>>
>>> You would want to define your own custom aggregation strategy or use
>>> the completion* options that are available to you. There also might be
>>> need to use seda[3] to fine tune any parallel processing. You might
>>> throw in there a data format unmarshaller[4] instead of the
>>> `preProcess` processor and use something like `${body.xyz} == foo` in
>>> the `toD` expression.
>>>
>>> And I would guess that you need to examine transactions or persistence
>>> at some point also in case your aggregation step runs for a long time
>>> or if your use case is sensitive to message loss if interrupted --
>>> which would undoubtedly lead you back to using queues to separate
>>> those two ways of processing,
>>>
>>> HTH,
>>>
>>> zoran
>>>
>>> [1] https://camel.apache.org/message-endpoint.html
>>> [2] https://camel.apache.org/aggregator2.html
>>> [3] https://camel.apache.org/seda.html
>>> [4] https://camel.apache.org/data-format.html
>>>
>>> On Sat, Apr 1, 2017 at 1:09 PM, Artur Jablonski
>>> <ajablonski@ravenpack.com> wrote:
>>> > Hey Zoran.
>>> >
>>> > I read again the patterns you mentioned. In my use case the order of
>>> > processing within a group doesn't matter as long as two messages from
>>> the
>>> > same group are never processed in parallel. So i guess resenquencer is
>>> out
>>> > of the picture unless I didn't get the intention.
>>> >
>>> > So what we are left with is the content based router. Sure. The message
>>> > comes, i can see what group it belongs two... And what next? Perhaps
>>> it's
>>> > the very first message from that group so I would need to trigger
>>> creating
>>> > route/processor for that group somehow, perhaps messages from this
>>> group
>>> > were processed before in which case the processor for the group should
>>> > already exist...
>>> >
>>> >
>>> >
>>> >
>>> > On 31 Mar 2017 7:58 p.m., "Zoran Regvart" <zoran@regvart.com> wrote:
>>> >
>>> >> Hi Artur,
>>> >> have a look at Camel EIP page[1], what you describe sounds to me like
>>> >> Resequencer and Content based router patterns,
>>> >>
>>> >> zoran
>>> >>
>>> >> [1] https://camel.apache.org/eip.html
>>> >>
>>> >> On Fri, Mar 31, 2017 at 5:08 PM, Artur Jablonski
>>> >> <ajablonski@ravenpack.com> wrote:
>>> >> > Hello.
>>> >> >
>>> >> > I wonder if someone could push me in the right direction trying to
>>> >> express
>>> >> > quite curious case in Camel route.
>>> >> >
>>> >> > Imagine there's a stream of messages some of which can be processed
>>> in
>>> >> > parallel and some have to be processed serially. You can group the
>>> >> messages
>>> >> > that require serial processing together by looking at the message
>>> body.
>>> >> You
>>> >> > don't know upfront how many groups can occur in the stream.
>>> >> >
>>> >> > The way I thought about doing this is having a route for each
>>> message
>>> >> > group. Since I don't know upfront how many and what groups there
>>> will be
>>> >> > then I would need to create routes dynamically. If a message comes
>>> >> > belonging to a group that doesn't have it's handling route, then i
>>> could
>>> >> > create it (is that even possible??) Then if there's no messages
>>> coming
>>> >> for
>>> >> > a given group in some time I could remove the route for the group to
>>> >> > cleanup (is that possible?)
>>> >> >
>>> >> > New to Camel
>>> >> >
>>> >> > Thx!
>>> >> > Artur
>>> >>
>>> >>
>>> >>
>>> >> --
>>> >> Zoran Regvart
>>> >>
>>>
>>>
>>>
>>> --
>>> Zoran Regvart
>>>
>>
>>
>

--94eb2c1b538852db73054ce41b54--

From users-return-65297-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 13:34:56 2017
Return-Path: <users-return-65297-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0F8971961A
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 13:34:56 +0000 (UTC)
Received: (qmail 97016 invoked by uid 500); 11 Apr 2017 13:34:55 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 96962 invoked by uid 500); 11 Apr 2017 13:34:55 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 96950 invoked by uid 99); 11 Apr 2017 13:34:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Apr 2017 13:34:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B9F56C04EF
	for <users@camel.apache.org>; Tue, 11 Apr 2017 13:34:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.379
X-Spam-Level:
X-Spam-Status: No, score=0.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id m6nqZzyTs0T8 for <users@camel.apache.org>;
	Tue, 11 Apr 2017 13:34:52 +0000 (UTC)
Received: from mail-qk0-f182.google.com (mail-qk0-f182.google.com [209.85.220.182])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 44E9760DA1
	for <users@camel.apache.org>; Tue, 11 Apr 2017 13:34:52 +0000 (UTC)
Received: by mail-qk0-f182.google.com with SMTP id d131so26330862qkc.3
        for <users@camel.apache.org>; Tue, 11 Apr 2017 06:34:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=+DZY6YpQjzzmxO5HlVbOzB+HlBAhgDB97w+/bXoy5H0=;
        b=Ja4GRXkgiCxSZZbw4EX4WqwzTJZmKHTlVvmS9hD08ucyhfzVwHh5JReWAufMdb2X/H
         QzUn+L/2JR8abVKOkQl3zv0m3/bVdhWrD6CJZ4WkYEILffhxoCcDAA68fNAlyj0Ye8oJ
         XvN98h8Q8YhI5zIHZHtwvkZ+ZppSEyRIxZJxAqVGM6vF9aWII/5kpUqkrmSbJhD+Kx43
         xvlHpFOKDHYnzrpM4oPy2Lr5PikE8cHJ7LKQ/U7X+pxUtp30Td6AK2FAIbIXA482NuVn
         cSFq+O18qqYt+jcOTcd0BriB54B6O0Xz9oX3+lrDCLBmIZaxYp+oC4f2ChTHS0aWzz8l
         UVVA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=+DZY6YpQjzzmxO5HlVbOzB+HlBAhgDB97w+/bXoy5H0=;
        b=GvlNktyeNUa00bmVRadIhwdH19746v0tkxzpgOuqG5Dq/K3D/G3/q2zWfqWipoAuMs
         AcCLygVFmXS4e8Zx1UQyVV/1vZKT1wQzxOj642ir/NJ2C/vHhjM0lpYuB7+oxKg2FhuQ
         TRBi9f+2sWwWPEPT4ArTJXbWDwMYGkq5eJeNvItCpv95n0dcRIA4zMfVu8meF+71J6uz
         cVcvRuknd1nk8QgH7AsWt2+R2vJmsG14qZK/uIx5Q1XhLq6v2MqUH6poDGwHpPn8JMdL
         MZJCmcC1eRwhmmgSHabKFQD026Iqd7rR3I0PnFkxIzIvKB82ubiOSRNY4OoEGXoxoSRD
         hXBg==
X-Gm-Message-State: AN3rC/6z+zdNZ2UElwnkB1uR7MahO4GRkNXVgR+AARt1GD0FTjWhZTxVhR8zfc8MhHkaQuW95q4Sbj4qYiYiuw==
X-Received: by 10.55.48.68 with SMTP id w65mr42344157qkw.160.1491917691276;
 Tue, 11 Apr 2017 06:34:51 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Tue, 11 Apr 2017 06:34:30 -0700 (PDT)
In-Reply-To: <CADUzpe6++x_B5Uz2VTatz9PM7=wH+bL1aJiOdBYJkLarQiMsoA@mail.gmail.com>
References: <CADUzpe6++x_B5Uz2VTatz9PM7=wH+bL1aJiOdBYJkLarQiMsoA@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 11 Apr 2017 15:34:30 +0200
Message-ID: <CAGB5yNn0HMjvwdt4-OYXzhiMwnP2N_scgvq4+sMWy_wssXspAg@mail.gmail.com>
Subject: Re: Camel + Spring + Spring Boot, waiting for the routes to start
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Dont use the event listener to do code that may block
@EventListener(ContextRefreshedEvent.class)

You are basically hi-jacking the spring thread that signals this
event. You can create a new thread to send the message from the event
listener so you dont block it.




On Tue, Apr 11, 2017 at 1:30 PM, Artur Jablonski
<ajablonski@ravenpack.com> wrote:
> Hello,
>
> I have the Camel + Spring + SpringBoot combo working
>
>
> I have my RouteBilder Spring Component that's being pickup up and started
> during Spring startup.
> The route starts fine as I can see SpringCamelContext output in the logs.
>
> What I am trying to do is to send a message to direct endpoint using
> injected ProducerTemplate but if I do it like this
>
> @Produce(uri = "direct:myQueue")
> private ProducerTemplate producerTemplate;
>
> @EventListener(ContextRefreshedEvent.class)
> public void send()
>     throws Exception
> {
>     producerTemplate.start();
>     producerTemplate.sendBody("hello");
> }
>
>
> I am getting
>
>  No consumers available on endpoint: direct://myQueue
>
> because the route has not started yet and if I try blocking parameter on
> uri like this:
>
> @Produce(uri = "direct:myQueue?block=true")
>
> then the whole thing freezes for 30 secs (default timeout) and then blows
> up with the same exception
>
> I also tried to call the producerTemplate.sendBody() form @PostConstruct
> annotaded method with the same effect.
>
>
> How do I wait for the CamelContext to be fully started in this context????
>
>
> Cheerio
> Arur



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65298-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 14:55:10 2017
Return-Path: <users-return-65298-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8FB9519AAD
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 14:55:10 +0000 (UTC)
Received: (qmail 93307 invoked by uid 500); 11 Apr 2017 14:55:09 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 93265 invoked by uid 500); 11 Apr 2017 14:55:09 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 92692 invoked by uid 99); 11 Apr 2017 14:55:09 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Apr 2017 14:55:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 259B2C1354
	for <users@camel.apache.org>; Tue, 11 Apr 2017 14:55:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.48
X-Spam-Level: **
X-Spam-Status: No, score=2.48 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=ravenpack-com.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 3IDegrsCMkfA for <users@camel.apache.org>;
	Tue, 11 Apr 2017 14:55:08 +0000 (UTC)
Received: from mail-lf0-f49.google.com (mail-lf0-f49.google.com [209.85.215.49])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 9A5955FD7D
	for <users@camel.apache.org>; Tue, 11 Apr 2017 14:55:07 +0000 (UTC)
Received: by mail-lf0-f49.google.com with SMTP id s141so52850331lfe.3
        for <users@camel.apache.org>; Tue, 11 Apr 2017 07:55:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ravenpack-com.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=fHGUQilIuwXpPU0jtNcJQDqE7ZvI7LzMuh31//iN2W0=;
        b=aV3/DjTp+fekPepdtO4pXzlsk7GsRRjX1zL5EMalMrXlzbTfCWuSc/Lpupp7jwxoAd
         AB7opA8HRc8jqDcSaUKlbLUndYCbxkp+NYTM8E1rX3XHTcqvjQZwgWy+vRK7UMv3af2n
         Hcz/5VY6MFdiVwy/nYmU61Q0E6DMxctYmbaxYm9DmzVfURinFto0FbPyl5sicgfuknnQ
         TQkRwVWEF58oqLPaYj3P9uuSO3IQlSyJxyEiin5x0tat2X6bM3hvv3QXUhOEM3rKC6i+
         FWq8GkxhO0Pj4x/0NeAKXjymJGqVkGWn3gjCCYEk2yi0wq+qvY7mdEHwpZ5u1HXs5WtU
         Cvug==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=fHGUQilIuwXpPU0jtNcJQDqE7ZvI7LzMuh31//iN2W0=;
        b=Ojiu3z2TfNe4iCv2m2gnFQjFwb634j1Uc3UJ1du5L27a74rUyP3fUN8xou7W1FuA0H
         mNW3ovFu2PJAIBCK6aUUMndVjGbQBMLD0qCaCm7j3bDYe8YDvB3ODscvSb43o8proN4D
         RdJGdBfwm8fKUzVyGWpAmhv2L5ydQ/rsBM8DNVT/pg3fDxBqsgaSz9qTFQbB7sAEIXax
         Jltqf58XYihV18C9+YZzU0dgOtXTpeYdBxOZHyyJ5BLqN79HDg6KNhT3oBG9FR/HRzTD
         HTvXZyMkzoUvcPkg4GKMPXu38SaE8z/kPMLzzXf2cyZb3QDgZJOBRyxAnXW+A7M6ViyY
         hyiA==
X-Gm-Message-State: AFeK/H07HPbDqFyw87WBQMKoSrqp3SKGFdsDewYnLba/0RcOpNcWInwX994aXUqsQ5Nkc0lKBMGfQojDxwHeMbIA
X-Received: by 10.46.21.94 with SMTP id 30mr18191381ljv.118.1491922505874;
 Tue, 11 Apr 2017 07:55:05 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.25.39.67 with HTTP; Tue, 11 Apr 2017 07:55:04 -0700 (PDT)
In-Reply-To: <CAGB5yNn0HMjvwdt4-OYXzhiMwnP2N_scgvq4+sMWy_wssXspAg@mail.gmail.com>
References: <CADUzpe6++x_B5Uz2VTatz9PM7=wH+bL1aJiOdBYJkLarQiMsoA@mail.gmail.com>
 <CAGB5yNn0HMjvwdt4-OYXzhiMwnP2N_scgvq4+sMWy_wssXspAg@mail.gmail.com>
From: Artur Jablonski <ajablonski@ravenpack.com>
Date: Tue, 11 Apr 2017 16:55:04 +0200
Message-ID: <CADUzpe4AVPkps3bZn8rFXtBDu=MMRuQ5o1ss8+3ryYjCjm4hvA@mail.gmail.com>
Subject: Re: Camel + Spring + Spring Boot, waiting for the routes to start
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c1cda68ff0eec054ce54605

--94eb2c1cda68ff0eec054ce54605
Content-Type: text/plain; charset=UTF-8

Hello Claus

Right, so

1. I cannot send a message without blocking because the event calback seems
to be triggered BEFORE the CamelContext is fully up and running.
That's kind of counter intuitive. I would imagine that when Spring's
ApplicationContext has been fully initialized all the beans are fully
initialized and ready to go... including CamelContext and all the routes....
2. I cannot block in that method not to deadlock the whole Spring machinery.
Fair enough.

So I need to spawn a new thread that I assume needs to poke the
CamelContext about whether it's state is 'started'....ok, can do that, but
perhaps it's not the most elegant solution. Any reason why Camel cannot be
fully up and running before Spring?

Cheerio
Artur


On Tue, Apr 11, 2017 at 3:34 PM, Claus Ibsen <claus.ibsen@gmail.com> wrote:

> Dont use the event listener to do code that may block
> @EventListener(ContextRefreshedEvent.class)
>
> You are basically hi-jacking the spring thread that signals this
> event. You can create a new thread to send the message from the event
> listener so you dont block it.
>
>
>
>
> On Tue, Apr 11, 2017 at 1:30 PM, Artur Jablonski
> <ajablonski@ravenpack.com> wrote:
> > Hello,
> >
> > I have the Camel + Spring + SpringBoot combo working
> >
> >
> > I have my RouteBilder Spring Component that's being pickup up and started
> > during Spring startup.
> > The route starts fine as I can see SpringCamelContext output in the logs.
> >
> > What I am trying to do is to send a message to direct endpoint using
> > injected ProducerTemplate but if I do it like this
> >
> > @Produce(uri = "direct:myQueue")
> > private ProducerTemplate producerTemplate;
> >
> > @EventListener(ContextRefreshedEvent.class)
> > public void send()
> >     throws Exception
> > {
> >     producerTemplate.start();
> >     producerTemplate.sendBody("hello");
> > }
> >
> >
> > I am getting
> >
> >  No consumers available on endpoint: direct://myQueue
> >
> > because the route has not started yet and if I try blocking parameter on
> > uri like this:
> >
> > @Produce(uri = "direct:myQueue?block=true")
> >
> > then the whole thing freezes for 30 secs (default timeout) and then blows
> > up with the same exception
> >
> > I also tried to call the producerTemplate.sendBody() form @PostConstruct
> > annotaded method with the same effect.
> >
> >
> > How do I wait for the CamelContext to be fully started in this
> context????
> >
> >
> > Cheerio
> > Arur
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>

--94eb2c1cda68ff0eec054ce54605--

From users-return-65299-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 15:03:14 2017
Return-Path: <users-return-65299-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CC6F919B02
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 15:03:14 +0000 (UTC)
Received: (qmail 10697 invoked by uid 500); 11 Apr 2017 15:03:13 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 10650 invoked by uid 500); 11 Apr 2017 15:03:13 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 10638 invoked by uid 99); 11 Apr 2017 15:03:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Apr 2017 15:03:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 25AEB1803A3
	for <users@camel.apache.org>; Tue, 11 Apr 2017 15:03:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.397
X-Spam-Level:
X-Spam-Status: No, score=-2.397 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id XvS56zPGY5zN for <users@camel.apache.org>;
	Tue, 11 Apr 2017 15:03:10 +0000 (UTC)
Received: from mail-qk0-f176.google.com (mail-qk0-f176.google.com [209.85.220.176])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 457DC60DB2
	for <users@camel.apache.org>; Tue, 11 Apr 2017 15:03:10 +0000 (UTC)
Received: by mail-qk0-f176.google.com with SMTP id d131so28856129qkc.3
        for <users@camel.apache.org>; Tue, 11 Apr 2017 08:03:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=rkfkihGJ1ncmiAm+EuHmTDU0GkHYiZ1mYhAppfA33LA=;
        b=K8e5IYkf5HFWCgGvVESQDkgOSKznRWJw6MmaAUU5xmaZ2ZbqHX7IOHe4vfDGAI0xB/
         OnKEYs1NT9RU7q97lwpxiEOFoj9FrCoxIhYsPF0dtA/nbved2jqA2KFiVCqyXU8EBHVC
         E28u+t20TOqDM8PdGi49RyxX5CYTc3jjO2ziv4/TgGXLvIRhynGDsXKWrUMcYXPJGrQT
         U8O1yHryVdsvZYvCtLv46d6nnIhGtG0QSxaw0Jsr9vvb+TeTkb0EVWoSUJKtC4VnAuE3
         Ec9Naa+hR9GCNAk5bEJcWOfgZvhDKgg63UwnEBvYNTVLXu/QjkV7mYKtV1KtU8npQUIZ
         F5QQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=rkfkihGJ1ncmiAm+EuHmTDU0GkHYiZ1mYhAppfA33LA=;
        b=g83eBhJEl0+e/2aoLfwIy600dFe4VnzTCoMMiTdxXR6AYvv8Y5LsHRkp06vCaw2R/u
         4W58IeiWxiVAcIX0EIMBhf+WGA44P3vL621y/DGsef+oWobkN3sUZ7fJHRjhj+hzZjMJ
         +BHWdu3iRh0RXJtkWfQ6aQ991Z7jT2abu9amVkjflkBR1Bo0avNOoGU/MV9LGdR4kzFM
         xV4kZIC5v5DpdfSPwKBPskP7LS2gAIB6fJIgn9jfV04qPaNygyDZMCSZ830pbULg8eh1
         OvjJSMxPK72dJDeS1Lix7fJTBhTxJPhPAlb6sCJLC4EXdWhzUbsD+rm5wfz9FNTHyzPD
         UxbQ==
X-Gm-Message-State: AFeK/H3WYrujvgvYKL1/T0M2nEsCjPMPSpyoT8m1CNdpMooKlQfBqt5l4cZRtnaup748G3nOG58GlMINfUOC9g==
X-Received: by 10.55.144.6 with SMTP id s6mr53474829qkd.27.1491922982707; Tue,
 11 Apr 2017 08:03:02 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Tue, 11 Apr 2017 08:02:42 -0700 (PDT)
In-Reply-To: <CADUzpe4AVPkps3bZn8rFXtBDu=MMRuQ5o1ss8+3ryYjCjm4hvA@mail.gmail.com>
References: <CADUzpe6++x_B5Uz2VTatz9PM7=wH+bL1aJiOdBYJkLarQiMsoA@mail.gmail.com>
 <CAGB5yNn0HMjvwdt4-OYXzhiMwnP2N_scgvq4+sMWy_wssXspAg@mail.gmail.com> <CADUzpe4AVPkps3bZn8rFXtBDu=MMRuQ5o1ss8+3ryYjCjm4hvA@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 11 Apr 2017 17:02:42 +0200
Message-ID: <CAGB5yN=BAT2j6tTeLKMBwA+9ujBDkv8WF3gPdzPMYgcTieMdqQ@mail.gmail.com>
Subject: Re: Camel + Spring + Spring Boot, waiting for the routes to start
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Camel has its own EventNotifier where you get callbacks on when its
started / stopped etc
http://camel.apache.org/advanced-configuration-of-camelcontext-using-spring.html

In your code you can still block but only if you do it from a separte
thread, eg new Thread() ...

On Tue, Apr 11, 2017 at 4:55 PM, Artur Jablonski
<ajablonski@ravenpack.com> wrote:
> Hello Claus
>
> Right, so
>
> 1. I cannot send a message without blocking because the event calback seems
> to be triggered BEFORE the CamelContext is fully up and running.
> That's kind of counter intuitive. I would imagine that when Spring's
> ApplicationContext has been fully initialized all the beans are fully
> initialized and ready to go... including CamelContext and all the routes....
> 2. I cannot block in that method not to deadlock the whole Spring machinery.
> Fair enough.
>
> So I need to spawn a new thread that I assume needs to poke the
> CamelContext about whether it's state is 'started'....ok, can do that, but
> perhaps it's not the most elegant solution. Any reason why Camel cannot be
> fully up and running before Spring?
>
> Cheerio
> Artur
>
>
> On Tue, Apr 11, 2017 at 3:34 PM, Claus Ibsen <claus.ibsen@gmail.com> wrote:
>
>> Dont use the event listener to do code that may block
>> @EventListener(ContextRefreshedEvent.class)
>>
>> You are basically hi-jacking the spring thread that signals this
>> event. You can create a new thread to send the message from the event
>> listener so you dont block it.
>>
>>
>>
>>
>> On Tue, Apr 11, 2017 at 1:30 PM, Artur Jablonski
>> <ajablonski@ravenpack.com> wrote:
>> > Hello,
>> >
>> > I have the Camel + Spring + SpringBoot combo working
>> >
>> >
>> > I have my RouteBilder Spring Component that's being pickup up and started
>> > during Spring startup.
>> > The route starts fine as I can see SpringCamelContext output in the logs.
>> >
>> > What I am trying to do is to send a message to direct endpoint using
>> > injected ProducerTemplate but if I do it like this
>> >
>> > @Produce(uri = "direct:myQueue")
>> > private ProducerTemplate producerTemplate;
>> >
>> > @EventListener(ContextRefreshedEvent.class)
>> > public void send()
>> >     throws Exception
>> > {
>> >     producerTemplate.start();
>> >     producerTemplate.sendBody("hello");
>> > }
>> >
>> >
>> > I am getting
>> >
>> >  No consumers available on endpoint: direct://myQueue
>> >
>> > because the route has not started yet and if I try blocking parameter on
>> > uri like this:
>> >
>> > @Produce(uri = "direct:myQueue?block=true")
>> >
>> > then the whole thing freezes for 30 secs (default timeout) and then blows
>> > up with the same exception
>> >
>> > I also tried to call the producerTemplate.sendBody() form @PostConstruct
>> > annotaded method with the same effect.
>> >
>> >
>> > How do I wait for the CamelContext to be fully started in this
>> context????
>> >
>> >
>> > Cheerio
>> > Arur
>>
>>
>>
>> --
>> Claus Ibsen
>> -----------------
>> http://davsclaus.com @davsclaus
>> Camel in Action 2: https://www.manning.com/ibsen2
>>



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65300-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 15:06:59 2017
Return-Path: <users-return-65300-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2DF7019B33
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 15:06:59 +0000 (UTC)
Received: (qmail 19375 invoked by uid 500); 11 Apr 2017 15:06:58 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 19322 invoked by uid 500); 11 Apr 2017 15:06:58 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 19309 invoked by uid 99); 11 Apr 2017 15:06:58 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Apr 2017 15:06:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 005E0C05A7
	for <users@camel.apache.org>; Tue, 11 Apr 2017 15:06:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 3czwDY3vKfY2 for <users@camel.apache.org>;
	Tue, 11 Apr 2017 15:06:56 +0000 (UTC)
Received: from mail-qk0-f169.google.com (mail-qk0-f169.google.com [209.85.220.169])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id D98875FD7D
	for <users@camel.apache.org>; Tue, 11 Apr 2017 15:06:55 +0000 (UTC)
Received: by mail-qk0-f169.google.com with SMTP id p68so116839131qke.1
        for <users@camel.apache.org>; Tue, 11 Apr 2017 08:06:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=G64lh8vuw3v2tjHrxp7kiRSqJYXJQhQNKlMhCwaCM/U=;
        b=EBiGIRNDLwMUi/hFlqWkupTb9PN0EfUY8sd+LLwyNpxVcYtX2EAXL92vl22kcyylwN
         O+TYYu2+Y+HN+4nQWs6GMKBF/3CyGF3lTRnD/v5u3vHdKHABVDRbBMyrQEdLvA4TbCaV
         U2/OdYePYnUuCS2MQc9Gz7te6SibnHP+BxbATCgHkq0LYyIImWspL7aeL1UnNhZqYUSA
         3yA415O+HIUMc/bW5rnnM3v8KwIrkaaJzXl7SBirHKDsf9aRVd4OjeOnGzpSQauIHQZo
         GFY4EBWfkCQpgXBxaecmIPhKbDEv/ppZZ4xGyGT0muALargH0IGofxRjgo9qBMt6ZAKF
         P/xA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=G64lh8vuw3v2tjHrxp7kiRSqJYXJQhQNKlMhCwaCM/U=;
        b=RJ/0U+SWgbznutyah39hq+IuSdy5+bGmZuuE7Hdu9HTXZbLkiGTtk33BYhJSys4xTl
         PhW4xppWN/8FU0sb3+uGX3Es7zz2waoJt6UnLD1xV6y3bNZrpzUW0yoEsYfaz2KDP1iU
         UyQlY39V2YRlQ82SFSHWhzSQKPoMjz4HUKSk0Wj4rbquthR8NhPSLXONAer/4oP+6YTM
         64mlnPNjrVymIwINX7j33PiNDaOw2KYrnpkduseBVfS+iQcthm88mz9BjrCtQCBrXDFR
         CBBXbKVALh5MOD4FzVeXPPt1JkPytOgdbPiAb27IlpgYPO8Obz/vSlfjmZdW6ifzSsnT
         GW6w==
X-Gm-Message-State: AFeK/H0gX7qmv7sfZ7WQNUpEbNztkuioBL+kC3JdveaBbZqpBe/GSCNIoLkQd/OHw9TKrYeIZwh4FMAO+JwauQ==
X-Received: by 10.55.144.6 with SMTP id s6mr53496841qkd.27.1491923215325; Tue,
 11 Apr 2017 08:06:55 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Tue, 11 Apr 2017 08:06:34 -0700 (PDT)
In-Reply-To: <CADUzpe681vK66TONtOUbrn6p_PkDjqcVUfFhswuhueEdqszKsQ@mail.gmail.com>
References: <CADUzpe432nZf=O_bShjzw9qvqS7Xubc_Bvhf8eifhKPi=VNWSw@mail.gmail.com>
 <CADUzpe6YwyAgZGBSLC9g98oDUkMrnVZ-N_a7SiAsCihSWf-f7A@mail.gmail.com>
 <CADUzpe6F2TvY7kM6S6Kdk-UYpCNxwY77NXp8aR7Reh1PGCGJfQ@mail.gmail.com>
 <CADUzpe4Zp_qhvM2THyc6+L-Pd3nwivhGuyw=k+TZNL64pGPe_g@mail.gmail.com>
 <CADUzpe4_FoBQus3yMvk0m+K_jc8n-66MOC8KCEC7Tyvcv9-N5w@mail.gmail.com>
 <CADUzpe7TMoGVyHVbtDQWxE23coSZxVVwrEXwioTmVm923McZaQ@mail.gmail.com>
 <CADUzpe6QfQciTxY9Xx-8hTs_RQcY_ehzAyZAYvvRNqPaNnRVSQ@mail.gmail.com>
 <CADUzpe4bD6u_7n2Nivje26Uvqa_6GPw6qYWjNYRegnZ70aLeew@mail.gmail.com>
 <CADUzpe5bHsXJoFtwFEJ1_o8SrFQKT1bOmUF6EM8vkjg8NrTUpA@mail.gmail.com>
 <CADUzpe7upq4whYMdZ6PPiuQpvShGaFcLAntALN-Kaz6K-HdO2A@mail.gmail.com>
 <CADUzpe6Nj0vTfpdnHxsreDT8m_Q1Om8iHzF624yvw1BAQgtD9Q@mail.gmail.com>
 <CADUzpe4g=_e2BeWcvEug9Sj7LcbDVMEgRT=7S6nnvOMKXS0eMw@mail.gmail.com>
 <CADUzpe7pXptw7phTajnq_8-ho3CEdG39PrNF1NwFhcmLiiL8aw@mail.gmail.com>
 <CADUzpe7QgvpT8x80UPixxpHR_MXtDr3Y6Mn-oiHbnF=wP67AAw@mail.gmail.com>
 <CABD_Zr-1MfR7kP+xHv3AN2HAuH7=tBTK-s7m_9cwogysqYRxyA@mail.gmail.com>
 <CADUzpe5K4Qy=Dtu=9Qgnz4HoXXnLfp2UkShMgACy-n-Kv77XZg@mail.gmail.com>
 <CABD_Zr95vrZzdwYTZFoQcKy-s3Xe8oG1uSUf3k-=+TSBPyNaYQ@mail.gmail.com>
 <CADUzpe71EqzOsSBk3XDx6hLAM9UTMYMOs6JPKaVgqQOp7H45TA@mail.gmail.com>
 <CADUzpe75hQ9n+Cdz-NYvcuoDP=Pi-JyyRnb+Yc=1u9Ff5QqqNQ@mail.gmail.com> <CADUzpe681vK66TONtOUbrn6p_PkDjqcVUfFhswuhueEdqszKsQ@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 11 Apr 2017 17:06:34 +0200
Message-ID: <CAGB5yNkSFPAZhF9=otL4jjZFtHXMFWQoGoaov8xFV76b7MQySg@mail.gmail.com>
Subject: Re: Curious routing case
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

If you use ActiveMQ you can use its message grouping support
http://activemq.apache.org/message-groups.html

And Apache Kafka has topics where you can use partition ids to group
by A, B, C and then have parallel processing of each group.

Not sure SQS has such advanced features.

Its a bit brittle to have to write java code or split / aggregate eip
patterns in camel to do this, and if you want to have some level of
transaction guarantees. All EIP patterns in camel are transient and
dont persist their state etc.

in other words try to use a better messaging system.


On Tue, Apr 11, 2017 at 3:31 PM, Artur Jablonski
<ajablonski@ravenpack.com> wrote:
> I guess one thing that come to my mind is to hide all this parallel stuff
> inside a processor, that would just spit out on the other end the result of
> processing all those messages. It would handle grouping and serializing and
> stuff I guess that would reduce the complexity of the route with a cost of
> complexity of the processor. I have no better ideas anyway, so I will give
> it a go
>
> On Tue, Apr 11, 2017 at 10:45 AM, Artur Jablonski <ajablonski@ravenpack.com>
> wrote:
>
>> Hello,
>>
>> I don't think this route definition is fitting my use case, though I
>> learnt a thing or two about the interesting patterns linked. Thanks!
>>
>> Ok, so let me try to clarify the use case.
>>
>>
>> 1. The stream is infinite, it's not a batch job. The messages keep on
>> coming from SQS 'all the time'
>>
>> 2. More important thing is about parallel processing.
>>
>> Let A1 denote a message 1 from group A, B2 message 2 from group B, etc.
>>
>> Let's say this is the order in which the messages happen to appear
>>  in the route from SQS
>>
>> A1, A2, B1, C1, B2, A3, C2, B3
>>
>> Now what I am trying to achieve is grouping the messages that have to be
>> processed sequentially (order doesn't matter as long as no two messages
>> from the same group are processed at the same time).
>> So I am trying to somehow get these streams
>>
>> A1, A2, A3
>>
>> B1, B2, B3
>>
>> C1, C2
>>
>>
>> So, A1 B1 and C1 can be processed in parallel because they are from
>> different groups, but the messages within groups need to be processed one
>> by one.
>>
>> In my example, there are 3 groups, but there can be many and I don't know
>> what they are in advance. The processing logic between the groups is
>> similar and is a function of the group so I can get a processor for group A
>> from a method call getProcessor(A), B getProcessor(B), etc.
>>
>> I am stuck at how to do that in Camel, because since I don't know the
>> groups in advance, I would need to create processing routes dynamically.
>>
>> Say the system starts, and A1 arrives, there can't be any processor for
>> group A yet, since it's the first message from the group and I need to
>> somehow dynamically add processing capability of the group A to the route
>> and then perhaps if the messages from group A stop arriving for some time,
>> that processor could be removed.
>>
>> How to add the parallel part between the group messages is also blurry to
>> me. One way of doing this I was thinking was to do a multicast to all the
>> dynamically created processing routes for groups and stick a filter before
>> so that only messages from particular group can go through. From multicast
>> page:
>>
>> from("direct:a").multicast().parallelProcessing().to("direct:x",
>> "direct:y", "direct:z");
>>
>> But here the x,y,z endpoints are hardcoded. I could write up some custom
>> multicast I suppose to search the routes in CamelContext...... not sure.
>>
>> Thanks
>> Artur
>>
>>
>>
>>
>>
>> On Mon, Apr 3, 2017 at 1:36 PM, Artur Jablonski <ajablonski@ravenpack.com>
>> wrote:
>>
>>> Hi Zoran,
>>>
>>> Thank you for such detailed response. This looks very promising. i will
>>> need to get my head around the aggregator pattern.
>>> For this week I will be busy with other tasks, but I will get back to it
>>> as soon as I can to see if I can get Camel work for the use case.
>>>
>>> Cheerio
>>> Artur
>>>
>>> On Mon, Apr 3, 2017 at 11:09 AM, Zoran Regvart <zoran@regvart.com> wrote:
>>>
>>>> Hi Artur,
>>>> I was thinking that the order of the messages would be important as
>>>> you need to process them sequentially.
>>>>
>>>> So I think you could use the dynamic message routing[1] with
>>>> aggregator[2], something like:
>>>>
>>>>     from("aws-sqs:...")
>>>>         .process("#preProcess")
>>>>         .toD("direct:${header.nextRoute}");
>>>>
>>>>     from("direct:parallel")...;
>>>>     from("direct:sequential").aggregate(simple("${header.group}"
>>>> )).completion..;
>>>>
>>>> So from yout SQS queue you would use a processor to pre-process
>>>> message whose responsibility would be to set the (custom) `nextRoute`
>>>> and (custom) `group` headers. `nextRoute` would be `parallel` or
>>>> `sequential`, and if `sequential` the messages would be aggregated
>>>> using the `group` header.
>>>>
>>>> You would want to define your own custom aggregation strategy or use
>>>> the completion* options that are available to you. There also might be
>>>> need to use seda[3] to fine tune any parallel processing. You might
>>>> throw in there a data format unmarshaller[4] instead of the
>>>> `preProcess` processor and use something like `${body.xyz} == foo` in
>>>> the `toD` expression.
>>>>
>>>> And I would guess that you need to examine transactions or persistence
>>>> at some point also in case your aggregation step runs for a long time
>>>> or if your use case is sensitive to message loss if interrupted --
>>>> which would undoubtedly lead you back to using queues to separate
>>>> those two ways of processing,
>>>>
>>>> HTH,
>>>>
>>>> zoran
>>>>
>>>> [1] https://camel.apache.org/message-endpoint.html
>>>> [2] https://camel.apache.org/aggregator2.html
>>>> [3] https://camel.apache.org/seda.html
>>>> [4] https://camel.apache.org/data-format.html
>>>>
>>>> On Sat, Apr 1, 2017 at 1:09 PM, Artur Jablonski
>>>> <ajablonski@ravenpack.com> wrote:
>>>> > Hey Zoran.
>>>> >
>>>> > I read again the patterns you mentioned. In my use case the order of
>>>> > processing within a group doesn't matter as long as two messages from
>>>> the
>>>> > same group are never processed in parallel. So i guess resenquencer is
>>>> out
>>>> > of the picture unless I didn't get the intention.
>>>> >
>>>> > So what we are left with is the content based router. Sure. The message
>>>> > comes, i can see what group it belongs two... And what next? Perhaps
>>>> it's
>>>> > the very first message from that group so I would need to trigger
>>>> creating
>>>> > route/processor for that group somehow, perhaps messages from this
>>>> group
>>>> > were processed before in which case the processor for the group should
>>>> > already exist...
>>>> >
>>>> >
>>>> >
>>>> >
>>>> > On 31 Mar 2017 7:58 p.m., "Zoran Regvart" <zoran@regvart.com> wrote:
>>>> >
>>>> >> Hi Artur,
>>>> >> have a look at Camel EIP page[1], what you describe sounds to me like
>>>> >> Resequencer and Content based router patterns,
>>>> >>
>>>> >> zoran
>>>> >>
>>>> >> [1] https://camel.apache.org/eip.html
>>>> >>
>>>> >> On Fri, Mar 31, 2017 at 5:08 PM, Artur Jablonski
>>>> >> <ajablonski@ravenpack.com> wrote:
>>>> >> > Hello.
>>>> >> >
>>>> >> > I wonder if someone could push me in the right direction trying to
>>>> >> express
>>>> >> > quite curious case in Camel route.
>>>> >> >
>>>> >> > Imagine there's a stream of messages some of which can be processed
>>>> in
>>>> >> > parallel and some have to be processed serially. You can group the
>>>> >> messages
>>>> >> > that require serial processing together by looking at the message
>>>> body.
>>>> >> You
>>>> >> > don't know upfront how many groups can occur in the stream.
>>>> >> >
>>>> >> > The way I thought about doing this is having a route for each
>>>> message
>>>> >> > group. Since I don't know upfront how many and what groups there
>>>> will be
>>>> >> > then I would need to create routes dynamically. If a message comes
>>>> >> > belonging to a group that doesn't have it's handling route, then i
>>>> could
>>>> >> > create it (is that even possible??) Then if there's no messages
>>>> coming
>>>> >> for
>>>> >> > a given group in some time I could remove the route for the group to
>>>> >> > cleanup (is that possible?)
>>>> >> >
>>>> >> > New to Camel
>>>> >> >
>>>> >> > Thx!
>>>> >> > Artur
>>>> >>
>>>> >>
>>>> >>
>>>> >> --
>>>> >> Zoran Regvart
>>>> >>
>>>>
>>>>
>>>>
>>>> --
>>>> Zoran Regvart
>>>>
>>>
>>>
>>



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65301-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 21:33:24 2017
Return-Path: <users-return-65301-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8021D19398
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 21:33:24 +0000 (UTC)
Received: (qmail 97371 invoked by uid 500); 11 Apr 2017 21:33:24 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 97323 invoked by uid 500); 11 Apr 2017 21:33:24 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 97310 invoked by uid 99); 11 Apr 2017 21:33:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Apr 2017 21:33:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 76596C201E
	for <users@camel.apache.org>; Tue, 11 Apr 2017 21:33:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id bcQTtrr1Mtgf for <users@camel.apache.org>;
	Tue, 11 Apr 2017 21:33:23 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id A532C5FBA0
	for <users@camel.apache.org>; Tue, 11 Apr 2017 21:33:22 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 32E32392E4DC3
	for <users@camel.apache.org>; Tue, 11 Apr 2017 14:33:22 -0700 (MST)
Date: Tue, 11 Apr 2017 14:33:22 -0700 (MST)
From: urwithsumit <sumit.kushwaha@gmail.com>
To: users@camel.apache.org
Message-ID: <1491946402202-5797435.post@n5.nabble.com>
Subject: Camel SSH - dynamic values
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am trying to use Camel ssh component as a producer. I am passing username
and password as a dynamic parameter. With camel Version 2.18.2, my uri looks
like below:
 
.to("ssh://localhost?username=${header.USERNAME}&password=${header.PASSWORD}&pollCommand=features:hostname%0A")

With this uri, I keep getting error: Caused by:
org.apache.camel.RuntimeCamelException: Failed to authenticate username
${header.USERNAME}

The above uri works if i hard code the username and password value. 
This makes me wonder if supplying the values for username & password
dynamically is supported by this component or not?.

If not, than what alternative approach i can take to achieve the same
objective.

Regards
Sumit



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-SSH-dynamic-values-tp5797435.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65302-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 11 21:51:56 2017
Return-Path: <users-return-65302-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4AF3D1948F
	for <apmail-camel-users-archive@www.apache.org>; Tue, 11 Apr 2017 21:51:56 +0000 (UTC)
Received: (qmail 37034 invoked by uid 500); 11 Apr 2017 21:51:50 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 36980 invoked by uid 500); 11 Apr 2017 21:51:50 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 36969 invoked by uid 99); 11 Apr 2017 21:51:50 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Apr 2017 21:51:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3AF1EC0D33
	for <users@camel.apache.org>; Tue, 11 Apr 2017 21:51:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RGiCQOh45zBw for <users@camel.apache.org>;
	Tue, 11 Apr 2017 21:51:48 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 546C160DA2
	for <users@camel.apache.org>; Tue, 11 Apr 2017 21:51:47 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 7CF17392F3EAA
	for <users@camel.apache.org>; Tue, 11 Apr 2017 14:51:46 -0700 (MST)
Date: Tue, 11 Apr 2017 14:51:46 -0700 (MST)
From: urwithsumit <sumit.kushwaha@gmail.com>
To: users@camel.apache.org
Message-ID: <1491947506452-5797436.post@n5.nabble.com>
In-Reply-To: <1491946402202-5797435.post@n5.nabble.com>
References: <1491946402202-5797435.post@n5.nabble.com>
Subject: Re: Camel SSH - dynamic values
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Well, I was immediately able to figure out the alternate approach for it.

Map<String, String> map = exchange.getIn().getBody(HashMap.class);
					
exchange.getIn().setHeader("USERNAME", map.get(HeaderConstant.USER_NAME));
exchange.getIn().setHeader("PASSWORD", map.get(HeaderConstant.PASSCODE));

getContext().createProducerTemplate().requestBody("ssh://localhost?username="+map.get(HeaderConstant.USER_NAME)+"&password="+map.get(HeaderConstant.PASSCODE)+"&pollCommand=features:hostname%0A",
map);

I have another question though, with user id and password it works fine. How
to make it work against a randomly generated RSA token?

Most of the example i see are with ssh keys but i dont have this scenario
applicable. Any pointers?





--
View this message in context: http://camel.465427.n5.nabble.com/Camel-SSH-dynamic-values-tp5797435p5797436.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65303-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 07:22:44 2017
Return-Path: <users-return-65303-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 263DB18BF9
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 07:22:44 +0000 (UTC)
Received: (qmail 60246 invoked by uid 500); 12 Apr 2017 07:22:43 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 60198 invoked by uid 500); 12 Apr 2017 07:22:43 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 60186 invoked by uid 99); 12 Apr 2017 07:22:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Apr 2017 07:22:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4AF55C208C
	for <users@camel.apache.org>; Wed, 12 Apr 2017 07:22:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.692
X-Spam-Level: *
X-Spam-Status: No, score=1.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id EIpeTvk68qGJ for <users@camel.apache.org>;
	Wed, 12 Apr 2017 07:22:40 +0000 (UTC)
Received: from mail-qk0-f177.google.com (mail-qk0-f177.google.com [209.85.220.177])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 215905FB5B
	for <users@camel.apache.org>; Wed, 12 Apr 2017 07:22:40 +0000 (UTC)
Received: by mail-qk0-f177.google.com with SMTP id d131so16257767qkc.3
        for <users@camel.apache.org>; Wed, 12 Apr 2017 00:22:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=9/I97JDGetpXe2teeayQz7MuEA2aU2crAVd41DLw038=;
        b=HkV3IR9NwwOznXDzlMU+po82Qs5vyEkA0ne9Dr04iGHmovk1UbohgQbxkovXzjApd/
         KPzscVoWGM40O034DetCRLEmn9rK6JRMoaUJQ8OoswZv0UDbwzu2giJYdU3xiQd73b8A
         MYvDRsr6vBzgD1dfspKVHtjg1tLVreHtmOMfsXXsDDCU2uAVU/oPGr9qH8fbgimsegRo
         Bb4U72r+AwqeN5CCz01ETW9T3Ilr/HzRc87ZLygUSuT3tEYMUR0+utbz6ac7G6+7T1DZ
         5nk9ftZO9A2JaHgMgABSdrpBBBwGUjfUMJAUH7LspAHdUM7bCrYtIVKWj+92oiT6W0p/
         ujAQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=9/I97JDGetpXe2teeayQz7MuEA2aU2crAVd41DLw038=;
        b=FPUEu1Ek5OF8a86fN7ONbA8Dp94FPJRPm/GOiIvkxGQuRImV4vk1UeUB8Z/ZewnLsI
         DLgOhkNW8Fm1v+tNiLQRwlaC89tW2vmJkwtcF7UNcUC94H6vlSg1Ailzz3MsG6RlC3/4
         Gg20k8hA3nLFqviGrZM/eQDD23B2kXlDHut3kZ8V8fqLgbrr0sF3gB3k5Zgg/QvK5CBK
         oiKglWC4eExQ3ouIeTqOCwG8dJlzDDb/j62fe0vK0tzH5Dnx1oQUeIRQ2i1+WCwon3Qr
         w9TbtWIsYKpSikmqQ/C4AmVB8sb8ZT5JkgYmlnCrc9AFH/bRBi4VTXtZQG9pndTJZwVg
         jDiQ==
X-Gm-Message-State: AFeK/H1K7sJZVTmGaVdiH3ZhvUoF+eYUxTevc3YZVYNx9vT+Rxh1wT5eFbqmQR7e1OQLsFnFI/Y4/g4qY/Z5+A==
X-Received: by 10.55.144.6 with SMTP id s6mr56457035qkd.27.1491981759653; Wed,
 12 Apr 2017 00:22:39 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 12 Apr 2017 00:22:19 -0700 (PDT)
In-Reply-To: <1491946402202-5797435.post@n5.nabble.com>
References: <1491946402202-5797435.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 12 Apr 2017 09:22:19 +0200
Message-ID: <CAGB5yNkQt=u9BnL6p6C2JOA=LnSxciVUrELPceHfv0XHG4ZSfA@mail.gmail.com>
Subject: Re: Camel SSH - dynamic values
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

See this FAQ
http://camel.apache.org/how-to-use-a-dynamic-uri-in-to.html

On Tue, Apr 11, 2017 at 11:33 PM, urwithsumit <sumit.kushwaha@gmail.com> wrote:
> I am trying to use Camel ssh component as a producer. I am passing username
> and password as a dynamic parameter. With camel Version 2.18.2, my uri looks
> like below:
>
> .to("ssh://localhost?username=${header.USERNAME}&password=${header.PASSWORD}&pollCommand=features:hostname%0A")
>
> With this uri, I keep getting error: Caused by:
> org.apache.camel.RuntimeCamelException: Failed to authenticate username
> ${header.USERNAME}
>
> The above uri works if i hard code the username and password value.
> This makes me wonder if supplying the values for username & password
> dynamically is supported by this component or not?.
>
> If not, than what alternative approach i can take to achieve the same
> objective.
>
> Regards
> Sumit
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Camel-SSH-dynamic-values-tp5797435.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65304-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 07:32:16 2017
Return-Path: <users-return-65304-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BA29E18C75
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 07:32:16 +0000 (UTC)
Received: (qmail 73903 invoked by uid 500); 12 Apr 2017 07:32:16 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 73853 invoked by uid 500); 12 Apr 2017 07:32:16 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 67139 invoked by uid 99); 12 Apr 2017 07:28:23 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Wed, 12 Apr 2017 00:28:21 -0700 (MST)
From: davide_cavestro <davide.cavestro@gmail.com>
To: users@camel.apache.org
Message-ID: <1491982101343-5797442.post@n5.nabble.com>
Subject: Remapping exception from DSL
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I need to remap exceptions under certain route portions, in such a way that
the obtained ones are handled by the custom errorHandler set at context
level.
I'd like to do it from DSL for readability, avoiding to split routes into
too many sub-routes.

I've tried using /doTry///doCatch///throwException/ constructs, but the
/doCatch/ implementation uses a dedicated errorHandler, that in turns
delegates the handling of the thrown exception to a fallback that is not
configurable.

In the following example /BarException/ is not handled by /myErrorHandler/.



*Question*: would it be worth providing a way to set the fallback error
handler at the /doCatch/ level?
i.e. write something like 
This ideally wouldn't imply supporting nested catches nor dealing with
exception loops.



--
View this message in context: http://camel.465427.n5.nabble.com/Remapping-exception-from-DSL-tp5797442.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65305-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 11:19:51 2017
Return-Path: <users-return-65305-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 35B141951D
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 11:19:51 +0000 (UTC)
Received: (qmail 83409 invoked by uid 500); 12 Apr 2017 11:19:50 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 83351 invoked by uid 500); 12 Apr 2017 11:19:50 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 83339 invoked by uid 99); 12 Apr 2017 11:19:50 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Apr 2017 11:19:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C945EC144D
	for <users@camel.apache.org>; Wed, 12 Apr 2017 11:19:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id VltVVoI13E6C for <users@camel.apache.org>;
	Wed, 12 Apr 2017 11:19:45 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id CBE245FB3D
	for <users@camel.apache.org>; Wed, 12 Apr 2017 11:19:44 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id f133so19984751qke.2
        for <users@camel.apache.org>; Wed, 12 Apr 2017 04:19:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=YjhJLsHp/Hd0yWKImva7/i84ZA0hkqU61/eWXgz5E80=;
        b=PfbFEkoaC7uLjIubvwpa1dQBUCi7HMrYLW8nYsdO2I76VcHLMWYCrbo71YEwekiQLD
         alAjrejv/GJpzgOCeqOjlXvFR4r3FeZKgaQnvy0ul2n3WJKLhmcK0r/+ZNVKJYoyRMKH
         UpFh/L6m/3dDTvYoCG0hS952auT5j+MDR9SEm/uAZdZUtZej1mBmoTuPx9RwLgz2i5ER
         AAEuuAxX6rqq69z7zqe1NqP2Cb7dq53wPsmwuzl/pRBz9vA77Q0KjO/bLGGvSwSwyF0F
         A09HevQDUkmZs/PUZ1GLOLa5U+E9BPyYFTZ3gJLFIibmPx/Ke2e6RcyULfLYFplwrlsL
         K8NA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=YjhJLsHp/Hd0yWKImva7/i84ZA0hkqU61/eWXgz5E80=;
        b=tml9+YNNCzDeky5IxPpO1rCaJ+AaPjVDHndHR7swhOSnyilXSO9Ox+YHI+6feLxbQn
         g0956mfE3e3hx0xzE7hoNFCSQ0ACy7I8TmBBNKC6b4QnkxY79g64+pHxxUjzCYzzy4f3
         OkBZ1PdHCZbSw/Dfv1augVfoLMyWg3MGI/t3D1ZFSamI3CmmBDshQDWciR7YDQnCHtug
         Vyh4rK6xKLBMpJ3B9O1Ov7ld2mYljEbULx9+PGLvhJBcgaprEZJwwZ97Zg6ItOOCxlhi
         pM8fhbZ6PpI976ZMNQVxNQZbfBArjfHfkNOX1eSxol9WQhQ2SG7P2vfwiPDIsyPg2tCx
         yN8A==
X-Gm-Message-State: AN3rC/7OdgCQv11knbD9GdMJCUytHcnBY/DSV8BQw3R/LzPfeZoqhedz/Bx5JWpekv5QyUQ3rDSnlx/5nKclfA==
X-Received: by 10.55.191.69 with SMTP id p66mr17037508qkf.77.1491995983822;
 Wed, 12 Apr 2017 04:19:43 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.12.185.165 with HTTP; Wed, 12 Apr 2017 04:19:43 -0700 (PDT)
From: Jonathan Schoreels <jonathan.schoreels@gmail.com>
Date: Wed, 12 Apr 2017 13:19:43 +0200
Message-ID: <CA+D-ZCSXWCuQsjYPfdG9oELezUQxQ3n6eay5BZ+UDvM3Tp3=iw@mail.gmail.com>
Subject: JdbcAggregationRepository doesn't preserve properties : Feature/Bug ?
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c043d429f45dd054cf66219

--94eb2c043d429f45dd054cf66219
Content-Type: text/plain; charset=UTF-8

Hello,

I've been using JdbcAggregationRepository recently and discovered that it
won't save the property in the table and thus, losing them at each
aggregation step.

I know property are meant to be inner-route variable, and headers metadata
for protocol/outer-scope, and that by definition, a
JdbcAggregationRepository is an outer service. However, at the same time,
it's an abstraction inside the route, and it's still very unsetting to have
property that dissapear in the same camel route.

Do you see it as a Bug or a Feature ?

PS : I'm still asking myself why there is no user guide to use
JdbcAggregationRepository in the book (Hawt example) or a "pretty-doc" in
http://camel.apache.org/aggregator.html. Or maybe there is other more
standard way to aggregate in a persistent repository that I don't know yet ?

Thank you,

Jonathan Schoreels

--94eb2c043d429f45dd054cf66219--

From users-return-65306-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 11:32:24 2017
Return-Path: <users-return-65306-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63A8419568
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 11:32:24 +0000 (UTC)
Received: (qmail 97635 invoked by uid 500); 12 Apr 2017 11:32:23 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 97574 invoked by uid 500); 12 Apr 2017 11:32:23 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 97560 invoked by uid 99); 12 Apr 2017 11:32:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Apr 2017 11:32:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 82221C1962
	for <users@camel.apache.org>; Wed, 12 Apr 2017 11:32:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.397
X-Spam-Level:
X-Spam-Status: No, score=-2.397 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id KNSC12I0ifUB for <users@camel.apache.org>;
	Wed, 12 Apr 2017 11:32:21 +0000 (UTC)
Received: from mail-qk0-f172.google.com (mail-qk0-f172.google.com [209.85.220.172])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 6833F5FAE1
	for <users@camel.apache.org>; Wed, 12 Apr 2017 11:32:21 +0000 (UTC)
Received: by mail-qk0-f172.google.com with SMTP id d131so20190968qkc.3
        for <users@camel.apache.org>; Wed, 12 Apr 2017 04:32:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=r9+tZapU10lszzJa1zIK5WUAZku2fpJ4v4pPTrlyZck=;
        b=rvAtlCCVD8CX4WREuRI+KgEwZ3CFk4Jx50cUyU7s3Jrar0OwLgnGQ56WKbdzmABxGj
         OvFqLESG4JMQRzqS22blMV5K3N8TF/n9YZ7L3ZhhupbNu0QBwWG6aHtCvgQZydpFDVsh
         8P2kPZwqWsE4flqRYROIn+wjppZV4SJIHS4vtsH7F55DKKJRjkeVG0YFgGfvQzBJOwCp
         cpT7eOplRzGfgFNZrxV6Tpp6YgautxrOmiAZTvoFNJDPBZl1CHsbZylHxy2vYB1e4FIi
         RhBsCxMzp3xIiRWVzvUQ4u9TSyO9TKr0u5RfZ1GlX2uIo0Mfmd3BiBjbXFLQdRucFMDn
         98OQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=r9+tZapU10lszzJa1zIK5WUAZku2fpJ4v4pPTrlyZck=;
        b=Or7XaWBHLSzj6U9+SMZQufw0WONCl5BsWpvcJDEDTqsQ5btJaIv7C8AruLGmGb8KV2
         YrJw5JGZMsJNAdSNU6+weKXbNkbAY1J2g4QzTSlAVlRqSyfPK3qtdk0SZXPCKTugiAlF
         wnB2IaqNlIZGXoKqaFnV52qeL036IEn2HajC5DkaMV957BqmJ0Ur3PJXrjOO7eyVIzKF
         OFrPXuHyFgzRSZzpDYUUOOMZrPlYmVhFKKNIMNY2hxkFOAGv3DhefgYxKDSgqT6S85dG
         nuZLshPwjLc6+RhPGHyJ5gmAnBDbhyxj7I2xB7NvWJT/jZ06P+l9UQlZEvifSL0HidZJ
         2/dA==
X-Gm-Message-State: AFeK/H3P6UT29Jf2q3PSMWmsvS1wUNgEPA2oGVisBkdBf3K/whz6XiVVoidPxJpDm3NYJYO4LSj4ColqxHoIVw==
X-Received: by 10.55.144.6 with SMTP id s6mr57168124qkd.27.1491996735232; Wed,
 12 Apr 2017 04:32:15 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 12 Apr 2017 04:31:54 -0700 (PDT)
In-Reply-To: <CA+D-ZCSXWCuQsjYPfdG9oELezUQxQ3n6eay5BZ+UDvM3Tp3=iw@mail.gmail.com>
References: <CA+D-ZCSXWCuQsjYPfdG9oELezUQxQ3n6eay5BZ+UDvM3Tp3=iw@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 12 Apr 2017 13:31:54 +0200
Message-ID: <CAGB5yNkvRDfGzAUQ=SP9tZe4vTfhWVNC_dD6SPvtNrHkFumqkg@mail.gmail.com>
Subject: Re: JdbcAggregationRepository doesn't preserve properties :
 Feature/Bug ?
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Yes only body + headers is stored that is by design

On Wed, Apr 12, 2017 at 1:19 PM, Jonathan Schoreels
<jonathan.schoreels@gmail.com> wrote:
> Hello,
>
> I've been using JdbcAggregationRepository recently and discovered that it
> won't save the property in the table and thus, losing them at each
> aggregation step.
>
> I know property are meant to be inner-route variable, and headers metadata
> for protocol/outer-scope, and that by definition, a
> JdbcAggregationRepository is an outer service. However, at the same time,
> it's an abstraction inside the route, and it's still very unsetting to have
> property that dissapear in the same camel route.
>
> Do you see it as a Bug or a Feature ?
>
> PS : I'm still asking myself why there is no user guide to use
> JdbcAggregationRepository in the book (Hawt example) or a "pretty-doc" in
> http://camel.apache.org/aggregator.html. Or maybe there is other more
> standard way to aggregate in a persistent repository that I don't know yet ?
>
> Thank you,
>
> Jonathan Schoreels



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65307-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 11:34:37 2017
Return-Path: <users-return-65307-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A9DE19573
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 11:34:37 +0000 (UTC)
Received: (qmail 99806 invoked by uid 500); 12 Apr 2017 11:34:36 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 99750 invoked by uid 500); 12 Apr 2017 11:34:36 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 99738 invoked by uid 99); 12 Apr 2017 11:34:36 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Apr 2017 11:34:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1362BC057E
	for <users@camel.apache.org>; Wed, 12 Apr 2017 11:34:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.379
X-Spam-Level:
X-Spam-Status: No, score=0.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id mNlWoUDQ6b8x for <users@camel.apache.org>;
	Wed, 12 Apr 2017 11:34:33 +0000 (UTC)
Received: from mail-wm0-f52.google.com (mail-wm0-f52.google.com [74.125.82.52])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 7A7FC5FAE1
	for <users@camel.apache.org>; Wed, 12 Apr 2017 11:34:33 +0000 (UTC)
Received: by mail-wm0-f52.google.com with SMTP id w64so85423477wma.0
        for <users@camel.apache.org>; Wed, 12 Apr 2017 04:34:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-transfer-encoding;
        bh=lBLHLcUtp+wykblH8zb0hpyZDHNbBC1LCZ9IdI1ROnE=;
        b=eQd8Oj7Z5Wn6e6Y18Txcdoxwe/Mo5kGRF2cAzR0n2r6DnuN+24hmZpIbOul9hXxJQq
         q5NaOTmec/GnkK0cCjwHgSIOvIy3cq+y9xw2MOuuuMBpsQMEY2AdcBEZWIGbx8EoxpQ0
         MzW84NUK+HgWY5CBpzcbr9IFGfjeOYLx/Qfy34yYRtGZvbZOaQhwnl683+ewXQgoWq5i
         YAYyJ/Nq/zhDWpFnPYk9lc0HO8XBHBAvKPzsi1J9Mtcr/IG0vB2PwNblAFqOKEAogOD6
         n9amsxwJ2KH5RxbLkw12B9SWlTxSNwr21U2Zjuqlsz7idliVZSNJ1DuflIyJc8Uqn+S4
         fMSA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-transfer-encoding;
        bh=lBLHLcUtp+wykblH8zb0hpyZDHNbBC1LCZ9IdI1ROnE=;
        b=bxv4+Lp8sS/TXHkSg+7+V6R+Nl+tZKnp5QhyRdiKqt1beEsr0Cmg0iiZ/5Lkzpb37y
         +ZdfxWjtQA74Lpa2vFgtnGZGAusRFRt8lQ0WthKxt8sqZGMVGnBeyiTHNLlmy9ulNAGK
         gOJAVN2pB80rPcUQ69BpiqQ834WOvuVNaUaesqkJoIIO9vLQ0+1Hz3S9xDV2Jvc167oT
         pFFIvYhfcU4Qkw7mle0IHufrL4xgsjRnxqABRPbSP874c3njsf9NAWTXTO7DTkoqV+Hj
         O1I9gtzFkWV27d4EcWuglU0+xAUJZSUjRVS3cot0hPzy1tQEVUPsmKyEOhYEjQ4JYWzw
         8bVQ==
X-Gm-Message-State: AN3rC/4h+yggSSMtFmlQI1VAS29JJMV/cGPMKyxvQvoVZYhQBDprY4EpbgxWfVQITjE+YQ==
X-Received: by 10.28.66.74 with SMTP id p71mr2435148wma.131.1491996872325;
        Wed, 12 Apr 2017 04:34:32 -0700 (PDT)
Received: from [10.8.0.6] (host-78-129-11-141.dynamic.voo.be. [78.129.11.141])
        by smtp.gmail.com with ESMTPSA id c53sm25433788wra.16.2017.04.12.04.34.31
        for <users@camel.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 12 Apr 2017 04:34:31 -0700 (PDT)
Subject: Re: JdbcAggregationRepository doesn't preserve properties :
 Feature/Bug ?
To: users@camel.apache.org
References: <CA+D-ZCSXWCuQsjYPfdG9oELezUQxQ3n6eay5BZ+UDvM3Tp3=iw@mail.gmail.com>
 <CAGB5yNkvRDfGzAUQ=SP9tZe4vTfhWVNC_dD6SPvtNrHkFumqkg@mail.gmail.com>
From: Jonathan Schoreels <jonathan.schoreels@gmail.com>
Message-ID: <8e5ea789-606e-05df-0557-7e5ce082e508@gmail.com>
Date: Wed, 12 Apr 2017 13:34:30 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20100101
 Thunderbird/45.8.0
MIME-Version: 1.0
In-Reply-To: <CAGB5yNkvRDfGzAUQ=SP9tZe4vTfhWVNC_dD6SPvtNrHkFumqkg@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Is it allowed to open pull request just to add java doc, or would you 
prefer to do it yourself ?

On 2017-04-12 13:31, Claus Ibsen wrote:
> Yes only body + headers is stored that is by design
>
> On Wed, Apr 12, 2017 at 1:19 PM, Jonathan Schoreels
> <jonathan.schoreels@gmail.com> wrote:
>> Hello,
>>
>> I've been using JdbcAggregationRepository recently and discovered that it
>> won't save the property in the table and thus, losing them at each
>> aggregation step.
>>
>> I know property are meant to be inner-route variable, and headers metadata
>> for protocol/outer-scope, and that by definition, a
>> JdbcAggregationRepository is an outer service. However, at the same time,
>> it's an abstraction inside the route, and it's still very unsetting to have
>> property that dissapear in the same camel route.
>>
>> Do you see it as a Bug or a Feature ?
>>
>> PS : I'm still asking myself why there is no user guide to use
>> JdbcAggregationRepository in the book (Hawt example) or a "pretty-doc" in
>> http://camel.apache.org/aggregator.html. Or maybe there is other more
>> standard way to aggregate in a persistent repository that I don't know yet ?
>>
>> Thank you,
>>
>> Jonathan Schoreels
>
>


From users-return-65308-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 11:40:30 2017
Return-Path: <users-return-65308-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 40040195C6
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 11:40:30 +0000 (UTC)
Received: (qmail 5519 invoked by uid 500); 12 Apr 2017 11:40:28 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 5460 invoked by uid 500); 12 Apr 2017 11:40:28 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 5447 invoked by uid 99); 12 Apr 2017 11:40:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Apr 2017 11:40:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A8B351AFC59
	for <users@camel.apache.org>; Wed, 12 Apr 2017 11:40:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.321
X-Spam-Level:
X-Spam-Status: No, score=-0.321 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id TDQLrlViqyaZ for <users@camel.apache.org>;
	Wed, 12 Apr 2017 11:40:25 +0000 (UTC)
Received: from mail-qt0-f178.google.com (mail-qt0-f178.google.com [209.85.216.178])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id C2C595FB3D
	for <users@camel.apache.org>; Wed, 12 Apr 2017 11:40:24 +0000 (UTC)
Received: by mail-qt0-f178.google.com with SMTP id c45so19508717qtb.1
        for <users@camel.apache.org>; Wed, 12 Apr 2017 04:40:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=AIjj9Ui+Ap2qtdAZ/kxo73Urs7YCnrXj18KVRusI6Fw=;
        b=Cp/I+mR2D4BV1uj4j3fuCF6oZNrcPcVnAcQCHXc3gYpUUsg/2nwpGRvcGhsvj35PHn
         WMxsNun1H0bw70VL9YQRWLDU+FYmf4mEzgn6Qs5DZH+/W9/v83AHMLbNLnvawWe/O9I7
         Gveuc6HV8d06Vj+TUQj3WXEchx6gnGfZljsWNqM96CBJJcZcLIETEGeMO2h3MF+i9iVc
         dp1zwyzOkIOmGNT4TOGzCBnPVzDmk8ZTeCWHX0z9PQ7QnP1D7+qqyhOTbrGb/3gtHE84
         6xM6+vjczIJl1CGKWt7pmpqBB7sVb0EFOMt9S6zXheJAQ68MeblVLPj2s+0BY9Lcr50J
         2mnw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=AIjj9Ui+Ap2qtdAZ/kxo73Urs7YCnrXj18KVRusI6Fw=;
        b=lXF1T9lqcOjXFcP0fYJQGD+qgDLcB3D7fcftDpenmwolBgIZ2cGPzyCG/E4+6trmMS
         Mut0u2bsvkq75mwwTO61y0gYflDi2fY+77kh5UFIQXSN/I5AFwxaF/R2Kmqe0ixpFuMc
         egp7LgRsm0s1MS7nZ36XJrt6MlRpYHhq8LQTW+xc3JPB/L4ToEHNREN4/9B3FNsuFVGl
         EOcipbYUeSswQOIKMD5pypyngGm5He036iyxalF06ObjNsBdyx6ZwkJ9wYePFuBa1H5M
         tOcZ7siJ4ap+vsJ8fqIcCkiGzsNjjux10F+akRFzU8cIjC4/vVnToMPhL9iOr2kBL+xL
         ZZbQ==
X-Gm-Message-State: AFeK/H0GydHb9C/8x6AeH6ZcFcoIc2ZcFArdBVNDIOFilXiHhOtykrkzrU054/KBND/TxoGDDEbolV8jwqM0jA==
X-Received: by 10.200.38.218 with SMTP id 26mr68061124qtp.53.1491997223852;
 Wed, 12 Apr 2017 04:40:23 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 12 Apr 2017 04:40:03 -0700 (PDT)
In-Reply-To: <8e5ea789-606e-05df-0557-7e5ce082e508@gmail.com>
References: <CA+D-ZCSXWCuQsjYPfdG9oELezUQxQ3n6eay5BZ+UDvM3Tp3=iw@mail.gmail.com>
 <CAGB5yNkvRDfGzAUQ=SP9tZe4vTfhWVNC_dD6SPvtNrHkFumqkg@mail.gmail.com> <8e5ea789-606e-05df-0557-7e5ce082e508@gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 12 Apr 2017 13:40:03 +0200
Message-ID: <CAGB5yNmbr+_QHY0yzGcuB+WvesPSVLR3mBeHZGC9Hfy3YBWy3w@mail.gmail.com>
Subject: Re: JdbcAggregationRepository doesn't preserve properties :
 Feature/Bug ?
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

Yeah sure we love contributions, and you are welcome to provide a PR
with improved javadoc
http://camel.apache.org/contributing

Github PR is the easiest
https://github.com/apache/camel/

On Wed, Apr 12, 2017 at 1:34 PM, Jonathan Schoreels
<jonathan.schoreels@gmail.com> wrote:
> Is it allowed to open pull request just to add java doc, or would you prefer
> to do it yourself ?
>
>
> On 2017-04-12 13:31, Claus Ibsen wrote:
>>
>> Yes only body + headers is stored that is by design
>>
>> On Wed, Apr 12, 2017 at 1:19 PM, Jonathan Schoreels
>> <jonathan.schoreels@gmail.com> wrote:
>>>
>>> Hello,
>>>
>>> I've been using JdbcAggregationRepository recently and discovered that it
>>> won't save the property in the table and thus, losing them at each
>>> aggregation step.
>>>
>>> I know property are meant to be inner-route variable, and headers
>>> metadata
>>> for protocol/outer-scope, and that by definition, a
>>> JdbcAggregationRepository is an outer service. However, at the same time,
>>> it's an abstraction inside the route, and it's still very unsetting to
>>> have
>>> property that dissapear in the same camel route.
>>>
>>> Do you see it as a Bug or a Feature ?
>>>
>>> PS : I'm still asking myself why there is no user guide to use
>>> JdbcAggregationRepository in the book (Hawt example) or a "pretty-doc" in
>>> http://camel.apache.org/aggregator.html. Or maybe there is other more
>>> standard way to aggregate in a persistent repository that I don't know
>>> yet ?
>>>
>>> Thank you,
>>>
>>> Jonathan Schoreels
>>
>>
>>
>



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65309-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 13:27:28 2017
Return-Path: <users-return-65309-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2AB0C19B45
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 13:27:28 +0000 (UTC)
Received: (qmail 69241 invoked by uid 500); 12 Apr 2017 13:27:27 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 69192 invoked by uid 500); 12 Apr 2017 13:27:27 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 62206 invoked by uid 99); 12 Apr 2017 13:23:42 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Wed, 12 Apr 2017 06:23:39 -0700 (MST)
From: Shutao <sstwood@gmail.com>
To: users@camel.apache.org
Message-ID: <1492003419907-5797503.post@n5.nabble.com>
Subject: Camel-netty client problem, only one connection is allowed by the
 server
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Only one connection is allowed by the server.
How can I use the camel-netty to write a client side which there is a lot of
concurrent jobs ?
(I want to use the producerPoolEnabled=false, but the document said Don't
turn it off)



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-netty-client-problem-only-one-connection-is-allowed-by-the-server-tp5797503.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65310-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 13:31:50 2017
Return-Path: <users-return-65310-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A68119B6F
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 13:31:50 +0000 (UTC)
Received: (qmail 77805 invoked by uid 500); 12 Apr 2017 13:31:49 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 77759 invoked by uid 500); 12 Apr 2017 13:31:49 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 72037 invoked by uid 99); 12 Apr 2017 13:28:54 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Wed, 12 Apr 2017 06:28:52 -0700 (MST)
From: Shutao <sstwood@gmail.com>
To: users@camel.apache.org
Message-ID: <1492003732852-5797504.post@n5.nabble.com>
In-Reply-To: <1492003419907-5797503.post@n5.nabble.com>
References: <1492003419907-5797503.post@n5.nabble.com>
Subject: Re: Camel-netty client problem, only one connection is allowed by
 the server
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I'm using Camel 1.15 with netty 3.9.9 now.





--
View this message in context: http://camel.465427.n5.nabble.com/Camel-netty-client-problem-only-one-connection-is-allowed-by-the-server-tp5797503p5797504.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65311-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 15:50:11 2017
Return-Path: <users-return-65311-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DE9571827C
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 15:50:10 +0000 (UTC)
Received: (qmail 80233 invoked by uid 500); 12 Apr 2017 15:50:10 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 80183 invoked by uid 500); 12 Apr 2017 15:50:10 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 99298 invoked by uid 99); 12 Apr 2017 13:37:07 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Wed, 12 Apr 2017 06:37:03 -0700 (MST)
From: Shutao <sstwood@gmail.com>
To: users@camel.apache.org
Message-ID: <1492004223375-5797506.post@n5.nabble.com>
In-Reply-To: <1492003732852-5797504.post@n5.nabble.com>
References: <1492003419907-5797503.post@n5.nabble.com> <1492003732852-5797504.post@n5.nabble.com>
Subject: Re: Camel-netty client problem, only one connection is allowed by
 the server
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

The main problem is.
if I set the producerPoolMaxActive = 1, all the requests will queue one by
one. The performance is low.
if I set the producerPoolEnabled = false, seems got concurrency issue
according to the
http://camel.465427.n5.nabble.com/Concurrency-problem-with-Netty-and-producerPoolEnabled-false-td5739679.html#a5739683




--
View this message in context: http://camel.465427.n5.nabble.com/Camel-netty-client-problem-only-one-connection-is-allowed-by-the-server-tp5797503p5797506.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65312-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 16:00:44 2017
Return-Path: <users-return-65312-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CDBF018375
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 16:00:44 +0000 (UTC)
Received: (qmail 16719 invoked by uid 500); 12 Apr 2017 16:00:44 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 16674 invoked by uid 500); 12 Apr 2017 16:00:44 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 66972 invoked by uid 99); 12 Apr 2017 14:06:41 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.736
X-Spam-Level: ***
X-Spam-Status: No, score=3.736 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Wed, 12 Apr 2017 07:06:37 -0700 (MST)
From: andcrow <andcrow25@gmail.com>
To: users@camel.apache.org
Message-ID: <1492005997292-5797508.post@n5.nabble.com>
Subject: Using Split with JSON File
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello,

I have a route that triggers a SELECT in a database and creates a JSON file
in a folder (this file which on average generates something around 100k to
150k of records).

Then another route that sends the data of this file to an endpoint using the
HTTP4 component and performing a POST and REST API (the endpoint is already
prepared to perform batch processing).

I noticed something curious, that in certain cases Camel sends the data, Web
Services is processing correctly, but after a few seconds Camel returns me a
DeadLetterChannel, with some exceptions:

 - "org.apache.http.wire" "http-outgoing-5" "end of stream"

 - "org.apache.http.nohttpresponseexception" "failed to respond"

 - "h.i.c.DefaultManagedHttpClientConnection" "http-outgoing-5" "Close
connection"

 - "h.i.c.DefaultManagedHttpClientConnection" "http-outgoing-5" "Shutdown
connection"

 - "o.a.http.impl.execchain.MainClientExec" "Connection discarded"
"Connection released"

But the process continues normally, it tries to resend again, but gives the
error again, but in AWS web services it is processing normally and I have
verified that it returns the normal status codes.

Searching the Camel documentation and found httpClient. I made the
configuration by increasing the timeout, but nothing worked, it seems that
it ignores these settings (httpClient.socketTimeout = 300000).

I'm thinking of splitting the JSON file, with some rule like every 1000
records generating 1 JSON file. So I will have several smaller files that
will be processed faster and thus get the response from the server, avoiding
this error.

My actual route thats find all records in database and create a json file
is:

from("timer://query?fixedRate=true&delay=5s&period=10800s")
    .routeId("route-product")
    .setBody(constant(new ProductQuery().getProductSelect()))
.to("jdbc:myDataSource")
    .marshal()
        .json(JsonLibrary.Gson)
        .setHeader(Exchange.CONTENT_TYPE, constant("application/json"))
        .setHeader(Exchange.HTTP_CHARACTER_ENCODING, constant("UTF-8"))
        .setHeader("CamelFileName", constant("products.json"))
.to("file:products");

However, searching the documentation, I was able to perform the split:

from("timer://query?fixedRate=true&delay=5s&period=10800s")
    .routeId("route-product")
    .setBody(constant(new ProductQuery().getProductSelect()))
.to("jdbc:myDataSource?outputType=StreamList")
    .split(body()).streaming()
    .marshal()
        .json(JsonLibrary.Gson)
        .setHeader(Exchange.CONTENT_TYPE, constant("application/json"))
        .setHeader("CamelFileName", simple("${id}.json"))
.to("file:product");

In this way each record creates a JSON file, but my case, I want to group
these records, again in the documentation is suggested as follows:

.split().tokenize("\n", 1000).streaming()

But in this way the output of the log shows only 1 file with the following
content:

"org.apache.camel.component.jdbc.ResultSetIterator@7be7d81f"

If I remove the option ?outputType=StreamList from the JDBC component's URI,
then the following exception is thrown:

No converter found capable of converting from type [java.util.ArrayList<?>]
to type [java.lang.String]



--
View this message in context: http://camel.465427.n5.nabble.com/Using-Split-with-JSON-File-tp5797508.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65313-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 17:34:45 2017
Return-Path: <users-return-65313-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF517187ED
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 17:34:45 +0000 (UTC)
Received: (qmail 67357 invoked by uid 500); 12 Apr 2017 17:34:40 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 67306 invoked by uid 500); 12 Apr 2017 17:34:40 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 67295 invoked by uid 99); 12 Apr 2017 17:34:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Apr 2017 17:34:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A9A621A03E3
	for <users@camel.apache.org>; Wed, 12 Apr 2017 17:34:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 1WTiF1eFH9hZ for <users@camel.apache.org>;
	Wed, 12 Apr 2017 17:34:37 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id E9F985F642
	for <users@camel.apache.org>; Wed, 12 Apr 2017 17:34:36 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 8D8803963EB71
	for <users@camel.apache.org>; Wed, 12 Apr 2017 10:34:35 -0700 (MST)
Date: Wed, 12 Apr 2017 10:34:35 -0700 (MST)
From: urwithsumit <sumit.kushwaha@gmail.com>
To: users@camel.apache.org
Message-ID: <1492018475571-5797512.post@n5.nabble.com>
In-Reply-To: <CAGB5yNkQt=u9BnL6p6C2JOA=LnSxciVUrELPceHfv0XHG4ZSfA@mail.gmail.com>
References: <1491946402202-5797435.post@n5.nabble.com> <CAGB5yNkQt=u9BnL6p6C2JOA=LnSxciVUrELPceHfv0XHG4ZSfA@mail.gmail.com>
Subject: Re: Camel SSH - dynamic values
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Thanks Claus for this pointer. I will try this approach today.

Any advice on how i can make a SSH login with username and a RSA Token ex:
87632345?

Regards,
Sumit



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-SSH-dynamic-values-tp5797435p5797512.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65314-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 18:52:45 2017
Return-Path: <users-return-65314-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5008718C5E
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 18:52:45 +0000 (UTC)
Received: (qmail 83496 invoked by uid 500); 12 Apr 2017 18:52:44 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 83448 invoked by uid 500); 12 Apr 2017 18:52:44 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 90163 invoked by uid 99); 12 Apr 2017 16:28:24 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Wed, 12 Apr 2017 09:28:22 -0700 (MST)
From: Bernard Ligny <bernard.ligny@gmail.com>
To: users@camel.apache.org
Message-ID: <1492014502773-5797510.post@n5.nabble.com>
Subject: Camel-CDI in a multi-module project
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am currently refactoring a monolithic webapp using a more
modular/micro-services approach.
I'm busy with splitting the numerous existing Camel RouteBuilders into
separate module.

The target situation is explained here:


And the resulting war has the following structure


Each module contains the following Camel stuff:


When deployed on my app-server, I notice the following behaviour (with Camel
2.18.1).

1) As long as this Camel stuff remains in the embedded jars, Camel does
*NOT* see them. So Camel is not starting at all...

2) If I move the various context producers into the webapp module
(=>ContextFactory class now in WEB-INF/classes instead of
/WEB-INF/lib/module-i.jar), then Camel is starting... Great ! But the
started contexts do not detect my routes. So all contexts are empty :-(

So my conclusion is that Camel-CDI (classloader) expects that everything
(=context producers as well as route definitions) should be located in
WEB-INF/classes.
Is this assumption right ?
What are the solutions to make it work ?

PS: I'm deploying to Wildfly 10.1.0. 










--
View this message in context: http://camel.465427.n5.nabble.com/Camel-CDI-in-a-multi-module-project-tp5797510.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65315-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 12 20:48:05 2017
Return-Path: <users-return-65315-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3272B1928C
	for <apmail-camel-users-archive@www.apache.org>; Wed, 12 Apr 2017 20:48:05 +0000 (UTC)
Received: (qmail 97675 invoked by uid 500); 12 Apr 2017 20:48:04 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 97627 invoked by uid 500); 12 Apr 2017 20:48:04 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 97615 invoked by uid 99); 12 Apr 2017 20:48:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Apr 2017 20:48:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 126AA1803A3
	for <users@camel.apache.org>; Wed, 12 Apr 2017 20:48:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.38
X-Spam-Level:
X-Spam-Status: No, score=0.38 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=regvart.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ag0DFot0VcwX for <users@camel.apache.org>;
	Wed, 12 Apr 2017 20:48:03 +0000 (UTC)
Received: from mail-wm0-f41.google.com (mail-wm0-f41.google.com [74.125.82.41])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id D45505F65C
	for <users@camel.apache.org>; Wed, 12 Apr 2017 20:48:02 +0000 (UTC)
Received: by mail-wm0-f41.google.com with SMTP id w64so97355505wma.0
        for <users@camel.apache.org>; Wed, 12 Apr 2017 13:48:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=regvart.com; s=google;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=FWZUgPf8V/jTYUlCISR+v2QyynxwmH8Z/TxSGxnZ+zk=;
        b=CQOV+mzF16Ltopw7aR7F+kEKcl7bK+vflQDY0EMd5B4kSjkptdaoXfcGe+TmMvznbP
         AHDjlfbxyaRdPLGx7kdPyGR5phxT3TmRKKSr7KbfwotTTGecMY3hhMZ4a4xnq4f0tMRZ
         x2XXuiHAs/4Xe0Bxen+hfXVhN2f0mz0sN7hAU=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=FWZUgPf8V/jTYUlCISR+v2QyynxwmH8Z/TxSGxnZ+zk=;
        b=PZ9uSJHMuDiO1eF9cu8Z/H2vTuHCdVAxlOGOMuBoCEBzk8iMyDIS96DUoR/+iu1+/n
         r9vXH6h6nnqJYG+M1Uy0IAEitvikWYBhs9fQaB9srU3MsddbM+2b1SbxFrfW1/H61g3P
         Ey7ojYw4n0weoC53oyjbgWutNzrJCbFiMP3R6ZPcCAV34syz/GnVC2J7X1ZMuh2WyzxB
         eX1aL1PXcKijFrrfcFCPWX49Qrfu/PqBuiQcnWHqvH6+UauzLKOW4wzJJUWLo5ICkgeB
         LyEphgW05kPoyIYCGZ9NuM8qZ9BtuqOlSObESmHuzOc5W4DkRBFRtHEO42tlRaYdlFon
         ERsQ==
X-Gm-Message-State: AN3rC/7qy+9nMx5itF6JNUfe8ZjSc3VoqMG4GCgU0Iu735/aDmDSTvSo
	6yaJS2/lh+0o4ZyiCh0NoNaj0noST2J+tfo=
X-Received: by 10.28.232.220 with SMTP id f89mr103037wmi.99.1492030082323;
 Wed, 12 Apr 2017 13:48:02 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.80.131.101 with HTTP; Wed, 12 Apr 2017 13:47:42 -0700 (PDT)
In-Reply-To: <1492018475571-5797512.post@n5.nabble.com>
References: <1491946402202-5797435.post@n5.nabble.com> <CAGB5yNkQt=u9BnL6p6C2JOA=LnSxciVUrELPceHfv0XHG4ZSfA@mail.gmail.com>
 <1492018475571-5797512.post@n5.nabble.com>
From: Zoran Regvart <zoran@regvart.com>
Date: Wed, 12 Apr 2017 22:47:42 +0200
Message-ID: <CABD_Zr9jDv_59vTnTk60F40BF8VC8foMLmWi=XTLheknPDJ1HA@mail.gmail.com>
Subject: Re: Camel SSH - dynamic values
To: users@camel.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Sumit,
not sure if you'll shoot yourself in the foot, but you could do change
component's configuration from a processor, like:

    from("direct:s").process((exchange) -> exchange.getContext()
        .getComponent("ssh", SshComponent.class)
        .getConfiguration()
        .setPassword("..."))
    .to("ssh:...");

zoran

On Wed, Apr 12, 2017 at 7:34 PM, urwithsumit <sumit.kushwaha@gmail.com> wrote:
> Any advice on how i can make a SSH login with username and a RSA Token ex:
> 87632345?




-- 
Zoran Regvart

From users-return-65316-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 13 01:40:24 2017
Return-Path: <users-return-65316-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3AE7719D5A
	for <apmail-camel-users-archive@www.apache.org>; Thu, 13 Apr 2017 01:40:24 +0000 (UTC)
Received: (qmail 14393 invoked by uid 500); 13 Apr 2017 01:40:23 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 14333 invoked by uid 500); 13 Apr 2017 01:40:23 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 14322 invoked by uid 99); 13 Apr 2017 01:40:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Apr 2017 01:40:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A8E98CA9E3
	for <users@camel.apache.org>; Thu, 13 Apr 2017 01:40:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.487
X-Spam-Level: ***
X-Spam-Status: No, score=3.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id agCybdPhF7ff for <users@camel.apache.org>;
	Thu, 13 Apr 2017 01:40:19 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 8F04F5F642
	for <users@camel.apache.org>; Thu, 13 Apr 2017 01:40:18 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 3697E397969B4
	for <users@camel.apache.org>; Wed, 12 Apr 2017 18:40:17 -0700 (MST)
Date: Wed, 12 Apr 2017 18:40:17 -0700 (MST)
From: urwithsumit <sumit.kushwaha@gmail.com>
To: users@camel.apache.org
Message-ID: <1492047617162-5797545.post@n5.nabble.com>
In-Reply-To: <CABD_Zr9jDv_59vTnTk60F40BF8VC8foMLmWi=XTLheknPDJ1HA@mail.gmail.com>
References: <1491946402202-5797435.post@n5.nabble.com> <CAGB5yNkQt=u9BnL6p6C2JOA=LnSxciVUrELPceHfv0XHG4ZSfA@mail.gmail.com> <1492018475571-5797512.post@n5.nabble.com> <CABD_Zr9jDv_59vTnTk60F40BF8VC8foMLmWi=XTLheknPDJ1HA@mail.gmail.com>
Subject: Re: Camel SSH - dynamic values
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

@Claus, toD() did worked for user id and password. 

@Zoran, the approach gives a null pointer exception for user id,  RSA token
combination. I did not tried though with the password. For dynamic value i
thus will go with toD()


Still struggling to get it work with RSA token code. 



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-SSH-dynamic-values-tp5797435p5797545.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65317-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 13 08:06:12 2017
Return-Path: <users-return-65317-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 275C119923
	for <apmail-camel-users-archive@www.apache.org>; Thu, 13 Apr 2017 08:06:12 +0000 (UTC)
Received: (qmail 22265 invoked by uid 500); 13 Apr 2017 08:06:11 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 22214 invoked by uid 500); 13 Apr 2017 08:06:11 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 22203 invoked by uid 99); 13 Apr 2017 08:06:10 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Apr 2017 08:06:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6895B18028D
	for <users@camel.apache.org>; Thu, 13 Apr 2017 08:06:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.294
X-Spam-Level: **
X-Spam-Status: No, score=2.294 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id KzKsAJMF3JFL for <users@camel.apache.org>;
	Thu, 13 Apr 2017 08:06:05 +0000 (UTC)
Received: from 1.mo64.mail-out.ovh.net (1.mo64.mail-out.ovh.net [178.33.109.67])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 08FAA5FAE0
	for <users@camel.apache.org>; Thu, 13 Apr 2017 08:05:59 +0000 (UTC)
Received: from ex.mail.ovh.net (gw2.ex.mail.ovh.net [176.31.149.1])
	by mo64.mail-out.ovh.net (Postfix) with SMTP id 715BF3B4BB
	for <users@camel.apache.org>; Thu, 13 Apr 2017 10:05:53 +0200 (CEST)
From: Antonin Stefanutti <antonin@stefanutti.fr>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: Re: Camel-CDI in a multi-module project
Thread-Topic: Camel-CDI in a multi-module project
Thread-Index: AQHSs735cnvzQ7pw4E6dyQ5y3cv6B6HC0IYA
Date: Thu, 13 Apr 2017 08:05:52 +0000
Message-ID: <F686B54E-F33B-4732-BD7E-2DC5317AC1F3@stefanutti.fr>
References: <1492014502773-5797510.post@n5.nabble.com>
In-Reply-To: <1492014502773-5797510.post@n5.nabble.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-mailer: Apple Mail (2.3273)
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [81.57.228.108]
Content-Type: text/plain; charset="us-ascii"
Content-ID: <CCC9BBA50EB1024F8F9CFA54B631C2EF@indiv.local>
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Ovh-Tracer-Id: 3558125184209757402
X-VR-SPAMSTATE: OK
X-VR-SPAMSCORE: 0
X-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeeliedrudejgddufeefucetufdoteggodetrfdotffvucfrrhhofhhilhgvmecuqfggjfdpvefjgfevmfevgfenuceurghilhhouhhtmecufedttdenuc

Hi,

> On 12 Apr 2017, at 18:28, Bernard Ligny <bernard.ligny@gmail.com> wrote:
>=20
> I am currently refactoring a monolithic webapp using a more
> modular/micro-services approach.
> I'm busy with splitting the numerous existing Camel RouteBuilders into
> separate module.
>=20
> The target situation is explained here:
>=20
>=20
> And the resulting war has the following structure
>=20
>=20
> Each module contains the following Camel stuff:
>=20
>=20
> When deployed on my app-server, I notice the following behaviour (with Ca=
mel
> 2.18.1).
>=20
> 1) As long as this Camel stuff remains in the embedded jars, Camel does
> *NOT* see them. So Camel is not starting at all...
>=20
> 2) If I move the various context producers into the webapp module
> (=3D>ContextFactory class now in WEB-INF/classes instead of
> /WEB-INF/lib/module-i.jar), then Camel is starting... Great ! But the
> started contexts do not detect my routes. So all contexts are empty :-(
>=20
> So my conclusion is that Camel-CDI (classloader) expects that everything
> (=3Dcontext producers as well as route definitions) should be located in
> WEB-INF/classes.
> Is this assumption right ?

Camel CDI is basically a CDI extension so it does not affect the way beans =
archives are being discovered and deployed by the container nor classes are=
 being loaded. It solely up to the container, in your case WildFly.

> What are the solutions to make it work ?

I would expect the library JARs packaged within you WAR to be deployed as b=
eans archives as long as they have a beans.xml file in module<X>.jar/META-I=
NF directory. Is this the case?

There may be some classloading issues but then you should turn to WildFly t=
eam...

> PS: I'm deploying to Wildfly 10.1.0.=20
>=20
>=20
>=20
>=20
>=20
>=20
>=20
>=20
>=20
>=20
> --
> View this message in context: http://camel.465427.n5.nabble.com/Camel-CDI=
-in-a-multi-module-project-tp5797510.html
> Sent from the Camel - Users mailing list archive at Nabble.com.


From users-return-65318-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 13 16:00:58 2017
Return-Path: <users-return-65318-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8A0AB19FC8
	for <apmail-camel-users-archive@www.apache.org>; Thu, 13 Apr 2017 16:00:58 +0000 (UTC)
Received: (qmail 40104 invoked by uid 500); 13 Apr 2017 16:00:58 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 40073 invoked by uid 500); 13 Apr 2017 16:00:58 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 40061 invoked by uid 99); 13 Apr 2017 16:00:57 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Apr 2017 16:00:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 599661AFE60
	for <users@camel.apache.org>; Thu, 13 Apr 2017 16:00:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.286
X-Spam-Level: **
X-Spam-Status: No, score=2.286 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id DIfi-Lr6jntg for <users@camel.apache.org>;
	Thu, 13 Apr 2017 16:00:56 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 289555FAE0
	for <users@camel.apache.org>; Thu, 13 Apr 2017 16:00:56 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 92BE0399F901F
	for <users@camel.apache.org>; Thu, 13 Apr 2017 09:00:55 -0700 (MST)
Date: Thu, 13 Apr 2017 09:00:55 -0700 (MST)
From: paul529 <paul529@icloud.com>
To: users@camel.apache.org
Message-ID: <1492099255592-5797646.post@n5.nabble.com>
In-Reply-To: <CABD_Zr9ORvHrVXBs64tD5M=DEvseHEaCc_4FMf8FPnXBPRkQhA@mail.gmail.com>
References: <1490789470462-5796693.post@n5.nabble.com> <CABD_Zr9ORvHrVXBs64tD5M=DEvseHEaCc_4FMf8FPnXBPRkQhA@mail.gmail.com>
Subject: Re: Apache Camel - ftp component - need to use absolute path
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi Zoran, 

I have been unable to find any detailed description of why absolute paths
cannot be supported in the ftp component. 

I am trying to use the ftp component to retrieve files from a remote host. 
I use an idempotent repository with the noop=true setting for the consumer. 
In this way the remote host is only accessed in a read-only manner.   

Does the issue with absolute paths have to do with renaming files after
processing on the remote host?  Is so, my use case would not require this
and would be able to support absolute paths. 

Would it be possible to support absolute paths using a property of the the
component URI?  Possibly if noop=true is set? 

Thanks, 
Paul



--
View this message in context: http://camel.465427.n5.nabble.com/Apache-Camel-ftp-component-need-to-use-absolute-path-tp5796693p5797646.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65319-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 13 16:24:54 2017
Return-Path: <users-return-65319-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 09C1919157
	for <apmail-camel-users-archive@www.apache.org>; Thu, 13 Apr 2017 16:24:54 +0000 (UTC)
Received: (qmail 20691 invoked by uid 500); 13 Apr 2017 16:24:53 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 20645 invoked by uid 500); 13 Apr 2017 16:24:53 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 20624 invoked by uid 99); 13 Apr 2017 16:24:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Apr 2017 16:24:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id DC965182398
	for <users@camel.apache.org>; Thu, 13 Apr 2017 16:24:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.167
X-Spam-Level: ***
X-Spam-Status: No, score=3.167 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id UAAcE8UTtETg for <users@camel.apache.org>;
	Thu, 13 Apr 2017 16:24:51 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 694C65FB49
	for <users@camel.apache.org>; Thu, 13 Apr 2017 16:24:46 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id B6D2B39A087E4
	for <users@camel.apache.org>; Thu, 13 Apr 2017 09:24:45 -0700 (MST)
Date: Thu, 13 Apr 2017 09:24:45 -0700 (MST)
From: "sameekbhaumik@yahoo.co.in" <sameekbhaumik@yahoo.co.in>
To: users@camel.apache.org
Message-ID: <1492100685739-5797647.post@n5.nabble.com>
Subject: Need Help: Using ServiceCall EIP and camel-ribbon component to
 discover service from Netflix Eureka Server
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Dear All,

I am trying to discover a service (localhost:9999) registered in a Eureka
Server running at localhost:8080 using ServiceCall EIP and camel-ribbon
component checked out from Github master branch i.e. 2.19.0-SNAPSHOT
version.

Following is my eureka-service properties used while registering the
service:

eureka.name=vertxHttp
eureka.vipAddress=http.vertx.net
eureka.port=9999

Now, my route to lookup the registered service is:

        StaticServiceDiscovery servers = new StaticServiceDiscovery();
        servers.addServer("localhost", 8080);

        RibbonConfiguration configuration = new RibbonConfiguration();
        RibbonLoadBalancer loadBalancer = new
RibbonLoadBalancer(configuration);

        // configure camel service call
        ServiceCallConfigurationDefinition config = new
ServiceCallConfigurationDefinition();
        config.setLoadBalancer(loadBalancer);
        config.setServiceDiscovery(servers);

        // register configuration
        getContext().setServiceCallConfiguration(config);
        
        from("direct:start")
        .serviceCall("vertxHttp","http:vertxHttp.host:vertxHttp.port")
        .process(new Processor() {
			
			@Override
			public void process(Exchange exchange) throws Exception {
				// TODO Auto-generated method stub
				System.out.println("From Route->"+exchange);
			}
		})
        .to("mock:result");


While running the above route in debug mode, the control is not going into
Processor.process, so I am unable to check the contents of exchange to see
whether ServiceCall is working as expected.

Couple of questions:
1) Can I use ServiceCall EIP and camel-ribbon component to discover a
service registered in Netflix Eureka Server?

2) If yes, pls help me in getting it working.

Thanks in advance.

Regards,
Sameek Bhaumik



--
View this message in context: http://camel.465427.n5.nabble.com/Need-Help-Using-ServiceCall-EIP-and-camel-ribbon-component-to-discover-service-from-Netflix-Eureka-Sr-tp5797647.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65320-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 13 17:14:00 2017
Return-Path: <users-return-65320-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C7C81193A8
	for <apmail-camel-users-archive@www.apache.org>; Thu, 13 Apr 2017 17:14:00 +0000 (UTC)
Received: (qmail 28442 invoked by uid 500); 13 Apr 2017 17:14:00 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 28400 invoked by uid 500); 13 Apr 2017 17:14:00 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 9289 invoked by uid 99); 13 Apr 2017 15:54:27 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.286
X-Spam-Level: **
X-Spam-Status: No, score=2.286 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Date: Thu, 13 Apr 2017 08:54:22 -0700 (MST)
From: paul529 <paul529@icloud.com>
To: users@camel.apache.org
Message-ID: <1492098862759-5797644.post@n5.nabble.com>
In-Reply-To: <CABD_Zr9ORvHrVXBs64tD5M=DEvseHEaCc_4FMf8FPnXBPRkQhA@mail.gmail.com>
References: <1490789470462-5796693.post@n5.nabble.com> <CABD_Zr9ORvHrVXBs64tD5M=DEvseHEaCc_4FMf8FPnXBPRkQhA@mail.gmail.com>
Subject: Re: Apache Camel - ftp component - need to use absolute path
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi Zoran,

I have been unable to find any detailed description of why absolute paths
cannot be supported in the ftp component.

I am trying to use the ftp component to retrieve files from a remote host. 
I use an idempotent repository with the noop=true setting for the consumer. 
In this way the remote host is only accessed in a read-only manner.  

Does the issue with absolute paths have to do with renaming files after
processing on the remote host?  Is so, my use case would not require this
and would be able to support absolute paths.

Would it be possible to support absolute paths using a property of the the
component URI?  Possibly if noop=true is set?

Thanks,
Paul



--
View this message in context: http://camel.465427.n5.nabble.com/Apache-Camel-ftp-component-need-to-use-absolute-path-tp5796693p5797644.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65321-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 13 17:14:10 2017
Return-Path: <users-return-65321-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6E0EB193AA
	for <apmail-camel-users-archive@www.apache.org>; Thu, 13 Apr 2017 17:14:10 +0000 (UTC)
Received: (qmail 29558 invoked by uid 500); 13 Apr 2017 17:14:10 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 29516 invoked by uid 500); 13 Apr 2017 17:14:09 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 16368 invoked by uid 99); 13 Apr 2017 15:56:32 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.286
X-Spam-Level: **
X-Spam-Status: No, score=2.286 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Date: Thu, 13 Apr 2017 08:56:30 -0700 (MST)
From: paul529 <paul529@icloud.com>
To: users@camel.apache.org
Message-ID: <1492098990171-5797645.post@n5.nabble.com>
In-Reply-To: <CABD_Zr9ORvHrVXBs64tD5M=DEvseHEaCc_4FMf8FPnXBPRkQhA@mail.gmail.com>
References: <1490789470462-5796693.post@n5.nabble.com> <CABD_Zr9ORvHrVXBs64tD5M=DEvseHEaCc_4FMf8FPnXBPRkQhA@mail.gmail.com>
Subject: Re: Apache Camel - ftp component - need to use absolute path
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi Zoran, 

I have been unable to find any detailed description of why absolute paths
cannot be supported in the ftp component. 

I am trying to use the ftp component to retrieve files from a remote host. 
I use an idempotent repository with the noop=true setting for the consumer. 
In this way the remote host is only accessed in a read-only manner.   

Does the issue with absolute paths have to do with renaming files after
processing on the remote host?  Is so, my use case would not require this
and would be able to support absolute paths. 

Would it be possible to support absolute paths using a property of the the
component URI?  Possibly if noop=true is set? 

Thanks, 
Paul



--
View this message in context: http://camel.465427.n5.nabble.com/Apache-Camel-ftp-component-need-to-use-absolute-path-tp5796693p5797645.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65322-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 13 17:36:11 2017
Return-Path: <users-return-65322-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 45C3D194E5
	for <apmail-camel-users-archive@www.apache.org>; Thu, 13 Apr 2017 17:36:11 +0000 (UTC)
Received: (qmail 85977 invoked by uid 500); 13 Apr 2017 17:36:10 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 85928 invoked by uid 500); 13 Apr 2017 17:36:10 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 85904 invoked by uid 99); 13 Apr 2017 17:36:10 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Apr 2017 17:36:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id EC67AC142D
	for <users@camel.apache.org>; Thu, 13 Apr 2017 17:36:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.895
X-Spam-Level:
X-Spam-Status: No, score=-2.895 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=regvart.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Pu2DKokpAnGH for <users@camel.apache.org>;
	Thu, 13 Apr 2017 17:36:07 +0000 (UTC)
Received: from mail-wr0-f169.google.com (mail-wr0-f169.google.com [209.85.128.169])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id AA54B5FB5C
	for <users@camel.apache.org>; Thu, 13 Apr 2017 17:36:07 +0000 (UTC)
Received: by mail-wr0-f169.google.com with SMTP id l28so39816164wre.0
        for <users@camel.apache.org>; Thu, 13 Apr 2017 10:36:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=regvart.com; s=google;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=pH1khIsy6f2xds3xx5nOmU472eCnczGKwMzwfKuco/U=;
        b=ThaajrrN981ZTSgVmzXzERw2i3frXCDojfwIqSle5zZnJTVMzThVwu7T3/FcL7anYX
         3aM/JehuqoNtMywlwflomDgawxlWk3jfEwtV9J579vXC3bw2nJOmJm99tisfJXzwph9N
         CuJALbv6FMZefyEZpfEQA7AGHkdkI5XZMe70k=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=pH1khIsy6f2xds3xx5nOmU472eCnczGKwMzwfKuco/U=;
        b=Sq6Xgn5XD1lua1wmI8jVAKc8op+2NTLjNb8PAnCiinkwtOs3pYAkiu/y7eCcOOLQYe
         aZoUuhFJh1ds2LfSiZha/dCBKvUzJhI5C+J3QEtmdPkKwYFZIn/JLr3VEGC7lgCGbzz4
         wt+2ewGgYDwBO+nLktl6WlYCbRy+pcG6uTu6LAytASyJ6T+tPu9UvFBs7OT0ysKUI/c/
         deYIauc+fvcEm3CwEHPCsoVc7TgWX8XeJB4RJxR76L87e1C7URNoeJD3/hEDKf58J/hN
         d4Nvu6UpvADmA/4jCkncRfnDJxZCfali5duAxjZJAxZsSqcXPUfOxaamMa27am9BbR0Q
         cs6w==
X-Gm-Message-State: AN3rC/5VIwm8J651vgkvbSG6wm2nrAhJIRJP4p7sRzmSXhe1lOl3r51l
	/CBQix8CNDSFOXi4ZRFbFQuhv59ywPv8nOg=
X-Received: by 10.223.139.30 with SMTP id n30mr4350371wra.95.1492104960450;
 Thu, 13 Apr 2017 10:36:00 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.80.131.101 with HTTP; Thu, 13 Apr 2017 10:35:40 -0700 (PDT)
In-Reply-To: <1492099255592-5797646.post@n5.nabble.com>
References: <1490789470462-5796693.post@n5.nabble.com> <CABD_Zr9ORvHrVXBs64tD5M=DEvseHEaCc_4FMf8FPnXBPRkQhA@mail.gmail.com>
 <1492099255592-5797646.post@n5.nabble.com>
From: Zoran Regvart <zoran@regvart.com>
Date: Thu, 13 Apr 2017 19:35:40 +0200
Message-ID: <CABD_Zr-mxzanHGdAreu74eJ+Ec0cSXrOgWJ-n-dZZnDSW-SeqA@mail.gmail.com>
Subject: Re: Apache Camel - ftp component - need to use absolute path
To: users@camel.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Ceyhan,

On Thu, Apr 13, 2017 at 6:00 PM, paul529 <paul529@icloud.com> wrote:
> I have been unable to find any detailed description of why absolute paths
> cannot be supported in the ftp component.

did you see the issues I've linked to?

https://issues.apache.org/jira/browse/CAMEL-8828
https://issues.apache.org/jira/browse/CAMEL-8844

I agree they are not detailed, but they illustrate some of the issues
users were facing with absolute paths

> I am trying to use the ftp component to retrieve files from a remote host.
> I use an idempotent repository with the noop=true setting for the consumer.
> In this way the remote host is only accessed in a read-only manner.
>
> Does the issue with absolute paths have to do with renaming files after
> processing on the remote host?  Is so, my use case would not require this
> and would be able to support absolute paths.

that was one of the issues

> Would it be possible to support absolute paths using a property of the the
> component URI?  Possibly if noop=true is set?

I think that ship has sailed with 2.16, I was not around for the
discussion on it, perhaps one of the committers from that period could
shade more light.

But I believe that the stance not to support absolute paths will
remain in the future, from what I gather these were just one of many
issues that in the end resulted in not supporting absolute paths.

zoran
-- 
Zoran Regvart

From users-return-65323-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 14 07:04:12 2017
Return-Path: <users-return-65323-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD6D11919A
	for <apmail-camel-users-archive@www.apache.org>; Fri, 14 Apr 2017 07:04:12 +0000 (UTC)
Received: (qmail 50858 invoked by uid 500); 14 Apr 2017 07:04:12 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 50806 invoked by uid 500); 14 Apr 2017 07:04:12 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 52148 invoked by uid 99); 13 Apr 2017 18:01:46 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.487
X-Spam-Level: ***
X-Spam-Status: No, score=3.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Date: Thu, 13 Apr 2017 11:01:45 -0700 (MST)
From: erevkub1 <revathykuberan@gmail.com>
To: users@camel.apache.org
Message-ID: <1492106505122-5797650.post@n5.nabble.com>
Subject: Multiple from end points traversing to different routes
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi All,

Please suggest me on how to implement the below scenario. The requirement is
to monitor multiple endpoint(like ftp, http) to fetch xml content. Assume
there are 7 such input endpoint and those sources has to be monitored once a
day and each for each input content, functionality is different. Only way to
identify the different sources are the input endpoint url which is also
dynamic.

Please let me know if any suggestion for this implementation. This has to be
done in Apache camel in java.

Regards,
Revathy



--
View this message in context: http://camel.465427.n5.nabble.com/Multiple-from-end-points-traversing-to-different-routes-tp5797650.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65324-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 14 07:36:38 2017
Return-Path: <users-return-65324-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D6C21925F
	for <apmail-camel-users-archive@www.apache.org>; Fri, 14 Apr 2017 07:36:38 +0000 (UTC)
Received: (qmail 79924 invoked by uid 500); 14 Apr 2017 07:36:37 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 79855 invoked by uid 500); 14 Apr 2017 07:36:37 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 78909 invoked by uid 99); 14 Apr 2017 07:33:53 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Fri, 14 Apr 2017 00:33:51 -0700 (MST)
From: Bernard Ligny <bernard.ligny@gmail.com>
To: users@camel.apache.org
Message-ID: <1492155231573-5797691.post@n5.nabble.com>
In-Reply-To: <F686B54E-F33B-4732-BD7E-2DC5317AC1F3@stefanutti.fr>
References: <1492014502773-5797510.post@n5.nabble.com> <F686B54E-F33B-4732-BD7E-2DC5317AC1F3@stefanutti.fr>
Subject: Re: Camel-CDI in a multi-module project
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi Antonin


astefanutti wrote
> as long as they have a beans.xml file in module
> <X>
> .jar/META-INF directory. Is this the case? 

No it was not the case - shame on me !
I naively thought that putting a *single* "beans.xml" on the webapp level
was sufficient to activate the bean discovery for the *whole* application. I
did not know a separate file on *each* module was necessary...

So, this was not a Camel nor Wildfly issue.
Let's say is was rather a  PEBCAK <https://en.wiktionary.org/wiki/PEBCAK>  
;-)

Everything is working fine now.
Thank you very much for your precious help.

Regards,

Bernard.




--
View this message in context: http://camel.465427.n5.nabble.com/Camel-CDI-in-a-multi-module-project-tp5797510p5797691.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65325-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 14 08:37:21 2017
Return-Path: <users-return-65325-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B96ED19465
	for <apmail-camel-users-archive@www.apache.org>; Fri, 14 Apr 2017 08:37:21 +0000 (UTC)
Received: (qmail 65056 invoked by uid 500); 14 Apr 2017 08:37:21 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 65002 invoked by uid 500); 14 Apr 2017 08:37:19 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 64990 invoked by uid 99); 14 Apr 2017 08:37:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Apr 2017 08:37:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A0981C0CCA
	for <users@camel.apache.org>; Fri, 14 Apr 2017 08:37:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.692
X-Spam-Level: ***
X-Spam-Status: No, score=3.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id gajI8-hGcCpj for <users@camel.apache.org>;
	Fri, 14 Apr 2017 08:37:16 +0000 (UTC)
Received: from mail-qk0-f173.google.com (mail-qk0-f173.google.com [209.85.220.173])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 267025FBA7
	for <users@camel.apache.org>; Fri, 14 Apr 2017 08:37:16 +0000 (UTC)
Received: by mail-qk0-f173.google.com with SMTP id p68so64641222qke.1
        for <users@camel.apache.org>; Fri, 14 Apr 2017 01:37:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=JB1uXojTtsljvanQSLGSNAdK/QD33ezmosJgzyhyklU=;
        b=QkaVjg0A6XXD+MTw3ENB+Ikap7hMAWdGg3uz7Gy2QxE/0XRQ60961Er7Zfy/IdV7KQ
         mlq4ONfdSrHp4Kd7pioMDMxC4sqrYZkfWbTpP1cH73+Vm1z76vHTAOsZHxWn07rcTmTt
         G11nXBc6C/a7H//dI39FUKJ+kzLNCJgm7DfUuAphiKQKwK4zwtUDfLvthmtek5dvAXCJ
         MFHE9K7IB2hNQmaIdXWsohy32zCS+pm3Wdix7nGNRkzn8J4/ucN8bDIbXUTHYucMfu3D
         BBlerlpAajhNMURH/zmhWtOloaHpJ7pU12AV6GUmDeIVCiuorrw2HHZ75vS0/OkvPsjE
         yE2w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=JB1uXojTtsljvanQSLGSNAdK/QD33ezmosJgzyhyklU=;
        b=Y8dHZE3ddILaKn12LLbKQbeNLTJaxEfbQFHN4MaI7bhQOyxHO4zwXhM/ykzqaYXEO5
         ftIGcMecKgJuUmi8fkwlV3eVb8VHFMeawk1JDG0iWsqvZiHUaP7dH3AMwKBeYtpwOXow
         B68+2xEFmNERQezGM1vtd5wuoOaN8mpmQJG71oUymK/geFJ2uJrgoRn4BMZcUN0Kin02
         mtr9AjPQiTLFxdJMBGW/NVk7kVIYeAzlHSLaYMP7hUmWjSGx9QIzjcetlUFiXfWMSqwv
         /A8VEXddNl1fNjGwpAVCGVpCAfbzE/PEKMyOuCDW/NofEQ3chJlKswpjbxvoMz5SKk24
         Dzew==
X-Gm-Message-State: AN3rC/63JatG9/2Aj+5I4TuykPVPfyWcxZitn9u56Oisgf7Q4MqS/jUu
	uwJU+GThhGZ1cSTckVY+2yzGyIYO9SZe
X-Received: by 10.55.115.65 with SMTP id o62mr6038758qkc.26.1492159035548;
 Fri, 14 Apr 2017 01:37:15 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.12.185.165 with HTTP; Fri, 14 Apr 2017 01:37:15 -0700 (PDT)
In-Reply-To: <1492106505122-5797650.post@n5.nabble.com>
References: <1492106505122-5797650.post@n5.nabble.com>
From: Jonathan Schoreels <jonathan.schoreels@gmail.com>
Date: Fri, 14 Apr 2017 10:37:15 +0200
Message-ID: <CA+D-ZCQOvarsj9s7V0SRPXu7f6rmrxdEVpuqLeoVYHrOvfKvDA@mail.gmail.com>
Subject: Re: Multiple from end points traversing to different routes
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a114fdea2436f19054d1c59bb

--001a114fdea2436f19054d1c59bb
Content-Type: text/plain; charset=UTF-8

You could use pollEnrich in the 7 route to be triggered by a multicasted
scheduler.

Something like :
from("quartz://groupName/timerName?cron=0+0/5+12-18+?+*+MON-FRI&trigger.timeZone=Europe/Stockholm")
    .multicast()
        .multicast().parallelProcessing().to("direct:httpConsumer",
"direct:ftpConsumer", "direct:fileConsumer");

and for each consumer :

from("direct:httpConsumer")
    .pollEnrich("http://service/")
    ... the processing

Just an idea, I don't pretend it's the best one, but it centralize the
scheduling at one place. Or you could just put the scheduler in a property,
like {{scheduler.uri}}, and just do the
from("{{scheduler.uri}}").pollEnrich in each route, but multicast allows a
bit more in synchronizing your consumers (for example, stopOnFailure, etc..)

Resources :
http://camel.apache.org/quartz.html
http://camel.apache.org/content-enricher.html
http://camel.apache.org/multicast.html


2017-04-13 20:01 GMT+02:00 erevkub1 <revathykuberan@gmail.com>:

> Hi All,
>
> Please suggest me on how to implement the below scenario. The requirement
> is
> to monitor multiple endpoint(like ftp, http) to fetch xml content. Assume
> there are 7 such input endpoint and those sources has to be monitored once
> a
> day and each for each input content, functionality is different. Only way
> to
> identify the different sources are the input endpoint url which is also
> dynamic.
>
> Please let me know if any suggestion for this implementation. This has to
> be
> done in Apache camel in java.
>
> Regards,
> Revathy
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.
> com/Multiple-from-end-points-traversing-to-different-routes-tp5797650.html
> Sent from the Camel - Users mailing list archive at Nabble.com.
>

--001a114fdea2436f19054d1c59bb--

From users-return-65326-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 14 09:57:44 2017
Return-Path: <users-return-65326-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B9A3E1978F
	for <apmail-camel-users-archive@www.apache.org>; Fri, 14 Apr 2017 09:57:44 +0000 (UTC)
Received: (qmail 91127 invoked by uid 500); 14 Apr 2017 09:57:44 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 91082 invoked by uid 500); 14 Apr 2017 09:57:44 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 90791 invoked by uid 99); 14 Apr 2017 09:57:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Apr 2017 09:57:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7F56CC142D
	for <users@camel.apache.org>; Fri, 14 Apr 2017 09:57:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.593
X-Spam-Level: *
X-Spam-Status: No, score=1.593 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id gvi7iLz1YHMx for <users@camel.apache.org>;
	Fri, 14 Apr 2017 09:57:41 +0000 (UTC)
Received: from 10.mo64.mail-out.ovh.net (10.mo64.mail-out.ovh.net [87.98.138.33])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 215A65FAF3
	for <users@camel.apache.org>; Fri, 14 Apr 2017 09:57:40 +0000 (UTC)
Received: from ex.mail.ovh.net (gw2.ex.mail.ovh.net [176.31.149.1])
	by mo64.mail-out.ovh.net (Postfix) with SMTP id 392C63BF54
	for <users@camel.apache.org>; Fri, 14 Apr 2017 11:57:34 +0200 (CEST)
From: Antonin Stefanutti <antonin@stefanutti.fr>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: Re: Camel-CDI in a multi-module project
Thread-Topic: Camel-CDI in a multi-module project
Thread-Index: AQHSs735cnvzQ7pw4E6dyQ5y3cv6B6HC0IYAgAGJY4CAACglAA==
Date: Fri, 14 Apr 2017 09:57:32 +0000
Message-ID: <EDF45260-E16C-4FD5-A72C-8214114DDE6D@stefanutti.fr>
References: <1492014502773-5797510.post@n5.nabble.com>
 <F686B54E-F33B-4732-BD7E-2DC5317AC1F3@stefanutti.fr>
 <1492155231573-5797691.post@n5.nabble.com>
In-Reply-To: <1492155231573-5797691.post@n5.nabble.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-mailer: Apple Mail (2.3273)
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [81.57.228.108]
Content-Type: text/plain; charset="utf-8"
Content-ID: <A991CCE827F0B841BA4CE98C4590CEF4@indiv.local>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Ovh-Tracer-Id: 11316982913986438362
X-VR-SPAMSTATE: OK
X-VR-SPAMSCORE: 0
X-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeeliedrvddtgddvudcutefuodetggdotefrodftvfcurfhrohhfihhlvgemucfqggfjpdevjffgvefmvefgnecuuegrihhlohhuthemuceftddtnecu

SGkgQmVybmFyZCwNCg0KPiBPbiAxNCBBcHIgMjAxNywgYXQgMDk6MzMsIEJlcm5hcmQgTGlnbnkg
PGJlcm5hcmQubGlnbnlAZ21haWwuY29tPiB3cm90ZToNCj4gDQo+IEhpIEFudG9uaW4NCj4gDQo+
IA0KPiBhc3RlZmFudXR0aSB3cm90ZQ0KPj4gYXMgbG9uZyBhcyB0aGV5IGhhdmUgYSBiZWFucy54
bWwgZmlsZSBpbiBtb2R1bGUNCj4+IDxYPg0KPj4gLmphci9NRVRBLUlORiBkaXJlY3RvcnkuIElz
IHRoaXMgdGhlIGNhc2U/IA0KPiANCj4gTm8gaXQgd2FzIG5vdCB0aGUgY2FzZSAtIHNoYW1lIG9u
IG1lICENCj4gSSBuYWl2ZWx5IHRob3VnaHQgdGhhdCBwdXR0aW5nIGEgKnNpbmdsZSogImJlYW5z
LnhtbCIgb24gdGhlIHdlYmFwcCBsZXZlbA0KPiB3YXMgc3VmZmljaWVudCB0byBhY3RpdmF0ZSB0
aGUgYmVhbiBkaXNjb3ZlcnkgZm9yIHRoZSAqd2hvbGUqIGFwcGxpY2F0aW9uLiBJDQo+IGRpZCBu
b3Qga25vdyBhIHNlcGFyYXRlIGZpbGUgb24gKmVhY2gqIG1vZHVsZSB3YXMgbmVjZXNzYXJ5Li4u
DQo+IA0KPiBTbywgdGhpcyB3YXMgbm90IGEgQ2FtZWwgbm9yIFdpbGRmbHkgaXNzdWUuDQo+IExl
dCdzIHNheSBpcyB3YXMgcmF0aGVyIGEgIFBFQkNBSyA8aHR0cHM6Ly9lbi53aWt0aW9uYXJ5Lm9y
Zy93aWtpL1BFQkNBSz4gIA0KPiA7LSkNCg0KVGhlc2UgYXJlIGhhcmQgdG8gc3BvdCwgYnV0IGdl
bmVyYWxseSBlYXN5IHRvIGZpeCA7KQ0KDQo+IEV2ZXJ5dGhpbmcgaXMgd29ya2luZyBmaW5lIG5v
dy4NCj4gVGhhbmsgeW91IHZlcnkgbXVjaCBmb3IgeW91ciBwcmVjaW91cyBoZWxwLg0KDQpJ4oCZ
bSBnbGFkIGl0IHdvcmtzIQ0KDQo+IFJlZ2FyZHMsDQo+IA0KPiBCZXJuYXJkLg0KPiANCj4gDQo+
IA0KPiANCj4gLS0NCj4gVmlldyB0aGlzIG1lc3NhZ2UgaW4gY29udGV4dDogaHR0cDovL2NhbWVs
LjQ2NTQyNy5uNS5uYWJibGUuY29tL0NhbWVsLUNESS1pbi1hLW11bHRpLW1vZHVsZS1wcm9qZWN0
LXRwNTc5NzUxMHA1Nzk3NjkxLmh0bWwNCj4gU2VudCBmcm9tIHRoZSBDYW1lbCAtIFVzZXJzIG1h
aWxpbmcgbGlzdCBhcmNoaXZlIGF0IE5hYmJsZS5jb20uDQoNCg==

From users-return-65327-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 14 17:15:27 2017
Return-Path: <users-return-65327-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5BD471A67E
	for <apmail-camel-users-archive@www.apache.org>; Fri, 14 Apr 2017 17:15:27 +0000 (UTC)
Received: (qmail 5040 invoked by uid 500); 14 Apr 2017 17:15:26 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 4986 invoked by uid 500); 14 Apr 2017 17:15:26 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 4975 invoked by uid 99); 14 Apr 2017 17:15:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Apr 2017 17:15:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 4364CC015C
	for <users@camel.apache.org>; Fri, 14 Apr 2017 17:15:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 5c2R6LFseaQp for <users@camel.apache.org>;
	Fri, 14 Apr 2017 17:15:24 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 05CF85FBA7
	for <users@camel.apache.org>; Fri, 14 Apr 2017 17:15:24 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 4942539E3205C
	for <users@camel.apache.org>; Fri, 14 Apr 2017 10:15:23 -0700 (MST)
Date: Fri, 14 Apr 2017 10:15:23 -0700 (MST)
From: erevkub1 <revathykuberan@gmail.com>
To: users@camel.apache.org
Message-ID: <1492190123294-5797757.post@n5.nabble.com>
In-Reply-To: <CA+D-ZCQOvarsj9s7V0SRPXu7f6rmrxdEVpuqLeoVYHrOvfKvDA@mail.gmail.com>
References: <1492106505122-5797650.post@n5.nabble.com> <CA+D-ZCQOvarsj9s7V0SRPXu7f6rmrxdEVpuqLeoVYHrOvfKvDA@mail.gmail.com>
Subject: Re: Multiple from end points traversing to different routes
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks for your quick response. I also tried using  multiple routebuilder and
tried a small POC and it worked. Please let em know if this is a good
option?



--
View this message in context: http://camel.465427.n5.nabble.com/Multiple-from-end-points-traversing-to-different-routes-tp5797650p5797757.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65328-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 14 20:39:22 2017
Return-Path: <users-return-65328-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E72F11AE3B
	for <apmail-camel-users-archive@www.apache.org>; Fri, 14 Apr 2017 20:39:21 +0000 (UTC)
Received: (qmail 24013 invoked by uid 500); 14 Apr 2017 20:39:17 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 23968 invoked by uid 500); 14 Apr 2017 20:39:17 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 23446 invoked by uid 99); 14 Apr 2017 20:39:16 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Apr 2017 20:39:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9AA32D0A6E
	for <users@camel.apache.org>; Fri, 14 Apr 2017 20:39:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id eNETv7dQyygz for <users@camel.apache.org>;
	Fri, 14 Apr 2017 20:39:14 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 49F085FB49
	for <users@camel.apache.org>; Fri, 14 Apr 2017 20:39:14 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id A5E2E39ECB08B
	for <users@camel.apache.org>; Fri, 14 Apr 2017 13:39:13 -0700 (MST)
Date: Fri, 14 Apr 2017 13:39:13 -0700 (MST)
From: DariusX <dariuscooper@gmail.com>
To: users@camel.apache.org
Message-ID: <1492202353675-5797759.post@n5.nabble.com>
Subject: Transformation options
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

The "Camel in Action" book says "Prefer to use beans over processors" (pg 112
in 2nd Edition), because they're not dependent on the Camel API. 

This leads me to a follow-up question: 
- if we need to tranform between 2 custom formats (i.e. annot use an
existing Dataformat);and,
- also do not need the Exchange, but can transform the body

With those assumptions, should we also prefer to use Beans over a
Custom-Dataformat or Camel Transformer? Or, are their situations where those
two are useful even if one does not need anything but the body()  ?




--
View this message in context: http://camel.465427.n5.nabble.com/Transformation-options-tp5797759.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65329-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sun Apr 16 03:49:29 2017
Return-Path: <users-return-65329-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B511B18808
	for <apmail-camel-users-archive@www.apache.org>; Sun, 16 Apr 2017 03:49:29 +0000 (UTC)
Received: (qmail 14360 invoked by uid 500); 16 Apr 2017 03:49:29 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 14296 invoked by uid 500); 16 Apr 2017 03:49:29 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 14285 invoked by uid 99); 16 Apr 2017 03:49:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Apr 2017 03:49:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5B5C1C1275
	for <users@camel.apache.org>; Sun, 16 Apr 2017 03:49:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id m12bx8nScTXd for <users@camel.apache.org>;
	Sun, 16 Apr 2017 03:49:25 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 594DF5F343
	for <users@camel.apache.org>; Sun, 16 Apr 2017 03:49:25 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 73ECB3A3F956A
	for <users@camel.apache.org>; Sat, 15 Apr 2017 20:49:18 -0700 (MST)
Date: Sat, 15 Apr 2017 20:49:18 -0700 (MST)
From: contactreji <contactreji@gmail.com>
To: users@camel.apache.org
Message-ID: <1492314558425-5797760.post@n5.nabble.com>
Subject: Camel Websocket // Binding error
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello guys

I am doing a POC on camel websockets. I have some data being pushed from UI
layer over websockets

from("websocket://0.0.0.0:9293/hotelsearch")
                .log(LoggingLevel.INFO,"TestServices","Received Search
Request data ${body}")
                .removeHeaders("*")
                .to("direct:Authenticate")...... and so On...

This deploys perfectly fine as long as I have no other modules deployed on
the same server. ( Deployed as a springboot application). Another project is
running on same server which binds to 9292 for its websocket consumer
endpoint . And for the above module I changed it to 9293  to avoid port
conflict. 

But surprisingly, when i start this app, it tries to bind port *9292*
instead of *9293* and as a result, I get port binding error.

*Will not consumer endpoint like from(websocket://0.0.0.0:9293/hotelsearch)
bind to 9293? Why is it trying to bind to 9292? Could this be a bug in
Websocket Component?
*
Cheers
Reji





-----
Reji Mathews
Sr. Developer - Middleware Integration / SOA ( Open Source - Apache Camel & Jboss Fuse ESB | Mule ESB )
LinkedIn - http://in.linkedin.com/pub/reji-mathews/31/9a2/40a
Twitter - reji_mathews
--
View this message in context: http://camel.465427.n5.nabble.com/Camel-Websocket-Binding-error-tp5797760.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65330-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sun Apr 16 07:23:23 2017
Return-Path: <users-return-65330-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AE5F118B95
	for <apmail-camel-users-archive@www.apache.org>; Sun, 16 Apr 2017 07:23:23 +0000 (UTC)
Received: (qmail 11030 invoked by uid 500); 16 Apr 2017 07:23:23 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 10974 invoked by uid 500); 16 Apr 2017 07:23:23 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 10962 invoked by uid 99); 16 Apr 2017 07:23:22 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Apr 2017 07:23:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 68D8AC0145
	for <users@camel.apache.org>; Sun, 16 Apr 2017 07:23:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.379
X-Spam-Level:
X-Spam-Status: No, score=0.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id J_E_-ZLAPUaH for <users@camel.apache.org>;
	Sun, 16 Apr 2017 07:23:20 +0000 (UTC)
Received: from mail-qt0-f169.google.com (mail-qt0-f169.google.com [209.85.216.169])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id A6F885F3BC
	for <users@camel.apache.org>; Sun, 16 Apr 2017 07:23:19 +0000 (UTC)
Received: by mail-qt0-f169.google.com with SMTP id c45so85072681qtb.1
        for <users@camel.apache.org>; Sun, 16 Apr 2017 00:23:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=tPpLeV16UK61VJeQGKHnOGQCMxj1ZVvvRZckOfuUnx4=;
        b=KBzXG1tMOVmNy/HZOY21ZmOdnzJZJF114+A6GzIhjkvrl8CPqKt1VL7cQ0RbRXxVJ3
         iqmh6krUDkFpuJWCy1x87ZSmmt2TXiJcQZ59OTu1zZUEb31oQ44F+NT30hM7zvVjk8V3
         uU+KhjH2oa/1dLztTkQPpyMiW6ADEF19tj36jWb1yd5CMoI17xW2UlsGnRwIo/TrcqPn
         /Oc9ZyjruJGA9E/smdnwZJvQGhouDmDKk9MbeKoEY6skLmAuqOPImA8SPGB4mmVtPdpR
         A4IrBSxE4OUjPyy2KFWDK+u6y6a9EvKb/MheN1ve6HgDUqCW35EC92O67ZYyukVNWy1u
         IuWQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=tPpLeV16UK61VJeQGKHnOGQCMxj1ZVvvRZckOfuUnx4=;
        b=SMy7nxQRekyLlftmlrVG/+Z6tCuH58+S6Aip49V7DaTmIpMB6UPMJALokHWdVuanI5
         Q1EwX12YdjSwt26hhMTY7b1HAFkLf9yzLox6SMwN3bUn8Eb2/Mu4m+vatDoooCdyZnJ9
         lC59oJs/M5kv8qg/9rE7XVL5zQIf6IijC2GkZS9qZ9dcQ41Zm9xomLFEDgVBw9tWNEyk
         kTQ8+9mnpd3M2tfawi1uiV3ANhue+h70qJyc8t6cby9ERh1HP+x6zLqP15njzH05u4M2
         jq+ABdQDIJg5IPTJCOxLGSUB5fFKQfpKyfhPT0RaA1cRyZCPozWv19mFqpBW6nzO9Dvi
         HwtA==
X-Gm-Message-State: AN3rC/77V7r1GtXEy7k1g1R+cnae/4BP3yddIyFiZS56uo0ZHU72VPz5
	GCLvzM8LFT3PSyeZlHYfpfLs4F2vO5H2Z14=
X-Received: by 10.237.41.199 with SMTP id o65mr4923536qtd.239.1492327398694;
 Sun, 16 Apr 2017 00:23:18 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Sun, 16 Apr 2017 00:22:58 -0700 (PDT)
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Sun, 16 Apr 2017 09:22:58 +0200
Message-ID: <CAGB5yNmmyxHaQg1vVfq=NH7KD_H3dUjyi5S2yhdjYGqrn2TGWw@mail.gmail.com>
Subject: Apache Camel reviews
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

Recently I stumbled on a tweet about an Apache Camel review and
therefore I was intrigued.

It was a review from a site I have not head about before - trustradius.

You can read the text for a minute or two before I asks for login so I
was skeptic at first.

Well this morning I logged in using linkedin and there was 11 reviews,
which provides good insight for Camel developers like myself to get
feedback from real users. Surprisingly those reviews are fairly new
from late 2016 and up till today. So they seem more relevant than eg
reviews from 2009 etc.

The reviews are at (mind you need to login via linkedin or signup)
https://www.trustradius.com/products/apache-camel/reviews


-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65331-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sun Apr 16 07:27:55 2017
Return-Path: <users-return-65331-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D934B18BA7
	for <apmail-camel-users-archive@www.apache.org>; Sun, 16 Apr 2017 07:27:55 +0000 (UTC)
Received: (qmail 16459 invoked by uid 500); 16 Apr 2017 07:27:50 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 16420 invoked by uid 500); 16 Apr 2017 07:27:50 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 16408 invoked by uid 99); 16 Apr 2017 07:27:50 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Apr 2017 07:27:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8EBB21A04A6
	for <users@camel.apache.org>; Sun, 16 Apr 2017 07:27:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.692
X-Spam-Level: *
X-Spam-Status: No, score=1.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 4z15yWsMx01g for <users@camel.apache.org>;
	Sun, 16 Apr 2017 07:27:48 +0000 (UTC)
Received: from mail-qk0-f173.google.com (mail-qk0-f173.google.com [209.85.220.173])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id DE88A5F39C
	for <users@camel.apache.org>; Sun, 16 Apr 2017 07:27:47 +0000 (UTC)
Received: by mail-qk0-f173.google.com with SMTP id h67so88903060qke.0
        for <users@camel.apache.org>; Sun, 16 Apr 2017 00:27:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=WeS8dUHSa1z84+wNyl0Qu+sDut6oYtm8PWp7HJl64Dw=;
        b=mfiY7qPaaTIFvi4iKS4Emw/7a/0PhspaXTTTpVhIl0d6ty/ROsr0JTkGGeMVzg0rQB
         Imhg7fgZI3KrKgJItQR8zvnjzn9YUyuH/PNu71VOfNdVNa+c3/35xw6XZdOQTrS+1e5k
         gdi/r3ysKcE5rFPKFW4PybxMffRGXZZ869XULnnoS6yJC5pQYFhjusyj53ijGHLIDpTA
         Vggk25FNFY3w18cAjAfldfsgsJqUsNDxDmtr58Hc13e9GBOk/kdB9GeIK2YSc4WCC0OB
         wiUpZCRLt403Wdq9FpAq0BOvEEGyJetkM26uFAegQ1lL8m1++7mu2ncmF55etKOxlfo5
         qkwg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=WeS8dUHSa1z84+wNyl0Qu+sDut6oYtm8PWp7HJl64Dw=;
        b=XC5iWDf3WrFXqQHCN6sWM7MF/hjZlFpAXSfSxUYe9NtznbT3R1JQz53JI2rAhhESE7
         wBUMtFEBAjKzS8awZ/FRKCKMojiQBWtmt+/CJYtYHzBEy4txz0vVSUl+/dgKqsrr9Oet
         jDwMgCtvI/5x9cKsXnzfMrF9RMZ1Yo3m12Kh9bCHDK9nWXtIKARkgnoTJvYpsQR8GGJ1
         ndTogtTnIiUY91sHX6bi8oiIGofmnG7X8ytePE6rAkImjMouDEflj7mstV9LtjMbVnt3
         w0fi4NP9DaQGA1f829IPoSEarBxn0zAdEoG1HNROGFgy/t/p6Vm5oJhOAnBAKSIPXvU5
         jlMQ==
X-Gm-Message-State: AN3rC/76ho+JMTOJNZUvmwRbHFECOa7ol/mtQP+1FZZ+puEtKkmxuLNP
	Db3qRoRO3YhqP4vNDGIaIsx0blKzculq
X-Received: by 10.55.48.68 with SMTP id w65mr4757898qkw.160.1492327661236;
 Sun, 16 Apr 2017 00:27:41 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Sun, 16 Apr 2017 00:27:20 -0700 (PDT)
In-Reply-To: <1492202353675-5797759.post@n5.nabble.com>
References: <1492202353675-5797759.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Sun, 16 Apr 2017 09:27:20 +0200
Message-ID: <CAGB5yNn27z64jcBOZuPJy=7E79eZgLF7E6=Us71nK-XkMK2nNw@mail.gmail.com>
Subject: Re: Transformation options
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

Try to think how you would write the java api for the message
transformation without Camel. What would the input and output's be
etc.

Then try to write unit test for these transformation that dont use
Camel if possible.

When using beans the return type is the message body, and as such if
you need to enrich with message headers as well, you can bind the
@Headers Map as parameter and add your headers on this.

But if you are comfortable with the Camel API on Exchange then a
processor is fine as well. It just has a direct dependency on Camel
and is more low level, eg you need to know about IN vs OUT message
etc. And from the code you cannot see what is the expected input and
output java/data types etc.

A processor however is faster at runtime as its just a direct method
call, where as a bean is called using a bit of reflection to find the
relevant method and then bean bindings etc. For people whom care about
CPU cycles. But the overhead is negligible.



On Fri, Apr 14, 2017 at 10:39 PM, DariusX <dariuscooper@gmail.com> wrote:
> The "Camel in Action" book says "Prefer to use beans over processors" (pg 112
> in 2nd Edition), because they're not dependent on the Camel API.
>
> This leads me to a follow-up question:
> - if we need to tranform between 2 custom formats (i.e. annot use an
> existing Dataformat);and,
> - also do not need the Exchange, but can transform the body
>
> With those assumptions, should we also prefer to use Beans over a
> Custom-Dataformat or Camel Transformer? Or, are their situations where those
> two are useful even if one does not need anything but the body()  ?
>
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Transformation-options-tp5797759.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65332-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sun Apr 16 07:28:23 2017
Return-Path: <users-return-65332-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1207B18BA8
	for <apmail-camel-users-archive@www.apache.org>; Sun, 16 Apr 2017 07:28:23 +0000 (UTC)
Received: (qmail 17651 invoked by uid 500); 16 Apr 2017 07:28:22 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 17597 invoked by uid 500); 16 Apr 2017 07:28:22 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 17585 invoked by uid 99); 16 Apr 2017 07:28:22 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Apr 2017 07:28:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A70021A04A6
	for <users@camel.apache.org>; Sun, 16 Apr 2017 07:28:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.692
X-Spam-Level: *
X-Spam-Status: No, score=1.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id oCYnadWVx_Mz for <users@camel.apache.org>;
	Sun, 16 Apr 2017 07:28:20 +0000 (UTC)
Received: from mail-qk0-f174.google.com (mail-qk0-f174.google.com [209.85.220.174])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id E86455F39C
	for <users@camel.apache.org>; Sun, 16 Apr 2017 07:28:19 +0000 (UTC)
Received: by mail-qk0-f174.google.com with SMTP id d131so88754538qkc.3
        for <users@camel.apache.org>; Sun, 16 Apr 2017 00:28:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=5z0Ym7LNmrResJ7LYF7tl8+FbVdh3tQUkQdOsJCFGik=;
        b=dxsZ/Go2fYRHHj9Qfx/GNKtW4XIvEURZxkyJmtUI8LuDselJCq8RQb6vyHN9oeXGL6
         yxHOIDXtUC/6OFBJrK/YmlpdYRwEiABLp/YPicCerKH33qulxNanJSQSHiKzSeRgIO1N
         /sLCDVbetv/b/XcOsarld9mVg2cdyA8kgIfsvDOx8bml7XT5oj9eOEXXDS51HsujTRzn
         McAPr+8BkNhksug+wlZDlYnbTXlG7ye2+N84LKpbitwvNpKOuVqwDCRFs+DWCU79an2l
         zgWeSkkdpCfPfXZ7jJstrh7DWpPZDX2xu3n3kaXzceEjwlVLZ0CC41sfJTV1yOQmykMl
         Gtkw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=5z0Ym7LNmrResJ7LYF7tl8+FbVdh3tQUkQdOsJCFGik=;
        b=EB4/ebv5/K85aDZv5MthsCZVcUqZS2O3/Hu80AJ0prORFrim3K6yY9s7ZajNhRwo6Y
         kKJXF903G+66q2mbADm4OTgIiydrrXAhYapg4AH5fjxClJW+/DJQFI9JlSOp9zlr2uo8
         xY43UEUPaIVDGhIghTiv3WUP1N6RdC0DIyHcyjp4zLXexmna4sHUXB5AvoavLL2bPft9
         GD1geMcW+Ix3E3/GQKG72X16RTDoo/PF07Nm06uL8ApcU5YSZi8QvrgBlfFpgDBNyimH
         ne8IaXVjQiz133JZyRkW4dIfYLRSBPZ1KUGbtCULmtM/QqeYU8TyZX/3D3PPNnBK9oz5
         JiYg==
X-Gm-Message-State: AN3rC/5cIblzzeZ/b8uQ3N5Imv1+pSlo5l11nZkYCiXEJ3ySKd57UNnU
	EXzOw0jRGThlk7pAD8+h1htS+Fw0Pihh
X-Received: by 10.55.5.17 with SMTP id 17mr4803558qkf.279.1492327692867; Sun,
 16 Apr 2017 00:28:12 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Sun, 16 Apr 2017 00:27:52 -0700 (PDT)
In-Reply-To: <1492314558425-5797760.post@n5.nabble.com>
References: <1492314558425-5797760.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Sun, 16 Apr 2017 09:27:52 +0200
Message-ID: <CAGB5yNnHqnw1uMwUAdXDpQzi372xVMBxWpBWfWConVFEG1E4ww@mail.gmail.com>
Subject: Re: Camel Websocket // Binding error
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

Maybe there is some old code with 9292 or and old java / jvm process
running that take up the old port, or something.

On Sun, Apr 16, 2017 at 5:49 AM, contactreji <contactreji@gmail.com> wrote:
> Hello guys
>
> I am doing a POC on camel websockets. I have some data being pushed from UI
> layer over websockets
>
> from("websocket://0.0.0.0:9293/hotelsearch")
>                 .log(LoggingLevel.INFO,"TestServices","Received Search
> Request data ${body}")
>                 .removeHeaders("*")
>                 .to("direct:Authenticate")...... and so On...
>
> This deploys perfectly fine as long as I have no other modules deployed on
> the same server. ( Deployed as a springboot application). Another project is
> running on same server which binds to 9292 for its websocket consumer
> endpoint . And for the above module I changed it to 9293  to avoid port
> conflict.
>
> But surprisingly, when i start this app, it tries to bind port *9292*
> instead of *9293* and as a result, I get port binding error.
>
> *Will not consumer endpoint like from(websocket://0.0.0.0:9293/hotelsearch)
> bind to 9293? Why is it trying to bind to 9292? Could this be a bug in
> Websocket Component?
> *
> Cheers
> Reji
>
>
>
>
>
> -----
> Reji Mathews
> Sr. Developer - Middleware Integration / SOA ( Open Source - Apache Camel & Jboss Fuse ESB | Mule ESB )
> LinkedIn - http://in.linkedin.com/pub/reji-mathews/31/9a2/40a
> Twitter - reji_mathews
> --
> View this message in context: http://camel.465427.n5.nabble.com/Camel-Websocket-Binding-error-tp5797760.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65333-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sun Apr 16 07:32:13 2017
Return-Path: <users-return-65333-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3FBC918BB6
	for <apmail-camel-users-archive@www.apache.org>; Sun, 16 Apr 2017 07:32:13 +0000 (UTC)
Received: (qmail 22906 invoked by uid 500); 16 Apr 2017 07:32:12 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 22778 invoked by uid 500); 16 Apr 2017 07:32:12 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 22765 invoked by uid 99); 16 Apr 2017 07:32:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Apr 2017 07:32:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 02B1F181323
	for <users@camel.apache.org>; Sun, 16 Apr 2017 07:32:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.692
X-Spam-Level: *
X-Spam-Status: No, score=1.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id dH-feAAOJdPI for <users@camel.apache.org>;
	Sun, 16 Apr 2017 07:32:11 +0000 (UTC)
Received: from mail-qk0-f177.google.com (mail-qk0-f177.google.com [209.85.220.177])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 8E73F5F3FF
	for <users@camel.apache.org>; Sun, 16 Apr 2017 07:32:10 +0000 (UTC)
Received: by mail-qk0-f177.google.com with SMTP id d131so88774944qkc.3
        for <users@camel.apache.org>; Sun, 16 Apr 2017 00:32:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=c58/RIl5mPhm5YIy3xZYCkSJ8kaDLV5yu5pd5FNWlL0=;
        b=l4skEZkP6YeDbNxGk+Q5UAJ7e0QvBnL3DIvYAmy8UrEhOIWV+Xwvu+73ItvC6rF+de
         ahg7ujj/lGhSpAa2LU7cgjcA5y0dPKYriqOkeV1Cj1pNO/5N3lHW/36m+Vc0XrU99M2T
         qEXaXrgAEkUzzMauPL3AGnHTdH41t0aJq+NIr5dmkWWfvuAgf5vc97Z7al+N6YJEIDUm
         PB3OiFIzZ1Yb80VvDrCazxJDPVsXY0naRZaaHdKRYjdPtcs2YHMpQYvyC2GnAW/R4kqd
         pfxlNFuS36C4KxmolqCy/K65uvQWR2Xcdq+GLnlEuexCpVqnu+wabNCXcnGl71crKA2s
         Wl8w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=c58/RIl5mPhm5YIy3xZYCkSJ8kaDLV5yu5pd5FNWlL0=;
        b=t92r7vpitqKAt84Hp8Nto2jIWCtvMeS0Zu21GvY0rcIYi0661tpzuLtOmx7zjtV2PS
         yK0zd3M9c1m/mOqUXooj7V/u0KpquxL7KAwJ9oK/v3W2osJo8cqMzcQgqGwyji5G0x2P
         2kNlF0VzRUDtE92mjD3O0SVEx2k1pFqxjhCx1Ht92NnxDYAmyJ2SgSzQisQNI0qiTLAN
         kz+7Cf1AIdtJhfC3PE3E9Hpd/WsLdol0FjJ+UIAMwXf7z03XAVQT93dBIimmUxGedHx6
         rOWzs+OZ2YRoSmm7bM2QCCWt7+ITOeOYQBf2dM/KWjqwPbcGV/RqvPaSkh2C0vaDNB0M
         i+Bg==
X-Gm-Message-State: AN3rC/4yIsUR5MXI4x3fU8hPkLnC9NJed+Sx6dLViDmQXnlyAQ2LaAH9
	LBiCafsHyLAAt53vHpj7JO60Tx1RPVQvaaM=
X-Received: by 10.55.100.211 with SMTP id y202mr4702947qkb.290.1492327923928;
 Sun, 16 Apr 2017 00:32:03 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Sun, 16 Apr 2017 00:31:43 -0700 (PDT)
In-Reply-To: <1492047617162-5797545.post@n5.nabble.com>
References: <1491946402202-5797435.post@n5.nabble.com> <CAGB5yNkQt=u9BnL6p6C2JOA=LnSxciVUrELPceHfv0XHG4ZSfA@mail.gmail.com>
 <1492018475571-5797512.post@n5.nabble.com> <CABD_Zr9jDv_59vTnTk60F40BF8VC8foMLmWi=XTLheknPDJ1HA@mail.gmail.com>
 <1492047617162-5797545.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Sun, 16 Apr 2017 09:31:43 +0200
Message-ID: <CAGB5yN=svdKvndZbWOCDESCMTj6qHqcHe=cpCAznnbj_aY9LMA@mail.gmail.com>
Subject: Re: Camel SSH - dynamic values
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

I logged a ticket so we can support username/password headers in the future
https://issues.apache.org/jira/browse/CAMEL-11152

Contributions is welcome

On Thu, Apr 13, 2017 at 3:40 AM, urwithsumit <sumit.kushwaha@gmail.com> wrote:
> @Claus, toD() did worked for user id and password.
>
> @Zoran, the approach gives a null pointer exception for user id,  RSA token
> combination. I did not tried though with the password. For dynamic value i
> thus will go with toD()
>
>
> Still struggling to get it work with RSA token code.
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Camel-SSH-dynamic-values-tp5797435p5797545.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65334-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sun Apr 16 22:46:26 2017
Return-Path: <users-return-65334-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 848C91A386
	for <apmail-camel-users-archive@www.apache.org>; Sun, 16 Apr 2017 22:46:26 +0000 (UTC)
Received: (qmail 93386 invoked by uid 500); 16 Apr 2017 22:46:26 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 93331 invoked by uid 500); 16 Apr 2017 22:46:24 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 93319 invoked by uid 99); 16 Apr 2017 22:46:21 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Apr 2017 22:46:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 7AEBCC1406
	for <users@camel.apache.org>; Sun, 16 Apr 2017 22:46:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.48
X-Spam-Level: **
X-Spam-Status: No, score=2.48 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=karnam-net.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id gcpkwdwgBnxX for <users@camel.apache.org>;
	Sun, 16 Apr 2017 22:46:20 +0000 (UTC)
Received: from mail-pg0-f50.google.com (mail-pg0-f50.google.com [74.125.83.50])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 736195F39C
	for <users@camel.apache.org>; Sun, 16 Apr 2017 22:46:19 +0000 (UTC)
Received: by mail-pg0-f50.google.com with SMTP id 63so3962563pgh.0
        for <users@camel.apache.org>; Sun, 16 Apr 2017 15:46:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=karnam-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:from:date:message-id:subject:to;
        bh=q0fuVEDWTxCxCl2nWLTwFw+M09V5DSL/z9hFphSghJs=;
        b=YjWNy64LdYXEoOdxAdgrUoJK+l7HIko3hVaUQ6sQ2zOw3tbQksV5T8JBh4hSSBmtex
         3tNA56s9IL3AgGk0DHkf2L6yt+45fRJRaYxxVN8uPEivCa16sTiRe3HUV4Wx8TXJipPT
         +s1B1SiZLf1fUoEt/7y8EqZnBZz4SDv9mZVEhK9lgsbNgncytCrSPR3kjVAq8eD67yz4
         xyDTpbjd5q/v22R6C3ncSTL8Tp5Z/XCbo8pOeTDFUKi6eOwCtycNa/oG0VJogVbUhNUl
         jruY/KzHTEjx+KGzy4OjLa56I+7ZOO6XUumDolBFHk98kX8CYPhMjrFKBTfY1w16XG/K
         zNrQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=q0fuVEDWTxCxCl2nWLTwFw+M09V5DSL/z9hFphSghJs=;
        b=semXZ12TDTxbohnOUC9UD/YgqzVFhVdvZGd7duu4KZP7Rg0fzh/USOvoCil3KuItg+
         Ub/r6IHHV1Pc6w4ktCiuFxXrNZvV4KlLVjTF6R6TyfFUAW8zJO6mPSixkYBkhhwwToNm
         /Iq2PAzTuxqh7HuwDp5mRolWjahXWmJFYULwmfQabsb+VFNfD+ov8s0ZEGIEo0atOBRC
         nfR+9pdKf/JxDC5GadEKYn2+FGIyFFiThqSLDspXBRvZrR9XUOwxaG9wuxh14YL7GrgO
         LBSJNw/LYuum9+EzOYGdkRGboFd81jwnSoWLxKU6ct3AnOaIsHqKT8iTssDVkwEnILAE
         rkBw==
X-Gm-Message-State: AN3rC/7lYjD3EScbpKZH/eoqke0Vf75rVM5tCBKHz2hXJL0dSZLpmDH2
	ALbzNloKuyuxQ0mqeZ7ABHrudwW3uCod
X-Received: by 10.99.149.16 with SMTP id p16mr8868897pgd.112.1492382772002;
 Sun, 16 Apr 2017 15:46:12 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.100.142.66 with HTTP; Sun, 16 Apr 2017 15:46:11 -0700 (PDT)
X-Originating-IP: [2601:600:8c01:43c0:e128:b8f2:2c36:8c5f]
From: Priyanka Gopinath <priyanka@karnam.net>
Date: Sun, 16 Apr 2017 15:46:11 -0700
Message-ID: <CAOFZOdXeJgWtpDdNrU+X0-w3kt-GQOXAOdY-5q8MQ3A47jNJkA@mail.gmail.com>
Subject: How to dynamically inject hystrix properties?
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c1b6a4cfe98ca054d5070a0

--94eb2c1b6a4cfe98ca054d5070a0
Content-Type: text/plain; charset=UTF-8

I have this special usecase where I want to change the threadpool size and
thread pool key based upon the endpoint that is getting called. All of
these values are available in the configuration on the exchange.

For eg :

Endpoint A => Threadpool(5) => Threadpool key(A)
Endpoint B => Threadpool(10) => Threadpool key(Z)
Endpoint C => Threadpool(5) => Threadpool Key(A)

However, in my hystrix route, all of the params for Hystrix EIP are strings
and I aven't been able to figure the a way to evaluate the same.

from("direct:something")
.hystrix()
.threadPoolkey(hystrix.???? How to inject this value)
.end()
.to("direct:http-endpoint");

I also tried creating a HystrixThreadpoolDefinition and tried setting it
as .hystrix().hystrixConfiguration(configuration). But it comes back to the
same question of how to pass in this configuration. Method calls return
ValueBuilders and I could not cast them to the strings/configDefinitions.

Please suggest the correct way of doing it.

--94eb2c1b6a4cfe98ca054d5070a0--

From users-return-65335-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 17 17:40:46 2017
Return-Path: <users-return-65335-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8F0F018A8B
	for <apmail-camel-users-archive@www.apache.org>; Mon, 17 Apr 2017 17:40:46 +0000 (UTC)
Received: (qmail 20238 invoked by uid 500); 17 Apr 2017 17:40:46 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 20190 invoked by uid 500); 17 Apr 2017 17:40:46 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 20165 invoked by uid 99); 17 Apr 2017 17:40:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Apr 2017 17:40:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 481261B04A3
	for <users@camel.apache.org>; Mon, 17 Apr 2017 17:40:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.486
X-Spam-Level: *****
X-Spam-Status: No, score=5.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id XLhmt2SPPny7 for <users@camel.apache.org>;
	Mon, 17 Apr 2017 17:40:43 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 465A45F4EE
	for <users@camel.apache.org>; Mon, 17 Apr 2017 17:40:42 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 7FCD3414621F
	for <users@camel.apache.org>; Mon, 17 Apr 2017 10:39:22 -0700 (PDT)
Date: Mon, 17 Apr 2017 10:40:41 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs1zLBw0E657fkB3o=gHHVPmxSu9ozauK0nbPg=BG4t89A@mail.gmail.com>
In-Reply-To: <1492447513299-5797770.post@n5.nabble.com>
References: <1492005997292-5797508.post@n5.nabble.com> <1492447513299-5797770.post@n5.nabble.com>
Subject: Re: Using Split with JSON File
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9603_1717783903.1492450841602"

------=_Part_9603_1717783903.1492450841602
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Couldn't you split the resultset from the database and for each split
produce a json and send that batch to your web service?

On Mon, Apr 17, 2017 at 6:45 PM, andcrow [via Camel] <
ml-node+s465427n5797770h33@n5.nabble.com> wrote:

> Still in the battle with this case ..... hehehehe
>
> Viewing the documentation I found the component SQL Component:
>
> In the options:
>
> maxMessagesPerPoll: Camel 2.11: SQL consumer only: An integer value to
> define the maximum number of messages to gather per poll. By default, no
> maximum is set.
>
> But also with this component he ignores this option:
>
> from("timer://query?fixedRate=true&delay=5s&period=10800s")
>     .routeId("route-product")
>     .setBody(constant(new ProductQuery().getProductSelect()))
> to("sql:" + new ProductQuery().getProductSelect() +
> "?maxMessagesPerPoll=1000&dataSource=myDataSource")
>     .marshal()
>         .json(JsonLibrary.Gson)
>         .setHeader(Exchange.CONTENT_TYPE, constant("application/json"))
>         .setHeader("CamelFileName", simple("${id}.json"))
> .to("file:product");
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Using-Split-with-JSON-
> File-tp5797508p5797770.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Using-Split-with-JSON-File-tp5797508p5797771.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_9603_1717783903.1492450841602--

From users-return-65336-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 17 18:21:30 2017
Return-Path: <users-return-65336-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 456C218CEB
	for <apmail-camel-users-archive@www.apache.org>; Mon, 17 Apr 2017 18:21:30 +0000 (UTC)
Received: (qmail 45243 invoked by uid 500); 17 Apr 2017 18:21:29 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 45193 invoked by uid 500); 17 Apr 2017 18:21:29 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 45181 invoked by uid 99); 17 Apr 2017 18:21:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Apr 2017 18:21:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 15C111809FC
	for <users@camel.apache.org>; Mon, 17 Apr 2017 18:21:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.486
X-Spam-Level: *****
X-Spam-Status: No, score=5.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id UYdkLenJGEKM for <users@camel.apache.org>;
	Mon, 17 Apr 2017 18:21:27 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id C9EC25F20C
	for <users@camel.apache.org>; Mon, 17 Apr 2017 18:21:26 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 26A274146D4E
	for <users@camel.apache.org>; Mon, 17 Apr 2017 11:20:06 -0700 (PDT)
Date: Mon, 17 Apr 2017 11:21:25 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs2xS=LT+Ay9dzbV+qRd76WTPbtZ049x6CNUCX05e5G8aA@mail.gmail.com>
In-Reply-To: <1492451365998-5797772.post@n5.nabble.com>
References: <1492005997292-5797508.post@n5.nabble.com> <1492447513299-5797770.post@n5.nabble.com> <CA+wbgs1zLBw0E657fkB3o=gHHVPmxSu9ozauK0nbPg=BG4t89A@mail.gmail.com> <1492451365998-5797772.post@n5.nabble.com>
Subject: Re: Using Split with JSON File
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10520_1890086824.1492453285407"

------=_Part_10520_1890086824.1492453285407
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I would suggest get the whole resultset and save the data on a queue or
even as a file. Then you can parse it as a stream or every x number of rows
and split.

On Mon, Apr 17, 2017 at 7:49 PM, andcrow [via Camel] <
ml-node+s465427n5797772h95@n5.nabble.com> wrote:

> Did not work using maxMessagesPerPoll.
>
> Does not group every 1000 records.
>
> Creates 1 JSON file for each record.
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Using-Split-with-JSON-
> File-tp5797508p5797772.html
> To start a new topic under Camel - Users, email
> ml-node+s465427n465428h31@n5.nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Using-Split-with-JSON-File-tp5797508p5797773.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_10520_1890086824.1492453285407--

From users-return-65337-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 17 18:54:20 2017
Return-Path: <users-return-65337-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 17DEE18E78
	for <apmail-camel-users-archive@www.apache.org>; Mon, 17 Apr 2017 18:54:20 +0000 (UTC)
Received: (qmail 8607 invoked by uid 500); 17 Apr 2017 18:54:19 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 8559 invoked by uid 500); 17 Apr 2017 18:54:19 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 66101 invoked by uid 99); 17 Apr 2017 18:32:28 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.736
X-Spam-Level: ***
X-Spam-Status: No, score=3.736 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Mon, 17 Apr 2017 11:32:24 -0700 (MST)
From: andcrow <andcrow25@gmail.com>
To: users@camel.apache.org
Message-ID: <1492453944657-5797774.post@n5.nabble.com>
In-Reply-To: <CA+wbgs2xS=LT+Ay9dzbV+qRd76WTPbtZ049x6CNUCX05e5G8aA@mail.gmail.com>
References: <1492005997292-5797508.post@n5.nabble.com> <1492447513299-5797770.post@n5.nabble.com> <CA+wbgs1zLBw0E657fkB3o=gHHVPmxSu9ozauK0nbPg=BG4t89A@mail.gmail.com> <1492451365998-5797772.post@n5.nabble.com> <CA+wbgs2xS=LT+Ay9dzbV+qRd76WTPbtZ049x6CNUCX05e5G8aA@mail.gmail.com>
Subject: Re: Using Split with JSON File
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I'll try




--
View this message in context: http://camel.465427.n5.nabble.com/Using-Split-with-JSON-File-tp5797508p5797774.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65338-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 17 18:54:28 2017
Return-Path: <users-return-65338-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0974818E79
	for <apmail-camel-users-archive@www.apache.org>; Mon, 17 Apr 2017 18:54:27 +0000 (UTC)
Received: (qmail 9677 invoked by uid 500); 17 Apr 2017 18:54:26 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 9631 invoked by uid 500); 17 Apr 2017 18:54:26 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 37520 invoked by uid 99); 17 Apr 2017 17:49:29 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.736
X-Spam-Level: ***
X-Spam-Status: No, score=3.736 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Mon, 17 Apr 2017 10:49:25 -0700 (MST)
From: andcrow <andcrow25@gmail.com>
To: users@camel.apache.org
Message-ID: <1492451365998-5797772.post@n5.nabble.com>
In-Reply-To: <CA+wbgs1zLBw0E657fkB3o=gHHVPmxSu9ozauK0nbPg=BG4t89A@mail.gmail.com>
References: <1492005997292-5797508.post@n5.nabble.com> <1492447513299-5797770.post@n5.nabble.com> <CA+wbgs1zLBw0E657fkB3o=gHHVPmxSu9ozauK0nbPg=BG4t89A@mail.gmail.com>
Subject: Re: Using Split with JSON File
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Did not work using maxMessagesPerPoll.

Does not group every 1000 records.

Creates 1 JSON file for each record.



--
View this message in context: http://camel.465427.n5.nabble.com/Using-Split-with-JSON-File-tp5797508p5797772.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65339-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 17 18:54:34 2017
Return-Path: <users-return-65339-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 75B9C18E7A
	for <apmail-camel-users-archive@www.apache.org>; Mon, 17 Apr 2017 18:54:34 +0000 (UTC)
Received: (qmail 10688 invoked by uid 500); 17 Apr 2017 18:54:34 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 10641 invoked by uid 500); 17 Apr 2017 18:54:34 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 89403 invoked by uid 99); 17 Apr 2017 16:45:17 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.736
X-Spam-Level: ***
X-Spam-Status: No, score=3.736 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Mon, 17 Apr 2017 09:45:13 -0700 (MST)
From: andcrow <andcrow25@gmail.com>
To: users@camel.apache.org
Message-ID: <1492447513299-5797770.post@n5.nabble.com>
In-Reply-To: <1492005997292-5797508.post@n5.nabble.com>
References: <1492005997292-5797508.post@n5.nabble.com>
Subject: Re: Using Split with JSON File
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Still in the battle with this case ..... hehehehe

Viewing the documentation I found the component SQL Component:

In the options:

maxMessagesPerPoll: Camel 2.11: SQL consumer only: An integer value to
define the maximum number of messages to gather per poll. By default, no
maximum is set.

But also with this component he ignores this option:

from("timer://query?fixedRate=true&delay=5s&period=10800s") 
    .routeId("route-product") 
    .setBody(constant(new ProductQuery().getProductSelect())) 
to("sql:" + new ProductQuery().getProductSelect() +
"?maxMessagesPerPoll=1000&dataSource=myDataSource")
    .marshal() 
        .json(JsonLibrary.Gson) 
        .setHeader(Exchange.CONTENT_TYPE, constant("application/json")) 
        .setHeader("CamelFileName", simple("${id}.json")) 
.to("file:product"); 



--
View this message in context: http://camel.465427.n5.nabble.com/Using-Split-with-JSON-File-tp5797508p5797770.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65340-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 17 18:54:49 2017
Return-Path: <users-return-65340-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 59BA018E7F
	for <apmail-camel-users-archive@www.apache.org>; Mon, 17 Apr 2017 18:54:49 +0000 (UTC)
Received: (qmail 11960 invoked by uid 500); 17 Apr 2017 18:54:48 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 11919 invoked by uid 500); 17 Apr 2017 18:54:48 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 56780 invoked by uid 99); 17 Apr 2017 15:56:16 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.416
X-Spam-Level: ***
X-Spam-Status: No, score=3.416 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652, URI_HEX=1.313] autolearn=disabled
Date: Mon, 17 Apr 2017 08:56:13 -0700 (MST)
From: Karthick K R <karthik_mit2002@yahoo.co.in>
To: users@camel.apache.org
Message-ID: <1492444573134-5797769.post@n5.nabble.com>
Subject: File Encoding falls back to default encoding while grouping after
 split using tokenize
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

I am quite new to Apache Camel. But after using it for a month now, I reall=
y
feel it is a great Integration framework which makes solving various
enterprise problems very effectively with minimal effort.

Coming to the issue, I had been working on splitting a huge csv using the
splitter with tokenize & grouping N lines approach and ran into encoding
issues with the grouped content.=20
A similar issue had been raised in StackOverflow:  Camel: UTF-8 Encoding is
lost after using Group
<http://stackoverflow.com/questions/36075063/camel-utf-8-encoding-is-lost-a=
fter-using-group> =20

I had also commented on the same issue with my usecase and observations
made. Including the same text here:

Sample csv file: (with Delimiter - '|')
CandidateNumber|CandidateLastName|CandidateFirstName|EducationLevel

CAND123C001|Wells|Jimmy|Bachelor's Degree (=C2=B116 years)

CAND123C002|Wells|Tom|Bachelor's Degree (=C2=B116 years)

CAND123C003|Wells|James|Bachelor's Degree (=C2=B116 years)

CAND123C004|Wells|Tim|Bachelor's Degree (=C2=B116 years)

The =C2=B1 character is corrupted after tokenize with grouping. I was initi=
ally
under the assumption that the problem was with not setting the proper File
Encoding for split, but the exchange seems to have the right value for
property CamelCharsetName=3DISO-8859-1.

from("file://<dir with csv files>?noop=3Dtrue&charset=3DISO-8859-1")
.split(body().tokenize("\n",2,true)).streaming()
.log("body: ${body}");

The same works fine with dont use grouping.

from("file://<dir with csv files>?noop=3Dtrue&charset=3DISO-8859-1")
.split(body().tokenize("\n")).streaming()
.log("body: ${body}");

Looking at  GroupTokenIterator
<https://github.com/apache/camel/blob/master/camel-core/src/main/java/org/a=
pache/camel/util/GroupTokenIterator.java> =20
in camel code base the problem seems to be with the way TypeConverter is
used to convert String to InputStream

// convert to input stream
InputStream is =3D
camelContext.getTypeConverter().mandatoryConvertTo(InputStream.class, data)=
;
...
Note: the mandatoryConvertTo() has an overloaded method with exchange

<T> T mandatoryConvertTo(Class<T> type, Exchange exchange, Object value)
As the exchange is not passed as argument it always falls back to default
charset set using system property "org.apache.camel.default.charset"

Potential Fix:

// convert to input stream
InputStream is =3D
camelContext.getTypeConverter().mandatoryConvertTo(InputStream.class,
exchange, data);
...
As this fix is in the camel-core, another potential option is to use split
without grouping and use AgrregateStrategy with completionSize() and
completionTimeout().

Although it would be great to get this fixed in camel-core.

Kindly let me know your thoughts and as to whether this can be handled in a
different way.




--
View this message in context: http://camel.465427.n5.nabble.com/File-Encodi=
ng-falls-back-to-default-encoding-while-grouping-after-split-using-tokenize=
-tp5797769.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65341-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 17 18:55:12 2017
Return-Path: <users-return-65341-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A12318E81
	for <apmail-camel-users-archive@www.apache.org>; Mon, 17 Apr 2017 18:55:12 +0000 (UTC)
Received: (qmail 13080 invoked by uid 500); 17 Apr 2017 18:55:12 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 13032 invoked by uid 500); 17 Apr 2017 18:55:11 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 22695 invoked by uid 99); 17 Apr 2017 10:08:41 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.736
X-Spam-Level: ***
X-Spam-Status: No, score=3.736 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Mon, 17 Apr 2017 03:08:36 -0700 (MST)
From: chandangowda <cgowda299@gmail.com>
To: users@camel.apache.org
Message-ID: <1492423716313-5797768.post@n5.nabble.com>
Subject: Camel not able to delete files Outside .camel
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

>From one route I=E2=80=99m reading ZIP files after successful completion of=
 reading
of files,camel not able to delete those files i.e. after moving files insid=
e
.camel from outside .camel and throughing following exception.This issue
happened only for  first 21 records  out of 1000 records.Please replay ASAP=
.

Stack trace=20

org.apache.camel.component.file.GenericFileOperationFailedException: Cannot
store file: E:\XX\XX\XXXX\XXXXX-000001-XXXX.zip
=09at
org.apache.camel.component.file.FileOperations.storeFile(FileOperations.jav=
a:269)
=09at
org.apache.camel.component.file.GenericFileProducer.writeFile(GenericFilePr=
oducer.java:278)
=09at
org.apache.camel.component.file.GenericFileProducer.processExchange(Generic=
FileProducer.java:166)
=09at
org.apache.camel.component.file.GenericFileProducer.process(GenericFileProd=
ucer.java:80)
=09at
org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcess=
orBridge.process(AsyncProcessorConverterHelper.java:61)
=09at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:1=
10)
=09at
org.apache.camel.management.InstrumentationProcessor.process(Instrumentatio=
nProcessor.java:72)
=09at
org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHa=
ndler.java:398)
=09at
org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProc=
essor.java:191)
=09at
org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProc=
essor.java:191)
=09at
org.apache.camel.component.file.GenericFileConsumer.processExchange(Generic=
FileConsumer.java:401)
=09at
org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFil=
eConsumer.java:201)
=09at
org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsume=
r.java:165)
=09at
org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.jav=
a:187)
=09at
org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:=
114)
=09at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:47=
1)
=09at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)
=09at
java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access=
$301(ScheduledThreadPoolExecutor.java:178)
=09at
java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Sc=
heduledThreadPoolExecutor.java:293)
=09at
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1=
145)
=09at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:=
615)
=09at java.lang.Thread.run(Thread.java:745)
Caused by: java.io.FileNotFoundException: E:\XXX\XXXX\XX\XXXX-000001-XXX.zi=
p
(Access is denied)
=09at java.io.FileOutputStream.open(Native Method)
=09at java.io.FileOutputStream.<init>(FileOutputStream.java:221)
=09at java.io.FileOutputStream.<init>(FileOutputStream.java:171)
=09at
org.apache.camel.component.file.FileOperations.prepareOutputFileChannel(Fil=
eOperations.java:430)
=09at
org.apache.camel.component.file.FileOperations.writeFileByFile(FileOperatio=
ns.java:353)
=09at
org.apache.camel.component.file.FileOperations.storeFile(FileOperations.jav=
a:242)
=09... 21 more



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-not-a=
ble-to-delete-files-Outside-camel-tp5797768.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65342-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 18 06:50:02 2017
Return-Path: <users-return-65342-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D939A189E0
	for <apmail-camel-users-archive@www.apache.org>; Tue, 18 Apr 2017 06:50:02 +0000 (UTC)
Received: (qmail 74942 invoked by uid 500); 18 Apr 2017 06:50:02 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 74903 invoked by uid 500); 18 Apr 2017 06:50:02 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 74287 invoked by uid 99); 18 Apr 2017 04:11:32 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.285
X-Spam-Level: **
X-Spam-Status: No, score=2.285 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Mon, 17 Apr 2017 21:11:28 -0700 (MST)
From: KhajaNawas14 <khaja.nawas@me.com>
To: users@camel.apache.org
Message-ID: <1492488688966-5797776.post@n5.nabble.com>
Subject: Camel Route - File name
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi All,

currently my query is like any file that comes to this folder will be
processed to next stage. However I would like to add the file name also my
camel route so that i can re-use the same folder for multiple files.

sample folder cd-erpdata-csv
sample file name us-ddmmyy.csv and uk-ddmmyy.csv

<camel:from
uri="file:messaging/cd-erpdata-csv?preMove=inprogress&amp;move=.done"/>






--
View this message in context: http://camel.465427.n5.nabble.com/Camel-Route-File-name-tp5797776.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65343-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 18 06:50:07 2017
Return-Path: <users-return-65343-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB5E8189E5
	for <apmail-camel-users-archive@www.apache.org>; Tue, 18 Apr 2017 06:50:06 +0000 (UTC)
Received: (qmail 75996 invoked by uid 500); 18 Apr 2017 06:50:06 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 75952 invoked by uid 500); 18 Apr 2017 06:50:06 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 76656 invoked by uid 99); 18 Apr 2017 04:13:57 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.285
X-Spam-Level: **
X-Spam-Status: No, score=2.285 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Mon, 17 Apr 2017 21:13:56 -0700 (MST)
From: KhajaNawas14 <khaja.nawas@me.com>
To: users@camel.apache.org
Message-ID: <1492488836335-5797777.post@n5.nabble.com>
In-Reply-To: <1492488688966-5797776.post@n5.nabble.com>
References: <1492488688966-5797776.post@n5.nabble.com>
Subject: Re: Camel Route - File name
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Note:- I am a beginner to camel route.



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-Route-File-name-tp5797776p5797777.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65344-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 18 07:25:51 2017
Return-Path: <users-return-65344-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CB14518B4A
	for <apmail-camel-users-archive@www.apache.org>; Tue, 18 Apr 2017 07:25:51 +0000 (UTC)
Received: (qmail 42191 invoked by uid 500); 18 Apr 2017 07:25:51 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 42148 invoked by uid 500); 18 Apr 2017 07:25:51 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 42136 invoked by uid 99); 18 Apr 2017 07:25:51 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Apr 2017 07:25:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9DA44C343A
	for <users@camel.apache.org>; Tue, 18 Apr 2017 07:25:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -6.485
X-Spam-Level:
X-Spam-Status: No, score=-6.485 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_HI=-5, RCVD_IN_MSPIKE_H2=-2.796,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id szPYtCd1k8_3 for <users@camel.apache.org>;
	Tue, 18 Apr 2017 07:25:47 +0000 (UTC)
Received: from smtpgw.sap-ag.de (smtpgw04.sap-ag.de [155.56.66.99])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 3129D5F4EE
	for <users@camel.apache.org>; Tue, 18 Apr 2017 07:25:47 +0000 (UTC)
From: "Siano, Stephan" <stephan.siano@sap.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: RE: Camel not able to delete files Outside .camel
Thread-Topic: Camel not able to delete files Outside .camel
Thread-Index: AQHSt6wonnPAbhQV70GQKlI9sN25l6HKujsg
Date: Tue, 18 Apr 2017 07:25:40 +0000
Message-ID: <06958692acac4954991dfa4ddee55a45@sap.com>
References: <1492423716313-5797768.post@n5.nabble.com>
In-Reply-To: <1492423716313-5797768.post@n5.nabble.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.21.23.233]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

SGksDQoNCkNhdXNlZCBieTogamF2YS5pby5GaWxlTm90Rm91bmRFeGNlcHRpb246IEU6XFhYWFxY
WFhYXFhYXFhYWFgtMDAwMDAxLVhYWC56aXANCihBY2Nlc3MgaXMgZGVuaWVkKQ0KDQpUaGlzIGxv
b2tzIGFzIGlmIHRoZSBwcm9jZXNzIHJ1bm5pbmcgeW91ciBjYW1lbCByb3V0ZSBkb2VzIG5vdCBo
YXZlIGFjY2VzcyB0byB0aGUgZGlyZWN0b3J5IGNvbnRhaW5pbmcgdGhlIGZpbGUgKGl0IHdvdWxk
IG5lZWQgZXhlY3V0aW9uIHJpZ2h0cyBvbiB0aGUgZGlyZWN0b3J5KS4NCg0KQmVzdCByZWdhcmRz
DQpTdGVwaGFuDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBjaGFuZGFuZ293
ZGEgW21haWx0bzpjZ293ZGEyOTlAZ21haWwuY29tXSANClNlbnQ6IE1vbnRhZywgMTcuIEFwcmls
IDIwMTcgMTI6MDkNClRvOiB1c2Vyc0BjYW1lbC5hcGFjaGUub3JnDQpTdWJqZWN0OiBDYW1lbCBu
b3QgYWJsZSB0byBkZWxldGUgZmlsZXMgT3V0c2lkZSAuY2FtZWwNCg0KRnJvbSBvbmUgcm91dGUg
SeKAmW0gcmVhZGluZyBaSVAgZmlsZXMgYWZ0ZXIgc3VjY2Vzc2Z1bCBjb21wbGV0aW9uIG9mIHJl
YWRpbmcNCm9mIGZpbGVzLGNhbWVsIG5vdCBhYmxlIHRvIGRlbGV0ZSB0aG9zZSBmaWxlcyBpLmUu
IGFmdGVyIG1vdmluZyBmaWxlcyBpbnNpZGUNCi5jYW1lbCBmcm9tIG91dHNpZGUgLmNhbWVsIGFu
ZCB0aHJvdWdoaW5nIGZvbGxvd2luZyBleGNlcHRpb24uVGhpcyBpc3N1ZQ0KaGFwcGVuZWQgb25s
eSBmb3IgIGZpcnN0IDIxIHJlY29yZHMgIG91dCBvZiAxMDAwIHJlY29yZHMuUGxlYXNlIHJlcGxh
eSBBU0FQLg0KDQpTdGFjayB0cmFjZSANCg0Kb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmls
ZS5HZW5lcmljRmlsZU9wZXJhdGlvbkZhaWxlZEV4Y2VwdGlvbjogQ2Fubm90DQpzdG9yZSBmaWxl
OiBFOlxYWFxYWFxYWFhYXFhYWFhYLTAwMDAwMS1YWFhYLnppcA0KCWF0DQpvcmcuYXBhY2hlLmNh
bWVsLmNvbXBvbmVudC5maWxlLkZpbGVPcGVyYXRpb25zLnN0b3JlRmlsZShGaWxlT3BlcmF0aW9u
cy5qYXZhOjI2OSkNCglhdA0Kb3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5HZW5lcmlj
RmlsZVByb2R1Y2VyLndyaXRlRmlsZShHZW5lcmljRmlsZVByb2R1Y2VyLmphdmE6Mjc4KQ0KCWF0
DQpvcmcuYXBhY2hlLmNhbWVsLmNvbXBvbmVudC5maWxlLkdlbmVyaWNGaWxlUHJvZHVjZXIucHJv
Y2Vzc0V4Y2hhbmdlKEdlbmVyaWNGaWxlUHJvZHVjZXIuamF2YToxNjYpDQoJYXQNCm9yZy5hcGFj
aGUuY2FtZWwuY29tcG9uZW50LmZpbGUuR2VuZXJpY0ZpbGVQcm9kdWNlci5wcm9jZXNzKEdlbmVy
aWNGaWxlUHJvZHVjZXIuamF2YTo4MCkNCglhdA0Kb3JnLmFwYWNoZS5jYW1lbC51dGlsLkFzeW5j
UHJvY2Vzc29yQ29udmVydGVySGVscGVyJFByb2Nlc3NvclRvQXN5bmNQcm9jZXNzb3JCcmlkZ2Uu
cHJvY2VzcyhBc3luY1Byb2Nlc3NvckNvbnZlcnRlckhlbHBlci5qYXZhOjYxKQ0KCWF0IG9yZy5h
cGFjaGUuY2FtZWwucHJvY2Vzc29yLlNlbmRQcm9jZXNzb3IucHJvY2VzcyhTZW5kUHJvY2Vzc29y
LmphdmE6MTEwKQ0KCWF0DQpvcmcuYXBhY2hlLmNhbWVsLm1hbmFnZW1lbnQuSW5zdHJ1bWVudGF0
aW9uUHJvY2Vzc29yLnByb2Nlc3MoSW5zdHJ1bWVudGF0aW9uUHJvY2Vzc29yLmphdmE6NzIpDQoJ
YXQNCm9yZy5hcGFjaGUuY2FtZWwucHJvY2Vzc29yLlJlZGVsaXZlcnlFcnJvckhhbmRsZXIucHJv
Y2VzcyhSZWRlbGl2ZXJ5RXJyb3JIYW5kbGVyLmphdmE6Mzk4KQ0KCWF0DQpvcmcuYXBhY2hlLmNh
bWVsLnByb2Nlc3Nvci5DYW1lbEludGVybmFsUHJvY2Vzc29yLnByb2Nlc3MoQ2FtZWxJbnRlcm5h
bFByb2Nlc3Nvci5qYXZhOjE5MSkNCglhdA0Kb3JnLmFwYWNoZS5jYW1lbC5wcm9jZXNzb3IuQ2Ft
ZWxJbnRlcm5hbFByb2Nlc3Nvci5wcm9jZXNzKENhbWVsSW50ZXJuYWxQcm9jZXNzb3IuamF2YTox
OTEpDQoJYXQNCm9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUuR2VuZXJpY0ZpbGVDb25z
dW1lci5wcm9jZXNzRXhjaGFuZ2UoR2VuZXJpY0ZpbGVDb25zdW1lci5qYXZhOjQwMSkNCglhdA0K
b3JnLmFwYWNoZS5jYW1lbC5jb21wb25lbnQuZmlsZS5HZW5lcmljRmlsZUNvbnN1bWVyLnByb2Nl
c3NCYXRjaChHZW5lcmljRmlsZUNvbnN1bWVyLmphdmE6MjAxKQ0KCWF0DQpvcmcuYXBhY2hlLmNh
bWVsLmNvbXBvbmVudC5maWxlLkdlbmVyaWNGaWxlQ29uc3VtZXIucG9sbChHZW5lcmljRmlsZUNv
bnN1bWVyLmphdmE6MTY1KQ0KCWF0DQpvcmcuYXBhY2hlLmNhbWVsLmltcGwuU2NoZWR1bGVkUG9s
bENvbnN1bWVyLmRvUnVuKFNjaGVkdWxlZFBvbGxDb25zdW1lci5qYXZhOjE4NykNCglhdA0Kb3Jn
LmFwYWNoZS5jYW1lbC5pbXBsLlNjaGVkdWxlZFBvbGxDb25zdW1lci5ydW4oU2NoZWR1bGVkUG9s
bENvbnN1bWVyLmphdmE6MTE0KQ0KCWF0IGphdmEudXRpbC5jb25jdXJyZW50LkV4ZWN1dG9ycyRS
dW5uYWJsZUFkYXB0ZXIuY2FsbChFeGVjdXRvcnMuamF2YTo0NzEpDQoJYXQgamF2YS51dGlsLmNv
bmN1cnJlbnQuRnV0dXJlVGFzay5ydW5BbmRSZXNldChGdXR1cmVUYXNrLmphdmE6MzA0KQ0KCWF0
DQpqYXZhLnV0aWwuY29uY3VycmVudC5TY2hlZHVsZWRUaHJlYWRQb29sRXhlY3V0b3IkU2NoZWR1
bGVkRnV0dXJlVGFzay5hY2Nlc3MkMzAxKFNjaGVkdWxlZFRocmVhZFBvb2xFeGVjdXRvci5qYXZh
OjE3OCkNCglhdA0KamF2YS51dGlsLmNvbmN1cnJlbnQuU2NoZWR1bGVkVGhyZWFkUG9vbEV4ZWN1
dG9yJFNjaGVkdWxlZEZ1dHVyZVRhc2sucnVuKFNjaGVkdWxlZFRocmVhZFBvb2xFeGVjdXRvci5q
YXZhOjI5MykNCglhdA0KamF2YS51dGlsLmNvbmN1cnJlbnQuVGhyZWFkUG9vbEV4ZWN1dG9yLnJ1
bldvcmtlcihUaHJlYWRQb29sRXhlY3V0b3IuamF2YToxMTQ1KQ0KCWF0DQpqYXZhLnV0aWwuY29u
Y3VycmVudC5UaHJlYWRQb29sRXhlY3V0b3IkV29ya2VyLnJ1bihUaHJlYWRQb29sRXhlY3V0b3Iu
amF2YTo2MTUpDQoJYXQgamF2YS5sYW5nLlRocmVhZC5ydW4oVGhyZWFkLmphdmE6NzQ1KQ0KQ2F1
c2VkIGJ5OiBqYXZhLmlvLkZpbGVOb3RGb3VuZEV4Y2VwdGlvbjogRTpcWFhYXFhYWFhcWFhcWFhY
WC0wMDAwMDEtWFhYLnppcA0KKEFjY2VzcyBpcyBkZW5pZWQpDQoJYXQgamF2YS5pby5GaWxlT3V0
cHV0U3RyZWFtLm9wZW4oTmF0aXZlIE1ldGhvZCkNCglhdCBqYXZhLmlvLkZpbGVPdXRwdXRTdHJl
YW0uPGluaXQ+KEZpbGVPdXRwdXRTdHJlYW0uamF2YToyMjEpDQoJYXQgamF2YS5pby5GaWxlT3V0
cHV0U3RyZWFtLjxpbml0PihGaWxlT3V0cHV0U3RyZWFtLmphdmE6MTcxKQ0KCWF0DQpvcmcuYXBh
Y2hlLmNhbWVsLmNvbXBvbmVudC5maWxlLkZpbGVPcGVyYXRpb25zLnByZXBhcmVPdXRwdXRGaWxl
Q2hhbm5lbChGaWxlT3BlcmF0aW9ucy5qYXZhOjQzMCkNCglhdA0Kb3JnLmFwYWNoZS5jYW1lbC5j
b21wb25lbnQuZmlsZS5GaWxlT3BlcmF0aW9ucy53cml0ZUZpbGVCeUZpbGUoRmlsZU9wZXJhdGlv
bnMuamF2YTozNTMpDQoJYXQNCm9yZy5hcGFjaGUuY2FtZWwuY29tcG9uZW50LmZpbGUuRmlsZU9w
ZXJhdGlvbnMuc3RvcmVGaWxlKEZpbGVPcGVyYXRpb25zLmphdmE6MjQyKQ0KCS4uLiAyMSBtb3Jl
DQoNCg0KDQotLQ0KVmlldyB0aGlzIG1lc3NhZ2UgaW4gY29udGV4dDogaHR0cDovL2NhbWVsLjQ2
NTQyNy5uNS5uYWJibGUuY29tL0NhbWVsLW5vdC1hYmxlLXRvLWRlbGV0ZS1maWxlcy1PdXRzaWRl
LWNhbWVsLXRwNTc5Nzc2OC5odG1sDQpTZW50IGZyb20gdGhlIENhbWVsIC0gVXNlcnMgbWFpbGlu
ZyBsaXN0IGFyY2hpdmUgYXQgTmFiYmxlLmNvbS4NCg==

From users-return-65345-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 18 07:29:19 2017
Return-Path: <users-return-65345-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D6F3D18B64
	for <apmail-camel-users-archive@www.apache.org>; Tue, 18 Apr 2017 07:29:19 +0000 (UTC)
Received: (qmail 48730 invoked by uid 500); 18 Apr 2017 07:29:19 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 48681 invoked by uid 500); 18 Apr 2017 07:29:19 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 48668 invoked by uid 99); 18 Apr 2017 07:29:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Apr 2017 07:29:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id AF63B185E72
	for <users@camel.apache.org>; Tue, 18 Apr 2017 07:29:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -6.485
X-Spam-Level:
X-Spam-Status: No, score=-6.485 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_HI=-5, RCVD_IN_MSPIKE_H2=-2.796,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 90SEdAoEpvU5 for <users@camel.apache.org>;
	Tue, 18 Apr 2017 07:29:16 +0000 (UTC)
Received: from smtpgw.sap-ag.de (smtpgw04.sap-ag.de [155.56.66.99])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id E33BC5FDC4
	for <users@camel.apache.org>; Tue, 18 Apr 2017 07:29:15 +0000 (UTC)
From: "Siano, Stephan" <stephan.siano@sap.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: RE: Camel Route - File name
Thread-Topic: Camel Route - File name
Thread-Index: AQHSuBAEOn4QKuSrNECKEDCt/uTf3KHKYr0AgABXb4A=
Date: Tue, 18 Apr 2017 07:29:15 +0000
Message-ID: <a386bde03ab947529067523c0d2bc4c6@sap.com>
References: <1492488688966-5797776.post@n5.nabble.com>
 <1492488836335-5797777.post@n5.nabble.com>
In-Reply-To: <1492488836335-5797777.post@n5.nabble.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.21.23.233]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Hi,

see http://camel.apache.org/file2.html=20

you should especially have a look into the fileName option which will likel=
y do what you want.

Best regards
Stephan

-----Original Message-----
From: KhajaNawas14 [mailto:khaja.nawas@me.com]=20
Sent: Dienstag, 18. April 2017 06:14
To: users@camel.apache.org
Subject: Re: Camel Route - File name

Note:- I am a beginner to camel route.



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-Route=
-File-name-tp5797776p5797777.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65346-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 18 10:44:37 2017
Return-Path: <users-return-65346-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9B9F818500
	for <apmail-camel-users-archive@www.apache.org>; Tue, 18 Apr 2017 10:44:37 +0000 (UTC)
Received: (qmail 51568 invoked by uid 500); 18 Apr 2017 10:44:37 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 51519 invoked by uid 500); 18 Apr 2017 10:44:37 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 51390 invoked by uid 99); 18 Apr 2017 10:44:36 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Apr 2017 10:44:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 518DAC06D2
	for <users@camel.apache.org>; Tue, 18 Apr 2017 10:44:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.321
X-Spam-Level:
X-Spam-Status: No, score=-0.321 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 7IZ3CsXXz2qz for <users@camel.apache.org>;
	Tue, 18 Apr 2017 10:44:34 +0000 (UTC)
Received: from mail-qt0-f180.google.com (mail-qt0-f180.google.com [209.85.216.180])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 85B2A5FB29
	for <users@camel.apache.org>; Tue, 18 Apr 2017 10:44:33 +0000 (UTC)
Received: by mail-qt0-f180.google.com with SMTP id g60so55374194qtd.3
        for <users@camel.apache.org>; Tue, 18 Apr 2017 03:44:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=pzkEygycI4W+cP0nB35AVE5katzZVypxmS0Ndx3Itr4=;
        b=kVx9/sjHScqsnIj4o0FDfBwWHyzSRSXMPR6c9aXYO8SPAEB2ypnYYdaLRTe0Sl7B4A
         AFx5dOsKgIT+CHMlS6XsguG8l1iM7f777+G0+8ve7PxJKDQpkxwKEDwAwyCWTRBbLhOI
         uXC9K+AbhDH7QXXgA8w88lWXcUlm9ffJdLozuzdeUzRIHERLkSdiD4nf6GB5zEDT5p9l
         BmHtGlQWwMZ0B0xB3YoUEVISD4di47plcBxhD6k2CBZWC2UmAPOUhIxvrHOSUkWc0lK6
         0wQ/gbSePj8B2ue+E8TegjQdYCHQtNw0EZ09HCrI4j+44OAQCR4a8xaSwNeqE/vKPk/T
         4vRQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=pzkEygycI4W+cP0nB35AVE5katzZVypxmS0Ndx3Itr4=;
        b=PacieCvZwdtHJoYKgZu25+izFyU98LevEuXzvRXGfOVAVis+6PJBiST1y5Tvy2OXQB
         2T+XJpM3SiNcw4cQ93mjf6nuCk2E+u5HbbklcVLNzbfquhAUh+1t4Aj0i7aTlixxHVBD
         hR9Gf9YiWFZj+GO19ITQN/bInN8ylMj+3eTqictpVTXPwVWkBGw7sNUEcijoTyKEMwQO
         NTGKSb7pAW3Haai+MorMJOosc7OZAXF3fvMGjU0y8ubl3PNdiengBDs8EwpIzZWrv7k+
         qVVM/+HkLAbPOdWuGpGBUGtlDnxMTPSahKm1BHUmblbgorv2D7s8JOO7nAeDorhqOnEo
         gNDw==
X-Gm-Message-State: AN3rC/4dlQDR2e+gjCjU0uKUk7RHp7UyCCH+J3th5f8CqRgnqY1JmRSK
	C/gJlTCvZMSZgDjhHVO2ZByP6C/5enKi
X-Received: by 10.200.43.120 with SMTP id 53mr12792045qtv.234.1492512272535;
 Tue, 18 Apr 2017 03:44:32 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Tue, 18 Apr 2017 03:44:12 -0700 (PDT)
In-Reply-To: <CAOFZOdXeJgWtpDdNrU+X0-w3kt-GQOXAOdY-5q8MQ3A47jNJkA@mail.gmail.com>
References: <CAOFZOdXeJgWtpDdNrU+X0-w3kt-GQOXAOdY-5q8MQ3A47jNJkA@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 18 Apr 2017 12:44:12 +0200
Message-ID: <CAGB5yNnAjdPk+htrYF3zGJqVy9NqT+ZcZBEhfMm6mG3uhZGMdQ@mail.gmail.com>
Subject: Re: How to dynamically inject hystrix properties?
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Maybe create 3 different routes where each hystrix is using A, B or C
keys and then call the appropiate route.

On Mon, Apr 17, 2017 at 12:46 AM, Priyanka Gopinath <priyanka@karnam.net> wrote:
> I have this special usecase where I want to change the threadpool size and
> thread pool key based upon the endpoint that is getting called. All of
> these values are available in the configuration on the exchange.
>
> For eg :
>
> Endpoint A => Threadpool(5) => Threadpool key(A)
> Endpoint B => Threadpool(10) => Threadpool key(Z)
> Endpoint C => Threadpool(5) => Threadpool Key(A)
>
> However, in my hystrix route, all of the params for Hystrix EIP are strings
> and I aven't been able to figure the a way to evaluate the same.
>
> from("direct:something")
> .hystrix()
> .threadPoolkey(hystrix.???? How to inject this value)
> .end()
> .to("direct:http-endpoint");
>
> I also tried creating a HystrixThreadpoolDefinition and tried setting it
> as .hystrix().hystrixConfiguration(configuration). But it comes back to the
> same question of how to pass in this configuration. Method calls return
> ValueBuilders and I could not cast them to the strings/configDefinitions.
>
> Please suggest the correct way of doing it.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65347-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 18 13:47:48 2017
Return-Path: <users-return-65347-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9BFBE18DE6
	for <apmail-camel-users-archive@www.apache.org>; Tue, 18 Apr 2017 13:47:48 +0000 (UTC)
Received: (qmail 50785 invoked by uid 500); 18 Apr 2017 13:47:47 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 50726 invoked by uid 500); 18 Apr 2017 13:47:47 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 49949 invoked by uid 99); 18 Apr 2017 13:47:45 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Apr 2017 13:47:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8D9D418969B
	for <users@camel.apache.org>; Tue, 18 Apr 2017 13:47:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.285
X-Spam-Level: **
X-Spam-Status: No, score=2.285 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id kQrIIVVBCBL6 for <users@camel.apache.org>;
	Tue, 18 Apr 2017 13:47:44 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id CD74D5FDC4
	for <users@camel.apache.org>; Tue, 18 Apr 2017 13:47:39 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 558454156CB8
	for <users@camel.apache.org>; Tue, 18 Apr 2017 06:46:14 -0700 (PDT)
Date: Tue, 18 Apr 2017 06:47:39 -0700 (MST)
From: akpcnu <srinivas@live.com>
To: users@camel.apache.org
Message-ID: <1492523259121-5797818.post@n5.nabble.com>
Subject: Camel-SQL more than one IN clauses in SQL throws Exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am using CAMEL 2.17.3 and having two IN clauses in SQL query causes below
exception:

org.springframework.jdbc.UncategorizedSQLException:
PreparedStatementCallback; uncategorized SQLException for SQL []; SQL state
[null]; error code [0]; Number of parameters mismatch. Expected: 4, was: 8;
nested exception is java.sql.SQLException: Number of parameters mismatch.
Expected: 4, was: 8

If I have one IN clause query is working fine. Is this known bug or
behavior? if yes, any alternative? 

ex:

SELECT column1, column2... 
FROM <
>
WHERE column1 IN (:#in:<<dynamically build>>)
column2 IN (:#in:<<dynamically build>>)



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-SQL-more-than-one-IN-clauses-in-SQL-throws-Exception-tp5797818.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65348-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 18 14:06:25 2017
Return-Path: <users-return-65348-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D753C18F27
	for <apmail-camel-users-archive@www.apache.org>; Tue, 18 Apr 2017 14:06:25 +0000 (UTC)
Received: (qmail 2623 invoked by uid 500); 18 Apr 2017 14:06:25 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 2576 invoked by uid 500); 18 Apr 2017 14:06:25 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 2563 invoked by uid 99); 18 Apr 2017 14:06:24 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Apr 2017 14:06:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5AB43CA7A5
	for <users@camel.apache.org>; Tue, 18 Apr 2017 14:06:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.692
X-Spam-Level: *
X-Spam-Status: No, score=1.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id pEWshd-s8W4c for <users@camel.apache.org>;
	Tue, 18 Apr 2017 14:06:21 +0000 (UTC)
Received: from mail-qt0-f175.google.com (mail-qt0-f175.google.com [209.85.216.175])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 337235FDC4
	for <users@camel.apache.org>; Tue, 18 Apr 2017 14:06:21 +0000 (UTC)
Received: by mail-qt0-f175.google.com with SMTP id y33so42826035qta.2
        for <users@camel.apache.org>; Tue, 18 Apr 2017 07:06:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=0zbM/JzpYPkhKt6OeSrGHRV/HzosC3VPRd6Tm67/ZQY=;
        b=o/RsujsKSfwUTPK5EmcgyWaYqAdYM3AM8Io4iNFza+NFXTjz/kQWKw/07qzoRdaXuy
         znkI/jGJ4MfRsJ+IN6RXeVn8RMbFPKB4HbpoUejZSW1lRMIWY9A5eQjOnAbMq/Gx5p9M
         FhWtK8hP0P79viFK48QPMzQTcY1VnMjzYI53ZYZ6NamZ1JPLdaVV8StWYT+38Hc8zmT8
         FlDsJzbZeFowT9m/lbu3qKEQOksl6y4J7/zlVdYwqkYoxYFiEOmFYblpylw3mlPb0pBk
         /OLC3ot+I5H+3a7W7/Ui6hCOpVYr15vE47XvQaf6ezLOsbI+BkIjPqO/AJt6yg2g46cS
         b28Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=0zbM/JzpYPkhKt6OeSrGHRV/HzosC3VPRd6Tm67/ZQY=;
        b=mkWYdHoC4J7NqiPvMZsJyBZ94IZSeAE8G8p3lOfjz+d+WhCjAAHUnbxscLr7RuEUuF
         ZlXcvLw0vKHSm46xDebLpRsbr+/uHIxuXgUvzkDoX7OPWu9r6DBi0KRNLJy7/DLwU9a4
         fZ26kfOE8H6jZtW2YIZv/WdXuhLgulYT+luGrmG/JcYXioHhrvVK6+pan1SAxaVX0rfj
         I+F6Vv9vpZDjtOFj70F2Q/PK+XH8E1DIWJdIXUKCKP9BT8HCoh8o3pIvirt1WF2dCTHn
         hSDJ7Ic60vtOVfaQosU8B33uljrSV+/kYa33aMKMxIA+b7otV9EM6b/sh8E6oeI1xfJs
         26zA==
X-Gm-Message-State: AN3rC/5H41QWcwG0Fnh0d7XCT0tjbMWuYWcKwgTnREtH34OveTyRm8/O
	UQeYIxmdOSWvHUbveFALFP+g0vMBIYc3
X-Received: by 10.237.53.124 with SMTP id b57mr13396519qte.240.1492524380098;
 Tue, 18 Apr 2017 07:06:20 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Tue, 18 Apr 2017 07:05:59 -0700 (PDT)
In-Reply-To: <1492523259121-5797818.post@n5.nabble.com>
References: <1492523259121-5797818.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Tue, 18 Apr 2017 16:05:59 +0200
Message-ID: <CAGB5yNm54tvOqwQ+mHihvU1kwQYmheFB12Z7rwLGHiEd5yfAdQ@mail.gmail.com>
Subject: Re: Camel-SQL more than one IN clauses in SQL throws Exception
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Try newer Camel version

On Tue, Apr 18, 2017 at 3:47 PM, akpcnu <srinivas@live.com> wrote:
> I am using CAMEL 2.17.3 and having two IN clauses in SQL query causes below
> exception:
>
> org.springframework.jdbc.UncategorizedSQLException:
> PreparedStatementCallback; uncategorized SQLException for SQL []; SQL state
> [null]; error code [0]; Number of parameters mismatch. Expected: 4, was: 8;
> nested exception is java.sql.SQLException: Number of parameters mismatch.
> Expected: 4, was: 8
>
> If I have one IN clause query is working fine. Is this known bug or
> behavior? if yes, any alternative?
>
> ex:
>
> SELECT column1, column2...
> FROM <
>>
> WHERE column1 IN (:#in:<<dynamically build>>)
> column2 IN (:#in:<<dynamically build>>)
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Camel-SQL-more-than-one-IN-clauses-in-SQL-throws-Exception-tp5797818.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65349-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 18 14:06:32 2017
Return-Path: <users-return-65349-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 90EDA18F28
	for <apmail-camel-users-archive@www.apache.org>; Tue, 18 Apr 2017 14:06:32 +0000 (UTC)
Received: (qmail 3720 invoked by uid 500); 18 Apr 2017 14:06:32 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 3678 invoked by uid 500); 18 Apr 2017 14:06:32 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 71963 invoked by uid 99); 18 Apr 2017 12:53:39 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Tue, 18 Apr 2017 05:53:34 -0700 (MST)
From: Ancil hameed <ancil.hameed@gmail.com>
To: users@camel.apache.org
Message-ID: <1492520014899-5797816.post@n5.nabble.com>
Subject: Active MQ; Put Soap Request in Active MQ and get back SOAP response
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I working on JBoss Fuse, I want to put my SOAP request in Active MQ Queue.
After putting SOAP request in Queue I want a response sent back to my SOAP
request.

Sample Code snippet: Below is my camel context, i have replace < > with ( )

(cxf:cxfEndpoint    address="http://localhost:8181/cxf/hello"
id="SOAPInput" serviceClass="com.ws.demo.HelloWorld"/)
(bean class="com.ws.demo.SoapResProcessor" id="soapResProcessor"/) 
(camelContext id="camelContext" 
xmlns="http://camel.apache.org/schema/spring")
(route id="route1" streamCache="true")
(from id="sampleFrom" uri="cxf:bean:SOAPInput?
dataFormat=PAYLOAD&amp;exchangePattern=InOut"/)
(when id="whenBatch")
(xpath)starts-with(substring-after((/v1:processMessageRequest/name/text()), 
'DEST_NAME='), "Sample")(/xpath)`enter code here`
(to id="toSampleQ" uri="activemq:queue:SAMPLEQ?jmsMessageType=Text"/)
(process id="soapResProcess" ref="soapResProcessor"/)
(/when)




--
View this message in context: http://camel.465427.n5.nabble.com/Active-MQ-Put-Soap-Request-in-Active-MQ-and-get-back-SOAP-response-tp5797816.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65350-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 18 15:26:24 2017
Return-Path: <users-return-65350-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D382196A2
	for <apmail-camel-users-archive@www.apache.org>; Tue, 18 Apr 2017 15:26:24 +0000 (UTC)
Received: (qmail 97768 invoked by uid 500); 18 Apr 2017 15:26:19 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 95947 invoked by uid 500); 18 Apr 2017 15:26:18 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 76989 invoked by uid 99); 18 Apr 2017 15:21:42 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.878
X-Spam-Level: *
X-Spam-Status: No, score=1.878 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=visa.com
X-NAI-Header: Modified by McAfee Email Gateway (5500)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
	d=visa.com; s=portalo; t=1492528891; h=From:
	 To:Subject:Thread-Topic:Thread-Index:Date:
	 Message-ID:Accept-Language:Content-Language:
	 X-MS-Has-Attach:X-MS-TNEF-Correlator:x-ms-exchange-transport-fromentityheader:
	 Content-Type:MIME-Version; bh=pOKzy+BKYhY
	ale09My2AXIDWiCqVhsTikjfSDq9M1KA=; b=EQgIK8fptz4Q5
	BOrgH4JekvepGnbLoH9RTpDKwBSkwKWS4japxzQIva8VINMwf/
	rUZzQ36LvepbuH8lF6NYSOjnGWLf50YaAVf4PVW7aiGOx4r274
	2+Ht3LDEde8k5+/nUn80sCk2P270tTOaLH5ORuRL54RUMGiJue
	jyjxrEGfqtc+c5w2cmL0rRd7DWB0W+poaslLGWt0ix79OJPyPU
	klBg867tCoK8iDuKKeDumglLwBsUzXnHHq9XodZTjqrt2pSb+2
	qjWoPOhJ9A2adAgIeN7/w+VSRH44wfuSIfkchViwVTJjTQRHx/
	akeE4E9H7XkLMtN7CxEiw4JFjyGYg==
From: "Andathodan Tiringoli, Ancil Hameed" <aandatho@visa.com>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: Re: How to use request reply in JMS
Thread-Topic: Re: How to use request reply in JMS
Thread-Index: AdK4Vy7tHpwgEq3+TJ+k9fhZlD/3Ug==
Date: Tue, 18 Apr 2017 15:20:06 +0000
Message-ID: <88aeb3caabab4192b8106b90b04fc672@SW933EXP001.visa.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-ms-exchange-transport-fromentityheader: Hosted
Content-Type: multipart/alternative;
	boundary="_000_88aeb3caabab4192b8106b90b04fc672SW933EXP001visacom_"
MIME-Version: 1.0

--_000_88aeb3caabab4192b8106b90b04fc672SW933EXP001visacom_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Claus Ibsen, can you please help on below
I working on JBoss Fuse, I want to put my SOAP request in Active MQ Queue. =
After putting SOAP request in Queue I want a response sent back to my SOAP =
request.
Sample Code snippet: Below is my camel context
<cxf:cxfEndpoint    address=3D"http://localhost:8181/cxf/hello"
id=3D"SOAPInput" serviceClass=3D"com.ws.demo.HelloWorld"/>
<bean class=3D"com.ws.demo.SoapResProcessor" id=3D"soapResProcessor"/>
<camelContext id=3D"camelContext"
xmlns=3D"http://camel.apache.org/schema/spring">
<route id=3D"route1" streamCache=3D"true">
<from id=3D"sampleFrom" uri=3D"cxf:bean:SOAPInput?
dataFormat=3DPAYLOAD&amp;exchangePattern=3DInOut"/>
<when id=3D"whenBatch">
<xpath>starts-with(substring-after((/v1:processMessageRequest/name/text()),
'DEST_NAME=3D'), "Sample")</xpath>`enter code here`
<to id=3D"toSampleQ" uri=3D"activemq:queue:SAMPLEQ?jmsMessageType=3DText"/>
<process id=3D"soapResProcess" ref=3D"soapResProcessor"/>
</when>


--_000_88aeb3caabab4192b8106b90b04fc672SW933EXP001visacom_--

From users-return-65351-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 18 15:37:55 2017
Return-Path: <users-return-65351-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A551197BB
	for <apmail-camel-users-archive@www.apache.org>; Tue, 18 Apr 2017 15:37:55 +0000 (UTC)
Received: (qmail 44795 invoked by uid 500); 18 Apr 2017 15:37:54 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 44743 invoked by uid 500); 18 Apr 2017 15:37:53 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 44732 invoked by uid 99); 18 Apr 2017 15:37:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Apr 2017 15:37:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id EDE2DC0027
	for <users@camel.apache.org>; Tue, 18 Apr 2017 15:37:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.285
X-Spam-Level: **
X-Spam-Status: No, score=2.285 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 9MFvgYGG8aDI for <users@camel.apache.org>;
	Tue, 18 Apr 2017 15:37:50 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 80BC860DB8
	for <users@camel.apache.org>; Tue, 18 Apr 2017 15:37:50 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 93E394158AF5
	for <users@camel.apache.org>; Tue, 18 Apr 2017 08:36:24 -0700 (PDT)
Date: Tue, 18 Apr 2017 08:37:49 -0700 (MST)
From: akpcnu <srinivas@live.com>
To: users@camel.apache.org
Message-ID: <1492529869830-5797826.post@n5.nabble.com>
In-Reply-To: <CAGB5yNm54tvOqwQ+mHihvU1kwQYmheFB12Z7rwLGHiEd5yfAdQ@mail.gmail.com>
References: <1492523259121-5797818.post@n5.nabble.com> <CAGB5yNm54tvOqwQ+mHihvU1kwQYmheFB12Z7rwLGHiEd5yfAdQ@mail.gmail.com>
Subject: Re: Camel-SQL more than one IN clauses in SQL throws Exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks Clause, It worked on 2.18.3



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-SQL-more-than-one-IN-clauses-in-SQL-throws-Exception-tp5797818p5797826.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65352-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 03:40:26 2017
Return-Path: <users-return-65352-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF38219D06
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 03:40:26 +0000 (UTC)
Received: (qmail 79624 invoked by uid 500); 19 Apr 2017 03:40:26 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 79176 invoked by uid 500); 19 Apr 2017 03:40:25 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 79164 invoked by uid 99); 19 Apr 2017 03:40:24 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 03:40:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 767A2CD412
	for <users@camel.apache.org>; Wed, 19 Apr 2017 03:40:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.795
X-Spam-Level:
X-Spam-Status: No, score=-0.795 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=karnam-net.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id sbOUMGQAi3aM for <users@camel.apache.org>;
	Wed, 19 Apr 2017 03:40:22 +0000 (UTC)
Received: from mail-pf0-f181.google.com (mail-pf0-f181.google.com [209.85.192.181])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 4BC4F5F405
	for <users@camel.apache.org>; Wed, 19 Apr 2017 03:40:21 +0000 (UTC)
Received: by mail-pf0-f181.google.com with SMTP id 194so5835992pfv.3
        for <users@camel.apache.org>; Tue, 18 Apr 2017 20:40:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=karnam-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=dwAUb1gss2AQPaP0ScTkWuvgKtfUPEIrrtrK9voDtYU=;
        b=hsom4iTa/1AZ8QFA4B8sxW8ZLY/WHicwDcIjWtG0lMypudw35PNfZw6BTihDzs8dcw
         4E9AZ8tt61llOpjumtOmiIP9Quo98kubT/YfZfDadAFXb1vPo8qd3vRBA359B9vT5Thx
         ulRu5+PtlDsDVL1+azpu/Pod/wlcsA/uxNY1M0q9B6XnwnDG5jDey11OK9+lnedOAJQD
         GVYGEDEujinA0eiiFzufW7ByDm2KvheQUsaasXDYsgH1L0sP9AmHrZrdQiwJM8sK3dR8
         SloiO/fe5SuV+665HgV1U3l15gyqtNYiZcApBaC8kgXPNnJAAPJhpsuai8155h0cYApR
         /kjg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=dwAUb1gss2AQPaP0ScTkWuvgKtfUPEIrrtrK9voDtYU=;
        b=Lpvz8CeNP196QLHKeeJ8WKUpvaqwNBABxK1i9JS5P7IrKpw5TRsP+GCvmhlLn+TdwA
         okE8IvSmScQjzCh/eyAWpnyj2quInE6VNnG6HZTiZw8oQr0VMez4W/1RWUg6/US1bCxT
         HMMBN7BJvDVj7WlshE8lgo11n23ShSHS9xkhueAOKor/MzxYY2QLDZv/3Om6nVBeevPC
         IticaFmcPV8sfhDKaaa3L7GqRm6uTdrT6XE7ZXsPLv8ItL0SORl6P1uuESZ2zULQ/wgj
         YGbxMt/hmcZqPehlwDi6VfyooIXsTkQtuWg2No88V1B/G1vxsyovDFhVlwQ5+hb5s545
         dOSw==
X-Gm-Message-State: AN3rC/6sw2rd6GCQmHZ+sz1+urPUKUuVcJdbK50HEgZHJAT3SFU1kIvK
	Kv7opAKvLLHovN2JnkTha4Mp8Lus2Q==
X-Received: by 10.84.229.15 with SMTP id b15mr1066061plk.41.1492573213829;
 Tue, 18 Apr 2017 20:40:13 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.100.142.66 with HTTP; Tue, 18 Apr 2017 20:40:13 -0700 (PDT)
X-Originating-IP: [2601:600:8c01:43c0:d94a:3c5a:14a4:50e6]
In-Reply-To: <CAGB5yNnAjdPk+htrYF3zGJqVy9NqT+ZcZBEhfMm6mG3uhZGMdQ@mail.gmail.com>
References: <CAOFZOdXeJgWtpDdNrU+X0-w3kt-GQOXAOdY-5q8MQ3A47jNJkA@mail.gmail.com>
 <CAGB5yNnAjdPk+htrYF3zGJqVy9NqT+ZcZBEhfMm6mG3uhZGMdQ@mail.gmail.com>
From: Priyanka Gopinath <priyanka@karnam.net>
Date: Tue, 18 Apr 2017 20:40:13 -0700
Message-ID: <CAOFZOdX95ZDiMMqDtR5cKE6WPKWYXzsNbLmupJCKRMFwZvp3gg@mail.gmail.com>
Subject: Re: How to dynamically inject hystrix properties?
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c0befec363d30054d7cc8f2

--94eb2c0befec363d30054d7cc8f2
Content-Type: text/plain; charset=UTF-8

Thank you for the response. I was able to inject values dynamically after
creating a new hystrix route per endpoint.

On Tue, Apr 18, 2017 at 3:44 AM, Claus Ibsen <claus.ibsen@gmail.com> wrote:

> Maybe create 3 different routes where each hystrix is using A, B or C
> keys and then call the appropiate route.
>
> On Mon, Apr 17, 2017 at 12:46 AM, Priyanka Gopinath <priyanka@karnam.net>
> wrote:
> > I have this special usecase where I want to change the threadpool size
> and
> > thread pool key based upon the endpoint that is getting called. All of
> > these values are available in the configuration on the exchange.
> >
> > For eg :
> >
> > Endpoint A => Threadpool(5) => Threadpool key(A)
> > Endpoint B => Threadpool(10) => Threadpool key(Z)
> > Endpoint C => Threadpool(5) => Threadpool Key(A)
> >
> > However, in my hystrix route, all of the params for Hystrix EIP are
> strings
> > and I aven't been able to figure the a way to evaluate the same.
> >
> > from("direct:something")
> > .hystrix()
> > .threadPoolkey(hystrix.???? How to inject this value)
> > .end()
> > .to("direct:http-endpoint");
> >
> > I also tried creating a HystrixThreadpoolDefinition and tried setting it
> > as .hystrix().hystrixConfiguration(configuration). But it comes back to
> the
> > same question of how to pass in this configuration. Method calls return
> > ValueBuilders and I could not cast them to the strings/configDefinitions.
> >
> > Please suggest the correct way of doing it.
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>

--94eb2c0befec363d30054d7cc8f2--

From users-return-65353-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 05:10:31 2017
Return-Path: <users-return-65353-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0775319F3D
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 05:10:31 +0000 (UTC)
Received: (qmail 86144 invoked by uid 500); 19 Apr 2017 05:10:30 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 86009 invoked by uid 500); 19 Apr 2017 05:10:30 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 85996 invoked by uid 99); 19 Apr 2017 05:10:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 05:10:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 41C1C185E70
	for <users@camel.apache.org>; Wed, 19 Apr 2017 05:10:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.513
X-Spam-Level: *
X-Spam-Status: No, score=1.513 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_FAIL=0.919,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=messagingengine.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id r16746lkVM7V for <users@camel.apache.org>;
	Wed, 19 Apr 2017 05:10:25 +0000 (UTC)
Received: from new1-smtp.messagingengine.com (new1-smtp.messagingengine.com [66.111.4.221])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id C361C5FDF3
	for <users@camel.apache.org>; Wed, 19 Apr 2017 05:10:24 +0000 (UTC)
Received: from compute7.internal (compute7.nyi.internal [10.202.2.47])
	by mailnew.nyi.internal (Postfix) with ESMTP id 0EA431DE6
	for <users@camel.apache.org>; Wed, 19 Apr 2017 01:10:18 -0400 (EDT)
Received: from frontend1 ([10.202.2.160])
  by compute7.internal (MEProxy); Wed, 19 Apr 2017 01:10:18 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
	messagingengine.com; h=content-transfer-encoding:content-type
	:date:from:message-id:mime-version:subject:to:x-me-sender
	:x-me-sender:x-sasl-enc:x-sasl-enc; s=fm1; bh=Pw/z8rFrL4FZEfUjHV
	NILShANs1nAFyC/SAGhtbEVAA=; b=Y1pf8Lb57/gNm+CBw6sbhEUAhsgFbUk8tB
	/TLOmYZEtwPJ3twLN4qoeZ5QW4jORR62eiJl3eEGneQvQR+u/GY/yGPtAxRgZQ0o
	LN6hR/R+guoDlURGhR3m8C30xyDesHU6xOqdNukeypaqY7huvkgUzHElTfyF+jeV
	2mQcz5Rdl/82nL3HMiMUDxzMZ/QV9NSIwNLzyRxi0oLvbqNQAsQ05MpNLCoKFwcT
	Lx7XqmwouZmthHcwbtQMhzoy+4hnVoC+UMlkBVKzygHchHRJ68RFN+zdDJiKWeFc
	rM7E9MI7v+j3AqAon7vkCBxJ5QRpNX/ej9T9w/ZrsEGK+b7HmVMw==
X-ME-Sender: <xms:OfH2WPIEY2gaZjO85R_hsuZwAv-vM0zjmHaATM-zFGh00KEwqE5AiQ>
X-Sasl-enc: sPP5Ad7LwnB/xR1sljalPSZ0v7urMSDPW/6DLhSjiER7 1492578617
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mail.messagingengine.com (Postfix) with ESMTPA id 861F27E6F6
	for <users@camel.apache.org>; Wed, 19 Apr 2017 01:10:17 -0400 (EDT)
Date: Tue, 18 Apr 2017 22:10:16 -0700 (MST)
From: sadiq <sadiq.manji@sap.com>
To: users@camel.apache.org
Message-ID: <1492578616894-5797871.post@n5.nabble.com>
Subject: Parsing issue with unmarshal and bindy.csv with double quotes and
 commas in a single field
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I'm experiencing a parsing issue using Bindy to unmarshal a CSV file into a
List of POJOs (my POJO class is annotated with @CsvRecord).

The CSV file contains the following:

partNumber,longDescription,status
123,"1970-84 Windshield Washer Jar, Multi Application",Available
234,"1967-75 6 Cyl/ Small Block 9"" Clutch Bellcrank Assembly",Available
345,"1971-79 Fan Blade 19-1/2"", 7 Blade",Available

It's the fourth line that is causing an issue:
java.lang.IllegalArgumentException: No position 4 defined for the field:
Available, line: 3 must be specified (it says line 3, but I believe that's
because my CsvRecord class has the skipFirstLine=true)

The CSV parsing seems to be handling commas within a field surrounded by
double quotes since the 2nd line is okay. It's also handling escaping double
quotes correctly within fields since the 3rd line is fine too.

But the issue is when commas are present after an escaped double quote
within a field that is surrounded by double quotes -- it seems to want to
separate each comma into a new field when it should just be treating it as a
single field.

I'm using the latest version of Camel 2.18.3 and still observing this issue.

My route is:

from("sftp://me@myhost.com?sortBy=file:modified&antInclude=*.csv&password=xxxx")
	.unmarshal()
	.bindy(BindyType.Csv, ProductDeltaCsvDataModel.class) //throwing exception
here
	.to("direct:processCsv");

This is my CsvRecord POJO class:

@CsvRecord(separator = ",", skipFirstLine = true, quote = "\"", quoting =
true)
public class ProductDeltaCsvDataModel {

	@DataField(pos = 1, required = true)
	private String partNumber;
	
	@DataField(pos = 2)
	private String longDescription;
	
	@DataField(pos = 3)
	private String status;

	//setters and getters
	...
}

I believe this to be a bug unless there is some configuration I need to set?

Can someone confirm that this is a bug and how I go about logging this bug?

Thanks!
Sadiq



--
View this message in context: http://camel.465427.n5.nabble.com/Parsing-issue-with-unmarshal-and-bindy-csv-with-double-quotes-and-commas-in-a-single-field-tp5797871.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65354-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 07:07:38 2017
Return-Path: <users-return-65354-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5396F183B4
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 07:07:38 +0000 (UTC)
Received: (qmail 90943 invoked by uid 500); 19 Apr 2017 07:07:37 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 90555 invoked by uid 500); 19 Apr 2017 07:07:37 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 90176 invoked by uid 99); 19 Apr 2017 07:07:37 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 07:07:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 723D6C0040
	for <users@camel.apache.org>; Wed, 19 Apr 2017 07:07:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.693
X-Spam-Level: *
X-Spam-Status: No, score=1.693 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MUqZxKwVr8qM for <users@camel.apache.org>;
	Wed, 19 Apr 2017 07:07:33 +0000 (UTC)
Received: from mail-qt0-f176.google.com (mail-qt0-f176.google.com [209.85.216.176])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id D43DE5FB2C
	for <users@camel.apache.org>; Wed, 19 Apr 2017 07:07:32 +0000 (UTC)
Received: by mail-qt0-f176.google.com with SMTP id m36so12171944qtb.0
        for <users@camel.apache.org>; Wed, 19 Apr 2017 00:07:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=lpLfcxhrVWDhe2/ND9N6T2qQj4VCjufSxSYTu6ERfVs=;
        b=FpGy5rjv8UM4pLZipOkUajbzdOVKzxU5jJvE8JeNiay53NGf4haWAO+3PP7SxZmaV1
         BgocZLvUDbc3/erfJnr+JIvjTYcC404ySqRLtW6HwOX4NnsE63+dU890UZ5FNx5F7QQT
         uG9ak5GvcBzBUUCrIw+Tzzt5gnIFvSq5lXEcPFe2mJz0PjSfs0ljlhhj1bF+OPm5iFeq
         +lSH/z3CJCh2aIFnS/AKQcwK3HTNT5BEOWyRrNEylx2bUBk0Ivk3nUkH3kTbvsTD6D/K
         jVbiNeKwFWSFqPJvupqQi3Iuvz3hZibLpYjhtA3VOcPPlOO8Mq6XSoo9qABvJetBSK0w
         8gwA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=lpLfcxhrVWDhe2/ND9N6T2qQj4VCjufSxSYTu6ERfVs=;
        b=G1tqpVB5fP1s7B3xo/jvddmD8fDVXFFEO1oMil0RLBLfknVZZG6ht8qBFKn/85vrIv
         2L4R3vLUbtR9cZbYJRBByjNjH0IM/R2ohvSJpLhP/1jJ/XTzIYdvRAa7fRsVQE3jTtWP
         PrPpZJ43L+L6WAXG95RYQW+LRMLqstqc3AhBYmGCA1meTR+KxFRQixmp9lMia/97Vc1Q
         r6nD4hhg9G/MelKazOCkfw+oPLB0nbmpRsLrLsl+dFtHNfn/QRvPrpY5LE1ILAogCYRs
         e1aL2NbpStcBs0is4UMjvgoQUgVCzcYqRRqs2BgaWROa6OGlNlY1C0aAdJTr3P06Crjs
         4z1A==
X-Gm-Message-State: AN3rC/44H1bp91mG6njbKMdq4Hrj9UzHQpl8YlAOv5RgaL75DXuBDrB/
	eRmx6hKmeLlFX1ftp5IW+4DrqbCCN7jf
X-Received: by 10.237.41.199 with SMTP id o65mr1218920qtd.239.1492585652497;
 Wed, 19 Apr 2017 00:07:32 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 19 Apr 2017 00:07:12 -0700 (PDT)
In-Reply-To: <1492529869830-5797826.post@n5.nabble.com>
References: <1492523259121-5797818.post@n5.nabble.com> <CAGB5yNm54tvOqwQ+mHihvU1kwQYmheFB12Z7rwLGHiEd5yfAdQ@mail.gmail.com>
 <1492529869830-5797826.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 19 Apr 2017 09:07:12 +0200
Message-ID: <CAGB5yNn7DCpuvFgG-CeEZd7V63QiRNRi2AJiOHFbU6SAnWN4kg@mail.gmail.com>
Subject: Re: Camel-SQL more than one IN clauses in SQL throws Exception
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

It might also work on the latest 2.17.x release in case you want to
stay on that release branch.

On Tue, Apr 18, 2017 at 5:37 PM, akpcnu <srinivas@live.com> wrote:
> Thanks Clause, It worked on 2.18.3
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Camel-SQL-more-than-one-IN-clauses-in-SQL-throws-Exception-tp5797818p5797826.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65355-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 07:57:43 2017
Return-Path: <users-return-65355-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A9171856C
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 07:57:43 +0000 (UTC)
Received: (qmail 69743 invoked by uid 500); 19 Apr 2017 07:57:42 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 69698 invoked by uid 500); 19 Apr 2017 07:57:42 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 69686 invoked by uid 99); 19 Apr 2017 07:57:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 07:57:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8D5E21AA984
	for <users@camel.apache.org>; Wed, 19 Apr 2017 07:57:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.566
X-Spam-Level: *
X-Spam-Status: No, score=1.566 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_SOFTFAIL=0.972,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=messagingengine.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id LhstlqFQeNBZ for <users@camel.apache.org>;
	Wed, 19 Apr 2017 07:57:40 +0000 (UTC)
Received: from new1-smtp.messagingengine.com (new1-smtp.messagingengine.com [66.111.4.221])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 548055F4EE
	for <users@camel.apache.org>; Wed, 19 Apr 2017 07:57:40 +0000 (UTC)
Received: from compute6.internal (compute6.nyi.internal [10.202.2.46])
	by mailnew.nyi.internal (Postfix) with ESMTP id 9A68DACC
	for <users@camel.apache.org>; Wed, 19 Apr 2017 03:57:39 -0400 (EDT)
Received: from frontend2 ([10.202.2.161])
  by compute6.internal (MEProxy); Wed, 19 Apr 2017 03:57:39 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
	messagingengine.com; h=content-transfer-encoding:content-type
	:date:from:in-reply-to:message-id:mime-version:references
	:subject:to:x-me-sender:x-me-sender:x-sasl-enc:x-sasl-enc; s=
	fm1; bh=MCuH56BuoQf3WOREKg2/v3t+gH6WZnMxjL0K+hf8FQs=; b=F9n2ywpb
	Vc6hUR3bVkssfmc5lS4qMqk6TNEehyKVwQbSOhJDvp/7plsdPXDLEKk4VQFc9gdh
	Cw+/T59K5COSCL8/NchV4uYZzyxMrG+z3w3CDpvah57dXmEE/P2tIU8ad4fUJwQd
	1+p+hZYHHO9V1kYTuAJVGoY6WGQqzpu8ZtnvnGhL+bWCmWKDlu96PiuQZQuL2fxX
	ozJGESSd1rEON+ssorv7HanXYw9CSwHwI+JyoLMOoV/LSmVehUT++St/IXEBStYA
	PQTBBwmQyWpa1oTzFkZhHjPaA+OFeWFFwhYgLAroEtcZxkut8EvTuV8OEP17cCov
	IVCb2Q6/8zjfsw==
X-ME-Sender: <xms:cxj3WN4-u66HEMsr7i6IdGCnPk5n7ZEtHZX-T0FP2fgSEaM9kmjY-g>
X-Sasl-enc: oGblN1SZa2jvUPjACSCLqaFSS8ALnjo4GGgLK3raLk/U 1492588659
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mail.messagingengine.com (Postfix) with ESMTPA id 2599B244D9
	for <users@camel.apache.org>; Wed, 19 Apr 2017 03:57:39 -0400 (EDT)
Date: Wed, 19 Apr 2017 00:57:38 -0700 (MST)
From: KhajaNawas14 <khaja.nawas@me.com>
To: users@camel.apache.org
Message-ID: <1492588658550-5797874.post@n5.nabble.com>
In-Reply-To: <a386bde03ab947529067523c0d2bc4c6@sap.com>
References: <1492488688966-5797776.post@n5.nabble.com> <1492488836335-5797777.post@n5.nabble.com> <a386bde03ab947529067523c0d2bc4c6@sap.com>
Subject: RE: Camel Route - File name
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks, I tried to do it based on the suggested link however I am
encountering the below issue

Tried with the below
${file:name.noext}.org? 

Error

Dynamic expressions with ${ } placeholders is not allowed. Use the fileName
option to set the dynamic expression.



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-Route-File-name-tp5797776p5797874.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65356-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 08:00:50 2017
Return-Path: <users-return-65356-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 943B01859F
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 08:00:50 +0000 (UTC)
Received: (qmail 77190 invoked by uid 500); 19 Apr 2017 08:00:50 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 77133 invoked by uid 500); 19 Apr 2017 08:00:50 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 77121 invoked by uid 99); 19 Apr 2017 08:00:49 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 08:00:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 371041AF8AA
	for <users@camel.apache.org>; Wed, 19 Apr 2017 08:00:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.693
X-Spam-Level: *
X-Spam-Status: No, score=1.693 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id TmKf0uyzL1Cf for <users@camel.apache.org>;
	Wed, 19 Apr 2017 08:00:44 +0000 (UTC)
Received: from mail-qk0-f169.google.com (mail-qk0-f169.google.com [209.85.220.169])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 6BA305FBBB
	for <users@camel.apache.org>; Wed, 19 Apr 2017 08:00:44 +0000 (UTC)
Received: by mail-qk0-f169.google.com with SMTP id d131so13545256qkc.3
        for <users@camel.apache.org>; Wed, 19 Apr 2017 01:00:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=u0Faw4PdKtfepzTygt+PUpgjszIWfpFsGSn5QHJwr/U=;
        b=n+mkT2KXa4YT0wfDWx2CY3bsqirP0RIXxLd5/o+utjH0c+QqEthNH1Zub7+fao59u7
         ENWsFE2Z8ddyq1//RNw0BJiwdIbYCpSb2HTFKBaR/96SrSEG7e5YcHdOpyGtwzSjpp7p
         Gy1W7juo9h/AOooNDV6SBJUkNxdrXjZYj4e0y7K94lgnBOaMurS3gIkyxCKw5M7z1nMK
         h6ALvII1o+5rjHSguqmDJaGcFRX0KB2sdBRIcwfGkrrnQudQqOINBe40Ki06GGOLrhr+
         nggwMezfR1gULSGYU5hDX7rRgkT5Cv6HXIJ8LpgnEFNdR9fGum/Glxgw01VaW/+0RH1+
         0Dmw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=u0Faw4PdKtfepzTygt+PUpgjszIWfpFsGSn5QHJwr/U=;
        b=EhSl4afws+6NFysmRdVu3DHNgn63EzIuP44JFOGGDYQysaNBUnNs0S/EZjAIBXagMe
         azxrhBaLCxH97g7nzCKXouBBhI/1EtXDNJ0yeC24461/ayniss8BjETZrobOdtZm7FOg
         mrLBOGVrhUCz33F8+RR8WR5Yv1Dtl+RGpyqDVfmMKnaWhXa4qMhYIum4yiAuYMFLRUq2
         DHHjHijmuiKBS4sSnnwoRvGhliywAscrbbIVIm/N9iY7x3kUHzMlfITrTUT8zQ9KrBLZ
         pZFyI/tKfhXOYD/8gZKFq4b8DdGBjSQJNRFFjzE/Msqza9vVFnTIFdwpiUHJ/c3EA5z2
         /BmQ==
X-Gm-Message-State: AN3rC/7+yhY3oEsA/fH4UgFDYufUa0oD1ti5rE26+dMoVLL1xfG6um3e
	hkmP5bUmMrO9GIXM6+eEN39VGpkMJvUl
X-Received: by 10.55.144.6 with SMTP id s6mr1164751qkd.27.1492588843941; Wed,
 19 Apr 2017 01:00:43 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 19 Apr 2017 01:00:23 -0700 (PDT)
In-Reply-To: <1492488688966-5797776.post@n5.nabble.com>
References: <1492488688966-5797776.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 19 Apr 2017 10:00:23 +0200
Message-ID: <CAGB5yN=EpzH-Nmzr4ttW5B8_M6wbdoQXCn-F7dxqBMZFnM9SQg@mail.gmail.com>
Subject: Re: Camel Route - File name
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

You need to use a fileFilter to dynamic chose which files to consume.
There is more details on that file component doc page

On Tue, Apr 18, 2017 at 6:11 AM, KhajaNawas14 <khaja.nawas@me.com> wrote:
> Hi All,
>
> currently my query is like any file that comes to this folder will be
> processed to next stage. However I would like to add the file name also my
> camel route so that i can re-use the same folder for multiple files.
>
> sample folder cd-erpdata-csv
> sample file name us-ddmmyy.csv and uk-ddmmyy.csv
>
> <camel:from
> uri="file:messaging/cd-erpdata-csv?preMove=inprogress&amp;move=.done"/>
>
>
>
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Camel-Route-File-name-tp5797776.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65357-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 08:58:13 2017
Return-Path: <users-return-65357-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 485B518829
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 08:58:13 +0000 (UTC)
Received: (qmail 79736 invoked by uid 500); 19 Apr 2017 08:58:12 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 79695 invoked by uid 500); 19 Apr 2017 08:58:12 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 51951 invoked by uid 99); 19 Apr 2017 08:42:55 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.566
X-Spam-Level: *
X-Spam-Status: No, score=1.566 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_SOFTFAIL=0.972,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=messagingengine.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
	messagingengine.com; h=content-transfer-encoding:content-type
	:date:from:message-id:mime-version:subject:to:x-me-sender
	:x-me-sender:x-sasl-enc:x-sasl-enc; s=fm1; bh=FrQ12/mYInHkfssKTm
	vYxHhxEZgtjCp83yqNW210cfw=; b=RoCiz4nqIYcPySwJHedZMOTKvtdJmbkOdA
	E67p2MYtdMUSXdCsEoQId/4Dt7RteAndEScGv78sELlGJpGfKQjfxrOuUx2/jz+4
	6vQIAaNEPt4HysudXas5a+D36FfXSb3l9htF6SCo1HMxla0ibpoQCHmLHo0AmvC3
	CLC3iPIQJfe5KphpL5eZgqGfrprfXGHiTJCU5qjbBLuK/jeRLg7OTBgJm98zihbJ
	0rOJKL6r0Awx/p0vecSBMOgV7f1sxma1I2OUA4Lrh8fHesFp8M772MHbd/8uOrET
	VHF6h+Ldsuav6HcNoLpdxj/YH4ZvxYU4L0ybY2CdcCuf98g0FG7w==
X-ME-Sender: <xms:CiP3WC2MNVUB6YKNsm_KfpTAlXXHLRdRvupxG0p-tHo4VPo6-_kJqg>
X-Sasl-enc: ZT+5Q4jCiXtSLToeBrKBM2QKKEWZD4rEPATDzIAMX+pa 1492591370
Date: Wed, 19 Apr 2017 01:42:49 -0700 (MST)
From: Nico159 <nicolas.gehling@adesso.de>
To: users@camel.apache.org
Message-ID: <1492591369447-5797895.post@n5.nabble.com>
Subject: How to check after startup if folder exists
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi everyone,

I'm looking for a way to check, if a folder exists, after the route is
started.

While startup I usually use auteCreate for the inbound folder, so there is
no problem if my inbound is not there yet, but if somebody (or something)
delete this created inbound folder (while route is running), the route will
check forever a non-existing folder (deadlock). 

I've tried to use auteCreate=false and startingDirectoryMustExist=true
(while not having my input folder), therefore I get an error, but just at
the start of my route. 

Is there any way to check periodically if the input folder is there and
re-autocreate it if necessary (or throw an error?)

Thx in advance for any kind of help





--
View this message in context: http://camel.465427.n5.nabble.com/How-to-check-after-startup-if-folder-exists-tp5797895.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65358-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 09:05:28 2017
Return-Path: <users-return-65358-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D17F18877
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 09:05:28 +0000 (UTC)
Received: (qmail 90741 invoked by uid 500); 19 Apr 2017 09:05:28 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 90678 invoked by uid 500); 19 Apr 2017 09:05:27 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 90663 invoked by uid 99); 19 Apr 2017 09:05:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 09:05:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 21B95D2C3B
	for <users@camel.apache.org>; Wed, 19 Apr 2017 09:05:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.993
X-Spam-Level:
X-Spam-Status: No, score=0.993 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id pBAR1WICdYcR for <users@camel.apache.org>;
	Wed, 19 Apr 2017 09:05:24 +0000 (UTC)
Received: from mail-qt0-f182.google.com (mail-qt0-f182.google.com [209.85.216.182])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 376915FDF5
	for <users@camel.apache.org>; Wed, 19 Apr 2017 09:05:24 +0000 (UTC)
Received: by mail-qt0-f182.google.com with SMTP id c45so13873671qtb.1
        for <users@camel.apache.org>; Wed, 19 Apr 2017 02:05:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=XHUHXrQCHZhFpt4cPsHED1lnH9T82ONTfEefD66LI9U=;
        b=NW/M5zkevox6HotjoYnYliv4iOvfgZVoj5Y/2sM0Z0y4SudCA6a7JWkClZzERnzwky
         6OT6/i29UltWIw8B/anbeEUbu1LyqvA7LhEYVwtj2GfbWRQuSE4GcEnmW+fVsEeiSyou
         cSOLEu1BfLEI/S08Po335raYctK2S8Qt6ovZsjUL9i4XbmZlV89vTqcwQ4sFzd9r/kHz
         +lS+PM+SXp7G9DuyIe6/IUswzjHjOu6Jez8ZuOcv9PrsmIYHSaHg0zMkPgDEFwFJax8g
         Rb2gm2n2SymufpXsBmNhCPKh5R6wIjda3WGM3f9Irq0M36pY4+jnfY3r/dlosJ/BY0Rq
         tZdA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=XHUHXrQCHZhFpt4cPsHED1lnH9T82ONTfEefD66LI9U=;
        b=VUxP4hK/vvsGwNLE1e1PWFb8FhaDvQvpk+isg/eXKG4TVgzqm/M11W55K42stodlT3
         zHtJ+oW/OfzDZmn+mSUlnkZo5kBNO1z2opBzgx2l3MydY3ipkT+0AMbqlZ1e+49QcwFa
         30MKq5ygVoFqnMoW+LU2lBiNQxAAyFIIqbIzOhC8rGwpkvbdU83A7bqeWWSL8PT+66X8
         8M4zSPSBTl7VAP9Cz8KlPUy+2TLwi583wjwiZIFbV+va2pTJJfeiGdAUMg2rAOeBsg0p
         pPK4NKnlYttYj/MdQLKSiIOs5gM/ZWQnMkWpKM6SGaJ4bN1Fju9dr3ma5XXntwmQt/Tv
         YRxw==
X-Gm-Message-State: AN3rC/63qiP1BbTzu2yE73HKavqJIGys169qhUQYcuE8a8KZYLgtuD2/
	oAGZFvu/UD46zvDoxemFkrLa3jISJWXM
X-Received: by 10.200.4.140 with SMTP id s12mr1562807qtg.35.1492592723084;
 Wed, 19 Apr 2017 02:05:23 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 19 Apr 2017 02:05:02 -0700 (PDT)
In-Reply-To: <1492591369447-5797895.post@n5.nabble.com>
References: <1492591369447-5797895.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 19 Apr 2017 11:05:02 +0200
Message-ID: <CAGB5yNmDgycu91-DSKM6pKx+Wq62JM3-TTZ7J=Py2KRb8q49aw@mail.gmail.com>
Subject: Re: How to check after startup if folder exists
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

No but you can write some code yourself to do that.

On Wed, Apr 19, 2017 at 10:42 AM, Nico159 <nicolas.gehling@adesso.de> wrote:
> Hi everyone,
>
> I'm looking for a way to check, if a folder exists, after the route is
> started.
>
> While startup I usually use auteCreate for the inbound folder, so there is
> no problem if my inbound is not there yet, but if somebody (or something)
> delete this created inbound folder (while route is running), the route will
> check forever a non-existing folder (deadlock).
>
> I've tried to use auteCreate=false and startingDirectoryMustExist=true
> (while not having my input folder), therefore I get an error, but just at
> the start of my route.
>
> Is there any way to check periodically if the input folder is there and
> re-autocreate it if necessary (or throw an error?)
>
> Thx in advance for any kind of help
>
>
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/How-to-check-after-startup-if-folder-exists-tp5797895.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65359-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 12:27:44 2017
Return-Path: <users-return-65359-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 250A01901C
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 12:27:44 +0000 (UTC)
Received: (qmail 25179 invoked by uid 500); 19 Apr 2017 12:27:43 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 25120 invoked by uid 500); 19 Apr 2017 12:27:43 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 25096 invoked by uid 99); 19 Apr 2017 12:27:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 12:27:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B59D51AF949
	for <users@camel.apache.org>; Wed, 19 Apr 2017 12:27:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.594
X-Spam-Level:
X-Spam-Status: No, score=0.594 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=messagingengine.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id HS8w-4Um-P0B for <users@camel.apache.org>;
	Wed, 19 Apr 2017 12:27:37 +0000 (UTC)
Received: from new1-smtp.messagingengine.com (new1-smtp.messagingengine.com [66.111.4.221])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id A1EDA5FDF5
	for <users@camel.apache.org>; Wed, 19 Apr 2017 12:27:37 +0000 (UTC)
Received: from compute6.internal (compute6.nyi.internal [10.202.2.46])
	by mailnew.nyi.internal (Postfix) with ESMTP id F13E6A13
	for <users@camel.apache.org>; Wed, 19 Apr 2017 08:27:36 -0400 (EDT)
Received: from frontend2 ([10.202.2.161])
  by compute6.internal (MEProxy); Wed, 19 Apr 2017 08:27:36 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
	messagingengine.com; h=content-transfer-encoding:content-type
	:date:from:message-id:mime-version:subject:to:x-me-sender
	:x-me-sender:x-sasl-enc:x-sasl-enc; s=fm1; bh=wHzMgFjx/OwfJXUXgL
	dNDyKOM9xt9LKMaW/GAY940Aw=; b=TPrWd3jSd54mNg6IZeuDiXbELK7gSZtQ7k
	B4iVwbG5UJh28n1zhI6cDAzhy5/ySDDp3s6zV6qgL+seXllceQMXlGfuuZddu/LT
	xiL1ObdLu4o81IL3fd7JcHQfSzeFPj/F7hOpVujfDjYDvRsscr6WtKnjVm67HsZH
	sJrEfPg+k7rbZ2VryDZHhZSqjs8iZH8mOG2YeryB+AE5y/yU2qiGlacETPl9vJmY
	G9Hpyx2L/noSfdwugZDdmDdWMbUuATFq3ldoqFh6dy23XIccz5CF9DZrnUWPBD+z
	gxWqWIlfsux/RuFr1oUrKRh7eThq696Qkuu8kAqW18rDrR+wzEjw==
X-ME-Sender: <xms:uFf3WL1hJc1EhRyLzBZWSdnTgrvtLE-O56L70pQW-NPA0AbkiQxBuw>
X-Sasl-enc: DcIOSiZcD2AZquerRFSNZroycWmgM3avVdbo4qVGlkm8 1492604856
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mail.messagingengine.com (Postfix) with ESMTPA id 78E28241E3
	for <users@camel.apache.org>; Wed, 19 Apr 2017 08:27:36 -0400 (EDT)
Date: Wed, 19 Apr 2017 05:27:35 -0700 (MST)
From: Thomas Weinschenk <thomas.weinschenk@infoserve.endress.com>
To: users@camel.apache.org
Message-ID: <1492604855885-5797920.post@n5.nabble.com>
Subject: Spring Boot > 1.5 fails when camel-swagger-java in place
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

I tried to update the spring boot web service example to 1.5.2.RELEASE but
it fails when camel-swagger-java is in place.

...
Caused by: org.springframework.beans.BeanInstantiationException: Failed to
instantiate [javax.validation.Validator]: Factory method 'jsr303Validator'
threw exception; nested exception is java.lang.NoClassDefFoundError: Could
not initialize class
org.hibernate.validator.internal.engine.ConfigurationImpl
	at
org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)
	at
org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)
	... 38 more
Caused by: java.lang.NoClassDefFoundError: Could not initialize class
org.hibernate.validator.internal.engine.ConfigurationImpl
	at
org.hibernate.validator.HibernateValidator.createGenericConfiguration(HibernateValidator.java:33)
	at
javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:276)
	at
org.springframework.boot.validation.MessageInterpolatorFactory.getObject(MessageInterpolatorFactory.java:53)
...

If I exclude the camel-swagger-java dependency it works.

It seems that camel-swagger-java includes some jsr303 validation that causes
the problem.
Spring boot uses the hibernate-validator 5.3.4.Final (JSR 349).
This might cause the failure but I am not an expert on Bean Validation.

Any idea how to solve this issue?

Regards,
Thomas



--
View this message in context: http://camel.465427.n5.nabble.com/Spring-Boot-1-5-fails-when-camel-swagger-java-in-place-tp5797920.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65360-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 12:29:28 2017
Return-Path: <users-return-65360-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 99FFC1905C
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 12:29:28 +0000 (UTC)
Received: (qmail 29098 invoked by uid 500); 19 Apr 2017 12:29:28 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 29045 invoked by uid 500); 19 Apr 2017 12:29:28 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 29026 invoked by uid 99); 19 Apr 2017 12:29:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 12:29:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 539021AF94A
	for <users@camel.apache.org>; Wed, 19 Apr 2017 12:29:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.993
X-Spam-Level:
X-Spam-Status: No, score=0.993 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Lavba04hSVRu for <users@camel.apache.org>;
	Wed, 19 Apr 2017 12:29:26 +0000 (UTC)
Received: from mail-qt0-f181.google.com (mail-qt0-f181.google.com [209.85.216.181])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 26BC360DB8
	for <users@camel.apache.org>; Wed, 19 Apr 2017 12:29:26 +0000 (UTC)
Received: by mail-qt0-f181.google.com with SMTP id m36so17345413qtb.0
        for <users@camel.apache.org>; Wed, 19 Apr 2017 05:29:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=bBbbVA3lSfi5nSTJycc1Xtb0QXFtczfdy8TZHskhbSA=;
        b=AFlPFl8Grtvpjj6WYzct2hhMpGuZ0CCcyW+BhVwz49cnTji76FjDf9BrSFC2CN888X
         /uKAIMVSDbzBWSjFo+JtBrG3KqUAVlUocli9jL63GGYBLUcFOpZ98ktlsCxvIpW3EGo2
         DxhrnR4uBdTXVCXZfM5dqBQ0MqlIMJ03fsXL/lAhxQI99EiwLCMq8rqpLewhzKiG3V31
         qolPDwswy51kAItHgrNWEhFVav2EfYdFstk88z9wR6zNOHnfaKR8USv7u/52T5Rhnyoo
         urXWnnjMxQaG3FsWC+NXFJdbxPQWpXLqEkV5J6qRMMQfaPcUerlbPMw+bKZL5Dl05L8K
         CzbA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=bBbbVA3lSfi5nSTJycc1Xtb0QXFtczfdy8TZHskhbSA=;
        b=l0CoOSIgA1rdkF8MU7c9EtHgTBh7SzsYRi1lefNxwqBh9npZFpMV6jLBoLB+u6kba6
         b12O7FWiamUKF4UZFP98cKAMRu/4ovO9b5ZgLAVTt0T80XEI+thIn5DV9rFHCJ/k+z7/
         JZiiIE/ldjelWvvOR24mfh1SRsgXwq7NcSetA7X3w7OJ3g/bwd4p09hMpHptXoe/vqaa
         OXagx7KIrNfdp1hlE2rzZQ648sCANE+y6EFcan8qxNpeMLtFCyLcx0fVmfcU9gl9db50
         YMhnoIZZOzXy1QxqoL2pDMDjBIcTOfAZdVqTm5zKqK6SJAkAkzpkXGTyPscFIAm+OSY+
         WdYg==
X-Gm-Message-State: AN3rC/5LfaOpDTSdf01QG6PVOVwO22mrycqNpN4Lr57N4XdE4cfFx+3S
	BKDs8IGfhzX548pIRgyAW9++JMQe2SUl
X-Received: by 10.200.49.207 with SMTP id i15mr2179150qte.137.1492604960621;
 Wed, 19 Apr 2017 05:29:20 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 19 Apr 2017 05:29:00 -0700 (PDT)
In-Reply-To: <1492604855885-5797920.post@n5.nabble.com>
References: <1492604855885-5797920.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 19 Apr 2017 14:29:00 +0200
Message-ID: <CAGB5yNmRaOEs3y+oEja9V_OAM3pzPZVz2cV1NB6t-sip1oJdxg@mail.gmail.com>
Subject: Re: Spring Boot > 1.5 fails when camel-swagger-java in place
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

What Camel version do you use?

On Wed, Apr 19, 2017 at 2:27 PM, Thomas Weinschenk
<thomas.weinschenk@infoserve.endress.com> wrote:
> Hi,
>
> I tried to update the spring boot web service example to 1.5.2.RELEASE but
> it fails when camel-swagger-java is in place.
>
> ...
> Caused by: org.springframework.beans.BeanInstantiationException: Failed to
> instantiate [javax.validation.Validator]: Factory method 'jsr303Validator'
> threw exception; nested exception is java.lang.NoClassDefFoundError: Could
> not initialize class
> org.hibernate.validator.internal.engine.ConfigurationImpl
>         at
> org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)
>         at
> org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)
>         ... 38 more
> Caused by: java.lang.NoClassDefFoundError: Could not initialize class
> org.hibernate.validator.internal.engine.ConfigurationImpl
>         at
> org.hibernate.validator.HibernateValidator.createGenericConfiguration(HibernateValidator.java:33)
>         at
> javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:276)
>         at
> org.springframework.boot.validation.MessageInterpolatorFactory.getObject(MessageInterpolatorFactory.java:53)
> ...
>
> If I exclude the camel-swagger-java dependency it works.
>
> It seems that camel-swagger-java includes some jsr303 validation that causes
> the problem.
> Spring boot uses the hibernate-validator 5.3.4.Final (JSR 349).
> This might cause the failure but I am not an expert on Bean Validation.
>
> Any idea how to solve this issue?
>
> Regards,
> Thomas
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Spring-Boot-1-5-fails-when-camel-swagger-java-in-place-tp5797920.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65361-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 12:36:10 2017
Return-Path: <users-return-65361-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 44E7419085
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 12:36:10 +0000 (UTC)
Received: (qmail 43994 invoked by uid 500); 19 Apr 2017 12:36:09 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 43944 invoked by uid 500); 19 Apr 2017 12:36:09 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 43883 invoked by uid 99); 19 Apr 2017 12:36:09 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 12:36:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id F3D10C0040
	for <users@camel.apache.org>; Wed, 19 Apr 2017 12:36:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.582
X-Spam-Level:
X-Spam-Status: No, score=-1.582 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=regvart.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 8WxwRBdXyc7A for <users@camel.apache.org>;
	Wed, 19 Apr 2017 12:36:06 +0000 (UTC)
Received: from mail-wr0-f178.google.com (mail-wr0-f178.google.com [209.85.128.178])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 8B1045FB6A
	for <users@camel.apache.org>; Wed, 19 Apr 2017 12:36:01 +0000 (UTC)
Received: by mail-wr0-f178.google.com with SMTP id z109so14566597wrb.1
        for <users@camel.apache.org>; Wed, 19 Apr 2017 05:36:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=regvart.com; s=google;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=457u91Qd+oDq4lHgYv5Ptl3YWadaooDdvmobBvsu0z0=;
        b=ZJX9PcbnV1NHP0U/0uJtMiMBClh2lByOJQm6kcVwTlECH4lSLDaJwPI24W9kLuzFHq
         cus3oobNQm3ReMTp+ONgqdZVgxLy0aTHeNiBLyyL5QPc0eZ1R7jv7e4BWTCABxscJt2B
         CneI68ULJZ/QveiXL3QasEC6hAKCbbNvH36uo=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=457u91Qd+oDq4lHgYv5Ptl3YWadaooDdvmobBvsu0z0=;
        b=Zvff+rxvBj3VF31NCKpWoMXckyKiuf4E6ohwrmZIUa1kEar6acj6dGHu4liKLRJ0V/
         fT+mfwH2aK18zyiVzKNlNdlWitJLUItLlQrairlxW2lH+o0WPwPryq0bAtLwNB15ZaXc
         e6ioMmHb94mkjBgYNxc8qmgvfhkbqJR4spxxKzgPyijMyyb5ZIRlZh2rry2G8ICyq+fK
         S+H6+SFTFSCLV2vnMN3JHoT4tVyNsoMxLwViZ6g+q4y1jw2D+XomrCAHE3HppC9ZAK+n
         vZFYQKk9FBdCh3B01OWOfLkBqH8cYAS2IkwM8MOGi1sBbSklVwv2mrIly3Z3tLkKeBoQ
         ZV0w==
X-Gm-Message-State: AN3rC/54uxSojGUvJzxq7pGVEdGB5a5VvD9+sTBuvpCl4KbQ6tZ1gRCx
	bQqk7klCGj/H92NvaiEFGV1lmZJ5HeIVlzg=
X-Received: by 10.223.150.35 with SMTP id b32mr2567277wra.78.1492605360833;
 Wed, 19 Apr 2017 05:36:00 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.80.131.101 with HTTP; Wed, 19 Apr 2017 05:35:40 -0700 (PDT)
In-Reply-To: <1492604855885-5797920.post@n5.nabble.com>
References: <1492604855885-5797920.post@n5.nabble.com>
From: Zoran Regvart <zoran@regvart.com>
Date: Wed, 19 Apr 2017 14:35:40 +0200
Message-ID: <CABD_Zr8C3y7Zn_kGomKOJimCpfTjj24HJyPGqR3pZ87MjH1tnA@mail.gmail.com>
Subject: Re: Spring Boot > 1.5 fails when camel-swagger-java in place
To: users@camel.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Thomas,
the exception you quoted is a NoClassDefFoundError can you look in the
logs for the first exception you that might be related to this,
perhaps a ClassNotFoundException preceeding it? If you don't need JSR
303 validations you can turn them off by setting
`javax.persistence.validation.mode` to `none`,


zoran

On Wed, Apr 19, 2017 at 2:27 PM, Thomas Weinschenk
<thomas.weinschenk@infoserve.endress.com> wrote:
> Hi,
>
> I tried to update the spring boot web service example to 1.5.2.RELEASE but
> it fails when camel-swagger-java is in place.
>
> ...
> Caused by: org.springframework.beans.BeanInstantiationException: Failed to
> instantiate [javax.validation.Validator]: Factory method 'jsr303Validator'
> threw exception; nested exception is java.lang.NoClassDefFoundError: Could
> not initialize class
> org.hibernate.validator.internal.engine.ConfigurationImpl
>         at
> org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)
>         at
> org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)
>         ... 38 more
> Caused by: java.lang.NoClassDefFoundError: Could not initialize class
> org.hibernate.validator.internal.engine.ConfigurationImpl
>         at
> org.hibernate.validator.HibernateValidator.createGenericConfiguration(HibernateValidator.java:33)
>         at
> javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:276)
>         at
> org.springframework.boot.validation.MessageInterpolatorFactory.getObject(MessageInterpolatorFactory.java:53)
> ...
>
> If I exclude the camel-swagger-java dependency it works.
>
> It seems that camel-swagger-java includes some jsr303 validation that causes
> the problem.
> Spring boot uses the hibernate-validator 5.3.4.Final (JSR 349).
> This might cause the failure but I am not an expert on Bean Validation.
>
> Any idea how to solve this issue?
>
> Regards,
> Thomas
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Spring-Boot-1-5-fails-when-camel-swagger-java-in-place-tp5797920.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Zoran Regvart

From users-return-65362-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 13:21:13 2017
Return-Path: <users-return-65362-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5605B19280
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 13:21:13 +0000 (UTC)
Received: (qmail 37494 invoked by uid 500); 19 Apr 2017 13:21:12 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 37439 invoked by uid 500); 19 Apr 2017 13:21:11 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 30837 invoked by uid 99); 19 Apr 2017 12:30:29 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.566
X-Spam-Level: *
X-Spam-Status: No, score=1.566 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_SOFTFAIL=0.972,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=messagingengine.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
	messagingengine.com; h=content-transfer-encoding:content-type
	:date:from:in-reply-to:message-id:mime-version:references
	:subject:to:x-me-sender:x-me-sender:x-sasl-enc:x-sasl-enc; s=
	fm1; bh=EMxxxM+3kTv2QuBjnwgi8rw2vScSNlibde71hyKhnyY=; b=Nq6MQlPk
	ZXre1wJpkUN+FiBeEU27x5Wosj2nl65Kz/gB5l8T+R+4Jd85bedGXayE+lr/a1XU
	io0uC7B235BLM3bJPS9cMrFPg2DywzYChgD+jqTdD3i5WfEMXd3MgNFb4/Kx2FUF
	RNHrVs+HIGYg1MxBCmo+Nt4U/0SDLglDiR8NOELM9jUIi7u4qmp13ock1CBoqPd7
	QUa0Okd/eFaFCzmU8HkB5pVq12VNTpq1TFUJhyENU9tAK9ums2JvRxSxfodX4DNL
	yB3iiWv7JGZzBfHnrYzSDWx62hZ+IZaapXB4+15/p4+Wb5LNoQ1nlaChhj/jLEt5
	abvUYFrnjPLcDg==
X-ME-Sender: <xms:YVj3WDmaurva6Arev0Yb7Ak-Hm9w-5TxH_mURjGFFTkj7zadq5OCoA>
X-Sasl-enc: QpWA6+0t3yk3rgGBPH9+gMm47lGT2q1bY6reA5aU4P5K 1492605025
Date: Wed, 19 Apr 2017 05:30:24 -0700 (MST)
From: Nico159 <nicolas.gehling@adesso.de>
To: users@camel.apache.org
Message-ID: <1492605024646-5797922.post@n5.nabble.com>
In-Reply-To: <CAGB5yNmDgycu91-DSKM6pKx+Wq62JM3-TTZ7J=Py2KRb8q49aw@mail.gmail.com>
References: <1492591369447-5797895.post@n5.nabble.com> <CAGB5yNmDgycu91-DSKM6pKx+Wq62JM3-TTZ7J=Py2KRb8q49aw@mail.gmail.com>
Subject: Re: How to check after startup if folder exists
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thank you for the fast confirmation.

I'll try to use a timer and a bean to solve the problem.



--
View this message in context: http://camel.465427.n5.nabble.com/How-to-check-after-startup-if-folder-exists-tp5797895p5797922.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65363-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 13:21:15 2017
Return-Path: <users-return-65363-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 814A119281
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 13:21:15 +0000 (UTC)
Received: (qmail 38557 invoked by uid 500); 19 Apr 2017 13:21:15 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 38515 invoked by uid 500); 19 Apr 2017 13:21:15 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 32125 invoked by uid 99); 19 Apr 2017 12:31:01 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.594
X-Spam-Level:
X-Spam-Status: No, score=0.594 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=messagingengine.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
	messagingengine.com; h=content-transfer-encoding:content-type
	:date:from:in-reply-to:message-id:mime-version:references
	:subject:to:x-me-sender:x-me-sender:x-sasl-enc:x-sasl-enc; s=
	fm1; bh=W3Wb/IL4pLZ4SfrnFcVhwiDbDThTMynj1e3EFpWkVT8=; b=XNBTNnwP
	cMwvu/oVc9bvxVwQyqL+AWlmsra2e9XT+6vl0EihpMa4R40+fCyS8a54iR1aabUl
	8PwvUy3Lf3NflotFqc5IcWlG1KdCouMXWQySH2VXO2oZaiMCa/1nNLQmu3qfqGfU
	upxD8xnasQ1Uw1GpdjXo6IQKGUsDXEYaFFbQu/0OfMr8puCxCRYhFsW0p3sejmYK
	66z9HoCqLou0wxGZx7YwYT5fXkTbV7uPcx8si3PoshVGwZHEJbAPaOwXzVuuYtcg
	/TVoR81XfKC2OtW+tBtW3nMpWR4lW/94FD3L82WaAgOB2asAqQJafvBtt5O587l+
	XxKaw4u7cJ1T6g==
X-ME-Sender: <xms:g1j3WFFFqdWQx-Tm63wQyz1HTFmY_fjOGX_zoTYdvaia76xlmDm9xg>
X-Sasl-enc: e/GikI3M7HkSao3hsZyRVd8PWCOufGVT5z5ABF9aZzFv 1492605059
Date: Wed, 19 Apr 2017 05:30:59 -0700 (MST)
From: Thomas Weinschenk <thomas.weinschenk@solutions.endress.com>
To: users@camel.apache.org
Message-ID: <1492605059042-5797923.post@n5.nabble.com>
In-Reply-To: <CAGB5yNmRaOEs3y+oEja9V_OAM3pzPZVz2cV1NB6t-sip1oJdxg@mail.gmail.com>
References: <1492604855885-5797920.post@n5.nabble.com> <CAGB5yNmRaOEs3y+oEja9V_OAM3pzPZVz2cV1NB6t-sip1oJdxg@mail.gmail.com>
Subject: Re: Spring Boot > 1.5 fails when camel-swagger-java in place
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

You are right I forgot to mention the version...

2.18.3



--
View this message in context: http://camel.465427.n5.nabble.com/Spring-Boot-1-5-fails-when-camel-swagger-java-in-place-tp5797920p5797923.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65364-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 13:21:27 2017
Return-Path: <users-return-65364-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D21019282
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 13:21:27 +0000 (UTC)
Received: (qmail 39587 invoked by uid 500); 19 Apr 2017 13:21:26 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 39543 invoked by uid 500); 19 Apr 2017 13:21:26 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 12638 invoked by uid 99); 19 Apr 2017 13:08:32 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.594
X-Spam-Level:
X-Spam-Status: No, score=0.594 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=messagingengine.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
	messagingengine.com; h=content-transfer-encoding:content-type
	:date:from:in-reply-to:message-id:mime-version:references
	:subject:to:x-me-sender:x-me-sender:x-sasl-enc:x-sasl-enc; s=
	fm1; bh=JftQ26jk9B19fhGkqb+XjI/swoxUB9sH1kvRfiFa3o4=; b=GACdTamY
	mHloeDOGf2N5mbRq2OOpiMa+Zf6ryTOXuegpTf0R/bwnHaLNgX+UOKoQREQVi7AJ
	Zb0GQlejFn30RmbpDvnj9HXJLo15pKo+oMNy99meY3GZ53IDFJXd6K8vKhPrUZYW
	7cZPhRciRAvF+UapI2WgQkRcMgS5f8LQqP2dT2UZgs5yvcYq7fpVea4+wsMPdSGc
	fvZCZVLJrQ81N6ZY8sWNcLfJO7fRZbnH0NvMADhJj76f1C3A6mZ0iFuX5xH+4IHI
	TEVBPhLylmWqOY9Ki7XO4J8RFc3V9EKOngDyd66z+a4ACZpYr1M/BW5uE61RYifV
	bEBrsA5RdUatLQ==
X-ME-Sender: <xms:SWH3WEp9U3B8eGdSGeJ0OeXv7bsd-I_NnYcZDFQso128htukBWoxYQ>
X-Sasl-enc: 6v927SewmQO3331ja/i/BCaE2FBM/zJwuu89UJcMGHsl 1492607304
Date: Wed, 19 Apr 2017 06:08:24 -0700 (MST)
From: Thomas Weinschenk <thomas.weinschenk@solutions.endress.com>
To: users@camel.apache.org
Message-ID: <1492607304155-5797927.post@n5.nabble.com>
In-Reply-To: <CABD_Zr8C3y7Zn_kGomKOJimCpfTjj24HJyPGqR3pZ87MjH1tnA@mail.gmail.com>
References: <1492604855885-5797920.post@n5.nabble.com> <CABD_Zr8C3y7Zn_kGomKOJimCpfTjj24HJyPGqR3pZ87MjH1tnA@mail.gmail.com>
Subject: Re: Spring Boot > 1.5 fails when camel-swagger-java in place
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi Zoran,

where do I have to put the validation mode setting, property of the pom,
application.yml or as an environment variable? I tried all three but I still
get the same error.

The log ouptut related to the failure is:

Exception encountered during context initialization - cancelling refresh
attempt: org.springframework.beans.factory.UnsatisfiedDependencyException:
Error creating bean with name 'methodValidationPostProcessor' defined in
class path resource
[org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]:
Unsatisfied dependency expressed through method
'methodValidationPostProcessor' parameter 0; nested exception is
org.springframework.beans.factory.BeanCreationException: Error creating bean
with name 'jsr303Validator' defined in class path resource
[org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]:
Bean instantiation via factory method failed; nested exception is
org.springframework.beans.BeanInstantiationException: Failed to instantiate
[javax.validation.Validator]: Factory method 'jsr303Validator' threw
exception; nested exception is java.lang.NoClassDefFoundError: Could not
initialize class org.hibernate.validator.internal.engine.ConfigurationImpl


And to be really verbose...the complete stack trace...

2017-04-19 15:02:49.179  INFO 222576 --- [           main]
ationConfigEmbeddedWebApplicationContext : Refreshing
org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6e083721:
startup date [Wed Apr 19 15:02:49 CEST 2017]; root of context hierarchy
2017-04-19 15:02:51.425  WARN 222576 --- [           main]
ationConfigEmbeddedWebApplicationContext : Exception encountered during
context initialization - cancelling refresh attempt:
org.springframework.beans.factory.UnsatisfiedDependencyException: Error
creating bean with name 'methodValidationPostProcessor' defined in class
path resource
[org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]:
Unsatisfied dependency expressed through method
'methodValidationPostProcessor' parameter 0; nested exception is
org.springframework.beans.factory.BeanCreationException: Error creating bean
with name 'jsr303Validator' defined in class path resource
[org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]:
Bean instantiation via factory method failed; nested exception is
org.springframework.beans.BeanInstantiationException: Failed to instantiate
[javax.validation.Validator]: Factory method 'jsr303Validator' threw
exception; nested exception is java.lang.NoClassDefFoundError: Could not
initialize class org.hibernate.validator.internal.engine.ConfigurationImpl
2017-04-19 15:02:51.441 ERROR 222576 --- [           main]
o.s.b.f.s.DefaultListableBeanFactory     : Destroy method on bean with name
'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor'
threw an exception

java.lang.IllegalStateException: ApplicationEventMulticaster not initialized
- call 'refresh' before multicasting events via the context:
org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6e083721:
startup date [Wed Apr 19 15:02:49 CEST 2017]; root of context hierarchy
	at
org.springframework.context.support.AbstractApplicationContext.getApplicationEventMulticaster(AbstractApplicationContext.java:404)
[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.context.support.ApplicationListenerDetector.postProcessBeforeDestruction(ApplicationListenerDetector.java:97)
~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:253)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578)
[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554)
[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961)
[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523)
[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968)
[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1033)
[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:555)
[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at sample.camel.Application.main(Application.java:19) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
~[na:1.8.0_112]
	at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
~[na:1.8.0_112]
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
~[na:1.8.0_112]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_112]
	at
org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:527)
[spring-boot-maven-plugin-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_112]

2017-04-19 15:02:51.442 ERROR 222576 --- [           main]
o.s.b.f.s.DefaultListableBeanFactory     : Destroy method on bean with name
'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
threw an exception

java.lang.IllegalStateException: ApplicationEventMulticaster not initialized
- call 'refresh' before multicasting events via the context:
org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6e083721:
startup date [Wed Apr 19 15:02:49 CEST 2017]; root of context hierarchy
	at
org.springframework.context.support.AbstractApplicationContext.getApplicationEventMulticaster(AbstractApplicationContext.java:404)
[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.context.support.ApplicationListenerDetector.postProcessBeforeDestruction(ApplicationListenerDetector.java:97)
~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:253)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578)
[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554)
[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961)
[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523)
[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968)
[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1033)
[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:555)
[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at sample.camel.Application.main(Application.java:19) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
~[na:1.8.0_112]
	at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
~[na:1.8.0_112]
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
~[na:1.8.0_112]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_112]
	at
org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:527)
[spring-boot-maven-plugin-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_112]

2017-04-19 15:02:51.455 ERROR 222576 --- [           main]
o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error
creating bean with name 'methodValidationPostProcessor' defined in class
path resource
[org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]:
Unsatisfied dependency expressed through method
'methodValidationPostProcessor' parameter 0; nested exception is
org.springframework.beans.factory.BeanCreationException: Error creating bean
with name 'jsr303Validator' defined in class path resource
[org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]:
Bean instantiation via factory method failed; nested exception is
org.springframework.beans.BeanInstantiationException: Failed to instantiate
[javax.validation.Validator]: Factory method 'jsr303Validator' threw
exception; nested exception is java.lang.NoClassDefFoundError: Could not
initialize class org.hibernate.validator.internal.engine.ConfigurationImpl
	at
org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:467)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:223)
~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:702)
~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:527)
~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)
[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at sample.camel.Application.main(Application.java:19) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
~[na:1.8.0_112]
	at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
~[na:1.8.0_112]
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
~[na:1.8.0_112]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_112]
	at
org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:527)
[spring-boot-maven-plugin-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_112]
Caused by: org.springframework.beans.factory.BeanCreationException: Error
creating bean with name 'jsr303Validator' defined in class path resource
[org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]:
Bean instantiation via factory method failed; nested exception is
org.springframework.beans.BeanInstantiationException: Failed to instantiate
[javax.validation.Validator]: Factory method 'jsr303Validator' threw
exception; nested exception is java.lang.NoClassDefFoundError: Could not
initialize class org.hibernate.validator.internal.engine.ConfigurationImpl
	at
org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	... 25 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to
instantiate [javax.validation.Validator]: Factory method 'jsr303Validator'
threw exception; nested exception is java.lang.NoClassDefFoundError: Could
not initialize class
org.hibernate.validator.internal.engine.ConfigurationImpl
	at
org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at
org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	... 38 common frames omitted
Caused by: java.lang.NoClassDefFoundError: Could not initialize class
org.hibernate.validator.internal.engine.ConfigurationImpl
	at
org.hibernate.validator.HibernateValidator.createGenericConfiguration(HibernateValidator.java:33)
~[hibernate-validator-5.3.4.Final.jar:5.3.4.Final]
	at
javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:276)
~[validation-api-1.1.0.Final.jar:na]
	at
org.springframework.boot.validation.MessageInterpolatorFactory.getObject(MessageInterpolatorFactory.java:53)
~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at
org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration.jsr303Validator(ValidationAutoConfiguration.java:52)
~[spring-boot-autoconfigure-1.5.2.RELEASE.jar:1.5.2.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
~[na:1.8.0_112]
	at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
~[na:1.8.0_112]
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
~[na:1.8.0_112]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_112]
	at
org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)
~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	... 39 common frames omitted

[WARNING] 
java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at
org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:527)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException:
Error creating bean with name 'methodValidationPostProcessor' defined in
class path resource
[org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]:
Unsatisfied dependency expressed through method
'methodValidationPostProcessor' parameter 0; nested exception is
org.springframework.beans.factory.BeanCreationException: Error creating bean
with name 'jsr303Validator' defined in class path resource
[org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]:
Bean instantiation via factory method failed; nested exception is
org.springframework.beans.BeanInstantiationException: Failed to instantiate
[javax.validation.Validator]: Factory method 'jsr303Validator' threw
exception; nested exception is java.lang.NoClassDefFoundError: Could not
initialize class org.hibernate.validator.internal.engine.ConfigurationImpl
	at
org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)
	at
org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:467)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at
org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at
org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at
org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at
org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at
org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:223)
	at
org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:702)
	at
org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:527)
	at
org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at
org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at
org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)
	at
org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at
org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)
	at
org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)
	at sample.camel.Application.main(Application.java:19)
	... 6 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error
creating bean with name 'jsr303Validator' defined in class path resource
[org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]:
Bean instantiation via factory method failed; nested exception is
org.springframework.beans.BeanInstantiationException: Failed to instantiate
[javax.validation.Validator]: Factory method 'jsr303Validator' threw
exception; nested exception is java.lang.NoClassDefFoundError: Could not
initialize class org.hibernate.validator.internal.engine.ConfigurationImpl
	at
org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at
org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at
org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at
org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at
org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at
org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at
org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at
org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at
org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at
org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)
	at
org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)
	... 25 more
Caused by: org.springframework.beans.BeanInstantiationException: Failed to
instantiate [javax.validation.Validator]: Factory method 'jsr303Validator'
threw exception; nested exception is java.lang.NoClassDefFoundError: Could
not initialize class
org.hibernate.validator.internal.engine.ConfigurationImpl
	at
org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)
	at
org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)
	... 38 more
Caused by: java.lang.NoClassDefFoundError: Could not initialize class
org.hibernate.validator.internal.engine.ConfigurationImpl
	at
org.hibernate.validator.HibernateValidator.createGenericConfiguration(HibernateValidator.java:33)
	at
javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:276)
	at
org.springframework.boot.validation.MessageInterpolatorFactory.getObject(MessageInterpolatorFactory.java:53)
	at
org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration.jsr303Validator(ValidationAutoConfiguration.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at
org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)
	... 39 more



--
View this message in context: http://camel.465427.n5.nabble.com/Spring-Boot-1-5-fails-when-camel-swagger-java-in-place-tp5797920p5797927.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65365-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 13:28:00 2017
Return-Path: <users-return-65365-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 45B1C192F6
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 13:28:00 +0000 (UTC)
Received: (qmail 57117 invoked by uid 500); 19 Apr 2017 13:27:59 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 57063 invoked by uid 500); 19 Apr 2017 13:27:59 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 57050 invoked by uid 99); 19 Apr 2017 13:27:59 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 13:27:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E4CCFC1FC2
	for <users@camel.apache.org>; Wed, 19 Apr 2017 13:27:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.693
X-Spam-Level: *
X-Spam-Status: No, score=1.693 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id psqySxCIrXNj for <users@camel.apache.org>;
	Wed, 19 Apr 2017 13:27:57 +0000 (UTC)
Received: from mail-qk0-f174.google.com (mail-qk0-f174.google.com [209.85.220.174])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 917625FB64
	for <users@camel.apache.org>; Wed, 19 Apr 2017 13:27:57 +0000 (UTC)
Received: by mail-qk0-f174.google.com with SMTP id h67so19735416qke.0
        for <users@camel.apache.org>; Wed, 19 Apr 2017 06:27:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=ii/DBjEbbSd822YP5jmak0ZwSP55aG1uBk+DIDF3m6E=;
        b=uy81uCKz+MejDkZwx1HsYzjzW34KGb0LxMQ6f11L1WLOEnb2zwtGz2QP/qHgjSTSXh
         VO56oxzSUhNkPYmSHmX/NOdfdXNPSt/L3hXuBs8Wk80HOv1rYv0+PlkoXPB8VQsYZ6zP
         YT2p2v2PRFl8MNRmRWEHzxBrdxIQ/vDhI4A5x6GMhekAY7TwvjDiEWMDjdrz9PEQc7U6
         Ed+f9H6XtExNjkydtrEyAmsf3+x9eBq8HSEpmcWtne5qNtyNPzFSsKxAaq2vE6T8Z0x+
         Ij/aqExY4holwSo0TLXBffhFceVs21lIPFW8eQN98sOJB3tCg7vN+PAUDzaLd7QWAi7U
         l+qA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=ii/DBjEbbSd822YP5jmak0ZwSP55aG1uBk+DIDF3m6E=;
        b=TXhA6cMXeYIU/inunKMWtrVdY+TnzS8tyYWyKo5lp1aA+TXsXR55cc3TAg5qlqT9H8
         bM6fBZLKyohYLrqlZpBuhkbG9SC9CW23wMJ/bnZ68tQzjQpGskPW4ynXCR9WqnMtsEvP
         mFQMLjNsGaU68EAMPu5YZdKcKmsvtXGIECaiqd0z6eCZetGoAWKjbDXVyA+15vqD/S9Z
         xS3yQy3tyDK9qbCgSjvT/bZMWGTR1cKxUptL24T9ooVaf/cIJtW7LhsA7gGVed3THK+E
         4JM5HSB7/L8vWlno4KFOLv2T2eQBWlH2VaMuGwOeLePmTjUVJGmeAxKd6dzUKHVWAiXu
         s4hA==
X-Gm-Message-State: AN3rC/40TkO7Ytm5cMl2lhKLPpUzIdjZqF/CEb0dnIW734VB+So+DdW1
	gGileHi0/9hSwmxHLVSxBj/L1alHRUJiKJg=
X-Received: by 10.55.144.6 with SMTP id s6mr2351776qkd.27.1492608477050; Wed,
 19 Apr 2017 06:27:57 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 19 Apr 2017 06:27:36 -0700 (PDT)
In-Reply-To: <1492605059042-5797923.post@n5.nabble.com>
References: <1492604855885-5797920.post@n5.nabble.com> <CAGB5yNmRaOEs3y+oEja9V_OAM3pzPZVz2cV1NB6t-sip1oJdxg@mail.gmail.com>
 <1492605059042-5797923.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 19 Apr 2017 15:27:36 +0200
Message-ID: <CAGB5yN=YijbdMGNv1tL1YhCpoQn4aE9QyahmsEdzcFy02C1r+g@mail.gmail.com>
Subject: Re: Spring Boot > 1.5 fails when camel-swagger-java in place
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

There is this ticket related
https://issues.apache.org/jira/browse/CAMEL-10373

the swagger-java-starter do have the hibernate-validate as dependency
https://github.com/apache/camel/blob/master/platforms/spring-boot/components-starter/camel-swagger-java-starter/pom.xml#L49

And so does 2.18.x
https://github.com/apache/camel/blob/camel-2.18.x/components-starter/camel-swagger-java-starter/pom.xml#L48

So do we need some additional dependency besides hibernate-validator?


On Wed, Apr 19, 2017 at 2:30 PM, Thomas Weinschenk
<thomas.weinschenk@solutions.endress.com> wrote:
> You are right I forgot to mention the version...
>
> 2.18.3
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Spring-Boot-1-5-fails-when-camel-swagger-java-in-place-tp5797920p5797923.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65366-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 13:30:38 2017
Return-Path: <users-return-65366-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1041C1931F
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 13:30:38 +0000 (UTC)
Received: (qmail 65076 invoked by uid 500); 19 Apr 2017 13:30:37 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 65023 invoked by uid 500); 19 Apr 2017 13:30:37 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 65010 invoked by uid 99); 19 Apr 2017 13:30:37 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 13:30:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B3960C0F8E
	for <users@camel.apache.org>; Wed, 19 Apr 2017 13:30:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.583
X-Spam-Level:
X-Spam-Status: No, score=-1.583 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id pd9qFZVd-73G for <users@camel.apache.org>;
	Wed, 19 Apr 2017 13:30:33 +0000 (UTC)
Received: from mail-qk0-f176.google.com (mail-qk0-f176.google.com [209.85.220.176])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id EA4495FB64
	for <users@camel.apache.org>; Wed, 19 Apr 2017 13:30:32 +0000 (UTC)
Received: by mail-qk0-f176.google.com with SMTP id f133so19781349qke.2
        for <users@camel.apache.org>; Wed, 19 Apr 2017 06:30:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=ZS2Zy2aMSs8jsqe5pzEaW/gCVy1e8FvTGU/0MlpqaMU=;
        b=tax88Dd38MKOoQC9E10qqWE+Mqzz4uMZ91TeYPPbv6HzqIdRuNfmLbYc/VIcoM2pwG
         CRZJtffOVij1wtj6nh6fzhciX2kSQXEi9/r0+Shil0ygxQ+otp2lLJ2s06pIpcKxZgnd
         hzTRhaMdW6FxIF3AXo24pNoK6tXB+DhxGny5wWByYr/mcNJ6JAvIJDcnVG8gv5V7Hn8J
         /yZtNtWhjJyVofUo/vOlm2yXDHIV/rTfQ6jamUHXgS1/iTDaURzgcycmJG1nam48cCmp
         GYljsh3vYQKBuWTCclvypkdRA8l4UOwpXiiYNidC3W/TGGWIiHVIjc7JHh8pqmEO1JE/
         eRSw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=ZS2Zy2aMSs8jsqe5pzEaW/gCVy1e8FvTGU/0MlpqaMU=;
        b=mDUcdZkKpaLSJM41hXVFDAy58BpUsQOiEx5d2lXq1Tg4hgUze2qmOywd5xov0IRO6C
         5fge1fPSz1Ly23h+Tq+cAxobWym2qP6Yceq8fKl7Tthjx96E3GQZAR9o0TR/ijWZyVgF
         A87dVNoRRdV8uCxwi7oyXjvMhR91nqCAjID3yFrk6GtZjxob4jygfmy62IiuDcPR5pnW
         BHL9+rHUOwxS8B3hR8SpXeE9xZSY4ExEnfsc8tW6fTu7uQY9Fyt8Sv271g1fYZR0BXFC
         6QZyorci6+pzWeuPYHkI4z3uEJN9papEd2g7Vuvq6wVbsewwJKvq4Z5CvNndML3ni5v5
         HzTQ==
X-Gm-Message-State: AN3rC/54fcvP1rcmVZBPeu3pLxxXeQ5yjuN79bjhTLK91Ttu4pHv4rH/
	WnFT5XSGJ20wlLkKn3Bj4yS018HCgBg4Hbs=
X-Received: by 10.55.5.17 with SMTP id 17mr2749825qkf.279.1492608632473; Wed,
 19 Apr 2017 06:30:32 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 19 Apr 2017 06:30:12 -0700 (PDT)
In-Reply-To: <CAGB5yN=YijbdMGNv1tL1YhCpoQn4aE9QyahmsEdzcFy02C1r+g@mail.gmail.com>
References: <1492604855885-5797920.post@n5.nabble.com> <CAGB5yNmRaOEs3y+oEja9V_OAM3pzPZVz2cV1NB6t-sip1oJdxg@mail.gmail.com>
 <1492605059042-5797923.post@n5.nabble.com> <CAGB5yN=YijbdMGNv1tL1YhCpoQn4aE9QyahmsEdzcFy02C1r+g@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 19 Apr 2017 15:30:12 +0200
Message-ID: <CAGB5yNkXSEm_-BGq1=xBsjZ+D3JNQ8t3mwQg8jHyJwztqwstyg@mail.gmail.com>
Subject: Re: Spring Boot > 1.5 fails when camel-swagger-java in place
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

I logged a ticket to create a new example at Apache Camel
https://issues.apache.org/jira/browse/CAMEL-11169

This can help ourselves to see this problem and make sure running
Camel on spring boot "just works".

On Wed, Apr 19, 2017 at 3:27 PM, Claus Ibsen <claus.ibsen@gmail.com> wrote:
> There is this ticket related
> https://issues.apache.org/jira/browse/CAMEL-10373
>
> the swagger-java-starter do have the hibernate-validate as dependency
> https://github.com/apache/camel/blob/master/platforms/spring-boot/components-starter/camel-swagger-java-starter/pom.xml#L49
>
> And so does 2.18.x
> https://github.com/apache/camel/blob/camel-2.18.x/components-starter/camel-swagger-java-starter/pom.xml#L48
>
> So do we need some additional dependency besides hibernate-validator?
>
>
> On Wed, Apr 19, 2017 at 2:30 PM, Thomas Weinschenk
> <thomas.weinschenk@solutions.endress.com> wrote:
>> You are right I forgot to mention the version...
>>
>> 2.18.3
>>
>>
>>
>> --
>> View this message in context: http://camel.465427.n5.nabble.com/Spring-Boot-1-5-fails-when-camel-swagger-java-in-place-tp5797920p5797923.html
>> Sent from the Camel - Users mailing list archive at Nabble.com.
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65367-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 13:34:15 2017
Return-Path: <users-return-65367-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DF5D919351
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 13:34:15 +0000 (UTC)
Received: (qmail 75495 invoked by uid 500); 19 Apr 2017 13:34:15 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 75444 invoked by uid 500); 19 Apr 2017 13:34:15 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 75430 invoked by uid 99); 19 Apr 2017 13:34:14 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 13:34:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6559DC6649
	for <users@camel.apache.org>; Wed, 19 Apr 2017 13:34:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.895
X-Spam-Level:
X-Spam-Status: No, score=-2.895 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=regvart.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id DhGE8W4lRmsB for <users@camel.apache.org>;
	Wed, 19 Apr 2017 13:34:13 +0000 (UTC)
Received: from mail-wr0-f175.google.com (mail-wr0-f175.google.com [209.85.128.175])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 405A45F4EE
	for <users@camel.apache.org>; Wed, 19 Apr 2017 13:34:13 +0000 (UTC)
Received: by mail-wr0-f175.google.com with SMTP id o21so15681537wrb.2
        for <users@camel.apache.org>; Wed, 19 Apr 2017 06:34:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=regvart.com; s=google;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=Z5kMZLMcMseME+rIbCewLBPLkmZJPL41M2AxoADv/6g=;
        b=KppLBoA70cJl1ksvPGPYI//si4HGdce39I6Jae+6xmPTRhxyq7a7I7IE9rrmho/Sx7
         +efXya38sDtK2J1X06iIQvimCsPqENllanoJ8seMM2nDMYK9hRZUuIxU/QqIPg3wZ+Ie
         qMSqZuqbGbz9Uw1pfOsqS8CFFSEpM8VLAoDbE=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=Z5kMZLMcMseME+rIbCewLBPLkmZJPL41M2AxoADv/6g=;
        b=DprBkSWwbUfrHcFA+FEDvmPLzv3ym3LepHDFYXekfJykLI4xzxyPK9Abeb8yiuXM6v
         RNxFXkf2gHRPLLDmzFtaWDyDmic0jjsrzYG5dDOI8GCCH2h9pZWnSQwNJBMC1uCYAtAU
         kmD0apiFkeLXSmTtdLe10CB6ZhUreEc+eOBx46iu+wG0YLmaiMyaY7eMEc3xMX/h8KyM
         UZCm0FtxZi774FCS40D6+6E8djMWcXqOhKJz16TA0G5SlLKFMQg1JWi3iighpMLlZIsV
         My8N8Cf69IFIsPDLkStaoK3pIYMUwK7lrbPzoSdjMEhn/5HPPeKAw46ggqEfcP/rPjVV
         VytA==
X-Gm-Message-State: AN3rC/464fZnSmApRdjGzKCB0JkMt4fKfrUzqYrTpKUSYIBp0BxOHQRN
	8nLV74FuAYt2E0tsMunjWwHm9sMOLjF7n5c=
X-Received: by 10.223.138.152 with SMTP id y24mr2913965wry.26.1492608852805;
 Wed, 19 Apr 2017 06:34:12 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.80.131.101 with HTTP; Wed, 19 Apr 2017 06:33:52 -0700 (PDT)
In-Reply-To: <1492607304155-5797927.post@n5.nabble.com>
References: <1492604855885-5797920.post@n5.nabble.com> <CABD_Zr8C3y7Zn_kGomKOJimCpfTjj24HJyPGqR3pZ87MjH1tnA@mail.gmail.com>
 <1492607304155-5797927.post@n5.nabble.com>
From: Zoran Regvart <zoran@regvart.com>
Date: Wed, 19 Apr 2017 15:33:52 +0200
Message-ID: <CABD_Zr8NyHPwXk4wdhROLyYVp2qxJn=krTi2DRWkdMjEdt90sg@mail.gmail.com>
Subject: Re: Spring Boot > 1.5 fails when camel-swagger-java in place
To: users@camel.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Thomas

On Wed, Apr 19, 2017 at 3:08 PM, Thomas Weinschenk
<thomas.weinschenk@solutions.endress.com> wrote:
> where do I have to put the validation mode setting, property of the pom,
> application.yml or as an environment variable? I tried all three but I still
> get the same error.

in Spring Boot that setting needs to be prefixed with
`spring.jpa.properties`[1], so try setting
`spring.jpa.properties.javax.persistence.validation.mode` to `none`

> The log ouptut related to the failure is:
>
> Exception encountered during context initialization - cancelling refresh
> [snip]

I'm sure you have a exception preceding that one, that shows the
actual cause of the failure to initialize
`org.hibernate.validator.internal.engine.ConfigurationImpl`, you see
`NoClassDefFoundError`s occur after the fact when the class can't be
loaded, usually due to `ClassNotFoundException`,

zoran

[1] https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-jpa-properties
-- 
Zoran Regvart

From users-return-65368-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 17:45:46 2017
Return-Path: <users-return-65368-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3954E18162
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 17:45:46 +0000 (UTC)
Received: (qmail 22632 invoked by uid 500); 19 Apr 2017 17:45:45 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 22594 invoked by uid 500); 19 Apr 2017 17:45:45 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 22120 invoked by uid 99); 19 Apr 2017 17:45:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 17:45:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8EC12183991
	for <users@camel.apache.org>; Wed, 19 Apr 2017 17:45:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.917
X-Spam-Level:
X-Spam-Status: No, score=0.917 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id WGmOUNMX-Dvv for <users@camel.apache.org>;
	Wed, 19 Apr 2017 17:45:40 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id B311C5FB6A
	for <users@camel.apache.org>; Wed, 19 Apr 2017 17:45:34 +0000 (UTC)
Received: by mail-qk0-f175.google.com with SMTP id f133so26627978qke.2
        for <users@camel.apache.org>; Wed, 19 Apr 2017 10:45:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to;
        bh=2IW5a6MYWe/aa3yw7WnT+5+uiydSf2pg+R3vwYBZc2s=;
        b=bd8XrNb6aQIg+Fo3rnTlNWlFhYl1K4gEoEPobZ6xHlU7OZEQk9SmKYzrczq1u2Cd2R
         HksuFDTBVWhiJiPsz9SHXZaplgFj0SqtBxL1235hXTCX7S3AWoDU4wk+XCnNTt56BgCX
         YirbZWDW45YLYGqmJRth6MWlshlnEUPFVNXHz1ujPGJIUonHQznfiNBjs4jXWe5ktvC3
         RuoveAY9kX+a9REecfAEm+0vj6HbBA9QBRAHwo1cjRJDPQQcvsoooJJEP9JeME9KN/yN
         cFG6slB7wXReqyCxeKgrXhz3OGpERRS/Fp+1nt5KchA4z08+y5EZzv3gSfcaf2hubMeu
         l6Tg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to;
        bh=2IW5a6MYWe/aa3yw7WnT+5+uiydSf2pg+R3vwYBZc2s=;
        b=jJ+Rf+gk5yau+FI8r5ns7LBONRwWm/pYWhHlCmE+K1XHn4bQgb7Z7zy6YQbXZbWCgr
         o9EKY5blTJJRl8FqjDghZCeivb1mSS2kzKDDx1Cnwp+tLVxkfQS9h/+HIqUnikKJvn7r
         2DhCO8OA+obx3gdYrHsckthUS4WzDpet1H5vT0zA6ESfesr64UZzRtIy4YFOWfOCZF4+
         8uMPNv2n1PjVZB9WHJvHia9SnuBDH/qnRB3s1gGkE9HfmVQAmrvaD6zc8OwhJxdbVICF
         iv5gaJJrwh4gZIwHnl63o0WAM11r8DLOMFnoSpCXvzf9Pz0zlIDZ3OMUL2eVndy7pyBL
         1huQ==
X-Gm-Message-State: AN3rC/7e6kEqG43JBkOSbnWEuycrPg6eOqUgs+26bXFVeA0EEvxu44NB
	lpuLcV6c0zm3ZUgYiSrPRMZe3NH5ZA==
X-Received: by 10.55.160.143 with SMTP id j137mr3556007qke.119.1492623933661;
 Wed, 19 Apr 2017 10:45:33 -0700 (PDT)
MIME-Version: 1.0
References: <1492578616894-5797871.post@n5.nabble.com>
In-Reply-To: <1492578616894-5797871.post@n5.nabble.com>
From: Onder SEZGIN <ondersezgin@gmail.com>
Date: Wed, 19 Apr 2017 17:45:22 +0000
Message-ID: <CAE9ARBTZ-WAR_+5N+9ZR8PVQ6Cz+jESR9k_UtMpVGE_JTJmnDg@mail.gmail.com>
Subject: Re: Parsing issue with unmarshal and bindy.csv with double quotes and
 commas in a single field
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a114fc8245981c5054d8897cc

--001a114fc8245981c5054d8897cc
Content-Type: text/plain; charset=UTF-8

this is not a bug. as you have comma as separator, in the line you have
exception you have too many fields already. so illegal argument exception
seems correct in the given case.


On Wed, 19 Apr 2017 at 08:10, sadiq <sadiq.manji@sap.com> wrote:

> I'm experiencing a parsing issue using Bindy to unmarshal a CSV file into a
> List of POJOs (my POJO class is annotated with @CsvRecord).
>
> The CSV file contains the following:
>
> partNumber,longDescription,status
> 123,"1970-84 Windshield Washer Jar, Multi Application",Available
> 234,"1967-75 6 Cyl/ Small Block 9"" Clutch Bellcrank Assembly",Available
> 345,"1971-79 Fan Blade 19-1/2"", 7 Blade",Available
>
> It's the fourth line that is causing an issue:
> java.lang.IllegalArgumentException: No position 4 defined for the field:
> Available, line: 3 must be specified (it says line 3, but I believe that's
> because my CsvRecord class has the skipFirstLine=true)
>
> The CSV parsing seems to be handling commas within a field surrounded by
> double quotes since the 2nd line is okay. It's also handling escaping
> double
> quotes correctly within fields since the 3rd line is fine too.
>
> But the issue is when commas are present after an escaped double quote
> within a field that is surrounded by double quotes -- it seems to want to
> separate each comma into a new field when it should just be treating it as
> a
> single field.
>
> I'm using the latest version of Camel 2.18.3 and still observing this
> issue.
>
> My route is:
>
> from("sftp://
> me@myhost.com?sortBy=file:modified&antInclude=*.csv&password=xxxx")
>         .unmarshal()
>         .bindy(BindyType.Csv, ProductDeltaCsvDataModel.class) //throwing
> exception
> here
>         .to("direct:processCsv");
>
> This is my CsvRecord POJO class:
>
> @CsvRecord(separator = ",", skipFirstLine = true, quote = "\"", quoting =
> true)
> public class ProductDeltaCsvDataModel {
>
>         @DataField(pos = 1, required = true)
>         private String partNumber;
>
>         @DataField(pos = 2)
>         private String longDescription;
>
>         @DataField(pos = 3)
>         private String status;
>
>         //setters and getters
>         ...
> }
>
> I believe this to be a bug unless there is some configuration I need to
> set?
>
> Can someone confirm that this is a bug and how I go about logging this bug?
>
> Thanks!
> Sadiq
>
>
>
> --
> View this message in context:
> http://camel.465427.n5.nabble.com/Parsing-issue-with-unmarshal-and-bindy-csv-with-double-quotes-and-commas-in-a-single-field-tp5797871.html
> Sent from the Camel - Users mailing list archive at Nabble.com.
>
-- 
Sent from my iPhone

--001a114fc8245981c5054d8897cc--

From users-return-65369-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 19:14:19 2017
Return-Path: <users-return-65369-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 92AED186B1
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 19:14:19 +0000 (UTC)
Received: (qmail 79005 invoked by uid 500); 19 Apr 2017 19:14:19 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 78954 invoked by uid 500); 19 Apr 2017 19:14:18 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 78942 invoked by uid 99); 19 Apr 2017 19:14:18 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 19:14:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id EF19F180157
	for <users@camel.apache.org>; Wed, 19 Apr 2017 19:14:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.767
X-Spam-Level: ****
X-Spam-Status: No, score=4.767 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, DKIM_SIGNED=0.1, DKIM_VALID=-0.1,
	HTML_MESSAGE=2, NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_SOFTFAIL=0.972,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=messagingengine.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ZVJJxVjNmrjm for <users@camel.apache.org>;
	Wed, 19 Apr 2017 19:14:15 +0000 (UTC)
Received: from new1-smtp.messagingengine.com (new1-smtp.messagingengine.com [66.111.4.221])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 39B885F2FD
	for <users@camel.apache.org>; Wed, 19 Apr 2017 19:14:15 +0000 (UTC)
Received: from compute3.internal (compute3.nyi.internal [10.202.2.43])
	by mailnew.nyi.internal (Postfix) with ESMTP id C6619F44
	for <users@camel.apache.org>; Wed, 19 Apr 2017 15:14:09 -0400 (EDT)
Received: from frontend2 ([10.202.2.161])
  by compute3.internal (MEProxy); Wed, 19 Apr 2017 15:14:09 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
	messagingengine.com; h=content-type:date:from:in-reply-to
	:message-id:mime-version:references:subject:to:x-me-sender
	:x-me-sender:x-sasl-enc:x-sasl-enc; s=fm1; bh=gFA7m8H/Msgu4Bnafi
	i6bbyHJJDLBWlyvw0o+mTgfRQ=; b=rLOrv2m9PS9Bz/esOYO5ATKUnhsnoqilhI
	2WeD3b2ZvEUuBDdCRYRah+eRgynR+9mh0b3f5fNAGJ5K0whYbbmifzqr+a/YiqbK
	lnbPIjoeK7bWgXiUgu1gsidccqN4S+QTee1j5/RA+w0dmjMrzzo8vo9KTJvlanwF
	FkgXA14+j+uhdfepqFomtddf3uWuyPZi9EcGuInnROy1PIxfXw2+DHFZZM81jryN
	m7H+Mkfxm5/V9dViCDUlgoXV2zh4kAykxpw7DTo5wchYb6AawIKJFnRv2lPiYGbt
	yUMrvUY3WOp8rmJ7Ma0LzcvrpGiJbPWygGfxBnMgyhXuPx3AHp9w==
X-ME-Sender: <xms:Abf3WFuaikJyoBXS9q2QJrLj_EofZ41mHMw4oc7Dx6qLUXYCfqNmXA>
X-Sasl-enc: vyzdqzteQwrPh58TMQ0TG+MIew7JKG4iM8z0DnvpMfih 1492629248
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mail.messagingengine.com (Postfix) with ESMTPA id CDB3024519
	for <users@camel.apache.org>; Wed, 19 Apr 2017 15:14:08 -0400 (EDT)
Date: Wed, 19 Apr 2017 12:14:08 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs09A4uxitoqjZPEYfUyVOwPJLMSm69ivi3DOkFd-kiYGA@mail.gmail.com>
In-Reply-To: <1492578616894-5797871.post@n5.nabble.com>
References: <1492578616894-5797871.post@n5.nabble.com>
Subject: Re: Parsing issue with unmarshal and bindy.csv with double quotes
 and commas in a single field
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17583_2004265413.1492629248206"

------=_Part_17583_2004265413.1492629248206
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

You have four fields in the fourth row hence the error.

On Wed, Apr 19, 2017 at 7:10 AM, sadiq [via Camel] <
ml+s465427n5797871h64@n5.nabble.com> wrote:

> I'm experiencing a parsing issue using Bindy to unmarshal a CSV file into
> a List of POJOs (my POJO class is annotated with @CsvRecord).
>
> The CSV file contains the following:
>
> partNumber,longDescription,status
> 123,"1970-84 Windshield Washer Jar, Multi Application",Available
> 234,"1967-75 6 Cyl/ Small Block 9"" Clutch Bellcrank Assembly",Available
> 345,"1971-79 Fan Blade 19-1/2"", 7 Blade",Available
>
> It's the fourth line that is causing an issue: java.lang.IllegalArgumentException:
> No position 4 defined for the field: Available, line: 3 must be specified
> (it says line 3, but I believe that's because my CsvRecord class has the
> skipFirstLine=true)
>
> The CSV parsing seems to be handling commas within a field surrounded by
> double quotes since the 2nd line is okay. It's also handling escaping
> double quotes correctly within fields since the 3rd line is fine too.
>
> But the issue is when commas are present after an escaped double quote
> within a field that is surrounded by double quotes -- it seems to want to
> separate each comma into a new field when it should just be treating it as
> a single field.
>
> I'm using the latest version of Camel 2.18.3 and still observing this
> issue.
>
> My route is:
>
> from("sftp://me@myhost.com?sortBy=file:modified&
> antInclude=*.csv&password=xxxx")
>         .unmarshal()
>         .bindy(BindyType.Csv, ProductDeltaCsvDataModel.class) //throwing
> exception here
>         .to("direct:processCsv");
>
> This is my CsvRecord POJO class:
>
> @CsvRecord(separator = ",", skipFirstLine = true, quote = "\"", quoting =
> true)
> public class ProductDeltaCsvDataModel {
>
>         @DataField(pos = 1, required = true)
>         private String partNumber;
>
>         @DataField(pos = 2)
>         private String longDescription;
>
>         @DataField(pos = 3)
>         private String status;
>
>         //setters and getters
>         ...
> }
>
> I believe this to be a bug unless there is some configuration I need to
> set?
>
> Can someone confirm that this is a bug and how I go about logging this
> bug?
>
> Thanks!
> Sadiq
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Parsing-issue-with-
> unmarshal-and-bindy-csv-with-double-quotes-and-commas-in-a-
> single-field-tp5797871.html
> To start a new topic under Camel - Users, email ml+s465427n465428h31@n5.
> nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Parsing-issue-with-unmarshal-and-bindy-csv-with-double-quotes-and-commas-in-a-single-field-tp5797871p5797940.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_17583_2004265413.1492629248206--

From users-return-65370-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 19 22:11:56 2017
Return-Path: <users-return-65370-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 47B4218FFD
	for <apmail-camel-users-archive@www.apache.org>; Wed, 19 Apr 2017 22:11:56 +0000 (UTC)
Received: (qmail 67772 invoked by uid 500); 19 Apr 2017 22:11:55 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 67726 invoked by uid 500); 19 Apr 2017 22:11:55 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 67714 invoked by uid 99); 19 Apr 2017 22:11:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Apr 2017 22:11:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1848F1857B2
	for <users@camel.apache.org>; Wed, 19 Apr 2017 22:11:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.397
X-Spam-Level:
X-Spam-Status: No, score=-0.397 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id FGgoJtqn8VF4 for <users@camel.apache.org>;
	Wed, 19 Apr 2017 22:11:53 +0000 (UTC)
Received: from mail-wr0-f175.google.com (mail-wr0-f175.google.com [209.85.128.175])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 8B7E75FB64
	for <users@camel.apache.org>; Wed, 19 Apr 2017 22:11:52 +0000 (UTC)
Received: by mail-wr0-f175.google.com with SMTP id z109so24291103wrb.1
        for <users@camel.apache.org>; Wed, 19 Apr 2017 15:11:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=ZthFmaVb8OQKNFIUvGlT5UdmuVou+W2yM1JgtpAilK0=;
        b=b3oJIqQPUiZ+RT09ylG7AO7pVaBUB0i0NtZpQ/6Sx7Vpq1w+tBKMOISDZaHe4u/n/O
         OrTpRAx5RlwzDVUNaUTOXYtGWEZRLGHp2KIyHs8IHa46wHiI32jAdK1ofTr0M9oQMQkm
         5VGlSww2qyTHlaIYmSuelYuptVWktJys9ujOFyBWiKjbNhF3ME0vrTYuigJ7H5Xxw+iS
         vHBbV4GTrbekCWsuquRuVIWAdO1lUp+yk3qfPWDLe+W+lKOT2MzaIaneXepnT06x8zAp
         ScgLglsDgT1Yw5hhc7tgCMog4Mo+Iaj1JniQXsIpm95yVdSHiMs+1fa1dekDHUDgbuTw
         UCKA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=ZthFmaVb8OQKNFIUvGlT5UdmuVou+W2yM1JgtpAilK0=;
        b=cq7Ovux15CBDx5kY8c0w4yEzPfFDXb2sgNh6/kANfyEBf2v+YwS2X40/FI638d42l/
         cLLdvIuwU3jVa2JOVzC84juhpUGLY9AXVR2oZafZeqIwBBNGwhcVArSiknZMOnWGnGPV
         bXzv01kEROMUPylVoLt3ozIzAQPXJXHvzlAj7lSUwL90XhirGpiQQIb0roQ3NHnAlMxv
         cRH73ZSpAqaSM03GtvHh08zZMj5/BWIg2nZ4JhCutrw0sJfGSvKf3qouIA5Oip/lRv0i
         PLw+BN69N9HXIddjI0HTYGoiVaymj85oFyIGyx6QtG13it8PorHpmDm8+6IAuUaIBkWF
         VDOw==
X-Gm-Message-State: AN3rC/7et2i2mO/qLFm1Vou70watamwxxSQAsF9vYEXeVgNFu83V93uy
	zLefDOrObDzYjx4MXTbL/uCnJNJjzA==
X-Received: by 10.223.134.46 with SMTP id 43mr4390646wrv.190.1492639911482;
 Wed, 19 Apr 2017 15:11:51 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.223.176.27 with HTTP; Wed, 19 Apr 2017 15:11:51 -0700 (PDT)
Received: by 10.223.176.27 with HTTP; Wed, 19 Apr 2017 15:11:51 -0700 (PDT)
In-Reply-To: <CALjbH94+OnQcSaXS+refMXZ1UQ1R-quYMpC1UB_FSQsUuPgbKQ@mail.gmail.com>
References: <CALjbH94+OnQcSaXS+refMXZ1UQ1R-quYMpC1UB_FSQsUuPgbKQ@mail.gmail.com>
From: Robson Vargas Farias <robsonvargasfarias@gmail.com>
Date: Wed, 19 Apr 2017 19:11:51 -0300
Message-ID: <CALjbH96rAG52ZZ-96VkMHUTkW94Q5hQHJGEDYKdUkoTp6ujobg@mail.gmail.com>
Subject: Throttle and threads together
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1146b7bcb3997f054d8c4f81

--001a1146b7bcb3997f054d8c4f81
Content-Type: text/plain; charset=UTF-8

Hi, I'm working with a camel route and I'd like to understand the mix
between throttle and threads:



If I introduce on the <camel:throttle configuration a value for the
executorServiceRef, will it execute the same way as wrapped by the
<camel:threads tag?



        <camel:route id="my_route">

                                           <camel:from ref="mq_endpoint" />

                                           <camel:throttle
timePeriodMillis="1000" asyncDelayed="true" executorServiceRef="my_thread_
pool_profile">

                                                          <camel:to
ref="processor_handler_endpoint" />

                                                          ..



is the same as:



                             <camel:route id="my_route">

                                           <camel:from ref="mq_endpoint" />

                                           <camel:throttle
timePeriodMillis="1000">

                                                          <camel:simple>10

                                                          </camel:simple>

                                                          <camel:threads
executorServiceRef="my_thread_pool_profile">


<camel:to ref="processor_handler_endpoint" />

                                                                        ..



?



Thanks,



Robson

--001a1146b7bcb3997f054d8c4f81--

From users-return-65371-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 05:17:02 2017
Return-Path: <users-return-65371-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5DE8C19DAF
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 05:17:02 +0000 (UTC)
Received: (qmail 45039 invoked by uid 500); 20 Apr 2017 05:17:01 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 44992 invoked by uid 500); 20 Apr 2017 05:17:01 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 44977 invoked by uid 99); 20 Apr 2017 05:17:01 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 05:17:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 079831A0172
	for <users@camel.apache.org>; Thu, 20 Apr 2017 05:17:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.879
X-Spam-Level: *
X-Spam-Status: No, score=1.879 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id XsFW8RKLpE0E for <users@camel.apache.org>;
	Thu, 20 Apr 2017 05:16:57 +0000 (UTC)
Received: from mail-oi0-f53.google.com (mail-oi0-f53.google.com [209.85.218.53])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 6071C5F39D
	for <users@camel.apache.org>; Thu, 20 Apr 2017 05:16:56 +0000 (UTC)
Received: by mail-oi0-f53.google.com with SMTP id y11so2467263oie.0
        for <users@camel.apache.org>; Wed, 19 Apr 2017 22:16:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=mq7kuPb2HsQeqEQKYIdXbmAetwz2NwnFlKPUxp5CG9s=;
        b=R9jsiWiqgZoZzXi7oDl9DyxbF79znn4IvOIhMENzDcO4N6CJyzOpMgjbpJLt5etb4c
         9FFWS/u5/gTmcxTAmAE59ZzYVHQK/EXzUkhK05q+0lYzsjNX3teNOTUx0w3gvwrwa2sp
         15HGaSvis+g/m5dEwDPm/z7XvAaDt66qdaHBgg7HVVwjf+DmIEpRLl44EV3Oot0AbXGt
         CoIx1YAfd0HAIF+cGmhvp0RUlHuELhS8ZooQU3+nWsqRDvJoEhKjO4acf1mub27SdZIC
         GJtSqs/ioQkQWzh7bhQzAUDx4CPaID3y52o8dZswQnl17z7Rs7U00DOzueCb+WbmXmcD
         /xeQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=mq7kuPb2HsQeqEQKYIdXbmAetwz2NwnFlKPUxp5CG9s=;
        b=XZljhJTYS+Ok0ltNeCDJVvMV0ZPsDz6C3QrXvczHfDPYZJ7P4UVOvqR21PGLbT2e8m
         Lxj3yeQFYCORsujqYrGOf6rnB0YCcljL+gV+f+JLYefZLX+ZlKEdZR7S5fmFNuAZgda9
         NcsSyJhhyhuju6JPffdWEjCNk42X0IDsAApEDS/Fy73ME+C+JOqHXj26Cns2/WcoE91T
         koe1Fja0+G6r2b6elRO9u6f9+yCmeoH4uO1OGYnT6/KQkeWtswDqrDH0srNob3S5+rfN
         5p/tk7EkipJqGULWX3mu8uUeNcz6niAPfdAWtPgC86nwQr1oHBzUbpugBxFJv0a4HcFg
         5TEA==
X-Gm-Message-State: AN3rC/6bZMwUgLqwcqKuRvFyafdIBG2Osw3nQ0SlPzvgxhLuVkYIcFCB
	1q2vnPs7hJ957CQhyE47fAKhr1WaSZO9Elo=
X-Received: by 10.157.61.52 with SMTP id a49mr3021606otc.30.1492665415053;
 Wed, 19 Apr 2017 22:16:55 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.182.225.133 with HTTP; Wed, 19 Apr 2017 22:16:54 -0700 (PDT)
In-Reply-To: <CAGB5yNkSFPAZhF9=otL4jjZFtHXMFWQoGoaov8xFV76b7MQySg@mail.gmail.com>
References: <CADUzpe432nZf=O_bShjzw9qvqS7Xubc_Bvhf8eifhKPi=VNWSw@mail.gmail.com>
 <CADUzpe6YwyAgZGBSLC9g98oDUkMrnVZ-N_a7SiAsCihSWf-f7A@mail.gmail.com>
 <CADUzpe6F2TvY7kM6S6Kdk-UYpCNxwY77NXp8aR7Reh1PGCGJfQ@mail.gmail.com>
 <CADUzpe4Zp_qhvM2THyc6+L-Pd3nwivhGuyw=k+TZNL64pGPe_g@mail.gmail.com>
 <CADUzpe4_FoBQus3yMvk0m+K_jc8n-66MOC8KCEC7Tyvcv9-N5w@mail.gmail.com>
 <CADUzpe7TMoGVyHVbtDQWxE23coSZxVVwrEXwioTmVm923McZaQ@mail.gmail.com>
 <CADUzpe6QfQciTxY9Xx-8hTs_RQcY_ehzAyZAYvvRNqPaNnRVSQ@mail.gmail.com>
 <CADUzpe4bD6u_7n2Nivje26Uvqa_6GPw6qYWjNYRegnZ70aLeew@mail.gmail.com>
 <CADUzpe5bHsXJoFtwFEJ1_o8SrFQKT1bOmUF6EM8vkjg8NrTUpA@mail.gmail.com>
 <CADUzpe7upq4whYMdZ6PPiuQpvShGaFcLAntALN-Kaz6K-HdO2A@mail.gmail.com>
 <CADUzpe6Nj0vTfpdnHxsreDT8m_Q1Om8iHzF624yvw1BAQgtD9Q@mail.gmail.com>
 <CADUzpe4g=_e2BeWcvEug9Sj7LcbDVMEgRT=7S6nnvOMKXS0eMw@mail.gmail.com>
 <CADUzpe7pXptw7phTajnq_8-ho3CEdG39PrNF1NwFhcmLiiL8aw@mail.gmail.com>
 <CADUzpe7QgvpT8x80UPixxpHR_MXtDr3Y6Mn-oiHbnF=wP67AAw@mail.gmail.com>
 <CABD_Zr-1MfR7kP+xHv3AN2HAuH7=tBTK-s7m_9cwogysqYRxyA@mail.gmail.com>
 <CADUzpe5K4Qy=Dtu=9Qgnz4HoXXnLfp2UkShMgACy-n-Kv77XZg@mail.gmail.com>
 <CABD_Zr95vrZzdwYTZFoQcKy-s3Xe8oG1uSUf3k-=+TSBPyNaYQ@mail.gmail.com>
 <CADUzpe71EqzOsSBk3XDx6hLAM9UTMYMOs6JPKaVgqQOp7H45TA@mail.gmail.com>
 <CADUzpe75hQ9n+Cdz-NYvcuoDP=Pi-JyyRnb+Yc=1u9Ff5QqqNQ@mail.gmail.com>
 <CADUzpe681vK66TONtOUbrn6p_PkDjqcVUfFhswuhueEdqszKsQ@mail.gmail.com> <CAGB5yNkSFPAZhF9=otL4jjZFtHXMFWQoGoaov8xFV76b7MQySg@mail.gmail.com>
From: Henrique Viecili <viecili@gmail.com>
Date: Thu, 20 Apr 2017 15:16:54 +1000
Message-ID: <CA+2r3Z7WAr7uX=R2OFBPOFKvj5gG1TpXXYyQJZ78d=-3doGC7A@mail.gmail.com>
Subject: Re: Curious routing case
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a11409322d537a0054d923f92

--001a11409322d537a0054d923f92
Content-Type: text/plain; charset=UTF-8

Hi Artur,

As your group set is unbounded, you may need to look at creating
(in-memory) queues and routes at runtime and attaching them to a camel
context (or spawning their own context). You can use some camel trickery
with DefaultCamelContext + RouteDefinition, it's ugly but it should work.

Regards,
Henrique



Henrique Viecili

On 12 April 2017 at 01:06, Claus Ibsen <claus.ibsen@gmail.com> wrote:

> If you use ActiveMQ you can use its message grouping support
> http://activemq.apache.org/message-groups.html
>
> And Apache Kafka has topics where you can use partition ids to group
> by A, B, C and then have parallel processing of each group.
>
> Not sure SQS has such advanced features.
>
> Its a bit brittle to have to write java code or split / aggregate eip
> patterns in camel to do this, and if you want to have some level of
> transaction guarantees. All EIP patterns in camel are transient and
> dont persist their state etc.
>
> in other words try to use a better messaging system.
>
>
> On Tue, Apr 11, 2017 at 3:31 PM, Artur Jablonski
> <ajablonski@ravenpack.com> wrote:
> > I guess one thing that come to my mind is to hide all this parallel stuff
> > inside a processor, that would just spit out on the other end the result
> of
> > processing all those messages. It would handle grouping and serializing
> and
> > stuff I guess that would reduce the complexity of the route with a cost
> of
> > complexity of the processor. I have no better ideas anyway, so I will
> give
> > it a go
> >
> > On Tue, Apr 11, 2017 at 10:45 AM, Artur Jablonski <
> ajablonski@ravenpack.com>
> > wrote:
> >
> >> Hello,
> >>
> >> I don't think this route definition is fitting my use case, though I
> >> learnt a thing or two about the interesting patterns linked. Thanks!
> >>
> >> Ok, so let me try to clarify the use case.
> >>
> >>
> >> 1. The stream is infinite, it's not a batch job. The messages keep on
> >> coming from SQS 'all the time'
> >>
> >> 2. More important thing is about parallel processing.
> >>
> >> Let A1 denote a message 1 from group A, B2 message 2 from group B, etc.
> >>
> >> Let's say this is the order in which the messages happen to appear
> >>  in the route from SQS
> >>
> >> A1, A2, B1, C1, B2, A3, C2, B3
> >>
> >> Now what I am trying to achieve is grouping the messages that have to be
> >> processed sequentially (order doesn't matter as long as no two messages
> >> from the same group are processed at the same time).
> >> So I am trying to somehow get these streams
> >>
> >> A1, A2, A3
> >>
> >> B1, B2, B3
> >>
> >> C1, C2
> >>
> >>
> >> So, A1 B1 and C1 can be processed in parallel because they are from
> >> different groups, but the messages within groups need to be processed
> one
> >> by one.
> >>
> >> In my example, there are 3 groups, but there can be many and I don't
> know
> >> what they are in advance. The processing logic between the groups is
> >> similar and is a function of the group so I can get a processor for
> group A
> >> from a method call getProcessor(A), B getProcessor(B), etc.
> >>
> >> I am stuck at how to do that in Camel, because since I don't know the
> >> groups in advance, I would need to create processing routes dynamically.
> >>
> >> Say the system starts, and A1 arrives, there can't be any processor for
> >> group A yet, since it's the first message from the group and I need to
> >> somehow dynamically add processing capability of the group A to the
> route
> >> and then perhaps if the messages from group A stop arriving for some
> time,
> >> that processor could be removed.
> >>
> >> How to add the parallel part between the group messages is also blurry
> to
> >> me. One way of doing this I was thinking was to do a multicast to all
> the
> >> dynamically created processing routes for groups and stick a filter
> before
> >> so that only messages from particular group can go through. From
> multicast
> >> page:
> >>
> >> from("direct:a").multicast().parallelProcessing().to("direct:x",
> >> "direct:y", "direct:z");
> >>
> >> But here the x,y,z endpoints are hardcoded. I could write up some custom
> >> multicast I suppose to search the routes in CamelContext...... not sure.
> >>
> >> Thanks
> >> Artur
> >>
> >>
> >>
> >>
> >>
> >> On Mon, Apr 3, 2017 at 1:36 PM, Artur Jablonski <
> ajablonski@ravenpack.com>
> >> wrote:
> >>
> >>> Hi Zoran,
> >>>
> >>> Thank you for such detailed response. This looks very promising. i will
> >>> need to get my head around the aggregator pattern.
> >>> For this week I will be busy with other tasks, but I will get back to
> it
> >>> as soon as I can to see if I can get Camel work for the use case.
> >>>
> >>> Cheerio
> >>> Artur
> >>>
> >>> On Mon, Apr 3, 2017 at 11:09 AM, Zoran Regvart <zoran@regvart.com>
> wrote:
> >>>
> >>>> Hi Artur,
> >>>> I was thinking that the order of the messages would be important as
> >>>> you need to process them sequentially.
> >>>>
> >>>> So I think you could use the dynamic message routing[1] with
> >>>> aggregator[2], something like:
> >>>>
> >>>>     from("aws-sqs:...")
> >>>>         .process("#preProcess")
> >>>>         .toD("direct:${header.nextRoute}");
> >>>>
> >>>>     from("direct:parallel")...;
> >>>>     from("direct:sequential").aggregate(simple("${header.group}"
> >>>> )).completion..;
> >>>>
> >>>> So from yout SQS queue you would use a processor to pre-process
> >>>> message whose responsibility would be to set the (custom) `nextRoute`
> >>>> and (custom) `group` headers. `nextRoute` would be `parallel` or
> >>>> `sequential`, and if `sequential` the messages would be aggregated
> >>>> using the `group` header.
> >>>>
> >>>> You would want to define your own custom aggregation strategy or use
> >>>> the completion* options that are available to you. There also might be
> >>>> need to use seda[3] to fine tune any parallel processing. You might
> >>>> throw in there a data format unmarshaller[4] instead of the
> >>>> `preProcess` processor and use something like `${body.xyz} == foo` in
> >>>> the `toD` expression.
> >>>>
> >>>> And I would guess that you need to examine transactions or persistence
> >>>> at some point also in case your aggregation step runs for a long time
> >>>> or if your use case is sensitive to message loss if interrupted --
> >>>> which would undoubtedly lead you back to using queues to separate
> >>>> those two ways of processing,
> >>>>
> >>>> HTH,
> >>>>
> >>>> zoran
> >>>>
> >>>> [1] https://camel.apache.org/message-endpoint.html
> >>>> [2] https://camel.apache.org/aggregator2.html
> >>>> [3] https://camel.apache.org/seda.html
> >>>> [4] https://camel.apache.org/data-format.html
> >>>>
> >>>> On Sat, Apr 1, 2017 at 1:09 PM, Artur Jablonski
> >>>> <ajablonski@ravenpack.com> wrote:
> >>>> > Hey Zoran.
> >>>> >
> >>>> > I read again the patterns you mentioned. In my use case the order of
> >>>> > processing within a group doesn't matter as long as two messages
> from
> >>>> the
> >>>> > same group are never processed in parallel. So i guess resenquencer
> is
> >>>> out
> >>>> > of the picture unless I didn't get the intention.
> >>>> >
> >>>> > So what we are left with is the content based router. Sure. The
> message
> >>>> > comes, i can see what group it belongs two... And what next? Perhaps
> >>>> it's
> >>>> > the very first message from that group so I would need to trigger
> >>>> creating
> >>>> > route/processor for that group somehow, perhaps messages from this
> >>>> group
> >>>> > were processed before in which case the processor for the group
> should
> >>>> > already exist...
> >>>> >
> >>>> >
> >>>> >
> >>>> >
> >>>> > On 31 Mar 2017 7:58 p.m., "Zoran Regvart" <zoran@regvart.com>
> wrote:
> >>>> >
> >>>> >> Hi Artur,
> >>>> >> have a look at Camel EIP page[1], what you describe sounds to me
> like
> >>>> >> Resequencer and Content based router patterns,
> >>>> >>
> >>>> >> zoran
> >>>> >>
> >>>> >> [1] https://camel.apache.org/eip.html
> >>>> >>
> >>>> >> On Fri, Mar 31, 2017 at 5:08 PM, Artur Jablonski
> >>>> >> <ajablonski@ravenpack.com> wrote:
> >>>> >> > Hello.
> >>>> >> >
> >>>> >> > I wonder if someone could push me in the right direction trying
> to
> >>>> >> express
> >>>> >> > quite curious case in Camel route.
> >>>> >> >
> >>>> >> > Imagine there's a stream of messages some of which can be
> processed
> >>>> in
> >>>> >> > parallel and some have to be processed serially. You can group
> the
> >>>> >> messages
> >>>> >> > that require serial processing together by looking at the message
> >>>> body.
> >>>> >> You
> >>>> >> > don't know upfront how many groups can occur in the stream.
> >>>> >> >
> >>>> >> > The way I thought about doing this is having a route for each
> >>>> message
> >>>> >> > group. Since I don't know upfront how many and what groups there
> >>>> will be
> >>>> >> > then I would need to create routes dynamically. If a message
> comes
> >>>> >> > belonging to a group that doesn't have it's handling route, then
> i
> >>>> could
> >>>> >> > create it (is that even possible??) Then if there's no messages
> >>>> coming
> >>>> >> for
> >>>> >> > a given group in some time I could remove the route for the
> group to
> >>>> >> > cleanup (is that possible?)
> >>>> >> >
> >>>> >> > New to Camel
> >>>> >> >
> >>>> >> > Thx!
> >>>> >> > Artur
> >>>> >>
> >>>> >>
> >>>> >>
> >>>> >> --
> >>>> >> Zoran Regvart
> >>>> >>
> >>>>
> >>>>
> >>>>
> >>>> --
> >>>> Zoran Regvart
> >>>>
> >>>
> >>>
> >>
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>

--001a11409322d537a0054d923f92--

From users-return-65372-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 06:58:30 2017
Return-Path: <users-return-65372-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7BBE1180EA
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 06:58:30 +0000 (UTC)
Received: (qmail 98709 invoked by uid 500); 20 Apr 2017 06:58:30 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 98686 invoked by uid 500); 20 Apr 2017 06:58:30 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 19611 invoked by uid 99); 19 Apr 2017 17:03:10 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.767
X-Spam-Level: **
X-Spam-Status: No, score=2.767 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, DKIM_SIGNED=0.1, DKIM_VALID=-0.1,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_SOFTFAIL=0.972,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=messagingengine.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
	messagingengine.com; h=content-transfer-encoding:content-type
	:date:from:message-id:mime-version:subject:to:x-me-sender
	:x-me-sender:x-sasl-enc:x-sasl-enc; s=fm1; bh=UEwgdbtE50Rm1T0CKW
	CdyrqNqFc+NUVGSgWYqJUhHds=; b=BC4XzpW9Hnpo1fpQ9TnRUeB2SY+X+CGPjm
	YJ1tkTIN77wKykU8YyYDUGZeHaejQtT6r3E/XKoAZRAjpFXa8RgglBtiU/yWxdBt
	5/qOnRG6VRtypyk9+DKWw6IAgVpL9x3onud/6fmlgLPv1g70nL2RYKO4BCBUoHrd
	28HieIyVk29MgSopDBFsp7WvBtZm+KBA/l6xcaP168PjqDHsV5VDZS/wJtIlidp0
	OhLumNkmWpd8YlCKbzda4nijxa17RKquX8wq35AnM6I4nz1TfjaWmIzm1AN1JO27
	m/ksx5rywZz0szRe6vqMJDMU31S6K3aVzOixEMf3hiZEUaw6HDTg==
X-ME-Sender: <xms:RZj3WN9cZVpOeiRzuxXvI1Lazr9CN22_ngS3xY2Az1Qv6OF1aSGoZg>
X-Sasl-enc: LPB/UG831u5XXAwAD5veVfWNS7NEutjTkP1DSH4LlVF8 1492621381
Date: Wed, 19 Apr 2017 10:03:00 -0700 (MST)
From: teikitel <loic.teikiteetini.vaysse@gmail.com>
To: users@camel.apache.org
Message-ID: <1492621380630-5797937.post@n5.nabble.com>
Subject: JPA consumer component is not handling multiple server concurrent
 polling
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

I am running the same Camel application on four different servers and JPA
camel component is not properly managing exclusive locks on polled rows.
This is how we configured our route :

@Override
    public void configure() throws Exception {
        // @formatter:off
		from("jpa://Toto?lockModeType=PESSIMISTIC_READ"
		        + "&consumeDelete=false"
				+ "&consumeLockEntity=true"
				+ "&consumer.SkipLockedEntity=true"
				+ "&maximumResults=10"
				+ "&sharedEntityManager=true"
				+ "&joinTransaction=false"
				+ "&delay=200"
				+ "&consumer.query=select t from Toto t where t.consumed = 0")
		    .bean(totoAction, "consumeToto")
		    .process(exchange-> System.out.println(exchange.getIn().getBody()));
		// @formatter:on
    }

Inserting 20 rows at the same time while 2 servers are running the app
causes some entities to be processed by both servers.

Do you know a nice work around to fix my problem ?

I can easily share you my sources if you need to reproduce it.

Thanks for this great framework,

Loic



--
View this message in context: http://camel.465427.n5.nabble.com/JPA-consumer-component-is-not-handling-multiple-server-concurrent-polling-tp5797937.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65373-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 09:04:59 2017
Return-Path: <users-return-65373-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B5F818783
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 09:04:58 +0000 (UTC)
Received: (qmail 64238 invoked by uid 500); 20 Apr 2017 09:04:58 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 64185 invoked by uid 500); 20 Apr 2017 09:04:57 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 64173 invoked by uid 99); 20 Apr 2017 09:04:57 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 09:04:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C286E1AF9FC
	for <users@camel.apache.org>; Thu, 20 Apr 2017 09:04:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -5.003
X-Spam-Level:
X-Spam-Status: No, score=-5.003 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_HI=-5, RP_MATCHES_RCVD=-0.001,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 64JmasAahj2L for <users@camel.apache.org>;
	Thu, 20 Apr 2017 09:04:54 +0000 (UTC)
Received: from mailsecgw01.visana.ch (mailsecgw01.visana.ch [217.192.234.114])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 4E9AA5FB40
	for <users@camel.apache.org>; Thu, 20 Apr 2017 09:04:44 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="5.37,225,1488841200"; 
   d="scan'208";a="15856849"
Received: from a0zbrn13.visana.intra ([192.168.51.13])
  by mailsecgw01-int.visana.ch with ESMTP/TLS/AES256-SHA; 20 Apr 2017 11:04:33 +0200
Received: from a0zbrn11.visana.intra (192.168.51.11) by a0zbrn13.visana.intra
 (192.168.51.13) with Microsoft SMTP Server (TLS) id 15.0.1178.4; Thu, 20 Apr
 2017 11:04:32 +0200
Received: from a0zbrn11.visana.intra ([fe80::ec82:1f65:8ed9:4894]) by
 a0zbrn11.visana.intra ([fe80::ec82:1f65:8ed9:4894%12]) with mapi id
 15.00.1178.000; Thu, 20 Apr 2017 11:04:32 +0200
From: Burkard Stephan <Stephan.Burkard@visana.ch>
To: "Camel Userlist (users@camel.apache.org)" <users@camel.apache.org>
Subject: Extensible Camel routes
Thread-Topic: Extensible Camel routes
Thread-Index: AdK5sdP7lHScm5m1Sjic4nFe/EOHmg==
Date: Thu, 20 Apr 2017 09:04:32 +0000
Message-ID: <c8ae2b0f7c62430ea04a7fce955a0b30@a0zbrn11.visana.intra>
Accept-Language: de-CH, en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-ms-exchange-transport-fromentityheader: Hosted
x-originating-ip: [192.168.39.50]
x-tm-as-product-ver: SMEX-11.0.0.1191-8.100.1062-23018.005
x-tm-as-result: No--11.506700-5.000000-31
x-tm-as-user-approved-sender: No
x-tm-as-user-blocked-sender: No
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

SGkgQ2FtZWwgdXNlcnMNCg0KTGV0J3Mgc2F5IEkgaGF2ZSB0aGlzIGdlbmVyaWMgZmlsZSB0byBK
TVMgcm91dGUgSSB3b3VsZCBsaWtlIHRvIHB1dCBpbiBhIGxpYnJhcnkuDQoNCmZyb20oZGlyZWN0
b3J5P29wdGlvbnMuLi4pDQogICAucm91dGVJZCgiYmFzaWNGaWxlVG9KbXNSb3V0ZSIpDQogICAu
bG9nKExvZ2dpbmdMZXZlbC5JTkZPLCAiW0ZJTEVSRUFERVJdLCBmaWxlOiAke2luLmhlYWRlci5D
YW1lbEZpbGVOYW1lfSIpDQogICAudG8ocXVldWVFbmRwb2ludFVyaSk7DQoNCg0KVGhlbiBJIHdv
dWxkIGxpa2UgdG8gYnVpbGQgbXVsdGlwbGUgbW9kdWxlcyB3aG8gdXNlIHRoZSByb3V0ZSB3aGVy
ZSBlYWNoIG1vZHVsZSBoYXMgaXRzIG93biBjb25maWd1cmF0aW9uIChkaXJlY3RvcnksIHF1ZXVl
IGV0YykuIA0KDQpCdXQgc29tZSBvZiB0aGVtIGhhdmUgYWxzbyBhZGRpdGlvbmFsIHJlcXVpcmVt
ZW50cywgZm9yIGV4YW1wbGUgc3BsaXQgbGFyZ2UgWE1MIGZpbGVzOiANCg0KZnJvbShkaXJlY3Rv
cnk/b3B0aW9ucy4uLikNCiAgIC5yb3V0ZUlkKCJiYXNpY0ZpbGVUb0ptc1JvdXRlIikNCiAgIC5s
b2coTG9nZ2luZ0xldmVsLklORk8sICJbRklMRVJFQURFUl0sIGZpbGU6ICR7aW4uaGVhZGVyLkNh
bWVsRmlsZU5hbWV9IikNCj0+ICAgLnNwbGl0KCkudG9rZW5pemVYTUwoU1BMSVRURVJfRUxFTUVO
VF9OQU1FKS5zdHJlYW1pbmcoKQ0KICAgLnRvKHF1ZXVlRW5kcG9pbnRVcmkpOw0KDQoNCklzIHRo
ZXJlIGEgYmVzdCBwcmFjdGljZSBhcHByb2FjaCB0byBleHRlbmQgYSBiYXNpYyByb3V0ZSBsaWtl
IHRoaXMgaW4gYW5vdGhlciBtb2R1bGU/DQoNClRoYW5rcw0KU3RlcGhhbg0KDQo=

From users-return-65374-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 09:25:45 2017
Return-Path: <users-return-65374-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B361018815
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 09:25:45 +0000 (UTC)
Received: (qmail 10427 invoked by uid 500); 20 Apr 2017 09:25:45 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 10378 invoked by uid 500); 20 Apr 2017 09:25:45 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 10366 invoked by uid 99); 20 Apr 2017 09:25:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 09:25:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 205CF1813D5
	for <users@camel.apache.org>; Thu, 20 Apr 2017 09:25:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.379
X-Spam-Level:
X-Spam-Status: No, score=0.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 0T_HieC1C-wi for <users@camel.apache.org>;
	Thu, 20 Apr 2017 09:25:43 +0000 (UTC)
Received: from mail-qt0-f169.google.com (mail-qt0-f169.google.com [209.85.216.169])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id D990C5F1D5
	for <users@camel.apache.org>; Thu, 20 Apr 2017 09:25:42 +0000 (UTC)
Received: by mail-qt0-f169.google.com with SMTP id m36so40076228qtb.0
        for <users@camel.apache.org>; Thu, 20 Apr 2017 02:25:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=PXMbG4EmKV2FtrHnfnwbanJrJaP8pqjzdmC3oD5GFx4=;
        b=XYqL8th+1by95whexr4ZJ/8Z0QbyLMLN7b2LZVyO7y+qsV9VHCuaoiMvNBbJ9HdEnt
         LWqt81VRj02e4AIoRolYz7zZf9hyflk2bPxRhfeo9nUisE91wpLhZ6h/biDUBkxgBZKH
         /Pahry8BTP40tzfyc6P1WKCruLn1GcrtqnQzATxYL+99Tx7KQv+vq3iZfINqiCLu04iw
         DJDl4Bff/rfN9D7oFDQ/uxm8H8/aKjCr65Edn/G0fMLFro5rraTuPchbI3q5xmjvnUEu
         W04Te0ox7HhAGGwYLpQOHvXGSMTAGxjiBraEA46pnKzSPesvBqQuAMENV1QgCzoMlIBc
         +Uyg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=PXMbG4EmKV2FtrHnfnwbanJrJaP8pqjzdmC3oD5GFx4=;
        b=ZFmL6A1/naZfaMgzsZ6/ri6E+zEhy8fZqRPeep237xbKTJOhpfVzsAdej6yZzfdKHz
         PoebRAWRPBn0dCoT/3I/6NaJP79pd1rFU12k7MHI57b1iZh1ivQT13IH7AxGOUxXob96
         71EJC6sEIhEzLZhuO5/AvcQ8jf5r/tCi3B3rTPtA/p3CyxMiDz9b5h5bBBcdIz9d9qpQ
         znNUldRJNYea1PeVyMs1fgdbJ1DlJp3ElBHrU/l4m+iS3mY0kut0ktKafwgyqfBNkRdg
         mC142AWTPknNirQBtQvL0CZVPXV5q01zfWfl0lzXLYEQoMCDAcVVaC40cEljO2IwFGSO
         Hmqg==
X-Gm-Message-State: AN3rC/7d8z2LPX97dfK1WGB4zcF6kbHOUl0bXFUzjLgKqhQE8VbvWHm3
	sGd0RNZkp7RPRNr74YN7MiKjnowdFqdm
X-Received: by 10.237.49.161 with SMTP id 30mr7510570qth.53.1492680341748;
 Thu, 20 Apr 2017 02:25:41 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Thu, 20 Apr 2017 02:25:21 -0700 (PDT)
In-Reply-To: <c8ae2b0f7c62430ea04a7fce955a0b30@a0zbrn11.visana.intra>
References: <c8ae2b0f7c62430ea04a7fce955a0b30@a0zbrn11.visana.intra>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Thu, 20 Apr 2017 11:25:21 +0200
Message-ID: <CAGB5yNk9wrbGv2M3mi2+-oxK2wy129HDZWLokxDXQ3CZ6O76sg@mail.gmail.com>
Subject: Re: Extensible Camel routes
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

A RouteBuilder is essentially just java, so you can create base
classes / abstract classes and have getter/setter (or what you prefer)
for configuration.

You can also use java's if .. else .. etc to add parts to the route if
you need. You can then put the routes together using the model classes
(the xxxDefinition).

But try to not make this to complex / confusing to maintain. You may
want to have special routes for splitter vs non splitter etc.


On Thu, Apr 20, 2017 at 11:04 AM, Burkard Stephan
<Stephan.Burkard@visana.ch> wrote:
> Hi Camel users
>
> Let's say I have this generic file to JMS route I would like to put in a library.
>
> from(directory?options...)
>    .routeId("basicFileToJmsRoute")
>    .log(LoggingLevel.INFO, "[FILEREADER], file: ${in.header.CamelFileName}")
>    .to(queueEndpointUri);
>
>
> Then I would like to build multiple modules who use the route where each module has its own configuration (directory, queue etc).
>
> But some of them have also additional requirements, for example split large XML files:
>
> from(directory?options...)
>    .routeId("basicFileToJmsRoute")
>    .log(LoggingLevel.INFO, "[FILEREADER], file: ${in.header.CamelFileName}")
> =>   .split().tokenizeXML(SPLITTER_ELEMENT_NAME).streaming()
>    .to(queueEndpointUri);
>
>
> Is there a best practice approach to extend a basic route like this in another module?
>
> Thanks
> Stephan
>



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65375-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 09:35:42 2017
Return-Path: <users-return-65375-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D95521888C
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 09:35:42 +0000 (UTC)
Received: (qmail 40983 invoked by uid 500); 20 Apr 2017 09:35:42 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 40933 invoked by uid 500); 20 Apr 2017 09:35:42 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 40908 invoked by uid 99); 20 Apr 2017 09:35:37 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 09:35:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 97EC5C66D5
	for <users@camel.apache.org>; Thu, 20 Apr 2017 09:35:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.321
X-Spam-Level:
X-Spam-Status: No, score=-0.321 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id h7MiYKNeOkN2 for <users@camel.apache.org>;
	Thu, 20 Apr 2017 09:35:33 +0000 (UTC)
Received: from mail-qt0-f180.google.com (mail-qt0-f180.google.com [209.85.216.180])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 43FC460CFC
	for <users@camel.apache.org>; Thu, 20 Apr 2017 09:35:33 +0000 (UTC)
Received: by mail-qt0-f180.google.com with SMTP id g60so40251702qtd.3
        for <users@camel.apache.org>; Thu, 20 Apr 2017 02:35:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=LForc3+xxWEu1T9ldhbqkTIOVLKlSlZTm1FtTLfN0EM=;
        b=TruAWLpQkvVc9jQZhXeYf/Wb5k62PxVWgDlwRguYFa2HSxYcgjpnOlmTFxobkcOm4c
         AVDCSqPUdNv1gk3fZW9nttWrc3FjH/SC7iLJR1670z9Xju8Wv03vdupHUnCPPJ6zItUX
         povLpJMNZzyPF5nzBNdWtjb7dIu9bHyOcCNgoPv5SsiJz0FQimHOqxE2pYmfHrpjLmcc
         2EyqAbA38pW7Z9BQ+WZM3ktMNxGTCujlp0zwLDhD3rDYUoAPK0pbk6KB46w5akLy8H+q
         cRG4L3BGc+riYRuA3eZRPV59vji4dJvG8eOAMLC3TlegB17zenGY4ncq/4UPmxwxR0d3
         u8GQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=LForc3+xxWEu1T9ldhbqkTIOVLKlSlZTm1FtTLfN0EM=;
        b=IYgK6DAj0UMSJqpb53hTOmPTDRxo6Y8bRTvH0XpvQwrSy2E3AhCQw0+EcWrFKpRtqK
         JgO9ReZqjh2BzdOgMjtAtTGDZA58FdY6g30b77MMQ5f967SwqSr7LmrV4gpbPUj+ZAO0
         40EIk/d7LyX0LccDvO0e1C9KBAkY0jkgFvCXhP5zeoLRwMsABZiKN3JfsgIOj6rtq1w4
         iSSUjRKmQGnWv6GunCJQE/oAVJfjN5CXjaDfEPulbM9bsCkTGTCQJNpes5C+VrWB6uF2
         mDALklC2+orxXkauXaV9DDrfKUMP7/KsbCNkl8UKh/yxHb0Aibv1dL66ruIEn9+BFV+V
         F9nQ==
X-Gm-Message-State: AN3rC/4En36/gc4rd9blNBBkX+x/hZc7fu0/E+E+kkkIIQ98PMgd2kf4
	3EudA4JK5WvDqxq9kiCbUK61ihff6bf3
X-Received: by 10.200.49.207 with SMTP id i15mr6826718qte.137.1492680932142;
 Thu, 20 Apr 2017 02:35:32 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Thu, 20 Apr 2017 02:35:11 -0700 (PDT)
In-Reply-To: <CALjbH96rAG52ZZ-96VkMHUTkW94Q5hQHJGEDYKdUkoTp6ujobg@mail.gmail.com>
References: <CALjbH94+OnQcSaXS+refMXZ1UQ1R-quYMpC1UB_FSQsUuPgbKQ@mail.gmail.com>
 <CALjbH96rAG52ZZ-96VkMHUTkW94Q5hQHJGEDYKdUkoTp6ujobg@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Thu, 20 Apr 2017 11:35:11 +0200
Message-ID: <CAGB5yNke_PdL9BXO9_TjyP5DhYkJHR+yKb9ttpxNeksNYBbKqQ@mail.gmail.com>
Subject: Re: Throttle and threads together
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

If you use both throttle and threads then they each process the
message using a thread pool. It may not make as much sense to use both
of them.

If using both you also may end up with the throttler and the threads
not keeping the same pace when processing messages, and you end up
with pending messages waiting in the thread pool queue list.



On Thu, Apr 20, 2017 at 12:11 AM, Robson Vargas Farias
<robsonvargasfarias@gmail.com> wrote:
> Hi, I'm working with a camel route and I'd like to understand the mix
> between throttle and threads:
>
>
>
> If I introduce on the <camel:throttle configuration a value for the
> executorServiceRef, will it execute the same way as wrapped by the
> <camel:threads tag?
>
>
>
>         <camel:route id="my_route">
>
>                                            <camel:from ref="mq_endpoint" />
>
>                                            <camel:throttle
> timePeriodMillis="1000" asyncDelayed="true" executorServiceRef="my_thread_
> pool_profile">
>
>                                                           <camel:to
> ref="processor_handler_endpoint" />
>
>                                                           ..
>
>
>
> is the same as:
>
>
>
>                              <camel:route id="my_route">
>
>                                            <camel:from ref="mq_endpoint" />
>
>                                            <camel:throttle
> timePeriodMillis="1000">
>
>                                                           <camel:simple>10
>
>                                                           </camel:simple>
>
>                                                           <camel:threads
> executorServiceRef="my_thread_pool_profile">
>
>
> <camel:to ref="processor_handler_endpoint" />
>
>                                                                         ..
>
>
>
> ?
>
>
>
> Thanks,
>
>
>
> Robson



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65376-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 12:43:09 2017
Return-Path: <users-return-65376-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 81EC81811F
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 12:43:09 +0000 (UTC)
Received: (qmail 14542 invoked by uid 500); 20 Apr 2017 12:43:04 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 14488 invoked by uid 500); 20 Apr 2017 12:43:04 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 14475 invoked by uid 99); 20 Apr 2017 12:43:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 12:43:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 5FD6BC28F9
	for <users@camel.apache.org>; Thu, 20 Apr 2017 12:43:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.879
X-Spam-Level: *
X-Spam-Status: No, score=1.879 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 9WkUU8CsLgO1 for <users@camel.apache.org>;
	Thu, 20 Apr 2017 12:42:59 +0000 (UTC)
Received: from mail-wm0-f45.google.com (mail-wm0-f45.google.com [74.125.82.45])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 215395F39D
	for <users@camel.apache.org>; Thu, 20 Apr 2017 12:42:59 +0000 (UTC)
Received: by mail-wm0-f45.google.com with SMTP id o81so102665594wmb.1
        for <users@camel.apache.org>; Thu, 20 Apr 2017 05:42:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=UpjlqgBPLErmQ4cYsAStPRDIX/Yj6XZUPjAEN85BTRE=;
        b=nBB7blYcHcMmPpnH54kHgdA0PLsxuOZFmw20MZC/+QvV3QBYW0n4S5mus3TOr8rjlX
         Iy5X4a1N69cAyZDexkVxC+DTQmeMCilWNv2L9uzxV8noMLtCKJLca3IlB6/FCE/id80V
         NyqCjeiaKDWvQUbo0r+HxUwXuxbnjD06TbYdEPP185WyP9P5HGoKMpiOAqINnItho+Mf
         0MBKaDBvmwAE4NrxacdcW6KHL6H6ytWcAGSGcKzYOXPL7hYcHC3PTeqNkUdLa1LEUqq/
         +GFfc/QWK9fsXlxuXe9JXvkVk44yaYnxLhzZWtcxi1UTg+9P0HoQ/CyuxCERDR9Ckrwv
         DxdA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=UpjlqgBPLErmQ4cYsAStPRDIX/Yj6XZUPjAEN85BTRE=;
        b=BF0oI1cmUfjQAyB+5q26HAuAlpK5eWhd8cGpM60EmU3xh1uWjBEf3vUX68EDoa8gPB
         rkOXuqkK56pRSP/ND8ttmHSaUjdiGXZT5MiU0owqqlnXopDBmTQfKBqGPOB8WYc5PdyC
         g9ivFUT9G3pUImzqgFAQY1DA/TDZbkWoXXG+grvlcMZa9ELrgDFPF60aDy4s0oJhY1HQ
         ZSxTmnyp30JJN7aibxlO2ODj7EiC0g4AQiLSBSbG0TKcklQRuBE+f34Rt7okBdcE2tce
         qQZAHwvnSbTnazDxN1uaNp4kvCUTfHnZzCMwfYuPtVvvqGtjGRHx5EoFlEmGfKs6/uop
         4llw==
X-Gm-Message-State: AN3rC/6ZPXxJZZs4wHFbhXa/jgGcXWreIpattxM80UmHt/33yFdLHYGe
	CnL0O8Hg/JCLNk8hqvwfGM6p62ftPw==
X-Received: by 10.28.50.195 with SMTP id y186mr2908378wmy.5.1492692178657;
 Thu, 20 Apr 2017 05:42:58 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.223.176.27 with HTTP; Thu, 20 Apr 2017 05:42:58 -0700 (PDT)
In-Reply-To: <CAGB5yNke_PdL9BXO9_TjyP5DhYkJHR+yKb9ttpxNeksNYBbKqQ@mail.gmail.com>
References: <CALjbH94+OnQcSaXS+refMXZ1UQ1R-quYMpC1UB_FSQsUuPgbKQ@mail.gmail.com>
 <CALjbH96rAG52ZZ-96VkMHUTkW94Q5hQHJGEDYKdUkoTp6ujobg@mail.gmail.com> <CAGB5yNke_PdL9BXO9_TjyP5DhYkJHR+yKb9ttpxNeksNYBbKqQ@mail.gmail.com>
From: Robson Vargas Farias <robsonvargasfarias@gmail.com>
Date: Thu, 20 Apr 2017 09:42:58 -0300
Message-ID: <CALjbH94WbCF8VzZUO0Hc9BFpAhjX7PhnPk024P_2+C96945+gQ@mail.gmail.com>
Subject: Re: Throttle and threads together
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1141d282116932054d987b78

--001a1141d282116932054d987b78
Content-Type: text/plain; charset=UTF-8

Hi Claus, thanks for your answer. Sure, it make sense.


2017-04-20 6:35 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:

> If you use both throttle and threads then they each process the
> message using a thread pool. It may not make as much sense to use both
> of them.
>
> If using both you also may end up with the throttler and the threads
> not keeping the same pace when processing messages, and you end up
> with pending messages waiting in the thread pool queue list.
>
>
>
> On Thu, Apr 20, 2017 at 12:11 AM, Robson Vargas Farias
> <robsonvargasfarias@gmail.com> wrote:
> > Hi, I'm working with a camel route and I'd like to understand the mix
> > between throttle and threads:
> >
> >
> >
> > If I introduce on the <camel:throttle configuration a value for the
> > executorServiceRef, will it execute the same way as wrapped by the
> > <camel:threads tag?
> >
> >
> >
> >         <camel:route id="my_route">
> >
> >                                            <camel:from ref="mq_endpoint"
> />
> >
> >                                            <camel:throttle
> > timePeriodMillis="1000" asyncDelayed="true"
> executorServiceRef="my_thread_
> > pool_profile">
> >
> >                                                           <camel:to
> > ref="processor_handler_endpoint" />
> >
> >                                                           ..
> >
> >
> >
> > is the same as:
> >
> >
> >
> >                              <camel:route id="my_route">
> >
> >                                            <camel:from ref="mq_endpoint"
> />
> >
> >                                            <camel:throttle
> > timePeriodMillis="1000">
> >
> >
>  <camel:simple>10
> >
> >                                                           </camel:simple>
> >
> >                                                           <camel:threads
> > executorServiceRef="my_thread_pool_profile">
> >
> >
> > <camel:to ref="processor_handler_endpoint" />
> >
> >
>  ..
> >
> >
> >
> > ?
> >
> >
> >
> > Thanks,
> >
> >
> >
> > Robson
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>

--001a1141d282116932054d987b78--

From users-return-65377-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 13:29:39 2017
Return-Path: <users-return-65377-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4CDB418336
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 13:29:39 +0000 (UTC)
Received: (qmail 28822 invoked by uid 500); 20 Apr 2017 13:29:38 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 28768 invoked by uid 500); 20 Apr 2017 13:29:38 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 28751 invoked by uid 99); 20 Apr 2017 13:29:38 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 13:29:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 13C3A1813D5
	for <users@camel.apache.org>; Thu, 20 Apr 2017 13:29:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ChHOU_ZVONto for <users@camel.apache.org>;
	Thu, 20 Apr 2017 13:29:37 +0000 (UTC)
Received: from mail-wm0-f42.google.com (mail-wm0-f42.google.com [74.125.82.42])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id BD1335FBB0
	for <users@camel.apache.org>; Thu, 20 Apr 2017 13:29:36 +0000 (UTC)
Received: by mail-wm0-f42.google.com with SMTP id o81so103754773wmb.1
        for <users@camel.apache.org>; Thu, 20 Apr 2017 06:29:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=+ebWdvBvVdnFre84RnQZVoEjQyxLa8M/pe3JUpzyDe8=;
        b=M74krLLQGKIggOfmIAdfNyEYwkX9YEVsHemmscjLB9pM9zInp9rzmRbylH4s3eLXOE
         6piER8lBMQ31z72HatkusCGIjoV1g7Thg/8CDHVm3tEanMdqJRtJkfLOcdqCwmDKwJm5
         P9fy/upihhda/cdPCJxttKDD+tEgC6uvFROmtmlIAFrebT/omGTw3FrWCsLRI29HHyRD
         NyMPd0LHAB8GAela9QtzvVNNQE/kSaNc/cRr9WG/HCECpHp8hNrFS6jjRkEmZaC4xefd
         BKqwygDiCxg9BX9v/0devrZIZ1DcwyXPgqOnHeCVG4W4SrB//Kn4zpcvXlW3mS7lTCd2
         rQRw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=+ebWdvBvVdnFre84RnQZVoEjQyxLa8M/pe3JUpzyDe8=;
        b=dCa6gKF4N6xZeuKZM5iRMOF8xyZb9K7+vNzV8Wu1NRPJg2a8CiJAtDVz2Bd7xiPqg3
         EAX40nX+uOrajABXgF4T5HlM1IIjXqyuSUFarkN7YLl+PWfp8Jjq/0YPlkFBBnz+R2Ht
         OLW1NQogcRJi6+h57VgxuzlSeS2/IhSUbTYqWnogxb6c5s3tbFdzITp91+Fq+Zskb1TF
         cntSFH/KW7vKM5wOfwxLYt4HUwCKyXj5XQOEwNU7vkB4SrIgosO9HwxMccV3LqRRYYlU
         zFo1CrJhcqc+JciBKJtcTQyDPAnE9sJjBj+Pa96UQukTUjaUOu5GOjGPqYR1upVss4bS
         hplg==
X-Gm-Message-State: AN3rC/5ZooME25BWP9i6gIEmUVGeiap63YbRkCVoC8jCGJbu7tjHKagI
	O3tzfnRoyOUMskPJbXGfv81IiBC+vC+7
X-Received: by 10.28.50.195 with SMTP id y186mr3107297wmy.5.1492694970089;
 Thu, 20 Apr 2017 06:29:30 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.223.176.27 with HTTP; Thu, 20 Apr 2017 06:29:29 -0700 (PDT)
From: Robson Vargas Farias <robsonvargasfarias@gmail.com>
Date: Thu, 20 Apr 2017 10:29:29 -0300
Message-ID: <CALjbH97LOtziPdYqVx=dK-nRXbv3eunYoUipD4pdFqbEV+PUzQ@mail.gmail.com>
Subject: throttle executorServiceRef not recognizing threadPool but only threadPoolProfile
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1141d282734691054d99217e

--001a1141d282734691054d99217e
Content-Type: text/plain; charset=UTF-8

Hi,

Can you help me where is my miss?

I've a camel context configured with a route containing a throttle which is
pointing (ref) to a threadPool:

<camel:camelContext id="camel-server" useMDCLogging="true"
allowUseOriginalMessage="false">


<!-- thread pools -->

<camel:threadPool id="my_thread_pool"
poolSize="1"
maxPoolSize="4"
maxQueueSize="100"
threadName="my_thread_pool" keepAliveTime="0"
rejectedPolicy="DiscardOldest" timeUnit="SECONDS" />

..


<camel:route id="my_route">
<camel:from ref="mq_endpoint" />
<camel:throttle timePeriodMillis="1000" executorServiceRef="my_thread_pool">
..


but, when I start my application I got below error:

Caused By: java.lang.IllegalArgumentException: ExecutorServiceRef
my_thread_pool not found in registry or as a thread pool profile.



If I change the throttle from a threadPool to a threadPoolProfile it works.
So, why it is not working with a threadPool?

Thanks.

--001a1141d282734691054d99217e--

From users-return-65378-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 13:33:34 2017
Return-Path: <users-return-65378-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E73691835B
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 13:33:34 +0000 (UTC)
Received: (qmail 39661 invoked by uid 500); 20 Apr 2017 13:33:34 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 39607 invoked by uid 500); 20 Apr 2017 13:33:34 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 39592 invoked by uid 99); 20 Apr 2017 13:33:34 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 13:33:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9BD0BC18BD
	for <users@camel.apache.org>; Thu, 20 Apr 2017 13:33:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.397
X-Spam-Level:
X-Spam-Status: No, score=-2.397 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 66j35aQ-6izD for <users@camel.apache.org>;
	Thu, 20 Apr 2017 13:33:31 +0000 (UTC)
Received: from mail-qk0-f171.google.com (mail-qk0-f171.google.com [209.85.220.171])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 6CB395F23E
	for <users@camel.apache.org>; Thu, 20 Apr 2017 13:33:31 +0000 (UTC)
Received: by mail-qk0-f171.google.com with SMTP id h67so46239441qke.0
        for <users@camel.apache.org>; Thu, 20 Apr 2017 06:33:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=scCCIw4SHqvwjGZFjtKlYR5KHzHlT4oqxqGaCEZEHs0=;
        b=hQZV9BUxpwvXzyia5yuXsKJI4s2K+NlpwoXC6zgm82ui/ot6Te8ynzboo5qhgxlavp
         Gy69i2G80z3z51/fGD/4LwMT0H0kjVZ7kuNANEMc7C9kszjfGvetEF1pnSSFAcjXLmzW
         egOCHdKg9FWgXlviWTdZhQw6Tean7Y4Wqxz/E1RJ4QWPEbPVCL9DgVhB4hfCj4caPbjb
         46zkDkYl8TVv1rgrjYtVvg25T/klErflajfnHtFrVGXviIAboNjrrHODQqej//Yq76Nm
         J3++zcaNomg8omBCSM9675uoGpFvW2srTErYQMniuHdKDpS4GHoiUsv2YpH613E004OT
         FqQw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=scCCIw4SHqvwjGZFjtKlYR5KHzHlT4oqxqGaCEZEHs0=;
        b=GYo2D1TiMhI3sKf7dDWlllNoKP9cwIegjNwOsagtVEGIQp1oOeBps3tk+kbowZwsi3
         T+IkmLSugVSnrJ0H4O2CAgZz2UBqo3fFyXNXrS8PGnkw9qoEcYEa25TOsdYxJrml/QIv
         nSSK4/DtT/EF7KAPwLBD7tnMRqPe+38RgAqW95ZpCDo9RdJyUGS8fEbcEjUBxt+Y0uWp
         iGfo6/Wc/UT/Cf3bhZf+5MfJDYjnYT/Q7qChbBxvpgWM2vnaDsWss3O7Ns5SWUzXV5kl
         atBU9A+VujFELr3Kfp93bYF2MQuTU0niGKcIgk7u7dG1hdYZbOuG/2a3rC4o3ayj5zp6
         05gg==
X-Gm-Message-State: AN3rC/7AF+6cJE1sec1Vyprlk5O5EJggSWJxJaWyzCdTuWDxzzdfOKkX
	NrJB3J95i62DsKVSf6xohQS5U39xsmV0
X-Received: by 10.55.5.17 with SMTP id 17mr8617354qkf.279.1492695211017; Thu,
 20 Apr 2017 06:33:31 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Thu, 20 Apr 2017 06:33:10 -0700 (PDT)
In-Reply-To: <CALjbH97LOtziPdYqVx=dK-nRXbv3eunYoUipD4pdFqbEV+PUzQ@mail.gmail.com>
References: <CALjbH97LOtziPdYqVx=dK-nRXbv3eunYoUipD4pdFqbEV+PUzQ@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Thu, 20 Apr 2017 15:33:10 +0200
Message-ID: <CAGB5yNkUBH1gsPwBPaDXS+cecoRSx4UGfBTwnbOrpnmfoNNyVw@mail.gmail.com>
Subject: Re: throttle executorServiceRef not recognizing threadPool but only threadPoolProfile
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

What version of Camel do you use, and have you tried with a newer version

On Thu, Apr 20, 2017 at 3:29 PM, Robson Vargas Farias
<robsonvargasfarias@gmail.com> wrote:
> Hi,
>
> Can you help me where is my miss?
>
> I've a camel context configured with a route containing a throttle which is
> pointing (ref) to a threadPool:
>
> <camel:camelContext id="camel-server" useMDCLogging="true"
> allowUseOriginalMessage="false">
>
>
> <!-- thread pools -->
>
> <camel:threadPool id="my_thread_pool"
> poolSize="1"
> maxPoolSize="4"
> maxQueueSize="100"
> threadName="my_thread_pool" keepAliveTime="0"
> rejectedPolicy="DiscardOldest" timeUnit="SECONDS" />
>
> ..
>
>
> <camel:route id="my_route">
> <camel:from ref="mq_endpoint" />
> <camel:throttle timePeriodMillis="1000" executorServiceRef="my_thread_pool">
> ..
>
>
> but, when I start my application I got below error:
>
> Caused By: java.lang.IllegalArgumentException: ExecutorServiceRef
> my_thread_pool not found in registry or as a thread pool profile.
>
>
>
> If I change the throttle from a threadPool to a threadPoolProfile it works.
> So, why it is not working with a threadPool?
>
> Thanks.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65379-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 13:37:56 2017
Return-Path: <users-return-65379-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D642C183B3
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 13:37:56 +0000 (UTC)
Received: (qmail 58809 invoked by uid 500); 20 Apr 2017 13:37:56 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 58759 invoked by uid 500); 20 Apr 2017 13:37:56 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 58743 invoked by uid 99); 20 Apr 2017 13:37:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 13:37:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A6ABEC00F9
	for <users@camel.apache.org>; Thu, 20 Apr 2017 13:37:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id qTNvR5Jpnv13 for <users@camel.apache.org>;
	Thu, 20 Apr 2017 13:37:53 +0000 (UTC)
Received: from mail-wm0-f52.google.com (mail-wm0-f52.google.com [74.125.82.52])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 3AE915FB40
	for <users@camel.apache.org>; Thu, 20 Apr 2017 13:37:53 +0000 (UTC)
Received: by mail-wm0-f52.google.com with SMTP id r190so48589775wme.1
        for <users@camel.apache.org>; Thu, 20 Apr 2017 06:37:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=gMLPJph54m4VHueD2aVSio/n1zQ7w58QPEDYGFNQlqY=;
        b=sqlu2/zUJNdC4ftKxeCUxloSMOSVxUJM6ufb+QwHfC7fY/3nQVZFQP7fsWUYI2/xYy
         eK+oV3KqmQ/J1qLT8kT7DofJz/5rNEAm7lQacdw9Bjjwu1w04R0YoS/8P2vztcADKpqT
         cVg55Ou8lJVsrl2X1TlM3wMFlEylaWdi3VEBGct0iAHiGkrKmZLz4vVTPM5Sq9xpl4D2
         hutO/veCSJq5ReWgcJdrfNhy8zjcSO7F8Fn/BMzb+aBuBtoy0vfpivGfKxQUkchnGFk8
         GGzomoLsGorDMATqTjIi2lXJj65I9bbeD/2yWJhUbKaYxEcFzbswsRgCHN5O58cwC4p+
         P7+w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=gMLPJph54m4VHueD2aVSio/n1zQ7w58QPEDYGFNQlqY=;
        b=pcMfH6ZxtoADCHv/WB5QuvbYYzs02leDndyPfl8Zzh2NPDU5lHXcwVrE/kEKVDN06s
         z2/jGjJB6noxMXMWk9uu14718djA8Ec9Mcl8/TmS47sz3WZLr60BPWsmfNe9DGHGWw+y
         hmExN4X728ZZ9oDK3qnC2j94Ag7dLcob35nS3BGwWtr821pCEjlZYzVuWyZBFd/H96XS
         1v8zQKMsRCkvN4Pd1ZjU+4I0JXkJtlX3Ug5B9Uj9eXYf3hKEugqlnz+CM7UKF5R7ljU0
         DvwfKTHJ1G9dNZbd0jyPRon2kzyAYLhs56gXZW0M7Tit/aDi7D4nRXqqxBQCQ8gN9JWf
         KGFQ==
X-Gm-Message-State: AN3rC/6OKmpHGR46wvg05P72UxmUMc7KQ9Nfl+is53ZuOQD2mTQ6ipZg
	nkj2hxQAAj7abR6HS3nIhUu02GZXdWng
X-Received: by 10.28.50.195 with SMTP id y186mr3143474wmy.5.1492695461998;
 Thu, 20 Apr 2017 06:37:41 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.223.176.27 with HTTP; Thu, 20 Apr 2017 06:37:41 -0700 (PDT)
In-Reply-To: <CAGB5yNkUBH1gsPwBPaDXS+cecoRSx4UGfBTwnbOrpnmfoNNyVw@mail.gmail.com>
References: <CALjbH97LOtziPdYqVx=dK-nRXbv3eunYoUipD4pdFqbEV+PUzQ@mail.gmail.com>
 <CAGB5yNkUBH1gsPwBPaDXS+cecoRSx4UGfBTwnbOrpnmfoNNyVw@mail.gmail.com>
From: Robson Vargas Farias <robsonvargasfarias@gmail.com>
Date: Thu, 20 Apr 2017 10:37:41 -0300
Message-ID: <CALjbH96HCTF3ohOALf7qEB5UG2A+zGtaJJLQBTn0vEA==ECndg@mail.gmail.com>
Subject: Re: throttle executorServiceRef not recognizing threadPool but only threadPoolProfile
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1141d282c53960054d993e4f

--001a1141d282c53960054d993e4f
Content-Type: text/plain; charset=UTF-8

Hi Claus, currently using 2.13.2 - and no, did not try other version.

2017-04-20 10:33 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:

> What version of Camel do you use, and have you tried with a newer version
>
> On Thu, Apr 20, 2017 at 3:29 PM, Robson Vargas Farias
> <robsonvargasfarias@gmail.com> wrote:
> > Hi,
> >
> > Can you help me where is my miss?
> >
> > I've a camel context configured with a route containing a throttle which
> is
> > pointing (ref) to a threadPool:
> >
> > <camel:camelContext id="camel-server" useMDCLogging="true"
> > allowUseOriginalMessage="false">
> >
> >
> > <!-- thread pools -->
> >
> > <camel:threadPool id="my_thread_pool"
> > poolSize="1"
> > maxPoolSize="4"
> > maxQueueSize="100"
> > threadName="my_thread_pool" keepAliveTime="0"
> > rejectedPolicy="DiscardOldest" timeUnit="SECONDS" />
> >
> > ..
> >
> >
> > <camel:route id="my_route">
> > <camel:from ref="mq_endpoint" />
> > <camel:throttle timePeriodMillis="1000" executorServiceRef="my_thread_
> pool">
> > ..
> >
> >
> > but, when I start my application I got below error:
> >
> > Caused By: java.lang.IllegalArgumentException: ExecutorServiceRef
> > my_thread_pool not found in registry or as a thread pool profile.
> >
> >
> >
> > If I change the throttle from a threadPool to a threadPoolProfile it
> works.
> > So, why it is not working with a threadPool?
> >
> > Thanks.
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>

--001a1141d282c53960054d993e4f--

From users-return-65380-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 13:44:40 2017
Return-Path: <users-return-65380-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 446F318413
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 13:44:40 +0000 (UTC)
Received: (qmail 75653 invoked by uid 500); 20 Apr 2017 13:44:39 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 75608 invoked by uid 500); 20 Apr 2017 13:44:39 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 75596 invoked by uid 99); 20 Apr 2017 13:44:39 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 13:44:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 199FDCDA1F
	for <users@camel.apache.org>; Thu, 20 Apr 2017 13:44:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.379
X-Spam-Level:
X-Spam-Status: No, score=0.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 5wjLAIWQH_ZJ for <users@camel.apache.org>;
	Thu, 20 Apr 2017 13:44:36 +0000 (UTC)
Received: from mail-qt0-f170.google.com (mail-qt0-f170.google.com [209.85.216.170])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id E2BFF5F1D5
	for <users@camel.apache.org>; Thu, 20 Apr 2017 13:44:35 +0000 (UTC)
Received: by mail-qt0-f170.google.com with SMTP id y33so45151474qta.2
        for <users@camel.apache.org>; Thu, 20 Apr 2017 06:44:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=ZCoorLnfK9TJ5TYZafCcuw0ytU1tHyFUncM8NnjIQiE=;
        b=iUVGWvKYt1G4BRQi5ZOH2VAf1UtZviPy7p4/3Ph6FnaIgph7jSHAz0AMRGd+CKw6sG
         swTUk2V6VzHEqx15wllE5KzP9A3AsolieFQTCwGSGPLWjPPnYQQS/5+KHlPtax/zYWXk
         dvRPaq4XawaYT69FSXjKW1NgI9FzOQ8r4w60udznDx9p4Tkzj5Ku8c48ejVSf3/sMETI
         dH7PESC2C0IrE3mvjhht+gw9fkv1DFNumCcPXUscEC/Bgi2vjhVYAxxPB3s9fq1ZB/Be
         ADnoRfX72tsApH2WIk9y7Lfhq/2G+WPlt9vb9dZTIphIZD0X9roQOZG3LaYsJ04TrFjM
         bU7Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=ZCoorLnfK9TJ5TYZafCcuw0ytU1tHyFUncM8NnjIQiE=;
        b=KvA8VABaY1lau1s/W+Fh86zmdAxWlN+vUvrr4u6IvtnGjTJDOgl8O+UbsRz6RmMowH
         HN6P72Bq/lpEAwjj/GYed9xVhIj2oZ2G83No/vrYaZiaCmmlKZ04U6MzL16WE56wvNhb
         sLvOMf8AHvkPkOOx0kfxwD13/uAQsxz1qKXGTA1nkoLhj8PW1tnhXfncu949pwk2Ebfe
         7Ow5nAIZ71/i0jzxXFnqZjVFZnsQ+Gbalu3Lsng50L5VWJQzMFW2WSj+b0Ki7mdeV2vb
         2Xw5cmFO92L9Wu6ODgdLBbRxohweH2ArwWHX/QFbohz0/38ULOOK8bYw4fps3k+3FiPZ
         67Qg==
X-Gm-Message-State: AN3rC/7oOvyv0LlB9y6qNWAKbuuPAjwZIkmq5kK5ouZipmHNqHAKwPmk
	KN8ozSFoRal56zinYOnGHz0i/Tp/Hgwl
X-Received: by 10.237.49.161 with SMTP id 30mr8732333qth.53.1492695874929;
 Thu, 20 Apr 2017 06:44:34 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Thu, 20 Apr 2017 06:44:14 -0700 (PDT)
In-Reply-To: <CALjbH96HCTF3ohOALf7qEB5UG2A+zGtaJJLQBTn0vEA==ECndg@mail.gmail.com>
References: <CALjbH97LOtziPdYqVx=dK-nRXbv3eunYoUipD4pdFqbEV+PUzQ@mail.gmail.com>
 <CAGB5yNkUBH1gsPwBPaDXS+cecoRSx4UGfBTwnbOrpnmfoNNyVw@mail.gmail.com> <CALjbH96HCTF3ohOALf7qEB5UG2A+zGtaJJLQBTn0vEA==ECndg@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Thu, 20 Apr 2017 15:44:14 +0200
Message-ID: <CAGB5yNn0n_KdD9qk6M65z1FY1owz4C=R0NNy+ZUee+=3uYLZ6g@mail.gmail.com>
Subject: Re: throttle executorServiceRef not recognizing threadPool but only threadPoolProfile
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

That is very old, its likely/possible fixed on newer version. So I
suggest to try upgrading or build a new sample project using latest
release and see if it works there.

Knowing something is still not working in latest release brings
attention to us. Otherwise we dont have the time to look into this
ourselves first when users are using very old versions of Camel.

On Thu, Apr 20, 2017 at 3:37 PM, Robson Vargas Farias
<robsonvargasfarias@gmail.com> wrote:
> Hi Claus, currently using 2.13.2 - and no, did not try other version.
>
> 2017-04-20 10:33 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
>
>> What version of Camel do you use, and have you tried with a newer version
>>
>> On Thu, Apr 20, 2017 at 3:29 PM, Robson Vargas Farias
>> <robsonvargasfarias@gmail.com> wrote:
>> > Hi,
>> >
>> > Can you help me where is my miss?
>> >
>> > I've a camel context configured with a route containing a throttle which
>> is
>> > pointing (ref) to a threadPool:
>> >
>> > <camel:camelContext id="camel-server" useMDCLogging="true"
>> > allowUseOriginalMessage="false">
>> >
>> >
>> > <!-- thread pools -->
>> >
>> > <camel:threadPool id="my_thread_pool"
>> > poolSize="1"
>> > maxPoolSize="4"
>> > maxQueueSize="100"
>> > threadName="my_thread_pool" keepAliveTime="0"
>> > rejectedPolicy="DiscardOldest" timeUnit="SECONDS" />
>> >
>> > ..
>> >
>> >
>> > <camel:route id="my_route">
>> > <camel:from ref="mq_endpoint" />
>> > <camel:throttle timePeriodMillis="1000" executorServiceRef="my_thread_
>> pool">
>> > ..
>> >
>> >
>> > but, when I start my application I got below error:
>> >
>> > Caused By: java.lang.IllegalArgumentException: ExecutorServiceRef
>> > my_thread_pool not found in registry or as a thread pool profile.
>> >
>> >
>> >
>> > If I change the throttle from a threadPool to a threadPoolProfile it
>> works.
>> > So, why it is not working with a threadPool?
>> >
>> > Thanks.
>>
>>
>>
>> --
>> Claus Ibsen
>> -----------------
>> http://davsclaus.com @davsclaus
>> Camel in Action 2: https://www.manning.com/ibsen2
>>



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65381-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 13:59:42 2017
Return-Path: <users-return-65381-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 89495184E2
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 13:59:42 +0000 (UTC)
Received: (qmail 30597 invoked by uid 500); 20 Apr 2017 13:59:42 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 30537 invoked by uid 500); 20 Apr 2017 13:59:41 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 30523 invoked by uid 99); 20 Apr 2017 13:59:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 13:59:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 707AF1813D5
	for <users@camel.apache.org>; Thu, 20 Apr 2017 13:59:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.296
X-Spam-Level:
X-Spam-Status: No, score=-0.296 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key)
	header.d=pronoia-solutions-com.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 1VxC-JCk88vr for <users@camel.apache.org>;
	Thu, 20 Apr 2017 13:59:38 +0000 (UTC)
Received: from mail-io0-f175.google.com (mail-io0-f175.google.com [209.85.223.175])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id EBA245F39D
	for <users@camel.apache.org>; Thu, 20 Apr 2017 13:59:32 +0000 (UTC)
Received: by mail-io0-f175.google.com with SMTP id o22so77732727iod.3
        for <users@camel.apache.org>; Thu, 20 Apr 2017 06:59:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pronoia-solutions-com.20150623.gappssmtp.com; s=20150623;
        h=from:mime-version:subject:date:references:to:in-reply-to:message-id;
        bh=k6ItiPTsLSrqVddtTF3EgYmxrYjJzx1DuUZCfBVbamc=;
        b=QSNNpKHksKX7WThdAaHTqUhxTrDCZ2qmUEUHAODaAp9IOuwCB9T5YI3+Bi5c5Oeqsm
         izYEpb95OsdG5ngSV06UUPOWHU2bQ3AabPf0qs4JNVanTlB54YTDxjOyT68a+JBm8VZe
         E4YyNZXnJkYOKFAlmL8xWAiDHr8XqtjWrwsO6va7pOx2XN1skE8Kv0aysEQLFSqVLFs0
         s4yYIQr7KS74cwNBygXTqJSyIbP+Rny3BIVNegaNcaca4gpKvWkXoENY91PHCVchGej6
         wegIw6/Cvb08Q551M4Bo7PzbozZSxRsK0NxMfq4HQ9eieFG4VJOToZ5gl0/QNarT7eZ4
         86hg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:from:mime-version:subject:date:references:to
         :in-reply-to:message-id;
        bh=k6ItiPTsLSrqVddtTF3EgYmxrYjJzx1DuUZCfBVbamc=;
        b=osc+3JnsQa4683daVWOwR7qs5lXlu9MuYUnQICzCANhPynhn3agV0CrgGI3JJ2mWGG
         B6VZQsgAV14cvuTxJVQQ/s4nXbNKgqCDSgWP1Tz/LK/TKqG86KUVP562Is7x6mW436B4
         1cKYpUZud9k4sHbtoKVOGMkRKHnT88svKTqrA+SlrU2ES0jMzGTUtb/FEsBjwvUHUwQP
         rcbq2g9ivHaOAbIOJTRAmkYOU0rkxOWXMIfTiFImR3HqHom5ehb4UYWaERqYRMbQD5C8
         binoUWwbknz9Si9MZtzYj5bAsqz73d1RLCmkye6scKvJzEjnbfcO4eUy/tKADbovTtMO
         ebRg==
X-Gm-Message-State: AN3rC/6hCpCBfDEXckzt5KqCa9c255GgU1r82D1LiCPtVMo4pUJJFjGJ
	f5ai0FUx/sOIFG/tT7g=
X-Received: by 10.107.20.81 with SMTP id 78mr8918306iou.219.1492696771120;
        Thu, 20 Apr 2017 06:59:31 -0700 (PDT)
Received: from macpro.pronoia.local (c-73-20-8-23.hsd1.ut.comcast.net. [73.20.8.23])
        by smtp.gmail.com with ESMTPSA id n77sm2734913ioe.33.2017.04.20.06.59.30
        for <users@camel.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Thu, 20 Apr 2017 06:59:30 -0700 (PDT)
From: Quinn Stevenson <quinn@pronoia-solutions.com>
Content-Type: multipart/alternative;
 boundary="Apple-Mail=_2F123892-CB3D-4D21-8D62-0776A5E029A7"
Mime-Version: 1.0 (Mac OS X Mail 10.3 \(3273\))
Subject: Re: Extensible Camel routes
Date: Thu, 20 Apr 2017 07:59:29 -0600
References: <c8ae2b0f7c62430ea04a7fce955a0b30@a0zbrn11.visana.intra>
 <CAGB5yNk9wrbGv2M3mi2+-oxK2wy129HDZWLokxDXQ3CZ6O76sg@mail.gmail.com>
To: users@camel.apache.org
In-Reply-To: <CAGB5yNk9wrbGv2M3mi2+-oxK2wy129HDZWLokxDXQ3CZ6O76sg@mail.gmail.com>
Message-Id: <4CF5F56D-61A8-479C-80A4-8732E952603C@pronoia-solutions.com>
X-Mailer: Apple Mail (2.3273)

--Apple-Mail=_2F123892-CB3D-4D21-8D62-0776A5E029A7
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

This isn=E2=80=99t quite you=E2=80=99re use case since I don=E2=80=99t =
extend routes, but I have RouteBuilders that I deploy hundreds of times =
with different configurations using either camel-blueprint, camel-scr =
and Blueprint namespace handlers.

I allow minor variations the routes based on the configuration of the =
RouteBuilder, so if I were going to try your example, the configure =
method would look something like this:

public void configure() throws Exception {
  ProcessorDefinition<?> routeDef =3D
      from("file://").routeId(routeId)
          .log(LoggingLevel.INFO, "[FILEREADER], file: =
${in.header.CamelFileName}");

  if (SPLITTER_ELEMENT_NAME !=3D null && =
!SPLITTER_ELEMENT_NAME.isEmpty()) {
    routeDef =3D =
routeDef.split().tokenizeXML(SPLITTER_ELEMENT_NAME).streaming()
  }

  routeDef.to(queueEndpointUri);
}
Notice that If the SPLITTER_ELEMENT_NAME property is set, then the route =
will include the =E2=80=9Csplit=E2=80=9D.

I=E2=80=99ve used this technique quite a bit, and I=E2=80=99ll reiterate =
the comment Claus made about complexity - be careful with this.  MINOR =
variations of the route are supportable, but too many allowed variations =
can make the RouteBuilder very difficult to support.

HTH




> On Apr 20, 2017, at 3:25 AM, Claus Ibsen <claus.ibsen@gmail.com> =
wrote:
>=20
> Hi
>=20
> A RouteBuilder is essentially just java, so you can create base
> classes / abstract classes and have getter/setter (or what you prefer)
> for configuration.
>=20
> You can also use java's if .. else .. etc to add parts to the route if
> you need. You can then put the routes together using the model classes
> (the xxxDefinition).
>=20
> But try to not make this to complex / confusing to maintain. You may
> want to have special routes for splitter vs non splitter etc.
>=20
>=20
> On Thu, Apr 20, 2017 at 11:04 AM, Burkard Stephan
> <Stephan.Burkard@visana.ch> wrote:
>> Hi Camel users
>>=20
>> Let's say I have this generic file to JMS route I would like to put =
in a library.
>>=20
>> from(directory?options...)
>>   .routeId("basicFileToJmsRoute")
>>   .log(LoggingLevel.INFO, "[FILEREADER], file: =
${in.header.CamelFileName}")
>>   .to(queueEndpointUri);
>>=20
>>=20
>> Then I would like to build multiple modules who use the route where =
each module has its own configuration (directory, queue etc).
>>=20
>> But some of them have also additional requirements, for example split =
large XML files:
>>=20
>> from(directory?options...)
>>   .routeId("basicFileToJmsRoute")
>>   .log(LoggingLevel.INFO, "[FILEREADER], file: =
${in.header.CamelFileName}")
>> =3D>   .split().tokenizeXML(SPLITTER_ELEMENT_NAME).streaming()
>>   .to(queueEndpointUri);
>>=20
>>=20
>> Is there a best practice approach to extend a basic route like this =
in another module?
>>=20
>> Thanks
>> Stephan
>>=20
>=20
>=20
>=20
> --=20
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2


--Apple-Mail=_2F123892-CB3D-4D21-8D62-0776A5E029A7--

From users-return-65382-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 18:03:56 2017
Return-Path: <users-return-65382-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A213D19544
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 18:03:56 +0000 (UTC)
Received: (qmail 97063 invoked by uid 500); 20 Apr 2017 18:03:56 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 97019 invoked by uid 500); 20 Apr 2017 18:03:56 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 97007 invoked by uid 99); 20 Apr 2017 18:03:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 18:03:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 38A521AFA40
	for <users@camel.apache.org>; Thu, 20 Apr 2017 18:03:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 2dYfJi3kLNu8 for <users@camel.apache.org>;
	Thu, 20 Apr 2017 18:03:44 +0000 (UTC)
Received: from mail-qk0-f182.google.com (mail-qk0-f182.google.com [209.85.220.182])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 25D925F3FE
	for <users@camel.apache.org>; Thu, 20 Apr 2017 18:03:44 +0000 (UTC)
Received: by mail-qk0-f182.google.com with SMTP id y63so23140780qkd.1
        for <users@camel.apache.org>; Thu, 20 Apr 2017 11:03:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:sender:from:date:message-id:subject:to;
        bh=yiYCym+iByyzNVVbYvaSv7GjaeHFPnPRVf4RSoJZ6UU=;
        b=C3FqNE3mdEQa+kvJRwzcMOvjaL3rtVKLwFVtxu5cvq2Gy/oka3OWqQApe03+Zxl2z1
         2gLq5QaJDYrb+3WKmL0ios9NtQYGfm0DLJG+CNF2yAasb/jS/n8C7EnrH/P2pGQbRkby
         p6AUBQaAwX6B9XmOeO9NAdKBfUpaA0ahZLFu2RkkmvxDJoha5NiBaaXeaYNheYWWqJh4
         1poXD/mol7/cPvxzWPPovVVmeTSQI4XNiNSEx+7Dm9E6jowycHe14OiKVLHcEG2T+k+u
         hHSlbOCH+7h6tOMQ1EC7ufehYKHphga/Mh5rtM+OfEAWdD1itmowT5sC3p/9DdYZm5xf
         CD9g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:sender:from:date:message-id:subject
         :to;
        bh=yiYCym+iByyzNVVbYvaSv7GjaeHFPnPRVf4RSoJZ6UU=;
        b=RatEV08QajzGcYnWVpD/MNI8H3aTHI9IXuOS/6uVzxFkFfl9EXEDLDNejaKtYcf2n9
         SqlgDRqcuD8L1K1sGteoFInksoyIOeAgoRQ0s2VqVn54kryP2EregcrWmw7ZcXdKg9eU
         uN/M179ZNc52t/17KqtwcCc3Wu7xVdgcLnK3D8Ak+km334i7+DlIHMOBWwfahXpIz7Is
         qSeH78Azugr9QssTepPbV3t3WvS5TQcqnVFlyptvscDrwrdLnueu446CIc28g2jbDniZ
         Cbol3jw2KlUjMzo8hdCFhR8DJb7B7L8xM545aaokgYGVzqPEZ22m+YDpvPgoH9en8Sj1
         tqyg==
X-Gm-Message-State: AN3rC/7m7/OcurW+er3JSoNRj3c70cAzqERKz3xEgCTKlvutpuyxwztF
	qGhgYu2N2tqQOA19m/5ANiT5xAhsrOAYLdo=
X-Received: by 10.55.165.4 with SMTP id o4mr9629321qke.95.1492711422929; Thu,
 20 Apr 2017 11:03:42 -0700 (PDT)
MIME-Version: 1.0
Sender: masanasa@gmail.com
X-Google-Sender-Delegation: masanasa@gmail.com
Received: by 10.12.187.133 with HTTP; Thu, 20 Apr 2017 11:03:42 -0700 (PDT)
From: Karel Bernolet <karel.bernolet@gmail.com>
Date: Thu, 20 Apr 2017 20:03:42 +0200
X-Google-Sender-Auth: 3YsBtsu66n9LhihaWXroOzfrs3s
Message-ID: <CAOuGT5pdxQh5SOAE-8F=fR5TRsfbYnUEVM-OynozHan2OHWFHQ@mail.gmail.com>
Subject: JAXBException while parsing camel-spring files
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a114fac881e6a14054d9cf63a

--001a114fac881e6a14054d9cf63a
Content-Type: text/plain; charset=UTF-8

Hi,

While upgrading a legacy application to camel 2.18.3, spring 4, ... we
stumbled upon an issue while trying to parse camel routes in spring xml
DSL. The stacktrace can be found below. I believe this is due to CAMEL-9521
<https://issues.apache.org/jira/browse/CAMEL-9521>.
By removing the class org.apache.camel.osgi.CamelNameSpaceHandler
<https://fisheye.apache.org/changelog/camel-git?cs=20a85773b751ebe726664b4be866423fb18463cc>,
the
import packages on *org.apache.camel.model.config* etc got removed from the
Manifest.
As the *SpringModelJAXBContextFactory* extends from the
*DefaultModelJAXBContextFactory*, it looks for an ObjectFactory or
jaxb.index in packages it does no longer include.
Is the behaviour expected after removal of spring-dm?
What is the recommended behaviour or workaround?
The application runs in a apache-felix OSGI environment.

Regards,
Karel


2017-04-20T18:55:32,921+0200 [EclipseGeminiBlueprintExtenderThread-1] DEBUG
> NamespacePlugins - Trying to resolving namespace handler for
> http://camel.apache.org/schema/spring - User= - Batch= - trace-id=
>
> 2017-04-20T18:55:32,936+0200 [EclipseGeminiBlueprintExtenderThread-1]
> DEBUG NamespacePlugins - Namespace handler for http://camel.apache.org/
> schema/spring found inside bundle camel-spring (org.apache.camel.camel-spring)
> - User= - Batch= - trace-id=
>
> 2017-04-20T18:55:32,976+0200 [EclipseGeminiBlueprintExtenderThread-1]
> DEBUG OsgiBundleXmlApplicationContext - Pre refresh error - User= -
> Batch= - trace-id=
>
> org.springframework.beans.factory.parsing.BeanDefinitionParsingException:
> Configuration problem: Failed to import bean definitions from relative
> location [useradmin-external-service-siebel-routes.xml]
>
> Offending resource: URL [bundle://40.0:0/OSGI-INF/
> blueprint/useradmin-external-service-siebel-context.xml]; nested
> exception is org.springframework.beans.factory.BeanDefinitionStoreException:
> Failed to create the JAXB binder; nested exception is
> javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory
> could not be instantiated: javax.xml.bind.JAXBException:
> "org.apache.camel.model.config" doesnt contain ObjectFactory.class or
> jaxb.index
>
> - with linked exception:
>
> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
> contain ObjectFactory.class or jaxb.index]
>
>                 at org.springframework.beans.factory.parsing.
> FailFastProblemReporter.error(FailFastProblemReporter.java:70)
>
>                 at org.springframework.beans.
> factory.parsing.ReaderContext.error(ReaderContext.java:85)
>
>                 at org.springframework.beans.
> factory.parsing.ReaderContext.error(ReaderContext.java:76)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(
> DefaultBeanDefinitionDocumentReader.java:255)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.parseDefaultElement(
> DefaultBeanDefinitionDocumentReader.java:180)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:165)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:138)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:94)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.registerBeanDefinitions(
> XmlBeanDefinitionReader.java:508)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.doLoadBeanDefinitions(
> XmlBeanDefinitionReader.java:392)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
> 336)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
> 304)
>
>                 at org.springframework.beans.factory.support.
> AbstractBeanDefinitionReader.loadBeanDefinitions(
> AbstractBeanDefinitionReader.java:181)
>
>                 at org.springframework.beans.factory.support.
> AbstractBeanDefinitionReader.loadBeanDefinitions(
> AbstractBeanDefinitionReader.java:217)
>
>                 at org.springframework.beans.factory.support.
> AbstractBeanDefinitionReader.loadBeanDefinitions(
> AbstractBeanDefinitionReader.java:188)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> OsgiBundleXmlApplicationContext.loadBeanDefinitions(
> OsgiBundleXmlApplicationContext.java:170)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> OsgiBundleXmlApplicationContext.loadBeanDefinitions(
> OsgiBundleXmlApplicationContext.java:140)
>
>                 at org.springframework.context.support.
> AbstractRefreshableApplicationContext.refreshBeanFactory(
> AbstractRefreshableApplicationContext.java:129)
>
>                 at org.springframework.context.support.
> AbstractApplicationContext.obtainFreshBeanFactory(
> AbstractApplicationContext.java:609)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> AbstractDelegatedExecutionApplicationContext.access$800(
> AbstractDelegatedExecutionApplicationContext.java:60)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> AbstractDelegatedExecutionApplicationContext$3.run(
> AbstractDelegatedExecutionApplicationContext.java:242)
>
>                 at org.eclipse.gemini.blueprint.
> util.internal.PrivilegedUtils.executeWithCustomTCCL(
> PrivilegedUtils.java:85)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> AbstractDelegatedExecutionApplicationContext.startRefresh(
> AbstractDelegatedExecutionApplicationContext.java:220)
>
>                 at org.eclipse.gemini.blueprint.extender.internal.
> dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(
> DependencyWaiterApplicationContextExecutor.java:224)
>
>                 at org.eclipse.gemini.blueprint.extender.internal.
> dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(
> DependencyWaiterApplicationContextExecutor.java:177)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> AbstractDelegatedExecutionApplicationContext.refresh(
> AbstractDelegatedExecutionApplicationContext.java:157)
>
>                 at org.eclipse.gemini.blueprint.
> extender.internal.activator.LifecycleManager$1.run(
> LifecycleManager.java:207)
>
>                 at java.util.concurrent.ThreadPoolExecutor.runWorker(
> ThreadPoolExecutor.java:1142)
>
>                 at java.util.concurrent.ThreadPoolExecutor$Worker.run(
> ThreadPoolExecutor.java:617)
>
>                 at java.lang.Thread.run(Thread.java:745)
>
> Caused by: org.springframework.beans.factory.BeanDefinitionStoreException:
> Failed to create the JAXB binder; nested exception is
> javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory
> could not be instantiated: javax.xml.bind.JAXBException:
> "org.apache.camel.model.config" doesnt contain ObjectFactory.class or
> jaxb.index
>
> - with linked exception:
>
> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
> contain ObjectFactory.class or jaxb.index]
>
>                 at org.apache.camel.spring.handler.CamelNamespaceHandler$
> RouteContextDefinitionParser.doParse(CamelNamespaceHandler.java:281)
>
>                 at org.springframework.beans.factory.xml.
> AbstractSingleBeanDefinitionParser.parseInternal(
> AbstractSingleBeanDefinitionParser.java:85)
>
>                 at org.springframework.beans.factory.xml.
> AbstractBeanDefinitionParser.parse(AbstractBeanDefinitionParser.java:61)
>
>                 at org.springframework.beans.factory.xml.
> NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)
>
>                 at org.springframework.beans.factory.xml.
> BeanDefinitionParserDelegate.parseCustomElement(
> BeanDefinitionParserDelegate.java:1411)
>
>                 at org.springframework.beans.factory.xml.
> BeanDefinitionParserDelegate.parseCustomElement(
> BeanDefinitionParserDelegate.java:1401)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:168)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:138)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:94)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.registerBeanDefinitions(
> XmlBeanDefinitionReader.java:508)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.doLoadBeanDefinitions(
> XmlBeanDefinitionReader.java:392)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
> 336)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
> 304)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(
> DefaultBeanDefinitionDocumentReader.java:239)
>
>                 ... 26 more
>
> Caused by: javax.xml.bind.JAXBException: Provider
> com.sun.xml.internal.bind.v2.ContextFactory could not be instantiated:
> javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
> contain ObjectFactory.class or jaxb.index
>
> - with linked exception:
>
> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
> contain ObjectFactory.class or jaxb.index]
>
>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
> java:146)
>
>                 at javax.xml.bind.ContextFinder.
> find(ContextFinder.java:356)
>
>                 at javax.xml.bind.JAXBContext.
> newInstance(JAXBContext.java:431)
>
>                 at javax.xml.bind.JAXBContext.
> newInstance(JAXBContext.java:394)
>
>                 at org.apache.camel.impl.DefaultModelJAXBContextFactory
> .newJAXBContext(DefaultModelJAXBContextFactory.java:31)
>
>                 at org.apache.camel.spring.handler.CamelNamespaceHandler.
> getJaxbContext(CamelNamespaceHandler.java:217)
>
>                 at org.apache.camel.spring.handler.CamelNamespaceHandler$
> RouteContextDefinitionParser.doParse(CamelNamespaceHandler.java:279)
>
>                 ... 39 more
>
> Caused by: javax.xml.bind.JAXBException: "org.apache.camel.model.config"
> doesnt contain ObjectFactory.class or jaxb.index
>
>                 at com.sun.xml.internal.bind.v2.
> ContextFactory.createContext(ContextFactory.java:266)
>
>                 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native
> Method)
>
>                 at sun.reflect.NativeMethodAccessorImpl.invoke(
> NativeMethodAccessorImpl.java:62)
>
>                 at sun.reflect.DelegatingMethodAccessorImpl.invoke(
> DelegatingMethodAccessorImpl.java:43)
>
>                 at java.lang.reflect.Method.invoke(Method.java:498)
>
>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
> java:171)
>
>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
> java:131)
>
>                 ... 45 more
>
> 2017-04-20T18:55:32,981+0200 [EclipseGeminiBlueprintExtenderThread-1]
> ERROR ExtenderConfiguration - Application context refresh failed (
> OsgiBundleXmlApplicationContext(bundle=be.isabel.useradmin-external-service-siebel,
> config=OSGI-INF/blueprint/useradmin-external-service-
> siebel-beans.xml,OSGI-INF/blueprint/useradmin-external-
> service-siebel-context.xml,OSGI-INF/blueprint/useradmin-
> external-service-siebel-osgi-context.xml,OSGI-INF/
> blueprint/useradmin-external-service-siebel-routes.xml)) - User= - Batch=
> - trace-id=
>
> org.springframework.beans.factory.parsing.BeanDefinitionParsingException:
> Configuration problem: Failed to import bean definitions from relative
> location [useradmin-external-service-siebel-routes.xml]
>
> Offending resource: URL [bundle://40.0:0/OSGI-INF/
> blueprint/useradmin-external-service-siebel-context.xml]; nested
> exception is org.springframework.beans.factory.BeanDefinitionStoreException:
> Failed to create the JAXB binder; nested exception is
> javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory
> could not be instantiated: javax.xml.bind.JAXBException:
> "org.apache.camel.model.config" doesnt contain ObjectFactory.class or
> jaxb.index
>
> - with linked exception:
>
> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
> contain ObjectFactory.class or jaxb.index]
>
>                 at org.springframework.beans.factory.parsing.
> FailFastProblemReporter.error(FailFastProblemReporter.java:70)
>
>                 at org.springframework.beans.
> factory.parsing.ReaderContext.error(ReaderContext.java:85)
>
>                 at org.springframework.beans.
> factory.parsing.ReaderContext.error(ReaderContext.java:76)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(
> DefaultBeanDefinitionDocumentReader.java:255)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.parseDefaultElement(
> DefaultBeanDefinitionDocumentReader.java:180)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:165)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:138)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:94)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.registerBeanDefinitions(
> XmlBeanDefinitionReader.java:508)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.doLoadBeanDefinitions(
> XmlBeanDefinitionReader.java:392)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
> 336)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
> 304)
>
>                 at org.springframework.beans.factory.support.
> AbstractBeanDefinitionReader.loadBeanDefinitions(
> AbstractBeanDefinitionReader.java:181)
>
>                 at org.springframework.beans.factory.support.
> AbstractBeanDefinitionReader.loadBeanDefinitions(
> AbstractBeanDefinitionReader.java:217)
>
>                 at org.springframework.beans.factory.support.
> AbstractBeanDefinitionReader.loadBeanDefinitions(
> AbstractBeanDefinitionReader.java:188)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> OsgiBundleXmlApplicationContext.loadBeanDefinitions(
> OsgiBundleXmlApplicationContext.java:170)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> OsgiBundleXmlApplicationContext.loadBeanDefinitions(
> OsgiBundleXmlApplicationContext.java:140)
>
>                 at org.springframework.context.support.
> AbstractRefreshableApplicationContext.refreshBeanFactory(
> AbstractRefreshableApplicationContext.java:129)
>
>                 at org.springframework.context.support.
> AbstractApplicationContext.obtainFreshBeanFactory(
> AbstractApplicationContext.java:609)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> AbstractDelegatedExecutionApplicationContext.access$800(
> AbstractDelegatedExecutionApplicationContext.java:60)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> AbstractDelegatedExecutionApplicationContext$3.run(
> AbstractDelegatedExecutionApplicationContext.java:242)
>
>                 at org.eclipse.gemini.blueprint.
> util.internal.PrivilegedUtils.executeWithCustomTCCL(
> PrivilegedUtils.java:85)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> AbstractDelegatedExecutionApplicationContext.startRefresh(
> AbstractDelegatedExecutionApplicationContext.java:220)
>
>                 at org.eclipse.gemini.blueprint.extender.internal.
> dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(
> DependencyWaiterApplicationContextExecutor.java:224)
>
>                 at org.eclipse.gemini.blueprint.extender.internal.
> dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(
> DependencyWaiterApplicationContextExecutor.java:177)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> AbstractDelegatedExecutionApplicationContext.refresh(
> AbstractDelegatedExecutionApplicationContext.java:157)
>
>                 at org.eclipse.gemini.blueprint.
> extender.internal.activator.LifecycleManager$1.run(
> LifecycleManager.java:207)
>
>                 at java.util.concurrent.ThreadPoolExecutor.runWorker(
> ThreadPoolExecutor.java:1142)
>
>                 at java.util.concurrent.ThreadPoolExecutor$Worker.run(
> ThreadPoolExecutor.java:617)
>
>                 at java.lang.Thread.run(Thread.java:745)
>
> Caused by: org.springframework.beans.factory.BeanDefinitionStoreException:
> Failed to create the JAXB binder; nested exception is
> javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory
> could not be instantiated: javax.xml.bind.JAXBException:
> "org.apache.camel.model.config" doesnt contain ObjectFactory.class or
> jaxb.index
>
> - with linked exception:
>
> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
> contain ObjectFactory.class or jaxb.index]
>
>                 at org.apache.camel.spring.handler.CamelNamespaceHandler$
> RouteContextDefinitionParser.doParse(CamelNamespaceHandler.java:281)
>
>                 at org.springframework.beans.factory.xml.
> AbstractSingleBeanDefinitionParser.parseInternal(
> AbstractSingleBeanDefinitionParser.java:85)
>
>                 at org.springframework.beans.factory.xml.
> AbstractBeanDefinitionParser.parse(AbstractBeanDefinitionParser.java:61)
>
>                 at org.springframework.beans.factory.xml.
> NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)
>
>                 at org.springframework.beans.factory.xml.
> BeanDefinitionParserDelegate.parseCustomElement(
> BeanDefinitionParserDelegate.java:1411)
>
>                 at org.springframework.beans.factory.xml.
> BeanDefinitionParserDelegate.parseCustomElement(
> BeanDefinitionParserDelegate.java:1401)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:168)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:138)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:94)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.registerBeanDefinitions(
> XmlBeanDefinitionReader.java:508)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.doLoadBeanDefinitions(
> XmlBeanDefinitionReader.java:392)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
> 336)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
> 304)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(
> DefaultBeanDefinitionDocumentReader.java:239)
>
>                 ... 26 more
>
> Caused by: javax.xml.bind.JAXBException: Provider
> com.sun.xml.internal.bind.v2.ContextFactory could not be instantiated:
> javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
> contain ObjectFactory.class or jaxb.index
>
> - with linked exception:
>
> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
> contain ObjectFactory.class or jaxb.index]
>
>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
> java:146)
>
>                 at javax.xml.bind.ContextFinder.
> find(ContextFinder.java:356)
>
>                 at javax.xml.bind.JAXBContext.
> newInstance(JAXBContext.java:431)
>
>                 at javax.xml.bind.JAXBContext.
> newInstance(JAXBContext.java:394)
>
>                 at org.apache.camel.impl.DefaultModelJAXBContextFactory
> .newJAXBContext(DefaultModelJAXBContextFactory.java:31)
>
>                 at org.apache.camel.spring.handler.CamelNamespaceHandler.
> getJaxbContext(CamelNamespaceHandler.java:217)
>
>                 at org.apache.camel.spring.handler.CamelNamespaceHandler$
> RouteContextDefinitionParser.doParse(CamelNamespaceHandler.java:279)
>
>                 ... 39 more
>
> Caused by: javax.xml.bind.JAXBException: "org.apache.camel.model.config"
> doesnt contain ObjectFactory.class or jaxb.index
>
>                 at com.sun.xml.internal.bind.v2.
> ContextFactory.createContext(ContextFactory.java:266)
>
>                 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native
> Method)
>
>                 at sun.reflect.NativeMethodAccessorImpl.invoke(
> NativeMethodAccessorImpl.java:62)
>
>                 at sun.reflect.DelegatingMethodAccessorImpl.invoke(
> DelegatingMethodAccessorImpl.java:43)
>
>                 at java.lang.reflect.Method.invoke(Method.java:498)
>
>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
> java:171)
>
>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
> java:131)
>
>                 ... 45 more
>
> 2017-04-20T18:55:32,983+0200 [EclipseGeminiBlueprintExtenderThread-1]
> DEBUG DependencyWaiterApplicationContextExecutor - Cancelled dependency
> watchdog... - User= - Batch= - trace-id=
>
> 2017-04-20T18:55:32,983+0200 [EclipseGeminiBlueprintExtenderThread-1]
> DEBUG DependencyWaiterApplicationContextExecutor - Closing appCtx for
> OsgiBundleXmlApplicationContext(bundle=be.isabel.useradmin-external-service-siebel,
> config=OSGI-INF/blueprint/useradmin-external-service-
> siebel-beans.xml,OSGI-INF/blueprint/useradmin-external-
> service-siebel-context.xml,OSGI-INF/blueprint/useradmin-
> external-service-siebel-osgi-context.xml,OSGI-INF/
> blueprint/useradmin-external-service-siebel-routes.xml) - User= - Batch=
> - trace-id=
>
> 2017-04-20T18:55:32,983+0200 [EclipseGeminiBlueprintExtenderThread-1]
> DEBUG DependencyWaiterApplicationContextExecutor - Cleaning up appCtx
> OsgiBundleXmlApplicationContext(bundle=be.isabel.useradmin-external-service-siebel,
> config=OSGI-INF/blueprint/useradmin-external-service-
> siebel-beans.xml,OSGI-INF/blueprint/useradmin-external-
> service-siebel-context.xml,OSGI-INF/blueprint/useradmin-
> external-service-siebel-osgi-context.xml,OSGI-INF/
> blueprint/useradmin-external-service-siebel-routes.xml) - User= - Batch=
> - trace-id=
>
> 2017-04-20T18:55:32,984+0200 [EclipseGeminiBlueprintExtenderThread-1]
> ERROR DependencyWaiterApplicationContextExecutor - Unable to create
> application context for [be.isabel.useradmin-external-service-siebel],
> unsatisfied dependencies: none - User= - Batch= - trace-id=
>
> org.springframework.beans.factory.parsing.BeanDefinitionParsingException:
> Configuration problem: Failed to import bean definitions from relative
> location [useradmin-external-service-siebel-routes.xml]
>
> Offending resource: URL [bundle://40.0:0/OSGI-INF/
> blueprint/useradmin-external-service-siebel-context.xml]; nested
> exception is org.springframework.beans.factory.BeanDefinitionStoreException:
> Failed to create the JAXB binder; nested exception is
> javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory
> could not be instantiated: javax.xml.bind.JAXBException:
> "org.apache.camel.model.config" doesnt contain ObjectFactory.class or
> jaxb.index
>
> - with linked exception:
>
> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
> contain ObjectFactory.class or jaxb.index]
>
>                 at org.springframework.beans.factory.parsing.
> FailFastProblemReporter.error(FailFastProblemReporter.java:70)
>
>                 at org.springframework.beans.
> factory.parsing.ReaderContext.error(ReaderContext.java:85)
>
>                 at org.springframework.beans.
> factory.parsing.ReaderContext.error(ReaderContext.java:76)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(
> DefaultBeanDefinitionDocumentReader.java:255)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.parseDefaultElement(
> DefaultBeanDefinitionDocumentReader.java:180)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:165)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:138)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:94)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.registerBeanDefinitions(
> XmlBeanDefinitionReader.java:508)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.doLoadBeanDefinitions(
> XmlBeanDefinitionReader.java:392)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
> 336)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
> 304)
>
>                 at org.springframework.beans.factory.support.
> AbstractBeanDefinitionReader.loadBeanDefinitions(
> AbstractBeanDefinitionReader.java:181)
>
>                 at org.springframework.beans.factory.support.
> AbstractBeanDefinitionReader.loadBeanDefinitions(
> AbstractBeanDefinitionReader.java:217)
>
>                 at org.springframework.beans.factory.support.
> AbstractBeanDefinitionReader.loadBeanDefinitions(
> AbstractBeanDefinitionReader.java:188)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> OsgiBundleXmlApplicationContext.loadBeanDefinitions(
> OsgiBundleXmlApplicationContext.java:170)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> OsgiBundleXmlApplicationContext.loadBeanDefinitions(
> OsgiBundleXmlApplicationContext.java:140)
>
>                 at org.springframework.context.support.
> AbstractRefreshableApplicationContext.refreshBeanFactory(
> AbstractRefreshableApplicationContext.java:129)
>
>                 at org.springframework.context.support.
> AbstractApplicationContext.obtainFreshBeanFactory(
> AbstractApplicationContext.java:609)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> AbstractDelegatedExecutionApplicationContext.access$800(
> AbstractDelegatedExecutionApplicationContext.java:60)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> AbstractDelegatedExecutionApplicationContext$3.run(
> AbstractDelegatedExecutionApplicationContext.java:242)
>
>                 at org.eclipse.gemini.blueprint.
> util.internal.PrivilegedUtils.executeWithCustomTCCL(
> PrivilegedUtils.java:85)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> AbstractDelegatedExecutionApplicationContext.startRefresh(
> AbstractDelegatedExecutionApplicationContext.java:220)
>
>                 at org.eclipse.gemini.blueprint.extender.internal.
> dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(
> DependencyWaiterApplicationContextExecutor.java:224)
>
>                 at org.eclipse.gemini.blueprint.extender.internal.
> dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(
> DependencyWaiterApplicationContextExecutor.java:177)
>
>                 at org.eclipse.gemini.blueprint.context.support.
> AbstractDelegatedExecutionApplicationContext.refresh(
> AbstractDelegatedExecutionApplicationContext.java:157)
>
>                 at org.eclipse.gemini.blueprint.
> extender.internal.activator.LifecycleManager$1.run(
> LifecycleManager.java:207)
>
>                 at java.util.concurrent.ThreadPoolExecutor.runWorker(
> ThreadPoolExecutor.java:1142)
>
>                 at java.util.concurrent.ThreadPoolExecutor$Worker.run(
> ThreadPoolExecutor.java:617)
>
>                 at java.lang.Thread.run(Thread.java:745)
>
> Caused by: org.springframework.beans.factory.BeanDefinitionStoreException:
> Failed to create the JAXB binder; nested exception is
> javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory
> could not be instantiated: javax.xml.bind.JAXBException:
> "org.apache.camel.model.config" doesnt contain ObjectFactory.class or
> jaxb.index
>
> - with linked exception:
>
> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
> contain ObjectFactory.class or jaxb.index]
>
>                 at org.apache.camel.spring.handler.CamelNamespaceHandler$
> RouteContextDefinitionParser.doParse(CamelNamespaceHandler.java:281)
>
>                 at org.springframework.beans.factory.xml.
> AbstractSingleBeanDefinitionParser.parseInternal(
> AbstractSingleBeanDefinitionParser.java:85)
>
>                 at org.springframework.beans.factory.xml.
> AbstractBeanDefinitionParser.parse(AbstractBeanDefinitionParser.java:61)
>
>                 at org.springframework.beans.factory.xml.
> NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)
>
>                 at org.springframework.beans.factory.xml.
> BeanDefinitionParserDelegate.parseCustomElement(
> BeanDefinitionParserDelegate.java:1411)
>
>                 at org.springframework.beans.factory.xml.
> BeanDefinitionParserDelegate.parseCustomElement(
> BeanDefinitionParserDelegate.java:1401)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:168)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:138)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(
> DefaultBeanDefinitionDocumentReader.java:94)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.registerBeanDefinitions(
> XmlBeanDefinitionReader.java:508)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.doLoadBeanDefinitions(
> XmlBeanDefinitionReader.java:392)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
> 336)
>
>                 at org.springframework.beans.factory.xml.
> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
> 304)
>
>                 at org.springframework.beans.factory.xml.
> DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(
> DefaultBeanDefinitionDocumentReader.java:239)
>
>                 ... 26 more
>
> Caused by: javax.xml.bind.JAXBException: Provider
> com.sun.xml.internal.bind.v2.ContextFactory could not be instantiated:
> javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
> contain ObjectFactory.class or jaxb.index
>
> - with linked exception:
>
> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
> contain ObjectFactory.class or jaxb.index]
>
>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
> java:146)
>
>                 at javax.xml.bind.ContextFinder.
> find(ContextFinder.java:356)
>
>                 at javax.xml.bind.JAXBContext.
> newInstance(JAXBContext.java:431)
>
>                 at javax.xml.bind.JAXBContext.
> newInstance(JAXBContext.java:394)
>
>                 at org.apache.camel.impl.DefaultModelJAXBContextFactory
> .newJAXBContext(DefaultModelJAXBContextFactory.java:31)
>
>                 at org.apache.camel.spring.handler.CamelNamespaceHandler.
> getJaxbContext(CamelNamespaceHandler.java:217)
>
>                 at org.apache.camel.spring.handler.CamelNamespaceHandler$
> RouteContextDefinitionParser.doParse(CamelNamespaceHandler.java:279)
>
>                 ... 39 more
>
> Caused by: javax.xml.bind.JAXBException: "org.apache.camel.model.config"
> doesnt contain ObjectFactory.class or jaxb.index
>
>                 at com.sun.xml.internal.bind.v2.
> ContextFactory.createContext(ContextFactory.java:266)
>
>                 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native
> Method)
>
>                 at sun.reflect.NativeMethodAccessorImpl.invoke(
> NativeMethodAccessorImpl.java:62)
>
>                 at sun.reflect.DelegatingMethodAccessorImpl.invoke(
> DelegatingMethodAccessorImpl.java:43)
>
>                 at java.lang.reflect.Method.invoke(Method.java:498)
>
>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
> java:171)
>
>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
> java:131)
>
>                 ... 45 more
>

--001a114fac881e6a14054d9cf63a--

From users-return-65383-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 19:09:30 2017
Return-Path: <users-return-65383-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BEE2B1995B
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 19:09:30 +0000 (UTC)
Received: (qmail 51223 invoked by uid 500); 20 Apr 2017 19:09:30 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 51181 invoked by uid 500); 20 Apr 2017 19:09:30 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 51163 invoked by uid 99); 20 Apr 2017 19:09:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 19:09:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7AB93181059
	for <users@camel.apache.org>; Thu, 20 Apr 2017 19:09:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.397
X-Spam-Level:
X-Spam-Status: No, score=-0.397 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id yZCiihNPioVC for <users@camel.apache.org>;
	Thu, 20 Apr 2017 19:09:25 +0000 (UTC)
Received: from mail-wr0-f171.google.com (mail-wr0-f171.google.com [209.85.128.171])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id A24DC5FB64
	for <users@camel.apache.org>; Thu, 20 Apr 2017 19:09:25 +0000 (UTC)
Received: by mail-wr0-f171.google.com with SMTP id w50so18456391wrc.0
        for <users@camel.apache.org>; Thu, 20 Apr 2017 12:09:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=qwmF4WVU5DDgFJ033krsI/hORXWN9rJmqrT5LMx/1yU=;
        b=UpJkGrFM71DH57Ayp/n6l5a1zYnYj+T2DyFtWfBtKnojX2WRy+p5uWRCGDU6j7MKzw
         ZqIIOcIdAREYUMlRWTCBef+7H2L3+YKl4WwRhe3nMJVeU6uvu6r3iLQ72QLO4h4hwXFj
         NoDxxlfSaOVFuLxS/Iyp4YDOO96WYOSLjeloDPZO86lrIIy/6pgFsiYD8bb2U8XzT9A5
         vzRs4NDhXIzfHUyXn2kb0XQz5oLlm6qyx869Tcu0GVCFApGFNTudPIbYf9Zw1xsTqDSA
         BZhJgWJG49s+k0VMlwlDDN5PrjX+zFycYmHni9EU1eTWuVrorxEFS9ZZeK0FUXZ9MgKE
         Y+PQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=qwmF4WVU5DDgFJ033krsI/hORXWN9rJmqrT5LMx/1yU=;
        b=ext82D6Om2Xva4s7Fl5WyeNLTIFKzvKPdiZlA+NGBSTTKtQrKR/kDVEdrqXUHlHVXk
         3uEdqG2vV5LgPuVR9ZFvbKT1RYHZ7PXmjFV7XGuDuwnliqnNhHIT3YUedtJy4evXOI2p
         v6tY+naF1cKAhDu+a4E2h0byLwF6DedZovW1GqhUo+bZk7m6WHXrpr+W1jZuwScFN1d7
         0odBIUkDIT9voVdRH04WPLAM6pQIevtuJibNOi/rqqjdROp/42flJXxm0uJ40sGrtVGe
         FdZuAL5W4Nyh1gGrjmowVpQCEqQEAbqaTytvD6f5ikJjfu4Mq27NHutOSKLyAXyVwDoH
         Z+dA==
X-Gm-Message-State: AN3rC/52l2v1eKFc9r/gupdqHXMl5fvUuikcKpIeqWESUqchGJdiT6f4
	468JH+6sdOJBIGgLyRSns3OIN0VVo23X
X-Received: by 10.223.134.46 with SMTP id 43mr8615871wrv.190.1492715364238;
 Thu, 20 Apr 2017 12:09:24 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.223.176.27 with HTTP; Thu, 20 Apr 2017 12:09:23 -0700 (PDT)
In-Reply-To: <CAGB5yNn0n_KdD9qk6M65z1FY1owz4C=R0NNy+ZUee+=3uYLZ6g@mail.gmail.com>
References: <CALjbH97LOtziPdYqVx=dK-nRXbv3eunYoUipD4pdFqbEV+PUzQ@mail.gmail.com>
 <CAGB5yNkUBH1gsPwBPaDXS+cecoRSx4UGfBTwnbOrpnmfoNNyVw@mail.gmail.com>
 <CALjbH96HCTF3ohOALf7qEB5UG2A+zGtaJJLQBTn0vEA==ECndg@mail.gmail.com> <CAGB5yNn0n_KdD9qk6M65z1FY1owz4C=R0NNy+ZUee+=3uYLZ6g@mail.gmail.com>
From: Robson Vargas Farias <robsonvargasfarias@gmail.com>
Date: Thu, 20 Apr 2017 16:09:23 -0300
Message-ID: <CALjbH96smHWc9GKiax+Csx1uTP0XX3wBLVbUtdc_P_M+YSbDFg@mail.gmail.com>
Subject: Re: throttle executorServiceRef not recognizing threadPool but only threadPoolProfile
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1146b7bc094d31054d9de18f

--001a1146b7bc094d31054d9de18f
Content-Type: text/plain; charset=UTF-8

I've updated to the latest camel-x version which is 2.18.3 and the error
still persists.

Should the threadPool be declared in other place than into the camelContext
?

"..because of ExecutorServiceRef my_thread_pool not found in registry or as
a thread pool profile."

2017-04-20 10:44 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:

> That is very old, its likely/possible fixed on newer version. So I
> suggest to try upgrading or build a new sample project using latest
> release and see if it works there.
>
> Knowing something is still not working in latest release brings
> attention to us. Otherwise we dont have the time to look into this
> ourselves first when users are using very old versions of Camel.
>
> On Thu, Apr 20, 2017 at 3:37 PM, Robson Vargas Farias
> <robsonvargasfarias@gmail.com> wrote:
> > Hi Claus, currently using 2.13.2 - and no, did not try other version.
> >
> > 2017-04-20 10:33 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
> >
> >> What version of Camel do you use, and have you tried with a newer
> version
> >>
> >> On Thu, Apr 20, 2017 at 3:29 PM, Robson Vargas Farias
> >> <robsonvargasfarias@gmail.com> wrote:
> >> > Hi,
> >> >
> >> > Can you help me where is my miss?
> >> >
> >> > I've a camel context configured with a route containing a throttle
> which
> >> is
> >> > pointing (ref) to a threadPool:
> >> >
> >> > <camel:camelContext id="camel-server" useMDCLogging="true"
> >> > allowUseOriginalMessage="false">
> >> >
> >> >
> >> > <!-- thread pools -->
> >> >
> >> > <camel:threadPool id="my_thread_pool"
> >> > poolSize="1"
> >> > maxPoolSize="4"
> >> > maxQueueSize="100"
> >> > threadName="my_thread_pool" keepAliveTime="0"
> >> > rejectedPolicy="DiscardOldest" timeUnit="SECONDS" />
> >> >
> >> > ..
> >> >
> >> >
> >> > <camel:route id="my_route">
> >> > <camel:from ref="mq_endpoint" />
> >> > <camel:throttle timePeriodMillis="1000" executorServiceRef="my_thread_
> >> pool">
> >> > ..
> >> >
> >> >
> >> > but, when I start my application I got below error:
> >> >
> >> > Caused By: java.lang.IllegalArgumentException: ExecutorServiceRef
> >> > my_thread_pool not found in registry or as a thread pool profile.
> >> >
> >> >
> >> >
> >> > If I change the throttle from a threadPool to a threadPoolProfile it
> >> works.
> >> > So, why it is not working with a threadPool?
> >> >
> >> > Thanks.
> >>
> >>
> >>
> >> --
> >> Claus Ibsen
> >> -----------------
> >> http://davsclaus.com @davsclaus
> >> Camel in Action 2: https://www.manning.com/ibsen2
> >>
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>

--001a1146b7bc094d31054d9de18f--

From users-return-65384-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 20 19:18:06 2017
Return-Path: <users-return-65384-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D1C9F19A4B
	for <apmail-camel-users-archive@www.apache.org>; Thu, 20 Apr 2017 19:18:06 +0000 (UTC)
Received: (qmail 89947 invoked by uid 500); 20 Apr 2017 19:18:06 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 89900 invoked by uid 500); 20 Apr 2017 19:18:06 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 89887 invoked by uid 99); 20 Apr 2017 19:18:06 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Apr 2017 19:18:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 93E1ACEDE4
	for <users@camel.apache.org>; Thu, 20 Apr 2017 19:18:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.692
X-Spam-Level: *
X-Spam-Status: No, score=1.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id mnj5k7wEA0OK for <users@camel.apache.org>;
	Thu, 20 Apr 2017 19:18:03 +0000 (UTC)
Received: from mail-yw0-f182.google.com (mail-yw0-f182.google.com [209.85.161.182])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 4AF585FBBB
	for <users@camel.apache.org>; Thu, 20 Apr 2017 19:18:03 +0000 (UTC)
Received: by mail-yw0-f182.google.com with SMTP id j9so43708570ywj.3
        for <users@camel.apache.org>; Thu, 20 Apr 2017 12:18:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=user-agent:date:subject:from:to:message-id:thread-topic:references
         :in-reply-to:mime-version:content-transfer-encoding;
        bh=yaKVQ9lc82SqstxMhS3Id7xrISNMhT3ih+ms6RV8uDQ=;
        b=tGxdnv/eWOowaL+dpRrnKhMl1ITj7zAQlrzOQsxd7buoTXUYwIVP/gHGStxn0gcUKI
         x22Ijy1Y6Okw83u8qyr/OOqNM+ZjU26ETR0zVuZnbeWNFq8WLT0vsVnR/nvdjsMyzbT7
         DF+/klIS5vziVJkkSd7Mab74CcUbW9fXtmgnfoaI+twBQ2khAzMmdKzMNSEpy3q1VA+g
         hScUnsjZ/BE28EnnE4t+oDLg9BrXC5awbSTUho133UglRUnLdyD5WO/wG7AX3IbeCq5b
         1v2TRU6pxZ4zOE4+G2AGZQUiEpnynX++FOCwYKbqrlIjbfwNXTnkBGIzQjJBT07YkwJx
         KADg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:user-agent:date:subject:from:to:message-id
         :thread-topic:references:in-reply-to:mime-version
         :content-transfer-encoding;
        bh=yaKVQ9lc82SqstxMhS3Id7xrISNMhT3ih+ms6RV8uDQ=;
        b=kk/Aw1YiQApX6REK5/lfG2AtUn0Y3arU1/rouYBWwGBm9m3J7thmXvK3bwTJsBoGpT
         +Hx6qe7K2qziokAEaW7nhiV9pj2Cc69QxdUaPruwTYFIzZOKUsitvis2j6ZrXHgexB+G
         GDT4CVRlOJI8gBExVkj14Wch820y7edCNRim4TEBAgOiVek+VK3DsYjJfLKHLAwBJYzy
         oRJ6vng3kkJ86G9I/QeD3ViHbDJQu8gUyz4MEAjhcGOHwYgGbg6aMZ1oGLsQpl/S8rpB
         6lV6RsqhAuDfao14fDfk33t4libO5gL/4SsMmh2l8AJ9v/+Geex0IajJNqcSEnIcIHpY
         tXCA==
X-Gm-Message-State: AN3rC/5g9tdTEjl8qA0yCY1u5NDCFK9lLotaEkZ3v1pYYyQzaSUftNh9
	xzUvvSaE65OmebPx
X-Received: by 10.13.224.134 with SMTP id j128mr8213636ywe.248.1492715876990;
        Thu, 20 Apr 2017 12:17:56 -0700 (PDT)
Received: from [10.0.60.52] ([12.175.119.20])
        by smtp.gmail.com with ESMTPSA id l84sm2951684ywe.8.2017.04.20.12.17.56
        for <users@camel.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Thu, 20 Apr 2017 12:17:56 -0700 (PDT)
User-Agent: Microsoft-MacOutlook/f.20.0.170309
Date: Thu, 20 Apr 2017 15:17:55 -0400
Subject: Re: Active MQ; Put Soap Request in Active MQ and get back SOAP
 response
From: Joseph Kampf <joseph.kampf@gmail.com>
To: <users@camel.apache.org>
Message-ID: <2BE9C562-16C8-4AAB-991D-1AD36765EA6D@gmail.com>
Thread-Topic: Active MQ; Put Soap Request in Active MQ and get back SOAP
 response
References: <1492520014899-5797816.post@n5.nabble.com>
In-Reply-To: <1492520014899-5797816.post@n5.nabble.com>
Mime-version: 1.0
Content-type: text/plain;
	charset="UTF-8"
Content-transfer-encoding: 7bit

When sending the message to the Queue you must change your exchange pattern to InOnly.  Once you do that, the message will go onto the queue and the next step in your route will be executed.  Your Exchange pattern below is InOut, so your route is waiting for a reply from JMS before continuing to the next step in the route.

Joe


On 4/18/17, 8:53 AM, "Ancil hameed" <ancil.hameed@gmail.com> wrote:

    I working on JBoss Fuse, I want to put my SOAP request in Active MQ Queue.
    After putting SOAP request in Queue I want a response sent back to my SOAP
    request.
    
    Sample Code snippet: Below is my camel context, i have replace < > with ( )
    
    (cxf:cxfEndpoint    address="http://localhost:8181/cxf/hello"
    id="SOAPInput" serviceClass="com.ws.demo.HelloWorld"/)
    (bean class="com.ws.demo.SoapResProcessor" id="soapResProcessor"/) 
    (camelContext id="camelContext" 
    xmlns="http://camel.apache.org/schema/spring")
    (route id="route1" streamCache="true")
    (from id="sampleFrom" uri="cxf:bean:SOAPInput?
    dataFormat=PAYLOAD&amp;exchangePattern=InOut"/)
    (when id="whenBatch")
    (xpath)starts-with(substring-after((/v1:processMessageRequest/name/text()), 
    'DEST_NAME='), "Sample")(/xpath)`enter code here`
    (to id="toSampleQ" uri="activemq:queue:SAMPLEQ?jmsMessageType=Text"/)
    (process id="soapResProcess" ref="soapResProcessor"/)
    (/when)
    
    
    
    
    --
    View this message in context: http://camel.465427.n5.nabble.com/Active-MQ-Put-Soap-Request-in-Active-MQ-and-get-back-SOAP-response-tp5797816.html
    Sent from the Camel - Users mailing list archive at Nabble.com.
    



From users-return-65385-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 21 07:12:41 2017
Return-Path: <users-return-65385-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5360A195CE
	for <apmail-camel-users-archive@www.apache.org>; Fri, 21 Apr 2017 07:12:41 +0000 (UTC)
Received: (qmail 35742 invoked by uid 500); 21 Apr 2017 07:12:40 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 35695 invoked by uid 500); 21 Apr 2017 07:12:40 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 64910 invoked by uid 99); 21 Apr 2017 04:22:13 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.767
X-Spam-Level: **
X-Spam-Status: No, score=2.767 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, DKIM_SIGNED=0.1, DKIM_VALID=-0.1,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_SOFTFAIL=0.972,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=messagingengine.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
	messagingengine.com; h=content-transfer-encoding:content-type
	:date:from:message-id:mime-version:subject:to:x-me-sender
	:x-me-sender:x-sasl-enc:x-sasl-enc; s=fm1; bh=QS1JqSVUSDJPyJS9AP
	bC29Kb+EItx8+sWFENIwUZ7zY=; b=KS5kytLyjbDFWDaCHkPjejA3mo5hI1FBYt
	cv4CJNcb3LL4IqF70AdS6frBjd/BZDrjxe9Mi43+Ik0jDQyxgvUaGj/TUvLrDMX+
	6b3P+nYFLmzfapGDQ9I3GhYrf9Llzy+0eH7E5l6uOonNIGVi9lPWxUcsUG2EwOjz
	SZLWX7nPW39qMsgWSKfPWGJBFZnpAxOiKK0irajvFUO3ZlxA7oWRH5tAbAVrca6w
	k2eS66nNIqVJl3qgwhegwSTjffbizDOEpT8F3wUAD2gjUIKPMA44FMm/0R7qZJ9n
	kcayLiPKDrZEsQNP/o760IFsURhkhutlfZnpArmHZxlHc6RdPiQQ==
X-ME-Sender: <xms:7Ij5WPhxrDPJNnmElBaPqIYFsDZoJD_09KD-bqsgzoYSfjywmqV8Iw>
X-Sasl-enc: iPSXir7uhLnq0P5XqADn63xxPGeaG6Gq6fm8bq9KZk1S 1492748524
Date: Thu, 20 Apr 2017 21:22:03 -0700 (MST)
From: srakshit <satyajit.rakshit@gmail.com>
To: users@camel.apache.org
Message-ID: <1492748523539-5797942.post@n5.nabble.com>
Subject: How to send message to different Queue hosted in different queue
 manager and hostname in IBM MQ cluster
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi Users,

I have posted my concerns over stackoverflow. Please find the link for the
same.

http://stackoverflow.com/questions/43525900/how-to-send-message-to-different-queue-hosted-in-different-queue-manager-and-hos
<http://stackoverflow.com/questions/43525900/how-to-send-message-to-different-queue-hosted-in-different-queue-manager-and-hos>  

where JoshMc from IBM MQ stack group member is saying that it's possible to
send message to other Queue manger(cluster) using the same URI which my app
IBM MQ team also suggesting.

for e.g.
JMSReplyTo = queue://QM1012/TEST.REPLY

Now from camel how to resolve this URI. As per camel API URI should be in
below format.
jmsComponent(wmq): queue/topic: queue/topic name

but above  JMSReplyTo URI is coming including queue manager.

Can any one please help to resolve this URI using camel. Please let me know
if you need more details.



--
View this message in context: http://camel.465427.n5.nabble.com/How-to-send-message-to-different-Queue-hosted-in-different-queue-manager-and-hostname-in-IBM-MQ-clusr-tp5797942.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65386-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 21 08:36:46 2017
Return-Path: <users-return-65386-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8A70F1998A
	for <apmail-camel-users-archive@www.apache.org>; Fri, 21 Apr 2017 08:36:46 +0000 (UTC)
Received: (qmail 10924 invoked by uid 500); 21 Apr 2017 08:36:46 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 10883 invoked by uid 500); 21 Apr 2017 08:36:46 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 10864 invoked by uid 99); 21 Apr 2017 08:36:45 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Apr 2017 08:36:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 281011809FF
	for <users@camel.apache.org>; Fri, 21 Apr 2017 08:36:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.38
X-Spam-Level:
X-Spam-Status: No, score=0.38 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id BjdVhkyOebRU for <users@camel.apache.org>;
	Fri, 21 Apr 2017 08:36:42 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id A210A5F23E
	for <users@camel.apache.org>; Fri, 21 Apr 2017 08:36:42 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id y63so36377601qkd.1
        for <users@camel.apache.org>; Fri, 21 Apr 2017 01:36:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=/tY/pjjss20nMl6Jz+dp3jO5ND/2KITXatlXVOy6JLw=;
        b=mryy0IZM4VFB4EGqc1RVJIMgCwAdpOd3CFKrrr2Q/bknxeiavnTPUHXUcEYbBZZXWs
         HUqk9nXc1KLAfnuQDGY13zv2Wj0k1W6gfhCGMvcBFR4O5sFsmh8+xGBRR+lC6RfUBDZN
         R9Ddeoa0PuhaO1iwrCyIhbX0rLt5CbkgC+9bhnB3xihifuW1plFq+b3ckMoYoqnjcDQc
         DoQUn4TtD+oAUk0vtBxODKF9S1TizpN7n9y/fxqpz5xkB52UswcuS9L5jPerpcYG+TMO
         HNa/dPG+oTi2bbvX7cTBZCjdft2dJsOkjAVodno6BRSHm1XmkhjctlFAZopusyCySRBB
         rQ9Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=/tY/pjjss20nMl6Jz+dp3jO5ND/2KITXatlXVOy6JLw=;
        b=i9XHzEy2dBckzk4E7bfk7MRMLViK8cmTYbKZ6nVSqN4npdNEMclB+wTRa7WVLHH1ms
         6tipkAKgeHpetywwdFZjsuGn0sVShYoRO32AgwzGgsQr88AyIi90S6D6pemIIekPvqw1
         G7YxlmlRePkWMr2xVhAMgryXiw2oe3lLMsBTU1CI7Cav/kDQCreCqsGfRxhP5aiQiena
         +IlYK64e6GApRZuxS+jAcPWOKPvRgVipt0QUra0ORzJ8ofgC38Z/C8myGZKiLVcaciWc
         2h7wT2a1/Df1y2arhaD8Cb+SPjgCToqsqb2tTefB92kM0pT7dCHxSjIaFfFBtvDW6Cxp
         fl1g==
X-Gm-Message-State: AN3rC/5eIgyaaXPjaUR9uoj8LBSsQDayoJnpf/WgjtfuubihFl2xTIn5
	zJO34zAAMYXqghxK8UvVCZhW2+1UXUdA
X-Received: by 10.55.65.133 with SMTP id o127mr11616062qka.71.1492763802165;
 Fri, 21 Apr 2017 01:36:42 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Fri, 21 Apr 2017 01:36:21 -0700 (PDT)
In-Reply-To: <CALjbH96smHWc9GKiax+Csx1uTP0XX3wBLVbUtdc_P_M+YSbDFg@mail.gmail.com>
References: <CALjbH97LOtziPdYqVx=dK-nRXbv3eunYoUipD4pdFqbEV+PUzQ@mail.gmail.com>
 <CAGB5yNkUBH1gsPwBPaDXS+cecoRSx4UGfBTwnbOrpnmfoNNyVw@mail.gmail.com>
 <CALjbH96HCTF3ohOALf7qEB5UG2A+zGtaJJLQBTn0vEA==ECndg@mail.gmail.com>
 <CAGB5yNn0n_KdD9qk6M65z1FY1owz4C=R0NNy+ZUee+=3uYLZ6g@mail.gmail.com> <CALjbH96smHWc9GKiax+Csx1uTP0XX3wBLVbUtdc_P_M+YSbDFg@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Fri, 21 Apr 2017 10:36:21 +0200
Message-ID: <CAGB5yNnS7ycE-ZDV+O3sqA1QDPX2PiuZZ3hgC05-si1ObQ_PEw@mail.gmail.com>
Subject: Re: throttle executorServiceRef not recognizing threadPool but only threadPoolProfile
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

It ought to work as its using the same code the other EIPs would do,
can you provide a very small sample project that reproduces this.




On Thu, Apr 20, 2017 at 9:09 PM, Robson Vargas Farias
<robsonvargasfarias@gmail.com> wrote:
> I've updated to the latest camel-x version which is 2.18.3 and the error
> still persists.
>
> Should the threadPool be declared in other place than into the camelContext
> ?
>
> "..because of ExecutorServiceRef my_thread_pool not found in registry or as
> a thread pool profile."
>
> 2017-04-20 10:44 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
>
>> That is very old, its likely/possible fixed on newer version. So I
>> suggest to try upgrading or build a new sample project using latest
>> release and see if it works there.
>>
>> Knowing something is still not working in latest release brings
>> attention to us. Otherwise we dont have the time to look into this
>> ourselves first when users are using very old versions of Camel.
>>
>> On Thu, Apr 20, 2017 at 3:37 PM, Robson Vargas Farias
>> <robsonvargasfarias@gmail.com> wrote:
>> > Hi Claus, currently using 2.13.2 - and no, did not try other version.
>> >
>> > 2017-04-20 10:33 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
>> >
>> >> What version of Camel do you use, and have you tried with a newer
>> version
>> >>
>> >> On Thu, Apr 20, 2017 at 3:29 PM, Robson Vargas Farias
>> >> <robsonvargasfarias@gmail.com> wrote:
>> >> > Hi,
>> >> >
>> >> > Can you help me where is my miss?
>> >> >
>> >> > I've a camel context configured with a route containing a throttle
>> which
>> >> is
>> >> > pointing (ref) to a threadPool:
>> >> >
>> >> > <camel:camelContext id="camel-server" useMDCLogging="true"
>> >> > allowUseOriginalMessage="false">
>> >> >
>> >> >
>> >> > <!-- thread pools -->
>> >> >
>> >> > <camel:threadPool id="my_thread_pool"
>> >> > poolSize="1"
>> >> > maxPoolSize="4"
>> >> > maxQueueSize="100"
>> >> > threadName="my_thread_pool" keepAliveTime="0"
>> >> > rejectedPolicy="DiscardOldest" timeUnit="SECONDS" />
>> >> >
>> >> > ..
>> >> >
>> >> >
>> >> > <camel:route id="my_route">
>> >> > <camel:from ref="mq_endpoint" />
>> >> > <camel:throttle timePeriodMillis="1000" executorServiceRef="my_thread_
>> >> pool">
>> >> > ..
>> >> >
>> >> >
>> >> > but, when I start my application I got below error:
>> >> >
>> >> > Caused By: java.lang.IllegalArgumentException: ExecutorServiceRef
>> >> > my_thread_pool not found in registry or as a thread pool profile.
>> >> >
>> >> >
>> >> >
>> >> > If I change the throttle from a threadPool to a threadPoolProfile it
>> >> works.
>> >> > So, why it is not working with a threadPool?
>> >> >
>> >> > Thanks.
>> >>
>> >>
>> >>
>> >> --
>> >> Claus Ibsen
>> >> -----------------
>> >> http://davsclaus.com @davsclaus
>> >> Camel in Action 2: https://www.manning.com/ibsen2
>> >>
>>
>>
>>
>> --
>> Claus Ibsen
>> -----------------
>> http://davsclaus.com @davsclaus
>> Camel in Action 2: https://www.manning.com/ibsen2
>>



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65387-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 21 08:54:04 2017
Return-Path: <users-return-65387-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6950219A7E
	for <apmail-camel-users-archive@www.apache.org>; Fri, 21 Apr 2017 08:54:04 +0000 (UTC)
Received: (qmail 38499 invoked by uid 500); 21 Apr 2017 08:54:03 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 38457 invoked by uid 500); 21 Apr 2017 08:54:03 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 38367 invoked by uid 99); 21 Apr 2017 08:54:00 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Apr 2017 08:54:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E12ABC1048
	for <users@camel.apache.org>; Fri, 21 Apr 2017 08:53:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.38
X-Spam-Level:
X-Spam-Status: No, score=0.38 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id y4SFumfHoCoW for <users@camel.apache.org>;
	Fri, 21 Apr 2017 08:53:57 +0000 (UTC)
Received: from mail-qk0-f170.google.com (mail-qk0-f170.google.com [209.85.220.170])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 1A26E5F485
	for <users@camel.apache.org>; Fri, 21 Apr 2017 08:53:57 +0000 (UTC)
Received: by mail-qk0-f170.google.com with SMTP id h67so67018890qke.0
        for <users@camel.apache.org>; Fri, 21 Apr 2017 01:53:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=vKRD71r6ajJ6zFPzhvqE3bXZKYjIC4ZI+Q5kfVBAAT0=;
        b=md5f3jslgkn8luwHz0jg8aNnX/zs5c0SaI7UgGcuYsqL40stVyXA5uIjZLcy6JMr5z
         AIFW730xg+7Jc2H9CySEqQ236TixyljiefGXWS9D4FRBCZJkDbiwXsBlN7oY4ltC6hvR
         IjRCyiD/bNQo6zcKxMs0jzLD0Wr46zPHBHn2TkR5sV5csHtYgzlN3sGIZP8Fx8CEkegO
         ctFVZrS70VZoZiYRUn58P3lPXqrO35k7RtU4FkTos+2KgVrFHMDYFPQDQ+XiUv0J3r9n
         7OjRHqndavrURWjwCiMURYXdY8wqXW1M6p2tEG+f5TcNSYrHMEz6oc33oVsOgUP0sMUL
         y01Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=vKRD71r6ajJ6zFPzhvqE3bXZKYjIC4ZI+Q5kfVBAAT0=;
        b=pIPA/iW9uMFGkeBojt/D7YD70JtuWBNISmOKz1ZDFeFd/4D6qtWR0ISyz6uh9SAH/Z
         95dI9aSe+d14B1rA2nlyVBGRjEL2lfzC5shiR1R+IBoiaPjl0KSnLbrOxs9Se4Np7u7e
         n33EfIKwhY2M5sEQ/p5bPQdHZ+jRgSTlC8ORsqbeIcgtpmM8zi9Y5jsTQNFiy2LXV4We
         U0j//IbRUf+MMMZegE0e3ZD5QwfPfITNGpl7UiWyqjVUnwjhI4GlB3qELGh+v6l0m3oh
         0IM89nEZlJwQ+i0m5MiwwtpQkWrhSL+7onGhnM/0fbUzmjaBhBKkFm5P/s0xCZZAtEjz
         vZew==
X-Gm-Message-State: AN3rC/7HbVUuVctiur/wqa5VljozxSzfaHErFYw9K03JISsIpSOvRNpj
	wGQAzVvKEO7KX+VElObwAb2i7+QmNxW1hCQ=
X-Received: by 10.55.48.68 with SMTP id w65mr12698743qkw.160.1492764836026;
 Fri, 21 Apr 2017 01:53:56 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Fri, 21 Apr 2017 01:53:35 -0700 (PDT)
In-Reply-To: <CAGB5yNnS7ycE-ZDV+O3sqA1QDPX2PiuZZ3hgC05-si1ObQ_PEw@mail.gmail.com>
References: <CALjbH97LOtziPdYqVx=dK-nRXbv3eunYoUipD4pdFqbEV+PUzQ@mail.gmail.com>
 <CAGB5yNkUBH1gsPwBPaDXS+cecoRSx4UGfBTwnbOrpnmfoNNyVw@mail.gmail.com>
 <CALjbH96HCTF3ohOALf7qEB5UG2A+zGtaJJLQBTn0vEA==ECndg@mail.gmail.com>
 <CAGB5yNn0n_KdD9qk6M65z1FY1owz4C=R0NNy+ZUee+=3uYLZ6g@mail.gmail.com>
 <CALjbH96smHWc9GKiax+Csx1uTP0XX3wBLVbUtdc_P_M+YSbDFg@mail.gmail.com> <CAGB5yNnS7ycE-ZDV+O3sqA1QDPX2PiuZZ3hgC05-si1ObQ_PEw@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Fri, 21 Apr 2017 10:53:35 +0200
Message-ID: <CAGB5yNnns6NBLq3ekFz_zpEhpS5tFKDuyN-1pLDQa7Cozky+zQ@mail.gmail.com>
Subject: Re: throttle executorServiceRef not recognizing threadPool but only threadPoolProfile
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

I created an unit test that cannot reproduce the problem you have
https://github.com/apache/camel/commit/9b3e7ebe58ae3e569d3869c476642937c09d0a0c

On Fri, Apr 21, 2017 at 10:36 AM, Claus Ibsen <claus.ibsen@gmail.com> wrote:
> It ought to work as its using the same code the other EIPs would do,
> can you provide a very small sample project that reproduces this.
>
>
>
>
> On Thu, Apr 20, 2017 at 9:09 PM, Robson Vargas Farias
> <robsonvargasfarias@gmail.com> wrote:
>> I've updated to the latest camel-x version which is 2.18.3 and the error
>> still persists.
>>
>> Should the threadPool be declared in other place than into the camelContext
>> ?
>>
>> "..because of ExecutorServiceRef my_thread_pool not found in registry or as
>> a thread pool profile."
>>
>> 2017-04-20 10:44 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
>>
>>> That is very old, its likely/possible fixed on newer version. So I
>>> suggest to try upgrading or build a new sample project using latest
>>> release and see if it works there.
>>>
>>> Knowing something is still not working in latest release brings
>>> attention to us. Otherwise we dont have the time to look into this
>>> ourselves first when users are using very old versions of Camel.
>>>
>>> On Thu, Apr 20, 2017 at 3:37 PM, Robson Vargas Farias
>>> <robsonvargasfarias@gmail.com> wrote:
>>> > Hi Claus, currently using 2.13.2 - and no, did not try other version.
>>> >
>>> > 2017-04-20 10:33 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
>>> >
>>> >> What version of Camel do you use, and have you tried with a newer
>>> version
>>> >>
>>> >> On Thu, Apr 20, 2017 at 3:29 PM, Robson Vargas Farias
>>> >> <robsonvargasfarias@gmail.com> wrote:
>>> >> > Hi,
>>> >> >
>>> >> > Can you help me where is my miss?
>>> >> >
>>> >> > I've a camel context configured with a route containing a throttle
>>> which
>>> >> is
>>> >> > pointing (ref) to a threadPool:
>>> >> >
>>> >> > <camel:camelContext id="camel-server" useMDCLogging="true"
>>> >> > allowUseOriginalMessage="false">
>>> >> >
>>> >> >
>>> >> > <!-- thread pools -->
>>> >> >
>>> >> > <camel:threadPool id="my_thread_pool"
>>> >> > poolSize="1"
>>> >> > maxPoolSize="4"
>>> >> > maxQueueSize="100"
>>> >> > threadName="my_thread_pool" keepAliveTime="0"
>>> >> > rejectedPolicy="DiscardOldest" timeUnit="SECONDS" />
>>> >> >
>>> >> > ..
>>> >> >
>>> >> >
>>> >> > <camel:route id="my_route">
>>> >> > <camel:from ref="mq_endpoint" />
>>> >> > <camel:throttle timePeriodMillis="1000" executorServiceRef="my_thread_
>>> >> pool">
>>> >> > ..
>>> >> >
>>> >> >
>>> >> > but, when I start my application I got below error:
>>> >> >
>>> >> > Caused By: java.lang.IllegalArgumentException: ExecutorServiceRef
>>> >> > my_thread_pool not found in registry or as a thread pool profile.
>>> >> >
>>> >> >
>>> >> >
>>> >> > If I change the throttle from a threadPool to a threadPoolProfile it
>>> >> works.
>>> >> > So, why it is not working with a threadPool?
>>> >> >
>>> >> > Thanks.
>>> >>
>>> >>
>>> >>
>>> >> --
>>> >> Claus Ibsen
>>> >> -----------------
>>> >> http://davsclaus.com @davsclaus
>>> >> Camel in Action 2: https://www.manning.com/ibsen2
>>> >>
>>>
>>>
>>>
>>> --
>>> Claus Ibsen
>>> -----------------
>>> http://davsclaus.com @davsclaus
>>> Camel in Action 2: https://www.manning.com/ibsen2
>>>
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65388-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 21 13:50:16 2017
Return-Path: <users-return-65388-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5121618826
	for <apmail-camel-users-archive@www.apache.org>; Fri, 21 Apr 2017 13:50:16 +0000 (UTC)
Received: (qmail 15302 invoked by uid 500); 21 Apr 2017 13:50:15 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 15254 invoked by uid 500); 21 Apr 2017 13:50:15 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 15242 invoked by uid 99); 21 Apr 2017 13:50:15 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Apr 2017 13:50:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0E2B9185CAB
	for <users@camel.apache.org>; Fri, 21 Apr 2017 13:50:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.88
X-Spam-Level: *
X-Spam-Status: No, score=1.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id LQ1w02lT1-3s for <users@camel.apache.org>;
	Fri, 21 Apr 2017 13:50:11 +0000 (UTC)
Received: from mail-wm0-f54.google.com (mail-wm0-f54.google.com [74.125.82.54])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 222AC61EC2
	for <users@camel.apache.org>; Fri, 21 Apr 2017 13:50:11 +0000 (UTC)
Received: by mail-wm0-f54.google.com with SMTP id m123so17781148wma.0
        for <users@camel.apache.org>; Fri, 21 Apr 2017 06:50:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=78oK+9z53G8xFJ1i0YT9y0Nk6o3EhvhK+QaZamnTtus=;
        b=RmwinX+hn1L+WW+nq8x5MsgDIV6DgVazwb1MeKpMA1076p6b1qxxV7cc+fBpL93htL
         12QszBENi++zRkQBalpoe98k9jd6AdCI0s7nXYbxm1zfYPrS6BZ4AftuaGT1Xi2zTdo8
         S2pwGqJNGiKC8of521zsOM/nlQrOoPqHcjmSBTMwQFOUmxiWqvJ82DPFtBxNvlOyEm4B
         xlWzwiWinsPQKFibKHf4vLJZzcvPVWBa63/epBeAwa7ju+A6sylOKf/fvFCTkDi+cbA2
         TLi3Ar8aAQBoBTK5sYgefUbvdNm8YdVHUJWvoYHY0QFDysv96BPq+9oYdE7NsA1QY2GT
         A2QQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=78oK+9z53G8xFJ1i0YT9y0Nk6o3EhvhK+QaZamnTtus=;
        b=ZiELjD4Gr+nJI4YhJrfwQasdzU8Kl5y8RgNcq+6CdsiCTHqgCO0ifhW3ngWENO6CmO
         1cwJQE72Ex9RVraC6uKh7QHLNaFSQxWBY7VfP778BUxMZ5hfIRa8g9wSZaoykbQNcG3N
         4Ir+OchycF/kb9vXN4SJWyc60rIk0mtwgriP6T8THpOg4ErHVNtwBUEHo2BuT/8rJlLC
         YUCxrru+JZm3c7pUHF1T5AQqKbVRzYvwLV5WXDpwfTOj/HmxwxByfIuk6OLtYdHELAn+
         iBnRurKTIYoK73/BHgLWsteJjuaEHNVx944fZuDfIQCm37SxSR/SyiVmRdwHxBCF802A
         XmWg==
X-Gm-Message-State: AN3rC/5Uf/TKLztQ0upkfST2rFOBE6gwNt/d4WfxJ6z2DaBEb2DifZuo
	bCibnfQlviMOs6cw81bWtC/90Aja6XI5
X-Received: by 10.28.93.13 with SMTP id r13mr7901823wmb.136.1492782609958;
 Fri, 21 Apr 2017 06:50:09 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.223.176.27 with HTTP; Fri, 21 Apr 2017 06:50:09 -0700 (PDT)
In-Reply-To: <CAGB5yNnns6NBLq3ekFz_zpEhpS5tFKDuyN-1pLDQa7Cozky+zQ@mail.gmail.com>
References: <CALjbH97LOtziPdYqVx=dK-nRXbv3eunYoUipD4pdFqbEV+PUzQ@mail.gmail.com>
 <CAGB5yNkUBH1gsPwBPaDXS+cecoRSx4UGfBTwnbOrpnmfoNNyVw@mail.gmail.com>
 <CALjbH96HCTF3ohOALf7qEB5UG2A+zGtaJJLQBTn0vEA==ECndg@mail.gmail.com>
 <CAGB5yNn0n_KdD9qk6M65z1FY1owz4C=R0NNy+ZUee+=3uYLZ6g@mail.gmail.com>
 <CALjbH96smHWc9GKiax+Csx1uTP0XX3wBLVbUtdc_P_M+YSbDFg@mail.gmail.com>
 <CAGB5yNnS7ycE-ZDV+O3sqA1QDPX2PiuZZ3hgC05-si1ObQ_PEw@mail.gmail.com> <CAGB5yNnns6NBLq3ekFz_zpEhpS5tFKDuyN-1pLDQa7Cozky+zQ@mail.gmail.com>
From: Robson Vargas Farias <robsonvargasfarias@gmail.com>
Date: Fri, 21 Apr 2017 10:50:09 -0300
Message-ID: <CALjbH94vJWg-o2yDoP+Rwwb7CSWzcBL8E4Qx9=1B16Z_8T5muw@mail.gmail.com>
Subject: Re: throttle executorServiceRef not recognizing threadPool but only threadPoolProfile
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1145b5a83190e5054dad8910

--001a1145b5a83190e5054dad8910
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi Claus, thanks for the support. So, actually as I mentioned, my query is:
"Why the throttle works only with ThreadPoolProfile and not with a
ThreadPool", in your sample, you used a threadpoolprofile and it=C2=B4s fin=
e, it
works for me too. But, try to run that test with a threadpool:

<?xml version=3D"1.0" encoding=3D"UTF-8"?>
<!-- Licensed to the Apache Software Foundation (ASF) under one or more
contributor
license agreements. See the NOTICE file distributed with this work for
additional
information regarding copyright ownership. The ASF licenses this file to
You under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of
the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required
by applicable law or agreed to in writing, software distributed under the
License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS
OF ANY KIND, either express or implied. See the License for the specific
language governing permissions and limitations under the License. -->
<beans xmlns=3D"http://www.springframework.org/schema/beans"
xmlns:xsi=3D"http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation=3D"
       http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans.xsd
       http://camel.apache.org/schema/spring
http://camel.apache.org/schema/spring/camel-spring.xsd
    ">

<camelContext xmlns=3D"http://camel.apache.org/schema/spring">

<threadPool id=3D"my_thread_pool" poolSize=3D"1" maxPoolSize=3D"4"
maxQueueSize=3D"100" threadName=3D"my_thread_pool" keepAliveTime=3D"0"
rejectedPolicy=3D"DiscardOldest" timeUnit=3D"SECONDS" />

<route>
<from uri=3D"direct:start" />
<throttle executorServiceRef=3D"my_thread_pool">
<constant>2</constant>
<to uri=3D"mock:result" />
</throttle>
</route>

</camelContext>

</beans>


2017-04-21 5:53 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:

> I created an unit test that cannot reproduce the problem you have
> https://github.com/apache/camel/commit/9b3e7ebe58ae3e569d3869c4766429
> 37c09d0a0c
>
> On Fri, Apr 21, 2017 at 10:36 AM, Claus Ibsen <claus.ibsen@gmail.com>
> wrote:
> > It ought to work as its using the same code the other EIPs would do,
> > can you provide a very small sample project that reproduces this.
> >
> >
> >
> >
> > On Thu, Apr 20, 2017 at 9:09 PM, Robson Vargas Farias
> > <robsonvargasfarias@gmail.com> wrote:
> >> I've updated to the latest camel-x version which is 2.18.3 and the err=
or
> >> still persists.
> >>
> >> Should the threadPool be declared in other place than into the
> camelContext
> >> ?
> >>
> >> "..because of ExecutorServiceRef my_thread_pool not found in registry
> or as
> >> a thread pool profile."
> >>
> >> 2017-04-20 10:44 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
> >>
> >>> That is very old, its likely/possible fixed on newer version. So I
> >>> suggest to try upgrading or build a new sample project using latest
> >>> release and see if it works there.
> >>>
> >>> Knowing something is still not working in latest release brings
> >>> attention to us. Otherwise we dont have the time to look into this
> >>> ourselves first when users are using very old versions of Camel.
> >>>
> >>> On Thu, Apr 20, 2017 at 3:37 PM, Robson Vargas Farias
> >>> <robsonvargasfarias@gmail.com> wrote:
> >>> > Hi Claus, currently using 2.13.2 - and no, did not try other versio=
n.
> >>> >
> >>> > 2017-04-20 10:33 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
> >>> >
> >>> >> What version of Camel do you use, and have you tried with a newer
> >>> version
> >>> >>
> >>> >> On Thu, Apr 20, 2017 at 3:29 PM, Robson Vargas Farias
> >>> >> <robsonvargasfarias@gmail.com> wrote:
> >>> >> > Hi,
> >>> >> >
> >>> >> > Can you help me where is my miss?
> >>> >> >
> >>> >> > I've a camel context configured with a route containing a thrott=
le
> >>> which
> >>> >> is
> >>> >> > pointing (ref) to a threadPool:
> >>> >> >
> >>> >> > <camel:camelContext id=3D"camel-server" useMDCLogging=3D"true"
> >>> >> > allowUseOriginalMessage=3D"false">
> >>> >> >
> >>> >> >
> >>> >> > <!-- thread pools -->
> >>> >> >
> >>> >> > <camel:threadPool id=3D"my_thread_pool"
> >>> >> > poolSize=3D"1"
> >>> >> > maxPoolSize=3D"4"
> >>> >> > maxQueueSize=3D"100"
> >>> >> > threadName=3D"my_thread_pool" keepAliveTime=3D"0"
> >>> >> > rejectedPolicy=3D"DiscardOldest" timeUnit=3D"SECONDS" />
> >>> >> >
> >>> >> > ..
> >>> >> >
> >>> >> >
> >>> >> > <camel:route id=3D"my_route">
> >>> >> > <camel:from ref=3D"mq_endpoint" />
> >>> >> > <camel:throttle timePeriodMillis=3D"1000"
> executorServiceRef=3D"my_thread_
> >>> >> pool">
> >>> >> > ..
> >>> >> >
> >>> >> >
> >>> >> > but, when I start my application I got below error:
> >>> >> >
> >>> >> > Caused By: java.lang.IllegalArgumentException: ExecutorServiceRe=
f
> >>> >> > my_thread_pool not found in registry or as a thread pool profile=
.
> >>> >> >
> >>> >> >
> >>> >> >
> >>> >> > If I change the throttle from a threadPool to a threadPoolProfil=
e
> it
> >>> >> works.
> >>> >> > So, why it is not working with a threadPool?
> >>> >> >
> >>> >> > Thanks.
> >>> >>
> >>> >>
> >>> >>
> >>> >> --
> >>> >> Claus Ibsen
> >>> >> -----------------
> >>> >> http://davsclaus.com @davsclaus
> >>> >> Camel in Action 2: https://www.manning.com/ibsen2
> >>> >>
> >>>
> >>>
> >>>
> >>> --
> >>> Claus Ibsen
> >>> -----------------
> >>> http://davsclaus.com @davsclaus
> >>> Camel in Action 2: https://www.manning.com/ibsen2
> >>>
> >
> >
> >
> > --
> > Claus Ibsen
> > -----------------
> > http://davsclaus.com @davsclaus
> > Camel in Action 2: https://www.manning.com/ibsen2
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>

--001a1145b5a83190e5054dad8910--

From users-return-65389-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 21 13:52:06 2017
Return-Path: <users-return-65389-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB3491882C
	for <apmail-camel-users-archive@www.apache.org>; Fri, 21 Apr 2017 13:52:05 +0000 (UTC)
Received: (qmail 16771 invoked by uid 500); 21 Apr 2017 13:52:05 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 16725 invoked by uid 500); 21 Apr 2017 13:52:05 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 16713 invoked by uid 99); 21 Apr 2017 13:52:05 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Apr 2017 13:52:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id BB035C1862
	for <users@camel.apache.org>; Fri, 21 Apr 2017 13:52:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.38
X-Spam-Level:
X-Spam-Status: No, score=0.38 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id enbp9Or3GcjO for <users@camel.apache.org>;
	Fri, 21 Apr 2017 13:52:02 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 4FF975FD29
	for <users@camel.apache.org>; Fri, 21 Apr 2017 13:52:02 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id y63so41991382qkd.1
        for <users@camel.apache.org>; Fri, 21 Apr 2017 06:52:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-transfer-encoding;
        bh=lkMB8YzH4/IvgI6GKqoKFV8CzQEREfMVD3bAOzrRfss=;
        b=XM9QpkCK0FZxqcTxw3yJgpi8LB4/xejs2bHkBK3+sE4JJUyszlLgI79Gj4OI48RjnN
         BEDcVQLACOtnJ+DR1FkPa1Kb6MXo2Ba3WPutdbg6BjHNBaRG4bIgxlgHFntgu94PQ3Z2
         q4SaqPsS0bUFvQvaiDTtYCj22WEFATf4MVLEadwXivvUpiuMU7bFfeG8udeGuVoI+qWA
         Ug+Pa+evEeJgc0LAl3SgqjelfQlvtKf5tSs4m2O0hPC8u19gR9ue6YDff7Cx6En6u7za
         txIAtm+BIJlnYv37rrvsy361Ik3ZVgFHBmschGOYPgZ0cLhIFp48qpSk9AI41N/QmUVq
         Uhfw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-transfer-encoding;
        bh=lkMB8YzH4/IvgI6GKqoKFV8CzQEREfMVD3bAOzrRfss=;
        b=i3vZU1kzvLFu3w+FKgaonwBfMVjDawyf71Y5CRfPKdhBsnTaO1y4DBUrvMKYuPofyV
         oR2aHZQyB6MY598RuyX/7KjQKAXHJ1QLikELKmVAMCOXRDSn/aJrK+11UEHcMErkufZ3
         4oU+3EdzipQVs8PnVhavfMQGuCS590xRKW1M4KHmgtZPlHpPSA4bEWCmgDiy+RadyLMT
         lKTjLsJ4/obFjtKalbnJcye94o0hnzziTSX3ZoxSfXoo8Zm0/zmZoSNQ+RxwUUru8Cjy
         LZhoO21ePObAkpfvC6h0jA59t2fmDK7BvgspfxY1HPEwEYsDUNOIMaCkr5nTGkrb+/e6
         Vi0Q==
X-Gm-Message-State: AN3rC/5GTKYFMNYoYNtCRxIYIy0j0/hA5nSqv9hxOdnG6ZDP2DQ63oHG
	IImKjWSJTmZZNliK6dXM48NSVf43BAMS
X-Received: by 10.55.144.6 with SMTP id s6mr12529531qkd.27.1492782711231; Fri,
 21 Apr 2017 06:51:51 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Fri, 21 Apr 2017 06:51:30 -0700 (PDT)
In-Reply-To: <CALjbH94vJWg-o2yDoP+Rwwb7CSWzcBL8E4Qx9=1B16Z_8T5muw@mail.gmail.com>
References: <CALjbH97LOtziPdYqVx=dK-nRXbv3eunYoUipD4pdFqbEV+PUzQ@mail.gmail.com>
 <CAGB5yNkUBH1gsPwBPaDXS+cecoRSx4UGfBTwnbOrpnmfoNNyVw@mail.gmail.com>
 <CALjbH96HCTF3ohOALf7qEB5UG2A+zGtaJJLQBTn0vEA==ECndg@mail.gmail.com>
 <CAGB5yNn0n_KdD9qk6M65z1FY1owz4C=R0NNy+ZUee+=3uYLZ6g@mail.gmail.com>
 <CALjbH96smHWc9GKiax+Csx1uTP0XX3wBLVbUtdc_P_M+YSbDFg@mail.gmail.com>
 <CAGB5yNnS7ycE-ZDV+O3sqA1QDPX2PiuZZ3hgC05-si1ObQ_PEw@mail.gmail.com>
 <CAGB5yNnns6NBLq3ekFz_zpEhpS5tFKDuyN-1pLDQa7Cozky+zQ@mail.gmail.com> <CALjbH94vJWg-o2yDoP+Rwwb7CSWzcBL8E4Qx9=1B16Z_8T5muw@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Fri, 21 Apr 2017 15:51:30 +0200
Message-ID: <CAGB5yN=PF6EReQpkbxgfU13q0tFvux4ABdYCCR8iRHru-RJH+A@mail.gmail.com>
Subject: Re: throttle executorServiceRef not recognizing threadPool but only threadPoolProfile
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

The thread pool must be a scheduled thread pool and not a regular pool

On Fri, Apr 21, 2017 at 3:50 PM, Robson Vargas Farias
<robsonvargasfarias@gmail.com> wrote:
> Hi Claus, thanks for the support. So, actually as I mentioned, my query i=
s:
> "Why the throttle works only with ThreadPoolProfile and not with a
> ThreadPool", in your sample, you used a threadpoolprofile and it=C2=B4s f=
ine, it
> works for me too. But, try to run that test with a threadpool:
>
> <?xml version=3D"1.0" encoding=3D"UTF-8"?>
> <!-- Licensed to the Apache Software Foundation (ASF) under one or more
> contributor
> license agreements. See the NOTICE file distributed with this work for
> additional
> information regarding copyright ownership. The ASF licenses this file to
> You under the Apache License, Version 2.0 (the "License"); you may not us=
e
> this file except in compliance with the License. You may obtain a copy of
> the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required
> by applicable law or agreed to in writing, software distributed under the
> License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
> CONDITIONS
> OF ANY KIND, either express or implied. See the License for the specific
> language governing permissions and limitations under the License. -->
> <beans xmlns=3D"http://www.springframework.org/schema/beans"
> xmlns:xsi=3D"http://www.w3.org/2001/XMLSchema-instance"
> xsi:schemaLocation=3D"
>        http://www.springframework.org/schema/beans
> http://www.springframework.org/schema/beans/spring-beans.xsd
>        http://camel.apache.org/schema/spring
> http://camel.apache.org/schema/spring/camel-spring.xsd
>     ">
>
> <camelContext xmlns=3D"http://camel.apache.org/schema/spring">
>
> <threadPool id=3D"my_thread_pool" poolSize=3D"1" maxPoolSize=3D"4"
> maxQueueSize=3D"100" threadName=3D"my_thread_pool" keepAliveTime=3D"0"
> rejectedPolicy=3D"DiscardOldest" timeUnit=3D"SECONDS" />
>
> <route>
> <from uri=3D"direct:start" />
> <throttle executorServiceRef=3D"my_thread_pool">
> <constant>2</constant>
> <to uri=3D"mock:result" />
> </throttle>
> </route>
>
> </camelContext>
>
> </beans>
>
>
> 2017-04-21 5:53 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
>
>> I created an unit test that cannot reproduce the problem you have
>> https://github.com/apache/camel/commit/9b3e7ebe58ae3e569d3869c4766429
>> 37c09d0a0c
>>
>> On Fri, Apr 21, 2017 at 10:36 AM, Claus Ibsen <claus.ibsen@gmail.com>
>> wrote:
>> > It ought to work as its using the same code the other EIPs would do,
>> > can you provide a very small sample project that reproduces this.
>> >
>> >
>> >
>> >
>> > On Thu, Apr 20, 2017 at 9:09 PM, Robson Vargas Farias
>> > <robsonvargasfarias@gmail.com> wrote:
>> >> I've updated to the latest camel-x version which is 2.18.3 and the er=
ror
>> >> still persists.
>> >>
>> >> Should the threadPool be declared in other place than into the
>> camelContext
>> >> ?
>> >>
>> >> "..because of ExecutorServiceRef my_thread_pool not found in registry
>> or as
>> >> a thread pool profile."
>> >>
>> >> 2017-04-20 10:44 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
>> >>
>> >>> That is very old, its likely/possible fixed on newer version. So I
>> >>> suggest to try upgrading or build a new sample project using latest
>> >>> release and see if it works there.
>> >>>
>> >>> Knowing something is still not working in latest release brings
>> >>> attention to us. Otherwise we dont have the time to look into this
>> >>> ourselves first when users are using very old versions of Camel.
>> >>>
>> >>> On Thu, Apr 20, 2017 at 3:37 PM, Robson Vargas Farias
>> >>> <robsonvargasfarias@gmail.com> wrote:
>> >>> > Hi Claus, currently using 2.13.2 - and no, did not try other versi=
on.
>> >>> >
>> >>> > 2017-04-20 10:33 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
>> >>> >
>> >>> >> What version of Camel do you use, and have you tried with a newer
>> >>> version
>> >>> >>
>> >>> >> On Thu, Apr 20, 2017 at 3:29 PM, Robson Vargas Farias
>> >>> >> <robsonvargasfarias@gmail.com> wrote:
>> >>> >> > Hi,
>> >>> >> >
>> >>> >> > Can you help me where is my miss?
>> >>> >> >
>> >>> >> > I've a camel context configured with a route containing a throt=
tle
>> >>> which
>> >>> >> is
>> >>> >> > pointing (ref) to a threadPool:
>> >>> >> >
>> >>> >> > <camel:camelContext id=3D"camel-server" useMDCLogging=3D"true"
>> >>> >> > allowUseOriginalMessage=3D"false">
>> >>> >> >
>> >>> >> >
>> >>> >> > <!-- thread pools -->
>> >>> >> >
>> >>> >> > <camel:threadPool id=3D"my_thread_pool"
>> >>> >> > poolSize=3D"1"
>> >>> >> > maxPoolSize=3D"4"
>> >>> >> > maxQueueSize=3D"100"
>> >>> >> > threadName=3D"my_thread_pool" keepAliveTime=3D"0"
>> >>> >> > rejectedPolicy=3D"DiscardOldest" timeUnit=3D"SECONDS" />
>> >>> >> >
>> >>> >> > ..
>> >>> >> >
>> >>> >> >
>> >>> >> > <camel:route id=3D"my_route">
>> >>> >> > <camel:from ref=3D"mq_endpoint" />
>> >>> >> > <camel:throttle timePeriodMillis=3D"1000"
>> executorServiceRef=3D"my_thread_
>> >>> >> pool">
>> >>> >> > ..
>> >>> >> >
>> >>> >> >
>> >>> >> > but, when I start my application I got below error:
>> >>> >> >
>> >>> >> > Caused By: java.lang.IllegalArgumentException: ExecutorServiceR=
ef
>> >>> >> > my_thread_pool not found in registry or as a thread pool profil=
e.
>> >>> >> >
>> >>> >> >
>> >>> >> >
>> >>> >> > If I change the throttle from a threadPool to a threadPoolProfi=
le
>> it
>> >>> >> works.
>> >>> >> > So, why it is not working with a threadPool?
>> >>> >> >
>> >>> >> > Thanks.
>> >>> >>
>> >>> >>
>> >>> >>
>> >>> >> --
>> >>> >> Claus Ibsen
>> >>> >> -----------------
>> >>> >> http://davsclaus.com @davsclaus
>> >>> >> Camel in Action 2: https://www.manning.com/ibsen2
>> >>> >>
>> >>>
>> >>>
>> >>>
>> >>> --
>> >>> Claus Ibsen
>> >>> -----------------
>> >>> http://davsclaus.com @davsclaus
>> >>> Camel in Action 2: https://www.manning.com/ibsen2
>> >>>
>> >
>> >
>> >
>> > --
>> > Claus Ibsen
>> > -----------------
>> > http://davsclaus.com @davsclaus
>> > Camel in Action 2: https://www.manning.com/ibsen2
>>
>>
>>
>> --
>> Claus Ibsen
>> -----------------
>> http://davsclaus.com @davsclaus
>> Camel in Action 2: https://www.manning.com/ibsen2
>>



--=20
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65390-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 21 14:03:29 2017
Return-Path: <users-return-65390-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E530E188C2
	for <apmail-camel-users-archive@www.apache.org>; Fri, 21 Apr 2017 14:03:29 +0000 (UTC)
Received: (qmail 45725 invoked by uid 500); 21 Apr 2017 14:03:29 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 45678 invoked by uid 500); 21 Apr 2017 14:03:29 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 45654 invoked by uid 99); 21 Apr 2017 14:03:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Apr 2017 14:03:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B9449CF2A1
	for <users@camel.apache.org>; Fri, 21 Apr 2017 14:03:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.38
X-Spam-Level: **
X-Spam-Status: No, score=2.38 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id wGre679k5f4l for <users@camel.apache.org>;
	Fri, 21 Apr 2017 14:03:25 +0000 (UTC)
Received: from mail-wm0-f43.google.com (mail-wm0-f43.google.com [74.125.82.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 778EE60D68
	for <users@camel.apache.org>; Fri, 21 Apr 2017 14:03:25 +0000 (UTC)
Received: by mail-wm0-f43.google.com with SMTP id m123so18103171wma.0
        for <users@camel.apache.org>; Fri, 21 Apr 2017 07:03:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=70hpDxH0fXXIhWC2gUIlUKKxm0UjamQiAvGAB6LEdIU=;
        b=Kya0j9X6U/sn1gcrMbll89Lzx1lqEI1J75H74Ch6ZjrGC9NHJm12n1DufJifEX4tQK
         H1pJActZ4krhBP/qiMkHlCiLhx/kZfZk9GekY1J3T75bFuFVhwzT1aR71AdpJS0gAo21
         cWxRLeDNHEdFw35CPHpEnI4R8tHjmeImxEzskJx2ZWD+8LuTHk8iDYOdtHsSVekkq5+B
         /MpXWUpiIe1yekOEVPXNf0uWflZZcvIz2jX3mAN1cmql0+r6kLuOpbJ/blYscSy77AZ9
         Pp0Te9oHzhHm2gphG4rDh/TTtYR4n22slyA/akCh4wf2IWwQMClAtDxFzMPliSbnVHe+
         z8Lw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=70hpDxH0fXXIhWC2gUIlUKKxm0UjamQiAvGAB6LEdIU=;
        b=XofpkjtPDGmGHpv2o8HJoSIqK12NANhZfUNAkJJK4bikGRbo6Q17xOuHrtq1jZcWjv
         ljdQMra0oL5JkrxACPk0MGL2qwiXBfsU3SsOUtrTuQwqDxb45ndARFzy7FGVM9blBHAb
         eUZDODvm/bOvOOnsaPpc35Y62QES1fUchHnIopZGdGyeqtmULrhDDZohdR15Dw5Mmmax
         62k2ZXCFgj6FfF78JkkPZp+KWjIa56hIXvWPYK/wAiOfDcTbGMNlMVZDOBcCaSXv/ZoJ
         btglxXYj6Ylu2WdrAwdInCrADNeNwC3aD5Nh7xMZXb7CmFjx23l0Kai9n1+dkH1MaS0O
         r2Jw==
X-Gm-Message-State: AN3rC/44ph9DNGc1TD5D6TAPQI9QBNa+Xf3run3I1ddJXASAbfWKutJX
	WOme8cKS0s/yAk9y+Gj1DLVlnTY9vhAG
X-Received: by 10.28.93.13 with SMTP id r13mr7957234wmb.136.1492783404725;
 Fri, 21 Apr 2017 07:03:24 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.223.176.27 with HTTP; Fri, 21 Apr 2017 07:03:24 -0700 (PDT)
In-Reply-To: <CAGB5yN=PF6EReQpkbxgfU13q0tFvux4ABdYCCR8iRHru-RJH+A@mail.gmail.com>
References: <CALjbH97LOtziPdYqVx=dK-nRXbv3eunYoUipD4pdFqbEV+PUzQ@mail.gmail.com>
 <CAGB5yNkUBH1gsPwBPaDXS+cecoRSx4UGfBTwnbOrpnmfoNNyVw@mail.gmail.com>
 <CALjbH96HCTF3ohOALf7qEB5UG2A+zGtaJJLQBTn0vEA==ECndg@mail.gmail.com>
 <CAGB5yNn0n_KdD9qk6M65z1FY1owz4C=R0NNy+ZUee+=3uYLZ6g@mail.gmail.com>
 <CALjbH96smHWc9GKiax+Csx1uTP0XX3wBLVbUtdc_P_M+YSbDFg@mail.gmail.com>
 <CAGB5yNnS7ycE-ZDV+O3sqA1QDPX2PiuZZ3hgC05-si1ObQ_PEw@mail.gmail.com>
 <CAGB5yNnns6NBLq3ekFz_zpEhpS5tFKDuyN-1pLDQa7Cozky+zQ@mail.gmail.com>
 <CALjbH94vJWg-o2yDoP+Rwwb7CSWzcBL8E4Qx9=1B16Z_8T5muw@mail.gmail.com> <CAGB5yN=PF6EReQpkbxgfU13q0tFvux4ABdYCCR8iRHru-RJH+A@mail.gmail.com>
From: Robson Vargas Farias <robsonvargasfarias@gmail.com>
Date: Fri, 21 Apr 2017 11:03:24 -0300
Message-ID: <CALjbH97xzDCU=F3gwqkjnb_YurXzuKHM4Z=QR49JWDrJPLPZAQ@mail.gmail.com>
Subject: Re: throttle executorServiceRef not recognizing threadPool but only threadPoolProfile
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1145b5a890c383054dadb836

--001a1145b5a890c383054dadb836
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Right, but I still don't understood the point, sorry I'm kindly newer in
Camel. as per I read on Camel documentation, the regular threadPool kind of
"extend" from a threadPoolProfile"

"Create custom thread pool You can also use the <threadPool/> tag in Spring
XML to create a specific thread pool (eg ExecutorService). Notice that any
options you do not explicit define, will have Camel to use the default
thread pool profile as fallback. For example if you omit setting the
maxQueueSize then Camel will fallback and use the value from the default
thread pool profiles, which by default is 1000." -
http://camel.apache.org/threading-model.html

so, what exactly is the difference when you mean "ThreadPoolProfile" is
scheduled and "ThreadPool" isn=C2=B4t ?

2017-04-21 10:51 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:

> The thread pool must be a scheduled thread pool and not a regular pool
>
> On Fri, Apr 21, 2017 at 3:50 PM, Robson Vargas Farias
> <robsonvargasfarias@gmail.com> wrote:
> > Hi Claus, thanks for the support. So, actually as I mentioned, my query
> is:
> > "Why the throttle works only with ThreadPoolProfile and not with a
> > ThreadPool", in your sample, you used a threadpoolprofile and it=C2=B4s=
 fine,
> it
> > works for me too. But, try to run that test with a threadpool:
> >
> > <?xml version=3D"1.0" encoding=3D"UTF-8"?>
> > <!-- Licensed to the Apache Software Foundation (ASF) under one or more
> > contributor
> > license agreements. See the NOTICE file distributed with this work for
> > additional
> > information regarding copyright ownership. The ASF licenses this file t=
o
> > You under the Apache License, Version 2.0 (the "License"); you may not
> use
> > this file except in compliance with the License. You may obtain a copy =
of
> > the License at http://www.apache.org/licenses/LICENSE-2.0 Unless
> required
> > by applicable law or agreed to in writing, software distributed under t=
he
> > License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
> > CONDITIONS
> > OF ANY KIND, either express or implied. See the License for the specifi=
c
> > language governing permissions and limitations under the License. -->
> > <beans xmlns=3D"http://www.springframework.org/schema/beans"
> > xmlns:xsi=3D"http://www.w3.org/2001/XMLSchema-instance"
> > xsi:schemaLocation=3D"
> >        http://www.springframework.org/schema/beans
> > http://www.springframework.org/schema/beans/spring-beans.xsd
> >        http://camel.apache.org/schema/spring
> > http://camel.apache.org/schema/spring/camel-spring.xsd
> >     ">
> >
> > <camelContext xmlns=3D"http://camel.apache.org/schema/spring">
> >
> > <threadPool id=3D"my_thread_pool" poolSize=3D"1" maxPoolSize=3D"4"
> > maxQueueSize=3D"100" threadName=3D"my_thread_pool" keepAliveTime=3D"0"
> > rejectedPolicy=3D"DiscardOldest" timeUnit=3D"SECONDS" />
> >
> > <route>
> > <from uri=3D"direct:start" />
> > <throttle executorServiceRef=3D"my_thread_pool">
> > <constant>2</constant>
> > <to uri=3D"mock:result" />
> > </throttle>
> > </route>
> >
> > </camelContext>
> >
> > </beans>
> >
> >
> > 2017-04-21 5:53 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
> >
> >> I created an unit test that cannot reproduce the problem you have
> >> https://github.com/apache/camel/commit/9b3e7ebe58ae3e569d3869c4766429
> >> 37c09d0a0c
> >>
> >> On Fri, Apr 21, 2017 at 10:36 AM, Claus Ibsen <claus.ibsen@gmail.com>
> >> wrote:
> >> > It ought to work as its using the same code the other EIPs would do,
> >> > can you provide a very small sample project that reproduces this.
> >> >
> >> >
> >> >
> >> >
> >> > On Thu, Apr 20, 2017 at 9:09 PM, Robson Vargas Farias
> >> > <robsonvargasfarias@gmail.com> wrote:
> >> >> I've updated to the latest camel-x version which is 2.18.3 and the
> error
> >> >> still persists.
> >> >>
> >> >> Should the threadPool be declared in other place than into the
> >> camelContext
> >> >> ?
> >> >>
> >> >> "..because of ExecutorServiceRef my_thread_pool not found in regist=
ry
> >> or as
> >> >> a thread pool profile."
> >> >>
> >> >> 2017-04-20 10:44 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
> >> >>
> >> >>> That is very old, its likely/possible fixed on newer version. So I
> >> >>> suggest to try upgrading or build a new sample project using lates=
t
> >> >>> release and see if it works there.
> >> >>>
> >> >>> Knowing something is still not working in latest release brings
> >> >>> attention to us. Otherwise we dont have the time to look into this
> >> >>> ourselves first when users are using very old versions of Camel.
> >> >>>
> >> >>> On Thu, Apr 20, 2017 at 3:37 PM, Robson Vargas Farias
> >> >>> <robsonvargasfarias@gmail.com> wrote:
> >> >>> > Hi Claus, currently using 2.13.2 - and no, did not try other
> version.
> >> >>> >
> >> >>> > 2017-04-20 10:33 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
> >> >>> >
> >> >>> >> What version of Camel do you use, and have you tried with a new=
er
> >> >>> version
> >> >>> >>
> >> >>> >> On Thu, Apr 20, 2017 at 3:29 PM, Robson Vargas Farias
> >> >>> >> <robsonvargasfarias@gmail.com> wrote:
> >> >>> >> > Hi,
> >> >>> >> >
> >> >>> >> > Can you help me where is my miss?
> >> >>> >> >
> >> >>> >> > I've a camel context configured with a route containing a
> throttle
> >> >>> which
> >> >>> >> is
> >> >>> >> > pointing (ref) to a threadPool:
> >> >>> >> >
> >> >>> >> > <camel:camelContext id=3D"camel-server" useMDCLogging=3D"true=
"
> >> >>> >> > allowUseOriginalMessage=3D"false">
> >> >>> >> >
> >> >>> >> >
> >> >>> >> > <!-- thread pools -->
> >> >>> >> >
> >> >>> >> > <camel:threadPool id=3D"my_thread_pool"
> >> >>> >> > poolSize=3D"1"
> >> >>> >> > maxPoolSize=3D"4"
> >> >>> >> > maxQueueSize=3D"100"
> >> >>> >> > threadName=3D"my_thread_pool" keepAliveTime=3D"0"
> >> >>> >> > rejectedPolicy=3D"DiscardOldest" timeUnit=3D"SECONDS" />
> >> >>> >> >
> >> >>> >> > ..
> >> >>> >> >
> >> >>> >> >
> >> >>> >> > <camel:route id=3D"my_route">
> >> >>> >> > <camel:from ref=3D"mq_endpoint" />
> >> >>> >> > <camel:throttle timePeriodMillis=3D"1000"
> >> executorServiceRef=3D"my_thread_
> >> >>> >> pool">
> >> >>> >> > ..
> >> >>> >> >
> >> >>> >> >
> >> >>> >> > but, when I start my application I got below error:
> >> >>> >> >
> >> >>> >> > Caused By: java.lang.IllegalArgumentException:
> ExecutorServiceRef
> >> >>> >> > my_thread_pool not found in registry or as a thread pool
> profile.
> >> >>> >> >
> >> >>> >> >
> >> >>> >> >
> >> >>> >> > If I change the throttle from a threadPool to a
> threadPoolProfile
> >> it
> >> >>> >> works.
> >> >>> >> > So, why it is not working with a threadPool?
> >> >>> >> >
> >> >>> >> > Thanks.
> >> >>> >>
> >> >>> >>
> >> >>> >>
> >> >>> >> --
> >> >>> >> Claus Ibsen
> >> >>> >> -----------------
> >> >>> >> http://davsclaus.com @davsclaus
> >> >>> >> Camel in Action 2: https://www.manning.com/ibsen2
> >> >>> >>
> >> >>>
> >> >>>
> >> >>>
> >> >>> --
> >> >>> Claus Ibsen
> >> >>> -----------------
> >> >>> http://davsclaus.com @davsclaus
> >> >>> Camel in Action 2: https://www.manning.com/ibsen2
> >> >>>
> >> >
> >> >
> >> >
> >> > --
> >> > Claus Ibsen
> >> > -----------------
> >> > http://davsclaus.com @davsclaus
> >> > Camel in Action 2: https://www.manning.com/ibsen2
> >>
> >>
> >>
> >> --
> >> Claus Ibsen
> >> -----------------
> >> http://davsclaus.com @davsclaus
> >> Camel in Action 2: https://www.manning.com/ibsen2
> >>
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>

--001a1145b5a890c383054dadb836--

From users-return-65391-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 21 14:55:23 2017
Return-Path: <users-return-65391-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AACDC18BD2
	for <apmail-camel-users-archive@www.apache.org>; Fri, 21 Apr 2017 14:55:23 +0000 (UTC)
Received: (qmail 49396 invoked by uid 500); 21 Apr 2017 14:54:24 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 46703 invoked by uid 500); 21 Apr 2017 14:54:22 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 43480 invoked by uid 99); 21 Apr 2017 14:48:05 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Apr 2017 14:48:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 2B8BBC07A2
	for <users@camel.apache.org>; Fri, 21 Apr 2017 14:48:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.396
X-Spam-Level:
X-Spam-Status: No, score=-2.396 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id b0bo-GKyIt3B for <users@camel.apache.org>;
	Fri, 21 Apr 2017 14:48:03 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id C13A25FD9A
	for <users@camel.apache.org>; Fri, 21 Apr 2017 14:48:02 +0000 (UTC)
Received: by mail-qk0-f175.google.com with SMTP id h67so73788250qke.0
        for <users@camel.apache.org>; Fri, 21 Apr 2017 07:48:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-transfer-encoding;
        bh=KwNsy+taKKYJmx8NO6RHJBFSxvMMRaqPk1ZPxJq0HW4=;
        b=gIWra1FWpF2h1v+sszrzb9vQuaM0EOkPbPruw/zmsFV4PsAvyFzcJ1rqzCkehkb5VI
         9jIjH8GYStHVJO0CkWjTKAih2YlAu03gvaPgns+1Dz1eVo6qgiVr1D8qo0K9qWua/Fsu
         9cu3u1ZsTQ/I2cVscggUQE231OVvsMx/AqS+Wjz2SGYUXYmjJIhNx4Zw2rpQWlRnVA1t
         cWRCTXr/I4AEqZ9EXnOPCtYtPdrgKXlAPO0SJLdBM/fA6JFBDM1zRx5Fh/h8rlowyXov
         Jkm2Q0RqAt/2kqxRIiYpus2KmlrTHxfsz/Aea+S9AW/ygEZLOsej0WwzkAO/3EunBT4P
         G/SA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-transfer-encoding;
        bh=KwNsy+taKKYJmx8NO6RHJBFSxvMMRaqPk1ZPxJq0HW4=;
        b=nQsgVdxEmKxLf/l78qn4WuYkg3SosvC1y+B1DdQC/vLBumOmWy/fveUvrKVPXUHsmF
         JmtnGER8Wm1iDNH8LMTskGgo/cr501OD7L6Uo9wZ87Ht1VymwHWICMKmmQiHS+qoesa1
         3Gn/N8jr+oDSQpmnxPBWIHgV1k/mv4w5wqzzS4v1MADjZYBwhkadhRHLE5uzzWzSlaJZ
         Pdo6UwO2x15NQDyzsz2k4k1/FwIOWs0E3srSOAh9VJe9GsWi6LGv40m7/mDO1UWq4OPr
         ZX1ymFPDrj8K8miO8/o1yKnRZybsrxsospiof8cR4wVVla0Hq7dphMZkup5u3LX1PI+M
         eAVA==
X-Gm-Message-State: AN3rC/5XgdmTJVe1HCG1y/aX9M2uMaO7K8bsCCdWDCByRL+qf13uj3Gy
	7dszXpC5tAKHeRK8sNiGL5Y0m5tTNYXS
X-Received: by 10.55.113.134 with SMTP id m128mr13163794qkc.258.1492786082218;
 Fri, 21 Apr 2017 07:48:02 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.52.131 with HTTP; Fri, 21 Apr 2017 07:47:41 -0700 (PDT)
In-Reply-To: <CALjbH97xzDCU=F3gwqkjnb_YurXzuKHM4Z=QR49JWDrJPLPZAQ@mail.gmail.com>
References: <CALjbH97LOtziPdYqVx=dK-nRXbv3eunYoUipD4pdFqbEV+PUzQ@mail.gmail.com>
 <CAGB5yNkUBH1gsPwBPaDXS+cecoRSx4UGfBTwnbOrpnmfoNNyVw@mail.gmail.com>
 <CALjbH96HCTF3ohOALf7qEB5UG2A+zGtaJJLQBTn0vEA==ECndg@mail.gmail.com>
 <CAGB5yNn0n_KdD9qk6M65z1FY1owz4C=R0NNy+ZUee+=3uYLZ6g@mail.gmail.com>
 <CALjbH96smHWc9GKiax+Csx1uTP0XX3wBLVbUtdc_P_M+YSbDFg@mail.gmail.com>
 <CAGB5yNnS7ycE-ZDV+O3sqA1QDPX2PiuZZ3hgC05-si1ObQ_PEw@mail.gmail.com>
 <CAGB5yNnns6NBLq3ekFz_zpEhpS5tFKDuyN-1pLDQa7Cozky+zQ@mail.gmail.com>
 <CALjbH94vJWg-o2yDoP+Rwwb7CSWzcBL8E4Qx9=1B16Z_8T5muw@mail.gmail.com>
 <CAGB5yN=PF6EReQpkbxgfU13q0tFvux4ABdYCCR8iRHru-RJH+A@mail.gmail.com> <CALjbH97xzDCU=F3gwqkjnb_YurXzuKHM4Z=QR49JWDrJPLPZAQ@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Fri, 21 Apr 2017 16:47:41 +0200
Message-ID: <CAGB5yNkcMDtwRhqn7SVEi72Fe3Qzex0KRL_64fD8xUdDTCS7rg@mail.gmail.com>
Subject: Re: throttle executorServiceRef not recognizing threadPool but only threadPoolProfile
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Set scheduled=3D"true" on the <threadPool>

On Fri, Apr 21, 2017 at 4:03 PM, Robson Vargas Farias
<robsonvargasfarias@gmail.com> wrote:
> Right, but I still don't understood the point, sorry I'm kindly newer in
> Camel. as per I read on Camel documentation, the regular threadPool kind =
of
> "extend" from a threadPoolProfile"
>
> "Create custom thread pool You can also use the <threadPool/> tag in Spri=
ng
> XML to create a specific thread pool (eg ExecutorService). Notice that an=
y
> options you do not explicit define, will have Camel to use the default
> thread pool profile as fallback. For example if you omit setting the
> maxQueueSize then Camel will fallback and use the value from the default
> thread pool profiles, which by default is 1000." -
> http://camel.apache.org/threading-model.html
>
> so, what exactly is the difference when you mean "ThreadPoolProfile" is
> scheduled and "ThreadPool" isn=C2=B4t ?
>
> 2017-04-21 10:51 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
>
>> The thread pool must be a scheduled thread pool and not a regular pool
>>
>> On Fri, Apr 21, 2017 at 3:50 PM, Robson Vargas Farias
>> <robsonvargasfarias@gmail.com> wrote:
>> > Hi Claus, thanks for the support. So, actually as I mentioned, my quer=
y
>> is:
>> > "Why the throttle works only with ThreadPoolProfile and not with a
>> > ThreadPool", in your sample, you used a threadpoolprofile and it=C2=B4=
s fine,
>> it
>> > works for me too. But, try to run that test with a threadpool:
>> >
>> > <?xml version=3D"1.0" encoding=3D"UTF-8"?>
>> > <!-- Licensed to the Apache Software Foundation (ASF) under one or mor=
e
>> > contributor
>> > license agreements. See the NOTICE file distributed with this work for
>> > additional
>> > information regarding copyright ownership. The ASF licenses this file =
to
>> > You under the Apache License, Version 2.0 (the "License"); you may not
>> use
>> > this file except in compliance with the License. You may obtain a copy=
 of
>> > the License at http://www.apache.org/licenses/LICENSE-2.0 Unless
>> required
>> > by applicable law or agreed to in writing, software distributed under =
the
>> > License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
>> > CONDITIONS
>> > OF ANY KIND, either express or implied. See the License for the specif=
ic
>> > language governing permissions and limitations under the License. -->
>> > <beans xmlns=3D"http://www.springframework.org/schema/beans"
>> > xmlns:xsi=3D"http://www.w3.org/2001/XMLSchema-instance"
>> > xsi:schemaLocation=3D"
>> >        http://www.springframework.org/schema/beans
>> > http://www.springframework.org/schema/beans/spring-beans.xsd
>> >        http://camel.apache.org/schema/spring
>> > http://camel.apache.org/schema/spring/camel-spring.xsd
>> >     ">
>> >
>> > <camelContext xmlns=3D"http://camel.apache.org/schema/spring">
>> >
>> > <threadPool id=3D"my_thread_pool" poolSize=3D"1" maxPoolSize=3D"4"
>> > maxQueueSize=3D"100" threadName=3D"my_thread_pool" keepAliveTime=3D"0"
>> > rejectedPolicy=3D"DiscardOldest" timeUnit=3D"SECONDS" />
>> >
>> > <route>
>> > <from uri=3D"direct:start" />
>> > <throttle executorServiceRef=3D"my_thread_pool">
>> > <constant>2</constant>
>> > <to uri=3D"mock:result" />
>> > </throttle>
>> > </route>
>> >
>> > </camelContext>
>> >
>> > </beans>
>> >
>> >
>> > 2017-04-21 5:53 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
>> >
>> >> I created an unit test that cannot reproduce the problem you have
>> >> https://github.com/apache/camel/commit/9b3e7ebe58ae3e569d3869c4766429
>> >> 37c09d0a0c
>> >>
>> >> On Fri, Apr 21, 2017 at 10:36 AM, Claus Ibsen <claus.ibsen@gmail.com>
>> >> wrote:
>> >> > It ought to work as its using the same code the other EIPs would do=
,
>> >> > can you provide a very small sample project that reproduces this.
>> >> >
>> >> >
>> >> >
>> >> >
>> >> > On Thu, Apr 20, 2017 at 9:09 PM, Robson Vargas Farias
>> >> > <robsonvargasfarias@gmail.com> wrote:
>> >> >> I've updated to the latest camel-x version which is 2.18.3 and the
>> error
>> >> >> still persists.
>> >> >>
>> >> >> Should the threadPool be declared in other place than into the
>> >> camelContext
>> >> >> ?
>> >> >>
>> >> >> "..because of ExecutorServiceRef my_thread_pool not found in regis=
try
>> >> or as
>> >> >> a thread pool profile."
>> >> >>
>> >> >> 2017-04-20 10:44 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
>> >> >>
>> >> >>> That is very old, its likely/possible fixed on newer version. So =
I
>> >> >>> suggest to try upgrading or build a new sample project using late=
st
>> >> >>> release and see if it works there.
>> >> >>>
>> >> >>> Knowing something is still not working in latest release brings
>> >> >>> attention to us. Otherwise we dont have the time to look into thi=
s
>> >> >>> ourselves first when users are using very old versions of Camel.
>> >> >>>
>> >> >>> On Thu, Apr 20, 2017 at 3:37 PM, Robson Vargas Farias
>> >> >>> <robsonvargasfarias@gmail.com> wrote:
>> >> >>> > Hi Claus, currently using 2.13.2 - and no, did not try other
>> version.
>> >> >>> >
>> >> >>> > 2017-04-20 10:33 GMT-03:00 Claus Ibsen <claus.ibsen@gmail.com>:
>> >> >>> >
>> >> >>> >> What version of Camel do you use, and have you tried with a ne=
wer
>> >> >>> version
>> >> >>> >>
>> >> >>> >> On Thu, Apr 20, 2017 at 3:29 PM, Robson Vargas Farias
>> >> >>> >> <robsonvargasfarias@gmail.com> wrote:
>> >> >>> >> > Hi,
>> >> >>> >> >
>> >> >>> >> > Can you help me where is my miss?
>> >> >>> >> >
>> >> >>> >> > I've a camel context configured with a route containing a
>> throttle
>> >> >>> which
>> >> >>> >> is
>> >> >>> >> > pointing (ref) to a threadPool:
>> >> >>> >> >
>> >> >>> >> > <camel:camelContext id=3D"camel-server" useMDCLogging=3D"tru=
e"
>> >> >>> >> > allowUseOriginalMessage=3D"false">
>> >> >>> >> >
>> >> >>> >> >
>> >> >>> >> > <!-- thread pools -->
>> >> >>> >> >
>> >> >>> >> > <camel:threadPool id=3D"my_thread_pool"
>> >> >>> >> > poolSize=3D"1"
>> >> >>> >> > maxPoolSize=3D"4"
>> >> >>> >> > maxQueueSize=3D"100"
>> >> >>> >> > threadName=3D"my_thread_pool" keepAliveTime=3D"0"
>> >> >>> >> > rejectedPolicy=3D"DiscardOldest" timeUnit=3D"SECONDS" />
>> >> >>> >> >
>> >> >>> >> > ..
>> >> >>> >> >
>> >> >>> >> >
>> >> >>> >> > <camel:route id=3D"my_route">
>> >> >>> >> > <camel:from ref=3D"mq_endpoint" />
>> >> >>> >> > <camel:throttle timePeriodMillis=3D"1000"
>> >> executorServiceRef=3D"my_thread_
>> >> >>> >> pool">
>> >> >>> >> > ..
>> >> >>> >> >
>> >> >>> >> >
>> >> >>> >> > but, when I start my application I got below error:
>> >> >>> >> >
>> >> >>> >> > Caused By: java.lang.IllegalArgumentException:
>> ExecutorServiceRef
>> >> >>> >> > my_thread_pool not found in registry or as a thread pool
>> profile.
>> >> >>> >> >
>> >> >>> >> >
>> >> >>> >> >
>> >> >>> >> > If I change the throttle from a threadPool to a
>> threadPoolProfile
>> >> it
>> >> >>> >> works.
>> >> >>> >> > So, why it is not working with a threadPool?
>> >> >>> >> >
>> >> >>> >> > Thanks.
>> >> >>> >>
>> >> >>> >>
>> >> >>> >>
>> >> >>> >> --
>> >> >>> >> Claus Ibsen
>> >> >>> >> -----------------
>> >> >>> >> http://davsclaus.com @davsclaus
>> >> >>> >> Camel in Action 2: https://www.manning.com/ibsen2
>> >> >>> >>
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>> --
>> >> >>> Claus Ibsen
>> >> >>> -----------------
>> >> >>> http://davsclaus.com @davsclaus
>> >> >>> Camel in Action 2: https://www.manning.com/ibsen2
>> >> >>>
>> >> >
>> >> >
>> >> >
>> >> > --
>> >> > Claus Ibsen
>> >> > -----------------
>> >> > http://davsclaus.com @davsclaus
>> >> > Camel in Action 2: https://www.manning.com/ibsen2
>> >>
>> >>
>> >>
>> >> --
>> >> Claus Ibsen
>> >> -----------------
>> >> http://davsclaus.com @davsclaus
>> >> Camel in Action 2: https://www.manning.com/ibsen2
>> >>
>>
>>
>>
>> --
>> Claus Ibsen
>> -----------------
>> http://davsclaus.com @davsclaus
>> Camel in Action 2: https://www.manning.com/ibsen2
>>



--=20
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65392-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sat Apr 22 02:16:41 2017
Return-Path: <users-return-65392-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5752E18B74
	for <apmail-camel-users-archive@www.apache.org>; Sat, 22 Apr 2017 02:16:41 +0000 (UTC)
Received: (qmail 18791 invoked by uid 500); 22 Apr 2017 02:16:40 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 18597 invoked by uid 500); 22 Apr 2017 02:16:40 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 18328 invoked by uid 99); 22 Apr 2017 02:16:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Apr 2017 02:16:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 04D02C09D7
	for <users@camel.apache.org>; Sat, 22 Apr 2017 02:16:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.285
X-Spam-Level: **
X-Spam-Status: No, score=2.285 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id lpsBmNgO9Uhp for <users@camel.apache.org>;
	Sat, 22 Apr 2017 02:16:38 +0000 (UTC)
Received: from mbob.nabble.com (mbob.nabble.com [162.253.133.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 704A45F485
	for <users@camel.apache.org>; Sat, 22 Apr 2017 02:16:37 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mbob.nabble.com (Postfix) with ESMTP id 29D8C417E113
	for <users@camel.apache.org>; Fri, 21 Apr 2017 19:14:48 -0700 (PDT)
Date: Fri, 21 Apr 2017 19:16:36 -0700 (MST)
From: "T.K" <agarwal.trilok@icloud.com>
To: users@camel.apache.org
Message-ID: <1492827396915-5798079.post@n5.nabble.com>
Subject: Log end SQL statement in sql component
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi

I am using servicemix 7.0.0, camel 2.16.3.

I am using camel SQL Component as below-

<to uri="sql:INSERT INTO transactions(txn_id, sender_org_unit_id, 
				receiver_org_unit_id, doc_type_id, bp_id, route_id, txn_create_datetime, 
				txn_modified_datetime, doc_id, bp_instance_id, technical_status_id,
source_doc, 
				target_doc) VALUES (:#transactionID, :#senderID, :#receiverID,
:#docTypeID, 
				:#bpID, :#routeID, :#createDateTime, :#modifiedDateTime, :#docID,
:#bpInstanceID, 
				:#statusID, :#sourceDoc, :#targetDoc);" />

I need to log actual INSERT sql statement into servicemix log file which get
triggered after all values has been set.

I change PAX logging threshold to DEBUG, also added 

log4j.logger.org.apache.camel.component.sql=DEBUG
log4j.logger.org.apache.camel.component.sql.appender-ref=out

but no luck.

Rgds
T.K



--
View this message in context: http://camel.465427.n5.nabble.com/Log-end-SQL-statement-in-sql-component-tp5798079.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65393-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sat Apr 22 07:11:25 2017
Return-Path: <users-return-65393-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F276E18FFB
	for <apmail-camel-users-archive@www.apache.org>; Sat, 22 Apr 2017 07:11:24 +0000 (UTC)
Received: (qmail 14433 invoked by uid 500); 22 Apr 2017 07:11:24 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 14037 invoked by uid 500); 22 Apr 2017 07:11:23 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 14021 invoked by uid 99); 22 Apr 2017 07:11:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Apr 2017 07:11:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 87FCCC04DE
	for <users@camel.apache.org>; Sat, 22 Apr 2017 07:11:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.192
X-Spam-Level: *
X-Spam-Status: No, score=1.192 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id sor7Okp6cNbI for <users@camel.apache.org>;
	Sat, 22 Apr 2017 07:11:19 +0000 (UTC)
Received: from mail-qt0-f174.google.com (mail-qt0-f174.google.com [209.85.216.174])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id C645A5F20C
	for <users@camel.apache.org>; Sat, 22 Apr 2017 07:11:18 +0000 (UTC)
Received: by mail-qt0-f174.google.com with SMTP id m36so84112072qtb.0
        for <users@camel.apache.org>; Sat, 22 Apr 2017 00:11:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=p6DEgZEYJtRJkFcx+ekww9Cy/kzOKUeH58eebF7tFGs=;
        b=TXeQrOYrLQc/0/Z9m/PJFOLYSp93lKyCLymsFm15uzdCXB34LNQWPfMmn1x9Ii/duw
         krmr0zmFvrxRl4rpTf2s1Pjttkjnir5c+lqhSoPHNjkFOYa9LzDEdFASpcrnt/BdejFL
         esvhamlQ33Itfo99vBjJLNlcG4DFMFiaAhmBkcd7ynDlPEByN/TkdnY44EGJCYHwLX6I
         buhHra5tjRLEusSHgoZG+ND77Kub8y3ZkN7mEFgkrOnqqDgKHVBzjqLd1frYL8P2XTq9
         idhq5flms0GTuJIXy/nM0sniPWADY5AWQEVL88qexaujv5m+Sed1A/yjghF/xkOApSeb
         TM0Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=p6DEgZEYJtRJkFcx+ekww9Cy/kzOKUeH58eebF7tFGs=;
        b=CDeYfFGLIYZ9wRwJ3ClTDAxcLyDOLAyV+YxJlxt7ZazkpUbeoEfVSZ8QL+wJo7S3c9
         sIXW0Xpw54XGhk3lj7uXhm6Y1mFumKDFAukIixaWhjp9/Z99uZ6gV1meex1ngPL91yfg
         IOUj9nk+/5FReDepwYvBdX586eNSBObwUqFkXH88Sc7D6EpmCUEzpK4VSJ9jKCkDUU6B
         t5JNC4BdyagOy6E09CttsOAmWnpI904TSCMFsF/rWXuKm2isYFCqfVTTSzq42X81L25M
         IdQQpFEIj2NSSeakXdby/m/PYSeN9c0gziqssiXEviL4ftLbVYf55GoqqHeiNFPMRSp3
         7BPQ==
X-Gm-Message-State: AN3rC/7YsFYoFQIRu5mz0cDKOfJiGTPUuInlZeihVh8lz0/PYKPXW3Bw
	ktEDLgPRgD7DNZMPGVsFOQkkulQAwKAK
X-Received: by 10.237.49.161 with SMTP id 30mr18240976qth.53.1492845078255;
 Sat, 22 Apr 2017 00:11:18 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Sat, 22 Apr 2017 00:10:57 -0700 (PDT)
In-Reply-To: <1492827396915-5798079.post@n5.nabble.com>
References: <1492827396915-5798079.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Sat, 22 Apr 2017 09:10:57 +0200
Message-ID: <CAGB5yNnCcqNsGNCBmPb022-z7m0drL7s671qXK0ZmLAhqcR40g@mail.gmail.com>
Subject: Re: Log end SQL statement in sql component
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Its using jdbc prepared statements so you cannot see the actual SQL
query. However I think there is some JDBC spy drivers you can use as
proxy that can log the actual SQL. Or you can look at the database
side which should have such information.

You can also try to turn on some DEBUG/TRACE logging on spring jdbc
and the camel sql component as it may also log a bit more details that
can get you more details.

On Sat, Apr 22, 2017 at 4:16 AM, T.K <agarwal.trilok@icloud.com> wrote:
> Hi
>
> I am using servicemix 7.0.0, camel 2.16.3.
>
> I am using camel SQL Component as below-
>
> <to uri="sql:INSERT INTO transactions(txn_id, sender_org_unit_id,
>                                 receiver_org_unit_id, doc_type_id, bp_id, route_id, txn_create_datetime,
>                                 txn_modified_datetime, doc_id, bp_instance_id, technical_status_id,
> source_doc,
>                                 target_doc) VALUES (:#transactionID, :#senderID, :#receiverID,
> :#docTypeID,
>                                 :#bpID, :#routeID, :#createDateTime, :#modifiedDateTime, :#docID,
> :#bpInstanceID,
>                                 :#statusID, :#sourceDoc, :#targetDoc);" />
>
> I need to log actual INSERT sql statement into servicemix log file which get
> triggered after all values has been set.
>
> I change PAX logging threshold to DEBUG, also added
>
> log4j.logger.org.apache.camel.component.sql=DEBUG
> log4j.logger.org.apache.camel.component.sql.appender-ref=out
>
> but no luck.
>
> Rgds
> T.K
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Log-end-SQL-statement-in-sql-component-tp5798079.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65394-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sun Apr 23 08:03:56 2017
Return-Path: <users-return-65394-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D165A19BC1
	for <apmail-camel-users-archive@www.apache.org>; Sun, 23 Apr 2017 08:03:56 +0000 (UTC)
Received: (qmail 84040 invoked by uid 500); 23 Apr 2017 08:03:51 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 83986 invoked by uid 500); 23 Apr 2017 08:03:51 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 83970 invoked by uid 99); 23 Apr 2017 08:03:51 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Apr 2017 08:03:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 9DE71180159
	for <users@camel.apache.org>; Sun, 23 Apr 2017 08:03:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.379
X-Spam-Level:
X-Spam-Status: No, score=0.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id t1zu9ADTAz8o for <users@camel.apache.org>;
	Sun, 23 Apr 2017 08:03:44 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id D5D255FC4D
	for <users@camel.apache.org>; Sun, 23 Apr 2017 08:03:43 +0000 (UTC)
Received: by mail-qk0-f179.google.com with SMTP id y63so68146620qkd.1
        for <users@camel.apache.org>; Sun, 23 Apr 2017 01:03:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=heWgswwnKJprp/vE6opJJiwctDY1tbTMceLKsEj4edY=;
        b=lPd+cYJdWXyAPsYyThjTSDaFebyj21Ywhlxg95oUGbF5pI/lshe137xu7sWJ1JIR5w
         Cj5iBtJSX2VwZnfZMqRMgYNgm4R5nQvJF90Av0AN8fGVUWbBraux/aDSFxv71eOkpmWW
         sCFU6QA3LHgNJi6QgP6faNXHtKKVFVTk4iY2tRFEJCH6O5dqQiDYLyJOC1IkvDwWO4bn
         JUhm9D6y93ICHM6yPfizr4zUoVv88/R7OdiT36R1/1i72S45gkYWJkKeb8xajjsP9fZv
         PcquFyyrQnU0bW5egYT0S7yTWg3mXIMaCobelYxWNYLWTnsuLUWjh6xEentMX0jHQsnn
         15bQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=heWgswwnKJprp/vE6opJJiwctDY1tbTMceLKsEj4edY=;
        b=XBcnll75OGgUu7QMRVCibDM2AGpMdt9FNqNJvbp7up7ksiIKVtJCsAGseio44nzyRb
         jz8yarJNbvZeQnE5Pp5bTWMWRsF+KlpqZkQNClE92+gD4rHIoSzGS4MRp3UUq8Qyq8hE
         ALD9hIdgfJ+Vy9oMJ3OZRxGIVUTSbuFd/NLeveWzOLHe9yu3KLgkLNDOk9MG7ojxAWLO
         vhZCYCYAf4P+K8xFrw/VXRlVI4BhoFnwHrH/h1ZvtDimQhWcvyZJSBoG4ZykOA0YzL4E
         YpVM750DcjKTngZTjQYo74EdSHeIFy7vLQDjQOP/gXqFwHdxWl80Xs4cnJZ7RxxwQL9x
         Hr7w==
X-Gm-Message-State: AN3rC/52fMmi6Kcefyu/kdEpFjI8hMTzCC9I0kqcBDYrEhT3AkF9uIlb
	HNfSFuE26G0Y97f9GmzjAoMyrmnSri0+
X-Received: by 10.55.214.76 with SMTP id t73mr6847132qki.279.1492934622103;
 Sun, 23 Apr 2017 01:03:42 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Sun, 23 Apr 2017 01:03:21 -0700 (PDT)
In-Reply-To: <CAOuGT5pdxQh5SOAE-8F=fR5TRsfbYnUEVM-OynozHan2OHWFHQ@mail.gmail.com>
References: <CAOuGT5pdxQh5SOAE-8F=fR5TRsfbYnUEVM-OynozHan2OHWFHQ@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Sun, 23 Apr 2017 10:03:21 +0200
Message-ID: <CAGB5yNnfjaWOijQHdcVKTjQYx32VCxkKJ5r6NxnQGx9O-HK5Dg@mail.gmail.com>
Subject: Re: JAXBException while parsing camel-spring files
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Use blueprint as spring-dm (is EOL) and camel-spring DM is deprecated
for a long time and is removed from Camel 2.19 onwards.


On Thu, Apr 20, 2017 at 8:03 PM, Karel Bernolet
<karel.bernolet@gmail.com> wrote:
> Hi,
>
> While upgrading a legacy application to camel 2.18.3, spring 4, ... we
> stumbled upon an issue while trying to parse camel routes in spring xml
> DSL. The stacktrace can be found below. I believe this is due to CAMEL-9521
> <https://issues.apache.org/jira/browse/CAMEL-9521>.
> By removing the class org.apache.camel.osgi.CamelNameSpaceHandler
> <https://fisheye.apache.org/changelog/camel-git?cs=20a85773b751ebe726664b4be866423fb18463cc>,
> the
> import packages on *org.apache.camel.model.config* etc got removed from the
> Manifest.
> As the *SpringModelJAXBContextFactory* extends from the
> *DefaultModelJAXBContextFactory*, it looks for an ObjectFactory or
> jaxb.index in packages it does no longer include.
> Is the behaviour expected after removal of spring-dm?
> What is the recommended behaviour or workaround?
> The application runs in a apache-felix OSGI environment.
>
> Regards,
> Karel
>
>
> 2017-04-20T18:55:32,921+0200 [EclipseGeminiBlueprintExtenderThread-1] DEBUG
>> NamespacePlugins - Trying to resolving namespace handler for
>> http://camel.apache.org/schema/spring - User= - Batch= - trace-id=
>>
>> 2017-04-20T18:55:32,936+0200 [EclipseGeminiBlueprintExtenderThread-1]
>> DEBUG NamespacePlugins - Namespace handler for http://camel.apache.org/
>> schema/spring found inside bundle camel-spring (org.apache.camel.camel-spring)
>> - User= - Batch= - trace-id=
>>
>> 2017-04-20T18:55:32,976+0200 [EclipseGeminiBlueprintExtenderThread-1]
>> DEBUG OsgiBundleXmlApplicationContext - Pre refresh error - User= -
>> Batch= - trace-id=
>>
>> org.springframework.beans.factory.parsing.BeanDefinitionParsingException:
>> Configuration problem: Failed to import bean definitions from relative
>> location [useradmin-external-service-siebel-routes.xml]
>>
>> Offending resource: URL [bundle://40.0:0/OSGI-INF/
>> blueprint/useradmin-external-service-siebel-context.xml]; nested
>> exception is org.springframework.beans.factory.BeanDefinitionStoreException:
>> Failed to create the JAXB binder; nested exception is
>> javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory
>> could not be instantiated: javax.xml.bind.JAXBException:
>> "org.apache.camel.model.config" doesnt contain ObjectFactory.class or
>> jaxb.index
>>
>> - with linked exception:
>>
>> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
>> contain ObjectFactory.class or jaxb.index]
>>
>>                 at org.springframework.beans.factory.parsing.
>> FailFastProblemReporter.error(FailFastProblemReporter.java:70)
>>
>>                 at org.springframework.beans.
>> factory.parsing.ReaderContext.error(ReaderContext.java:85)
>>
>>                 at org.springframework.beans.
>> factory.parsing.ReaderContext.error(ReaderContext.java:76)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(
>> DefaultBeanDefinitionDocumentReader.java:255)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.parseDefaultElement(
>> DefaultBeanDefinitionDocumentReader.java:180)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:165)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:138)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:94)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.registerBeanDefinitions(
>> XmlBeanDefinitionReader.java:508)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.doLoadBeanDefinitions(
>> XmlBeanDefinitionReader.java:392)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
>> 336)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
>> 304)
>>
>>                 at org.springframework.beans.factory.support.
>> AbstractBeanDefinitionReader.loadBeanDefinitions(
>> AbstractBeanDefinitionReader.java:181)
>>
>>                 at org.springframework.beans.factory.support.
>> AbstractBeanDefinitionReader.loadBeanDefinitions(
>> AbstractBeanDefinitionReader.java:217)
>>
>>                 at org.springframework.beans.factory.support.
>> AbstractBeanDefinitionReader.loadBeanDefinitions(
>> AbstractBeanDefinitionReader.java:188)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> OsgiBundleXmlApplicationContext.loadBeanDefinitions(
>> OsgiBundleXmlApplicationContext.java:170)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> OsgiBundleXmlApplicationContext.loadBeanDefinitions(
>> OsgiBundleXmlApplicationContext.java:140)
>>
>>                 at org.springframework.context.support.
>> AbstractRefreshableApplicationContext.refreshBeanFactory(
>> AbstractRefreshableApplicationContext.java:129)
>>
>>                 at org.springframework.context.support.
>> AbstractApplicationContext.obtainFreshBeanFactory(
>> AbstractApplicationContext.java:609)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> AbstractDelegatedExecutionApplicationContext.access$800(
>> AbstractDelegatedExecutionApplicationContext.java:60)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> AbstractDelegatedExecutionApplicationContext$3.run(
>> AbstractDelegatedExecutionApplicationContext.java:242)
>>
>>                 at org.eclipse.gemini.blueprint.
>> util.internal.PrivilegedUtils.executeWithCustomTCCL(
>> PrivilegedUtils.java:85)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> AbstractDelegatedExecutionApplicationContext.startRefresh(
>> AbstractDelegatedExecutionApplicationContext.java:220)
>>
>>                 at org.eclipse.gemini.blueprint.extender.internal.
>> dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(
>> DependencyWaiterApplicationContextExecutor.java:224)
>>
>>                 at org.eclipse.gemini.blueprint.extender.internal.
>> dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(
>> DependencyWaiterApplicationContextExecutor.java:177)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> AbstractDelegatedExecutionApplicationContext.refresh(
>> AbstractDelegatedExecutionApplicationContext.java:157)
>>
>>                 at org.eclipse.gemini.blueprint.
>> extender.internal.activator.LifecycleManager$1.run(
>> LifecycleManager.java:207)
>>
>>                 at java.util.concurrent.ThreadPoolExecutor.runWorker(
>> ThreadPoolExecutor.java:1142)
>>
>>                 at java.util.concurrent.ThreadPoolExecutor$Worker.run(
>> ThreadPoolExecutor.java:617)
>>
>>                 at java.lang.Thread.run(Thread.java:745)
>>
>> Caused by: org.springframework.beans.factory.BeanDefinitionStoreException:
>> Failed to create the JAXB binder; nested exception is
>> javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory
>> could not be instantiated: javax.xml.bind.JAXBException:
>> "org.apache.camel.model.config" doesnt contain ObjectFactory.class or
>> jaxb.index
>>
>> - with linked exception:
>>
>> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
>> contain ObjectFactory.class or jaxb.index]
>>
>>                 at org.apache.camel.spring.handler.CamelNamespaceHandler$
>> RouteContextDefinitionParser.doParse(CamelNamespaceHandler.java:281)
>>
>>                 at org.springframework.beans.factory.xml.
>> AbstractSingleBeanDefinitionParser.parseInternal(
>> AbstractSingleBeanDefinitionParser.java:85)
>>
>>                 at org.springframework.beans.factory.xml.
>> AbstractBeanDefinitionParser.parse(AbstractBeanDefinitionParser.java:61)
>>
>>                 at org.springframework.beans.factory.xml.
>> NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)
>>
>>                 at org.springframework.beans.factory.xml.
>> BeanDefinitionParserDelegate.parseCustomElement(
>> BeanDefinitionParserDelegate.java:1411)
>>
>>                 at org.springframework.beans.factory.xml.
>> BeanDefinitionParserDelegate.parseCustomElement(
>> BeanDefinitionParserDelegate.java:1401)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:168)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:138)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:94)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.registerBeanDefinitions(
>> XmlBeanDefinitionReader.java:508)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.doLoadBeanDefinitions(
>> XmlBeanDefinitionReader.java:392)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
>> 336)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
>> 304)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(
>> DefaultBeanDefinitionDocumentReader.java:239)
>>
>>                 ... 26 more
>>
>> Caused by: javax.xml.bind.JAXBException: Provider
>> com.sun.xml.internal.bind.v2.ContextFactory could not be instantiated:
>> javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
>> contain ObjectFactory.class or jaxb.index
>>
>> - with linked exception:
>>
>> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
>> contain ObjectFactory.class or jaxb.index]
>>
>>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
>> java:146)
>>
>>                 at javax.xml.bind.ContextFinder.
>> find(ContextFinder.java:356)
>>
>>                 at javax.xml.bind.JAXBContext.
>> newInstance(JAXBContext.java:431)
>>
>>                 at javax.xml.bind.JAXBContext.
>> newInstance(JAXBContext.java:394)
>>
>>                 at org.apache.camel.impl.DefaultModelJAXBContextFactory
>> .newJAXBContext(DefaultModelJAXBContextFactory.java:31)
>>
>>                 at org.apache.camel.spring.handler.CamelNamespaceHandler.
>> getJaxbContext(CamelNamespaceHandler.java:217)
>>
>>                 at org.apache.camel.spring.handler.CamelNamespaceHandler$
>> RouteContextDefinitionParser.doParse(CamelNamespaceHandler.java:279)
>>
>>                 ... 39 more
>>
>> Caused by: javax.xml.bind.JAXBException: "org.apache.camel.model.config"
>> doesnt contain ObjectFactory.class or jaxb.index
>>
>>                 at com.sun.xml.internal.bind.v2.
>> ContextFactory.createContext(ContextFactory.java:266)
>>
>>                 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native
>> Method)
>>
>>                 at sun.reflect.NativeMethodAccessorImpl.invoke(
>> NativeMethodAccessorImpl.java:62)
>>
>>                 at sun.reflect.DelegatingMethodAccessorImpl.invoke(
>> DelegatingMethodAccessorImpl.java:43)
>>
>>                 at java.lang.reflect.Method.invoke(Method.java:498)
>>
>>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
>> java:171)
>>
>>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
>> java:131)
>>
>>                 ... 45 more
>>
>> 2017-04-20T18:55:32,981+0200 [EclipseGeminiBlueprintExtenderThread-1]
>> ERROR ExtenderConfiguration - Application context refresh failed (
>> OsgiBundleXmlApplicationContext(bundle=be.isabel.useradmin-external-service-siebel,
>> config=OSGI-INF/blueprint/useradmin-external-service-
>> siebel-beans.xml,OSGI-INF/blueprint/useradmin-external-
>> service-siebel-context.xml,OSGI-INF/blueprint/useradmin-
>> external-service-siebel-osgi-context.xml,OSGI-INF/
>> blueprint/useradmin-external-service-siebel-routes.xml)) - User= - Batch=
>> - trace-id=
>>
>> org.springframework.beans.factory.parsing.BeanDefinitionParsingException:
>> Configuration problem: Failed to import bean definitions from relative
>> location [useradmin-external-service-siebel-routes.xml]
>>
>> Offending resource: URL [bundle://40.0:0/OSGI-INF/
>> blueprint/useradmin-external-service-siebel-context.xml]; nested
>> exception is org.springframework.beans.factory.BeanDefinitionStoreException:
>> Failed to create the JAXB binder; nested exception is
>> javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory
>> could not be instantiated: javax.xml.bind.JAXBException:
>> "org.apache.camel.model.config" doesnt contain ObjectFactory.class or
>> jaxb.index
>>
>> - with linked exception:
>>
>> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
>> contain ObjectFactory.class or jaxb.index]
>>
>>                 at org.springframework.beans.factory.parsing.
>> FailFastProblemReporter.error(FailFastProblemReporter.java:70)
>>
>>                 at org.springframework.beans.
>> factory.parsing.ReaderContext.error(ReaderContext.java:85)
>>
>>                 at org.springframework.beans.
>> factory.parsing.ReaderContext.error(ReaderContext.java:76)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(
>> DefaultBeanDefinitionDocumentReader.java:255)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.parseDefaultElement(
>> DefaultBeanDefinitionDocumentReader.java:180)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:165)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:138)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:94)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.registerBeanDefinitions(
>> XmlBeanDefinitionReader.java:508)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.doLoadBeanDefinitions(
>> XmlBeanDefinitionReader.java:392)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
>> 336)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
>> 304)
>>
>>                 at org.springframework.beans.factory.support.
>> AbstractBeanDefinitionReader.loadBeanDefinitions(
>> AbstractBeanDefinitionReader.java:181)
>>
>>                 at org.springframework.beans.factory.support.
>> AbstractBeanDefinitionReader.loadBeanDefinitions(
>> AbstractBeanDefinitionReader.java:217)
>>
>>                 at org.springframework.beans.factory.support.
>> AbstractBeanDefinitionReader.loadBeanDefinitions(
>> AbstractBeanDefinitionReader.java:188)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> OsgiBundleXmlApplicationContext.loadBeanDefinitions(
>> OsgiBundleXmlApplicationContext.java:170)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> OsgiBundleXmlApplicationContext.loadBeanDefinitions(
>> OsgiBundleXmlApplicationContext.java:140)
>>
>>                 at org.springframework.context.support.
>> AbstractRefreshableApplicationContext.refreshBeanFactory(
>> AbstractRefreshableApplicationContext.java:129)
>>
>>                 at org.springframework.context.support.
>> AbstractApplicationContext.obtainFreshBeanFactory(
>> AbstractApplicationContext.java:609)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> AbstractDelegatedExecutionApplicationContext.access$800(
>> AbstractDelegatedExecutionApplicationContext.java:60)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> AbstractDelegatedExecutionApplicationContext$3.run(
>> AbstractDelegatedExecutionApplicationContext.java:242)
>>
>>                 at org.eclipse.gemini.blueprint.
>> util.internal.PrivilegedUtils.executeWithCustomTCCL(
>> PrivilegedUtils.java:85)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> AbstractDelegatedExecutionApplicationContext.startRefresh(
>> AbstractDelegatedExecutionApplicationContext.java:220)
>>
>>                 at org.eclipse.gemini.blueprint.extender.internal.
>> dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(
>> DependencyWaiterApplicationContextExecutor.java:224)
>>
>>                 at org.eclipse.gemini.blueprint.extender.internal.
>> dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(
>> DependencyWaiterApplicationContextExecutor.java:177)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> AbstractDelegatedExecutionApplicationContext.refresh(
>> AbstractDelegatedExecutionApplicationContext.java:157)
>>
>>                 at org.eclipse.gemini.blueprint.
>> extender.internal.activator.LifecycleManager$1.run(
>> LifecycleManager.java:207)
>>
>>                 at java.util.concurrent.ThreadPoolExecutor.runWorker(
>> ThreadPoolExecutor.java:1142)
>>
>>                 at java.util.concurrent.ThreadPoolExecutor$Worker.run(
>> ThreadPoolExecutor.java:617)
>>
>>                 at java.lang.Thread.run(Thread.java:745)
>>
>> Caused by: org.springframework.beans.factory.BeanDefinitionStoreException:
>> Failed to create the JAXB binder; nested exception is
>> javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory
>> could not be instantiated: javax.xml.bind.JAXBException:
>> "org.apache.camel.model.config" doesnt contain ObjectFactory.class or
>> jaxb.index
>>
>> - with linked exception:
>>
>> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
>> contain ObjectFactory.class or jaxb.index]
>>
>>                 at org.apache.camel.spring.handler.CamelNamespaceHandler$
>> RouteContextDefinitionParser.doParse(CamelNamespaceHandler.java:281)
>>
>>                 at org.springframework.beans.factory.xml.
>> AbstractSingleBeanDefinitionParser.parseInternal(
>> AbstractSingleBeanDefinitionParser.java:85)
>>
>>                 at org.springframework.beans.factory.xml.
>> AbstractBeanDefinitionParser.parse(AbstractBeanDefinitionParser.java:61)
>>
>>                 at org.springframework.beans.factory.xml.
>> NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)
>>
>>                 at org.springframework.beans.factory.xml.
>> BeanDefinitionParserDelegate.parseCustomElement(
>> BeanDefinitionParserDelegate.java:1411)
>>
>>                 at org.springframework.beans.factory.xml.
>> BeanDefinitionParserDelegate.parseCustomElement(
>> BeanDefinitionParserDelegate.java:1401)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:168)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:138)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:94)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.registerBeanDefinitions(
>> XmlBeanDefinitionReader.java:508)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.doLoadBeanDefinitions(
>> XmlBeanDefinitionReader.java:392)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
>> 336)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
>> 304)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(
>> DefaultBeanDefinitionDocumentReader.java:239)
>>
>>                 ... 26 more
>>
>> Caused by: javax.xml.bind.JAXBException: Provider
>> com.sun.xml.internal.bind.v2.ContextFactory could not be instantiated:
>> javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
>> contain ObjectFactory.class or jaxb.index
>>
>> - with linked exception:
>>
>> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
>> contain ObjectFactory.class or jaxb.index]
>>
>>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
>> java:146)
>>
>>                 at javax.xml.bind.ContextFinder.
>> find(ContextFinder.java:356)
>>
>>                 at javax.xml.bind.JAXBContext.
>> newInstance(JAXBContext.java:431)
>>
>>                 at javax.xml.bind.JAXBContext.
>> newInstance(JAXBContext.java:394)
>>
>>                 at org.apache.camel.impl.DefaultModelJAXBContextFactory
>> .newJAXBContext(DefaultModelJAXBContextFactory.java:31)
>>
>>                 at org.apache.camel.spring.handler.CamelNamespaceHandler.
>> getJaxbContext(CamelNamespaceHandler.java:217)
>>
>>                 at org.apache.camel.spring.handler.CamelNamespaceHandler$
>> RouteContextDefinitionParser.doParse(CamelNamespaceHandler.java:279)
>>
>>                 ... 39 more
>>
>> Caused by: javax.xml.bind.JAXBException: "org.apache.camel.model.config"
>> doesnt contain ObjectFactory.class or jaxb.index
>>
>>                 at com.sun.xml.internal.bind.v2.
>> ContextFactory.createContext(ContextFactory.java:266)
>>
>>                 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native
>> Method)
>>
>>                 at sun.reflect.NativeMethodAccessorImpl.invoke(
>> NativeMethodAccessorImpl.java:62)
>>
>>                 at sun.reflect.DelegatingMethodAccessorImpl.invoke(
>> DelegatingMethodAccessorImpl.java:43)
>>
>>                 at java.lang.reflect.Method.invoke(Method.java:498)
>>
>>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
>> java:171)
>>
>>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
>> java:131)
>>
>>                 ... 45 more
>>
>> 2017-04-20T18:55:32,983+0200 [EclipseGeminiBlueprintExtenderThread-1]
>> DEBUG DependencyWaiterApplicationContextExecutor - Cancelled dependency
>> watchdog... - User= - Batch= - trace-id=
>>
>> 2017-04-20T18:55:32,983+0200 [EclipseGeminiBlueprintExtenderThread-1]
>> DEBUG DependencyWaiterApplicationContextExecutor - Closing appCtx for
>> OsgiBundleXmlApplicationContext(bundle=be.isabel.useradmin-external-service-siebel,
>> config=OSGI-INF/blueprint/useradmin-external-service-
>> siebel-beans.xml,OSGI-INF/blueprint/useradmin-external-
>> service-siebel-context.xml,OSGI-INF/blueprint/useradmin-
>> external-service-siebel-osgi-context.xml,OSGI-INF/
>> blueprint/useradmin-external-service-siebel-routes.xml) - User= - Batch=
>> - trace-id=
>>
>> 2017-04-20T18:55:32,983+0200 [EclipseGeminiBlueprintExtenderThread-1]
>> DEBUG DependencyWaiterApplicationContextExecutor - Cleaning up appCtx
>> OsgiBundleXmlApplicationContext(bundle=be.isabel.useradmin-external-service-siebel,
>> config=OSGI-INF/blueprint/useradmin-external-service-
>> siebel-beans.xml,OSGI-INF/blueprint/useradmin-external-
>> service-siebel-context.xml,OSGI-INF/blueprint/useradmin-
>> external-service-siebel-osgi-context.xml,OSGI-INF/
>> blueprint/useradmin-external-service-siebel-routes.xml) - User= - Batch=
>> - trace-id=
>>
>> 2017-04-20T18:55:32,984+0200 [EclipseGeminiBlueprintExtenderThread-1]
>> ERROR DependencyWaiterApplicationContextExecutor - Unable to create
>> application context for [be.isabel.useradmin-external-service-siebel],
>> unsatisfied dependencies: none - User= - Batch= - trace-id=
>>
>> org.springframework.beans.factory.parsing.BeanDefinitionParsingException:
>> Configuration problem: Failed to import bean definitions from relative
>> location [useradmin-external-service-siebel-routes.xml]
>>
>> Offending resource: URL [bundle://40.0:0/OSGI-INF/
>> blueprint/useradmin-external-service-siebel-context.xml]; nested
>> exception is org.springframework.beans.factory.BeanDefinitionStoreException:
>> Failed to create the JAXB binder; nested exception is
>> javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory
>> could not be instantiated: javax.xml.bind.JAXBException:
>> "org.apache.camel.model.config" doesnt contain ObjectFactory.class or
>> jaxb.index
>>
>> - with linked exception:
>>
>> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
>> contain ObjectFactory.class or jaxb.index]
>>
>>                 at org.springframework.beans.factory.parsing.
>> FailFastProblemReporter.error(FailFastProblemReporter.java:70)
>>
>>                 at org.springframework.beans.
>> factory.parsing.ReaderContext.error(ReaderContext.java:85)
>>
>>                 at org.springframework.beans.
>> factory.parsing.ReaderContext.error(ReaderContext.java:76)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(
>> DefaultBeanDefinitionDocumentReader.java:255)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.parseDefaultElement(
>> DefaultBeanDefinitionDocumentReader.java:180)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:165)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:138)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:94)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.registerBeanDefinitions(
>> XmlBeanDefinitionReader.java:508)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.doLoadBeanDefinitions(
>> XmlBeanDefinitionReader.java:392)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
>> 336)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
>> 304)
>>
>>                 at org.springframework.beans.factory.support.
>> AbstractBeanDefinitionReader.loadBeanDefinitions(
>> AbstractBeanDefinitionReader.java:181)
>>
>>                 at org.springframework.beans.factory.support.
>> AbstractBeanDefinitionReader.loadBeanDefinitions(
>> AbstractBeanDefinitionReader.java:217)
>>
>>                 at org.springframework.beans.factory.support.
>> AbstractBeanDefinitionReader.loadBeanDefinitions(
>> AbstractBeanDefinitionReader.java:188)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> OsgiBundleXmlApplicationContext.loadBeanDefinitions(
>> OsgiBundleXmlApplicationContext.java:170)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> OsgiBundleXmlApplicationContext.loadBeanDefinitions(
>> OsgiBundleXmlApplicationContext.java:140)
>>
>>                 at org.springframework.context.support.
>> AbstractRefreshableApplicationContext.refreshBeanFactory(
>> AbstractRefreshableApplicationContext.java:129)
>>
>>                 at org.springframework.context.support.
>> AbstractApplicationContext.obtainFreshBeanFactory(
>> AbstractApplicationContext.java:609)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> AbstractDelegatedExecutionApplicationContext.access$800(
>> AbstractDelegatedExecutionApplicationContext.java:60)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> AbstractDelegatedExecutionApplicationContext$3.run(
>> AbstractDelegatedExecutionApplicationContext.java:242)
>>
>>                 at org.eclipse.gemini.blueprint.
>> util.internal.PrivilegedUtils.executeWithCustomTCCL(
>> PrivilegedUtils.java:85)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> AbstractDelegatedExecutionApplicationContext.startRefresh(
>> AbstractDelegatedExecutionApplicationContext.java:220)
>>
>>                 at org.eclipse.gemini.blueprint.extender.internal.
>> dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(
>> DependencyWaiterApplicationContextExecutor.java:224)
>>
>>                 at org.eclipse.gemini.blueprint.extender.internal.
>> dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(
>> DependencyWaiterApplicationContextExecutor.java:177)
>>
>>                 at org.eclipse.gemini.blueprint.context.support.
>> AbstractDelegatedExecutionApplicationContext.refresh(
>> AbstractDelegatedExecutionApplicationContext.java:157)
>>
>>                 at org.eclipse.gemini.blueprint.
>> extender.internal.activator.LifecycleManager$1.run(
>> LifecycleManager.java:207)
>>
>>                 at java.util.concurrent.ThreadPoolExecutor.runWorker(
>> ThreadPoolExecutor.java:1142)
>>
>>                 at java.util.concurrent.ThreadPoolExecutor$Worker.run(
>> ThreadPoolExecutor.java:617)
>>
>>                 at java.lang.Thread.run(Thread.java:745)
>>
>> Caused by: org.springframework.beans.factory.BeanDefinitionStoreException:
>> Failed to create the JAXB binder; nested exception is
>> javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory
>> could not be instantiated: javax.xml.bind.JAXBException:
>> "org.apache.camel.model.config" doesnt contain ObjectFactory.class or
>> jaxb.index
>>
>> - with linked exception:
>>
>> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
>> contain ObjectFactory.class or jaxb.index]
>>
>>                 at org.apache.camel.spring.handler.CamelNamespaceHandler$
>> RouteContextDefinitionParser.doParse(CamelNamespaceHandler.java:281)
>>
>>                 at org.springframework.beans.factory.xml.
>> AbstractSingleBeanDefinitionParser.parseInternal(
>> AbstractSingleBeanDefinitionParser.java:85)
>>
>>                 at org.springframework.beans.factory.xml.
>> AbstractBeanDefinitionParser.parse(AbstractBeanDefinitionParser.java:61)
>>
>>                 at org.springframework.beans.factory.xml.
>> NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)
>>
>>                 at org.springframework.beans.factory.xml.
>> BeanDefinitionParserDelegate.parseCustomElement(
>> BeanDefinitionParserDelegate.java:1411)
>>
>>                 at org.springframework.beans.factory.xml.
>> BeanDefinitionParserDelegate.parseCustomElement(
>> BeanDefinitionParserDelegate.java:1401)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:168)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:138)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(
>> DefaultBeanDefinitionDocumentReader.java:94)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.registerBeanDefinitions(
>> XmlBeanDefinitionReader.java:508)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.doLoadBeanDefinitions(
>> XmlBeanDefinitionReader.java:392)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
>> 336)
>>
>>                 at org.springframework.beans.factory.xml.
>> XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:
>> 304)
>>
>>                 at org.springframework.beans.factory.xml.
>> DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(
>> DefaultBeanDefinitionDocumentReader.java:239)
>>
>>                 ... 26 more
>>
>> Caused by: javax.xml.bind.JAXBException: Provider
>> com.sun.xml.internal.bind.v2.ContextFactory could not be instantiated:
>> javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
>> contain ObjectFactory.class or jaxb.index
>>
>> - with linked exception:
>>
>> [javax.xml.bind.JAXBException: "org.apache.camel.model.config" doesnt
>> contain ObjectFactory.class or jaxb.index]
>>
>>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
>> java:146)
>>
>>                 at javax.xml.bind.ContextFinder.
>> find(ContextFinder.java:356)
>>
>>                 at javax.xml.bind.JAXBContext.
>> newInstance(JAXBContext.java:431)
>>
>>                 at javax.xml.bind.JAXBContext.
>> newInstance(JAXBContext.java:394)
>>
>>                 at org.apache.camel.impl.DefaultModelJAXBContextFactory
>> .newJAXBContext(DefaultModelJAXBContextFactory.java:31)
>>
>>                 at org.apache.camel.spring.handler.CamelNamespaceHandler.
>> getJaxbContext(CamelNamespaceHandler.java:217)
>>
>>                 at org.apache.camel.spring.handler.CamelNamespaceHandler$
>> RouteContextDefinitionParser.doParse(CamelNamespaceHandler.java:279)
>>
>>                 ... 39 more
>>
>> Caused by: javax.xml.bind.JAXBException: "org.apache.camel.model.config"
>> doesnt contain ObjectFactory.class or jaxb.index
>>
>>                 at com.sun.xml.internal.bind.v2.
>> ContextFactory.createContext(ContextFactory.java:266)
>>
>>                 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native
>> Method)
>>
>>                 at sun.reflect.NativeMethodAccessorImpl.invoke(
>> NativeMethodAccessorImpl.java:62)
>>
>>                 at sun.reflect.DelegatingMethodAccessorImpl.invoke(
>> DelegatingMethodAccessorImpl.java:43)
>>
>>                 at java.lang.reflect.Method.invoke(Method.java:498)
>>
>>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
>> java:171)
>>
>>                 at javax.xml.bind.ContextFinder.newInstance(ContextFinder.
>> java:131)
>>
>>                 ... 45 more
>>



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65395-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sun Apr 23 08:05:08 2017
Return-Path: <users-return-65395-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AB52919BC8
	for <apmail-camel-users-archive@www.apache.org>; Sun, 23 Apr 2017 08:05:08 +0000 (UTC)
Received: (qmail 85888 invoked by uid 500); 23 Apr 2017 08:05:08 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 85838 invoked by uid 500); 23 Apr 2017 08:05:08 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 85825 invoked by uid 99); 23 Apr 2017 08:05:07 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Apr 2017 08:05:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 42AA6180159
	for <users@camel.apache.org>; Sun, 23 Apr 2017 08:05:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id w6vsqTlCGvyv for <users@camel.apache.org>;
	Sun, 23 Apr 2017 08:05:03 +0000 (UTC)
Received: from mail-qk0-f180.google.com (mail-qk0-f180.google.com [209.85.220.180])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 5D2115F482
	for <users@camel.apache.org>; Sun, 23 Apr 2017 08:05:03 +0000 (UTC)
Received: by mail-qk0-f180.google.com with SMTP id y63so68155343qkd.1
        for <users@camel.apache.org>; Sun, 23 Apr 2017 01:05:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=/t/aseWrMePkE9Yse7n7XG+Oj/19QkzU3t7arySbvk0=;
        b=qR1mMMiQ1j0ohGfR2Bw9fuhkT8v18+aDUgQ6nMLlKZt925qXlyHCgNDYeRcnDpprJM
         eIHslqpnb2iTEB2uWKGraboXouftqc+jgm9xOAyahZLAFNy51lbFxeA2R/YL1GQEUyEa
         wzwt6+qc5qNmgVfM5DaI7GumKTG5IsC+X4weHq0EcuSjX17RrC0YXhvE82yk+jziO4LN
         RtzjkbkOTuF2yCEf3Z24yy0Brgq15T5qbjiJ1PXhdiC5HU70D/5VXUSRv3dHoqTe7gpf
         7Up/rCPfILSD6B2A0XUx7kF6Diy+2RhhUEntNC9nlHAzKkAIPrckDZ5cHypUb8Q2K4u+
         oGww==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=/t/aseWrMePkE9Yse7n7XG+Oj/19QkzU3t7arySbvk0=;
        b=A2He70hVqv1ott/bqkVXnyGYQzQtp/f4vRtLa4hSSJJOCR9iJz43BV5MoQn1ExGtW3
         JC/6UaGTqCSDhvCSessJH5TIRpvRdN7C8ycGGo9gywvYf1DJVdnq6/94J0x/mmuG+zke
         Z2VoWdZdmywBDyZ/9fgM8bxbrdycHviMukyfTrT4CTZVCfP7ZQK/5M3PstsUwVmWaVO7
         ziaqT/d5hxtnCqddnXCT+JBWvzi1eKw8T3F2LtIrY1t2YPl8Wk59LF9GQtgNWfZ/W9AT
         0VgMSXT2onu/DVt86l6GdxXBRSEaFUVRVQqgvatr/LcibajB2ivKJCKigaGb0HhEU7Hw
         9rxw==
X-Gm-Message-State: AN3rC/69zsGAKL8+k83CNKV8fibJBbeW8kahBplmN37m68WV3bItopjH
	5vb01r4XgzWYQQP+sP84pQxB+jZR/1NR
X-Received: by 10.55.113.134 with SMTP id m128mr19843976qkc.258.1492934702893;
 Sun, 23 Apr 2017 01:05:02 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Sun, 23 Apr 2017 01:04:42 -0700 (PDT)
In-Reply-To: <8e5ea789-606e-05df-0557-7e5ce082e508@gmail.com>
References: <CA+D-ZCSXWCuQsjYPfdG9oELezUQxQ3n6eay5BZ+UDvM3Tp3=iw@mail.gmail.com>
 <CAGB5yNkvRDfGzAUQ=SP9tZe4vTfhWVNC_dD6SPvtNrHkFumqkg@mail.gmail.com> <8e5ea789-606e-05df-0557-7e5ce082e508@gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Sun, 23 Apr 2017 10:04:42 +0200
Message-ID: <CAGB5yN=3dLdO2UNGNtpLWRUk-J=STtF-2049M1kyhLxN-bGQGw@mail.gmail.com>
Subject: Re: JdbcAggregationRepository doesn't preserve properties :
 Feature/Bug ?
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi Jonathan

Did you get a chance to do this? Its good to help the project if users
can get involved and provide fixes/improvments. And a small javadoc
contribution is a great place to start.

On Wed, Apr 12, 2017 at 1:34 PM, Jonathan Schoreels
<jonathan.schoreels@gmail.com> wrote:
> Is it allowed to open pull request just to add java doc, or would you prefer
> to do it yourself ?
>
>
> On 2017-04-12 13:31, Claus Ibsen wrote:
>>
>> Yes only body + headers is stored that is by design
>>
>> On Wed, Apr 12, 2017 at 1:19 PM, Jonathan Schoreels
>> <jonathan.schoreels@gmail.com> wrote:
>>>
>>> Hello,
>>>
>>> I've been using JdbcAggregationRepository recently and discovered that it
>>> won't save the property in the table and thus, losing them at each
>>> aggregation step.
>>>
>>> I know property are meant to be inner-route variable, and headers
>>> metadata
>>> for protocol/outer-scope, and that by definition, a
>>> JdbcAggregationRepository is an outer service. However, at the same time,
>>> it's an abstraction inside the route, and it's still very unsetting to
>>> have
>>> property that dissapear in the same camel route.
>>>
>>> Do you see it as a Bug or a Feature ?
>>>
>>> PS : I'm still asking myself why there is no user guide to use
>>> JdbcAggregationRepository in the book (Hawt example) or a "pretty-doc" in
>>> http://camel.apache.org/aggregator.html. Or maybe there is other more
>>> standard way to aggregate in a persistent repository that I don't know
>>> yet ?
>>>
>>> Thank you,
>>>
>>> Jonathan Schoreels
>>
>>
>>
>



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65396-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sun Apr 23 14:14:10 2017
Return-Path: <users-return-65396-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2466E18267
	for <apmail-camel-users-archive@www.apache.org>; Sun, 23 Apr 2017 14:14:10 +0000 (UTC)
Received: (qmail 97343 invoked by uid 500); 23 Apr 2017 14:14:09 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 97283 invoked by uid 500); 23 Apr 2017 14:14:09 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 97259 invoked by uid 99); 23 Apr 2017 14:14:07 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Apr 2017 14:14:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 76335C0ABE
	for <users@camel.apache.org>; Sun, 23 Apr 2017 14:14:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id gRAFNiy-fpvI for <users@camel.apache.org>;
	Sun, 23 Apr 2017 14:14:03 +0000 (UTC)
Received: from mail-qt0-f172.google.com (mail-qt0-f172.google.com [209.85.216.172])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 9A93F5FD7D
	for <users@camel.apache.org>; Sun, 23 Apr 2017 14:14:03 +0000 (UTC)
Received: by mail-qt0-f172.google.com with SMTP id m36so97301129qtb.0
        for <users@camel.apache.org>; Sun, 23 Apr 2017 07:14:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=oStGALW4U4JdKCmgZoNsTIq3smyjlAK6TgtGw9d3voE=;
        b=Xb+iE3xqTlj970HcNrG+k+i9a8EX9Msd2yj55lyQshz3uMeeeC0A4cCvqlSAgklYue
         Ki802wraXjwnwZAAcYXtganWsiGwwBJVCOcXPGvdg/jzHTXq7z9Q44TIQDcxoJ1k0omp
         Y3pwr1E+5lWtS+XCdUWxrKiycfH6vE5eE+A8A0SiagwG9Ecqo5jN4DHWQdM6RUMKrapA
         1Snrrh9O8iioOtkpmu9NrxcFzcVf+LLrdrQHWm5D7yyQqc/3Jqw8p6sziriUN3VH7DaW
         7qO0IeYqBguH2Y5Q6zqW0zdfdZiP3ov4GohOsGfsxg1NE9AvkhKtbpH0qu4viOsRNNVt
         PTug==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=oStGALW4U4JdKCmgZoNsTIq3smyjlAK6TgtGw9d3voE=;
        b=EjWTDqUiSfaOPhNleqp7kP0LDfA0+fovsB71ngw+ZKUXmrck5Omwx76xeUy7Od1Ssx
         njp3bqTXSWVO6P9ESmbjVsDYOlpTJujIlqTbyMBEUD1IuK1z7stsafoTX45wd4xPMg/B
         zmDoE2ByVgN/VS49OdzxpAKJqO4tPoKz3CJmHfFf0iIkDSfqcpwUjMA3AsQlNnakQFkv
         Y+9w2uhJsgCOR+JdBWA1T/ZBjqzF/cOp1XQ/YK+QM150qEhiH03jGocvwTDFmmFZ9SZ7
         VLMk7C/To1y44aC9x5k/JTsu6SgS4kuTsi4RPP8nNScMGMks1AOFBFMh31RR076cvhTU
         5eHw==
X-Gm-Message-State: AN3rC/4E0LVFDJhePR62tFzQxEcpp5Rq0uwp/wg5StZE1lNh5QChpquG
	wtxPEnuKwx0WGmV5MaHQ7b9MDDhdUjp9
X-Received: by 10.200.4.147 with SMTP id s19mr21391584qtg.226.1492956837526;
 Sun, 23 Apr 2017 07:13:57 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.12.185.165 with HTTP; Sun, 23 Apr 2017 07:13:57 -0700 (PDT)
In-Reply-To: <CAGB5yN=3dLdO2UNGNtpLWRUk-J=STtF-2049M1kyhLxN-bGQGw@mail.gmail.com>
References: <CA+D-ZCSXWCuQsjYPfdG9oELezUQxQ3n6eay5BZ+UDvM3Tp3=iw@mail.gmail.com>
 <CAGB5yNkvRDfGzAUQ=SP9tZe4vTfhWVNC_dD6SPvtNrHkFumqkg@mail.gmail.com>
 <8e5ea789-606e-05df-0557-7e5ce082e508@gmail.com> <CAGB5yN=3dLdO2UNGNtpLWRUk-J=STtF-2049M1kyhLxN-bGQGw@mail.gmail.com>
From: Jonathan Schoreels <jonathan.schoreels@gmail.com>
Date: Sun, 23 Apr 2017 16:13:57 +0200
Message-ID: <CA+D-ZCSr4VYH6z27DYfWDi_vUBi3F_mmGhEh2wpkJm=P=KD0jQ@mail.gmail.com>
Subject: Re: JdbcAggregationRepository doesn't preserve properties :
 Feature/Bug ?
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=f4030435ae84f7420e054dd61939

--f4030435ae84f7420e054dd61939
Content-Type: text/plain; charset=UTF-8

Hi Claus,

Thank you for the reminder, I had some other test with the repository and
found it another feature that seems to be normal : if the deadletter route
throws an exception, it will be send again to DLQ again, and again. I say
it's normal since a test seems to cover it
: JdbcAggregateRecoverDeadLetterChannelFailedTest.

I however did not find if it's a behaviour that should be implemented in
ALL RecoverableAggregationRepository or only some of them. I've just added
javadoc for the JDBC's one, in doubt.

Jonathan

2017-04-23 10:04 GMT+02:00 Claus Ibsen <claus.ibsen@gmail.com>:

> Hi Jonathan
>
> Did you get a chance to do this? Its good to help the project if users
> can get involved and provide fixes/improvments. And a small javadoc
> contribution is a great place to start.
>
> On Wed, Apr 12, 2017 at 1:34 PM, Jonathan Schoreels
> <jonathan.schoreels@gmail.com> wrote:
> > Is it allowed to open pull request just to add java doc, or would you
> prefer
> > to do it yourself ?
> >
> >
> > On 2017-04-12 13:31, Claus Ibsen wrote:
> >>
> >> Yes only body + headers is stored that is by design
> >>
> >> On Wed, Apr 12, 2017 at 1:19 PM, Jonathan Schoreels
> >> <jonathan.schoreels@gmail.com> wrote:
> >>>
> >>> Hello,
> >>>
> >>> I've been using JdbcAggregationRepository recently and discovered that
> it
> >>> won't save the property in the table and thus, losing them at each
> >>> aggregation step.
> >>>
> >>> I know property are meant to be inner-route variable, and headers
> >>> metadata
> >>> for protocol/outer-scope, and that by definition, a
> >>> JdbcAggregationRepository is an outer service. However, at the same
> time,
> >>> it's an abstraction inside the route, and it's still very unsetting to
> >>> have
> >>> property that dissapear in the same camel route.
> >>>
> >>> Do you see it as a Bug or a Feature ?
> >>>
> >>> PS : I'm still asking myself why there is no user guide to use
> >>> JdbcAggregationRepository in the book (Hawt example) or a "pretty-doc"
> in
> >>> http://camel.apache.org/aggregator.html. Or maybe there is other more
> >>> standard way to aggregate in a persistent repository that I don't know
> >>> yet ?
> >>>
> >>> Thank you,
> >>>
> >>> Jonathan Schoreels
> >>
> >>
> >>
> >
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>

--f4030435ae84f7420e054dd61939--

From users-return-65397-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Sun Apr 23 14:14:33 2017
Return-Path: <users-return-65397-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 09CBA18268
	for <apmail-camel-users-archive@www.apache.org>; Sun, 23 Apr 2017 14:14:33 +0000 (UTC)
Received: (qmail 98444 invoked by uid 500); 23 Apr 2017 14:14:32 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 98392 invoked by uid 500); 23 Apr 2017 14:14:32 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 98379 invoked by uid 99); 23 Apr 2017 14:14:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Apr 2017 14:14:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C8A51180371
	for <users@camel.apache.org>; Sun, 23 Apr 2017 14:14:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id YcXFlNWpmmnm for <users@camel.apache.org>;
	Sun, 23 Apr 2017 14:14:30 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 233885F20C
	for <users@camel.apache.org>; Sun, 23 Apr 2017 14:14:30 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id h123so14808211qke.0
        for <users@camel.apache.org>; Sun, 23 Apr 2017 07:14:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=C0zXWKJoQ44vvzaVkXigj0oaOYHmTjgrEMw5dn0oWwI=;
        b=q9x3q2OuB+lmmfxSHthYBKulh0lp4XjzlSADHP35Jb/sEC37nTu8vMK88w9+D1w2Ht
         DEbL6joY0QdmBFnLFdl23aaTCsU96JIWh2ngyVCHDl8mIH8XWqXzhow6a9/Fr5zyF++U
         zlgdP9cNuB7cF1icIVWVcmcIScWkj/KSV25chfO03xKQ0dCYtJyVluvT0ewwxurarYFS
         eCXvZbHH7h6uKo4pOW2H9UA9gy5OQOwOEXm6oMOiCgJO6znQYesnEn9jOAlHk3HMa1uV
         rxHqpFAwyJcpDbnd+7WHIwXAnX1syO2cGs0Ci+W6Ov9SMOTq5MFGlh1cGJsqctOZLfbf
         lbig==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=C0zXWKJoQ44vvzaVkXigj0oaOYHmTjgrEMw5dn0oWwI=;
        b=kRmm9FFT9DqVnmAgfpvcvg5j0BIloqV35U8HJCJpEsoGQq2VCQaH1jPpdDqpurusqk
         riO8eNNvqns2a9+Jenb9tzGHO81ArtC9ra64qs+DEFFxsCnmqqe+rb73eUBvQfOoAJfd
         fVZvjT5ZKUTd/poBxrqlhLdTG1htJEaEYCFhS/oYHpp+EbZMXk5HMcpG6F3xfsHlhvcy
         OMCIVNbRTtrEn3P2NbWlbcLNGQHiAu3h2ll6W4+lRRvxCHezR/VTe+eRsXo1HB9ypmLx
         hhL05h9vseg+1R2809RmPnfl7GbqzoXcvrPyfGkmdcYnWx6uWELW/euulCwz+euSzZtM
         1JGQ==
X-Gm-Message-State: AN3rC/4hsKcvNOPN/zRWxvp6V6gU7Pqn+YL6pnyKqStIlj7rK29JJ2VH
	aJIMaX4xpQIW4epAdepXnTP6qKodS2sc
X-Received: by 10.55.214.208 with SMTP id p77mr22844474qkl.121.1492956863613;
 Sun, 23 Apr 2017 07:14:23 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.12.185.165 with HTTP; Sun, 23 Apr 2017 07:14:23 -0700 (PDT)
In-Reply-To: <CA+D-ZCSr4VYH6z27DYfWDi_vUBi3F_mmGhEh2wpkJm=P=KD0jQ@mail.gmail.com>
References: <CA+D-ZCSXWCuQsjYPfdG9oELezUQxQ3n6eay5BZ+UDvM3Tp3=iw@mail.gmail.com>
 <CAGB5yNkvRDfGzAUQ=SP9tZe4vTfhWVNC_dD6SPvtNrHkFumqkg@mail.gmail.com>
 <8e5ea789-606e-05df-0557-7e5ce082e508@gmail.com> <CAGB5yN=3dLdO2UNGNtpLWRUk-J=STtF-2049M1kyhLxN-bGQGw@mail.gmail.com>
 <CA+D-ZCSr4VYH6z27DYfWDi_vUBi3F_mmGhEh2wpkJm=P=KD0jQ@mail.gmail.com>
From: Jonathan Schoreels <jonathan.schoreels@gmail.com>
Date: Sun, 23 Apr 2017 16:14:23 +0200
Message-ID: <CA+D-ZCS5svwTikhUFPrSKX=Nxu=sxgud1i4dBa6kiHDi49ccug@mail.gmail.com>
Subject: Re: JdbcAggregationRepository doesn't preserve properties :
 Feature/Bug ?
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1149d4f8854e80054dd61b96

--001a1149d4f8854e80054dd61b96
Content-Type: text/plain; charset=UTF-8

(The pull request has been made : https://github.com/apache/camel/pull/1654)

Jonathan

2017-04-23 16:13 GMT+02:00 Jonathan Schoreels <jonathan.schoreels@gmail.com>
:

> Hi Claus,
>
> Thank you for the reminder, I had some other test with the repository and
> found it another feature that seems to be normal : if the deadletter route
> throws an exception, it will be send again to DLQ again, and again. I say
> it's normal since a test seems to cover it :
> JdbcAggregateRecoverDeadLetterChannelFailedTest.
>
> I however did not find if it's a behaviour that should be implemented in
> ALL RecoverableAggregationRepository or only some of them. I've just
> added javadoc for the JDBC's one, in doubt.
>
> Jonathan
>
> 2017-04-23 10:04 GMT+02:00 Claus Ibsen <claus.ibsen@gmail.com>:
>
>> Hi Jonathan
>>
>> Did you get a chance to do this? Its good to help the project if users
>> can get involved and provide fixes/improvments. And a small javadoc
>> contribution is a great place to start.
>>
>> On Wed, Apr 12, 2017 at 1:34 PM, Jonathan Schoreels
>> <jonathan.schoreels@gmail.com> wrote:
>> > Is it allowed to open pull request just to add java doc, or would you
>> prefer
>> > to do it yourself ?
>> >
>> >
>> > On 2017-04-12 13:31, Claus Ibsen wrote:
>> >>
>> >> Yes only body + headers is stored that is by design
>> >>
>> >> On Wed, Apr 12, 2017 at 1:19 PM, Jonathan Schoreels
>> >> <jonathan.schoreels@gmail.com> wrote:
>> >>>
>> >>> Hello,
>> >>>
>> >>> I've been using JdbcAggregationRepository recently and discovered
>> that it
>> >>> won't save the property in the table and thus, losing them at each
>> >>> aggregation step.
>> >>>
>> >>> I know property are meant to be inner-route variable, and headers
>> >>> metadata
>> >>> for protocol/outer-scope, and that by definition, a
>> >>> JdbcAggregationRepository is an outer service. However, at the same
>> time,
>> >>> it's an abstraction inside the route, and it's still very unsetting to
>> >>> have
>> >>> property that dissapear in the same camel route.
>> >>>
>> >>> Do you see it as a Bug or a Feature ?
>> >>>
>> >>> PS : I'm still asking myself why there is no user guide to use
>> >>> JdbcAggregationRepository in the book (Hawt example) or a
>> "pretty-doc" in
>> >>> http://camel.apache.org/aggregator.html. Or maybe there is other more
>> >>> standard way to aggregate in a persistent repository that I don't know
>> >>> yet ?
>> >>>
>> >>> Thank you,
>> >>>
>> >>> Jonathan Schoreels
>> >>
>> >>
>> >>
>> >
>>
>>
>>
>> --
>> Claus Ibsen
>> -----------------
>> http://davsclaus.com @davsclaus
>> Camel in Action 2: https://www.manning.com/ibsen2
>>
>
>

--001a1149d4f8854e80054dd61b96--

From users-return-65398-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 24 10:57:49 2017
Return-Path: <users-return-65398-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 758C81808E
	for <apmail-camel-users-archive@www.apache.org>; Mon, 24 Apr 2017 10:57:49 +0000 (UTC)
Received: (qmail 17768 invoked by uid 500); 24 Apr 2017 10:57:49 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 17722 invoked by uid 500); 24 Apr 2017 10:57:49 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 14520 invoked by uid 99); 24 Apr 2017 10:55:05 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.285
X-Spam-Level: **
X-Spam-Status: No, score=2.285 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Mon, 24 Apr 2017 03:55:01 -0700 (MST)
From: sbrandt2 <sb.list@posteo.net>
To: users@camel.apache.org
Message-ID: <1493031301603-5798182.post@n5.nabble.com>
Subject: Guidance to choose "future proof" http consumer/producer components
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

With the jetty producer surprisingly being deprecated recently via
CAMEL-10998 I (and probably a lot of other users) are now in the situation
having to plan the migration to another http producer. 
I'd also like to avoid being in the same situation again in some months
having to migrate again.

Given the choice of available http related components, I'd like to ask Camel
developers for guidance on which http component(s) will be the "main" long
time supported http stack for Camel.

For producer endpoints, the choice would probably be between: http4,
netty4-http, undertow
For consumer endpoints: jetty, netty4-http, undertow

I'm aware of the dynamics of open source projects, but given the importance
of actively developed and supported http producer/consumer endpoints for an
integration framework I believe an answer is valuable to Camel users.

Also, to assess the urgency of a migration away from jetty producer
endpoint, it would be helpful to know if there are serious issues with it.
The description in CAMEL-10998 is a bit vague and I didn't find any
discussion about the deprecation on the dev forum.

Thank you!
Sebastian



--
View this message in context: http://camel.465427.n5.nabble.com/Guidance-to-choose-future-proof-http-consumer-producer-components-tp5798182.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65399-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 24 12:53:20 2017
Return-Path: <users-return-65399-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D03FF186F0
	for <apmail-camel-users-archive@www.apache.org>; Mon, 24 Apr 2017 12:53:20 +0000 (UTC)
Received: (qmail 78091 invoked by uid 500); 24 Apr 2017 12:53:19 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 78046 invoked by uid 500); 24 Apr 2017 12:53:19 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 78033 invoked by uid 99); 24 Apr 2017 12:53:18 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Apr 2017 12:53:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 995B81AFE1E
	for <users@camel.apache.org>; Mon, 24 Apr 2017 12:53:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 0_Q-VUzX1CtQ for <users@camel.apache.org>;
	Mon, 24 Apr 2017 12:53:16 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 45FED5FC84
	for <users@camel.apache.org>; Mon, 24 Apr 2017 12:53:16 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id ABFFE3C5C6D79
	for <users@camel.apache.org>; Mon, 24 Apr 2017 05:53:15 -0700 (MST)
Date: Mon, 24 Apr 2017 05:53:15 -0700 (MST)
From: dancerjohn <winddancerjohn@gmail.com>
To: users@camel.apache.org
Message-ID: <1493038395697-5798192.post@n5.nabble.com>
Subject: QuartzComponent startDelayedSeconds bug
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I believe there is a bug in the QuartzComponent WRT startDelayedSeconds. I am
starting here instead of creating a ticket per the request on the forum.
This is how to demonstrate the issue:

create route with start delay:
from("quartz2:route1?startDelaySeconds=25&trigger.repeatInterval=500")....

create another route with NO start delay
from("quartz2:route2?trigger.repeatInterval=500")....

Behavior is that route2 will have a start delay if it is created AFTER
route1 but NOT have a start delay if it is created BEFORE route1. This is
because the QuartzComponent is using a field for the startDelaySeconds and
not resetting it to null of the URI parameters to not have a
startDelaySeconds set.

protected Endpoint More ...createEndpoint(String uri, String remaining,
Map<String, Object> parameters) throws Exception {
        // Get couple of scheduler settings
        Integer startDelayedSeconds = getAndRemoveParameter(parameters,
"startDelayedSeconds", Integer.class);
        if (startDelayedSeconds != null) {
               .............. this.startDelayedSeconds =
startDelayedSeconds;


So only if the variable "startDelayedSeconds" is not null will the
"this.startDelayedSeconds" be reset to the value desired by the URI.




--
View this message in context: http://camel.465427.n5.nabble.com/QuartzComponent-startDelayedSeconds-bug-tp5798192.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65400-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 24 12:59:56 2017
Return-Path: <users-return-65400-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F41DA1876B
	for <apmail-camel-users-archive@www.apache.org>; Mon, 24 Apr 2017 12:59:55 +0000 (UTC)
Received: (qmail 99000 invoked by uid 500); 24 Apr 2017 12:59:55 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 98952 invoked by uid 500); 24 Apr 2017 12:59:55 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 98935 invoked by uid 99); 24 Apr 2017 12:59:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Apr 2017 12:59:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A28FBC028B
	for <users@camel.apache.org>; Mon, 24 Apr 2017 12:59:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.192
X-Spam-Level: *
X-Spam-Status: No, score=1.192 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id BslO3zMkcZut for <users@camel.apache.org>;
	Mon, 24 Apr 2017 12:59:51 +0000 (UTC)
Received: from mail-qk0-f169.google.com (mail-qk0-f169.google.com [209.85.220.169])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id CBE255FCAC
	for <users@camel.apache.org>; Mon, 24 Apr 2017 12:59:50 +0000 (UTC)
Received: by mail-qk0-f169.google.com with SMTP id h123so30538177qke.0
        for <users@camel.apache.org>; Mon, 24 Apr 2017 05:59:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=k3BnW9qzMkItU5sUzJUs5boJacRZYgwaAaSOdTTpu14=;
        b=XS3+aEA+2E8ESZmEyxBjqpUuYuGB0/fGtLAgJewU6oMk658z78UbV9U7cYNXJmbZaU
         iM+FKiVyBv4WIJqGwBUuLv/3LVoS2npbX0arqHYTR3rNr1/F2JmLpeABB3iKEni5L0hM
         9DCULebTrVQ0T1DXReUqOq5EifDSEhniB7mkyV6hSYcHkJiEKwTPwQ8cWzoYd/1IHRB2
         Mr5ouvrfBFsxOsFtS1P2NQ36y0BANxk+VpH42tcSXgEH1+er7ZOgCFnWBOskAsvqdNlO
         s4LDQMSiYK8dBUxV8PYjRDYbNQAV5Qx55GhQzgikPvI1T52AKp/+wt9/FyHFvT2v87Qj
         TCAw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=k3BnW9qzMkItU5sUzJUs5boJacRZYgwaAaSOdTTpu14=;
        b=Cj9SyqsNH2+Uem4PCzKnJvfgNRB8TgEw9ChW3s0GpqE+g41YZ8Tp+FdOVeQR6DEqfk
         TllBLRb6l4mWLbhifzkvUaIYLX15lQljV2IjMycn573aBZyzNwjt9EGF5F67gOs75Mb7
         sFqgiT9Lu+Dn3KhY2TbDYA0FU2z5sSr9hfED86zU98l9NaPJvqdK61OcUMJ0mG++pek+
         4Ok6jyEOpssjkUqbDZewQQuP8L1WnfG8fanUZIkV7v9Q+m8WcU7JzR/yvbZF6H1SRPmt
         CiFGuTSkbeY9SrO7AD+p2i9FfH35ExxoWD/oY6YGVLBcacVYeELm9JTy0CH0hR/lBGoN
         AQSQ==
X-Gm-Message-State: AN3rC/6aKLDdw7d4fT2hTQGC/hrK5jCije4TwSzYk77TG9k5dxtc2oqm
	9El6kbZtOGwg80ZgX3rN7MiEOdq4T7TD
X-Received: by 10.55.54.202 with SMTP id d193mr2947893qka.160.1493038790366;
 Mon, 24 Apr 2017 05:59:50 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Mon, 24 Apr 2017 05:59:29 -0700 (PDT)
In-Reply-To: <1493038395697-5798192.post@n5.nabble.com>
References: <1493038395697-5798192.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Mon, 24 Apr 2017 14:59:29 +0200
Message-ID: <CAGB5yNm1sw4eYt5nnNJP_=bjFAbYgVqrAW4qO+iJ9Lo1fHuGWg@mail.gmail.com>
Subject: Re: QuartzComponent startDelayedSeconds bug
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

That is not the intention, its a global option you set on the
component level .. ideally.
And if you have a single endpoint etc you can set it there.

You cannot have different started delayed, as its for starting the
quartz scheduler

On Mon, Apr 24, 2017 at 2:53 PM, dancerjohn <winddancerjohn@gmail.com> wrote:
> I believe there is a bug in the QuartzComponent WRT startDelayedSeconds. I am
> starting here instead of creating a ticket per the request on the forum.
> This is how to demonstrate the issue:
>
> create route with start delay:
> from("quartz2:route1?startDelaySeconds=25&trigger.repeatInterval=500")....
>
> create another route with NO start delay
> from("quartz2:route2?trigger.repeatInterval=500")....
>
> Behavior is that route2 will have a start delay if it is created AFTER
> route1 but NOT have a start delay if it is created BEFORE route1. This is
> because the QuartzComponent is using a field for the startDelaySeconds and
> not resetting it to null of the URI parameters to not have a
> startDelaySeconds set.
>
> protected Endpoint More ...createEndpoint(String uri, String remaining,
> Map<String, Object> parameters) throws Exception {
>         // Get couple of scheduler settings
>         Integer startDelayedSeconds = getAndRemoveParameter(parameters,
> "startDelayedSeconds", Integer.class);
>         if (startDelayedSeconds != null) {
>                .............. this.startDelayedSeconds =
> startDelayedSeconds;
>
>
> So only if the variable "startDelayedSeconds" is not null will the
> "this.startDelayedSeconds" be reset to the value desired by the URI.
>
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/QuartzComponent-startDelayedSeconds-bug-tp5798192.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65401-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 24 13:03:05 2017
Return-Path: <users-return-65401-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4FF4A1878A
	for <apmail-camel-users-archive@www.apache.org>; Mon, 24 Apr 2017 13:03:04 +0000 (UTC)
Received: (qmail 3477 invoked by uid 500); 24 Apr 2017 13:03:03 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 3429 invoked by uid 500); 24 Apr 2017 13:03:03 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 3412 invoked by uid 99); 24 Apr 2017 13:03:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Apr 2017 13:03:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 2BB751AFE29
	for <users@camel.apache.org>; Mon, 24 Apr 2017 13:03:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Za19mh3s1b_S for <users@camel.apache.org>;
	Mon, 24 Apr 2017 13:03:01 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 1E7B25F5F8
	for <users@camel.apache.org>; Mon, 24 Apr 2017 13:03:01 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id DAEE83C5CE9C8
	for <users@camel.apache.org>; Mon, 24 Apr 2017 06:03:00 -0700 (MST)
Date: Mon, 24 Apr 2017 06:03:00 -0700 (MST)
From: dancerjohn <winddancerjohn@gmail.com>
To: users@camel.apache.org
Message-ID: <1493038980889-5798194.post@n5.nabble.com>
In-Reply-To: <CAGB5yNm1sw4eYt5nnNJP_=bjFAbYgVqrAW4qO+iJ9Lo1fHuGWg@mail.gmail.com>
References: <1493038395697-5798192.post@n5.nabble.com> <CAGB5yNm1sw4eYt5nnNJP_=bjFAbYgVqrAW4qO+iJ9Lo1fHuGWg@mail.gmail.com>
Subject: Re: QuartzComponent startDelayedSeconds bug
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Ah, I see in the documentation that it is documented as being set on the
component instead of as part of the endpoint URI. Thanks for the
clarification.



--
View this message in context: http://camel.465427.n5.nabble.com/QuartzComponent-startDelayedSeconds-bug-tp5798192p5798194.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65402-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Mon Apr 24 16:05:01 2017
Return-Path: <users-return-65402-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 79092192A4
	for <apmail-camel-users-archive@www.apache.org>; Mon, 24 Apr 2017 16:05:01 +0000 (UTC)
Received: (qmail 22425 invoked by uid 500); 24 Apr 2017 16:05:01 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 22373 invoked by uid 500); 24 Apr 2017 16:05:00 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 22357 invoked by uid 99); 24 Apr 2017 16:05:00 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Apr 2017 16:05:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A8FA618002C
	for <users@camel.apache.org>; Mon, 24 Apr 2017 16:04:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.232
X-Spam-Level: **
X-Spam-Status: No, score=2.232 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_FAIL=0.919, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id VI4jl6WDdLPC for <users@camel.apache.org>;
	Mon, 24 Apr 2017 16:04:56 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 67EC25FB7A
	for <users@camel.apache.org>; Mon, 24 Apr 2017 16:04:56 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id E013E3C653961
	for <users@camel.apache.org>; Mon, 24 Apr 2017 09:04:55 -0700 (MST)
Date: Mon, 24 Apr 2017 09:04:55 -0700 (MST)
From: sadiq <sadiq.manji@sap.com>
To: users@camel.apache.org
Message-ID: <1493049895912-5798199.post@n5.nabble.com>
In-Reply-To: <CA+wbgs09A4uxitoqjZPEYfUyVOwPJLMSm69ivi3DOkFd-kiYGA@mail.gmail.com>
References: <1492578616894-5797871.post@n5.nabble.com> <CA+wbgs09A4uxitoqjZPEYfUyVOwPJLMSm69ivi3DOkFd-kiYGA@mail.gmail.com>
Subject: Re: Parsing issue with unmarshal and bindy.csv with double quotes
 and commas in a single field
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi souciance and Onder,

Thanks for your reply.

In a CSV, a field can be encapsulated by double quotes in case there are
commas within the field that should not split the field.

So the following should be just 3 fields:
345,"1971-79 Fan Blade 19-1/2, 7 Blade",Available

And Bindy handles this scenario.

The issue is that the second field also has a double quote (to represent
inches) that needs to be escaped (escaping a double quote in CSV requires 2
double quotes) in order to be stored as a double quote:
345,"1971-79 Fan Blade 19-1/2""",Available

Bindy also handles this scenario.

However, when both an escaped double quote and a comma are present within a
double quote wrapped field, this is when the parsing breaks:
345,"1971-79 Fan Blade 19-1/2"", 7 Blade",Available

This is what I believe to be a bug.



--
View this message in context: http://camel.465427.n5.nabble.com/Parsing-issue-with-unmarshal-and-bindy-csv-with-double-quotes-and-commas-in-a-single-field-tp5797871p5798199.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65403-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 25 11:48:51 2017
Return-Path: <users-return-65403-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 76F6F181A5
	for <apmail-camel-users-archive@www.apache.org>; Tue, 25 Apr 2017 11:48:51 +0000 (UTC)
Received: (qmail 47875 invoked by uid 500); 25 Apr 2017 11:48:51 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 47821 invoked by uid 500); 25 Apr 2017 11:48:50 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 47810 invoked by uid 99); 25 Apr 2017 11:48:49 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Apr 2017 11:48:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 73094D0E30
	for <users@camel.apache.org>; Tue, 25 Apr 2017 11:48:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.487
X-Spam-Level: ***
X-Spam-Status: No, score=3.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id XUnkvHHHMokQ for <users@camel.apache.org>;
	Tue, 25 Apr 2017 11:48:47 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 116CC5FC57
	for <users@camel.apache.org>; Tue, 25 Apr 2017 11:48:47 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 80EA63C9ADEBE
	for <users@camel.apache.org>; Tue, 25 Apr 2017 04:48:46 -0700 (MST)
Date: Tue, 25 Apr 2017 04:48:46 -0700 (MST)
From: jamest <jimmy.e.thomas@gmail.com>
To: users@camel.apache.org
Message-ID: <1493120926526-5798255.post@n5.nabble.com>
In-Reply-To: <CAGB5yNmGwv+D+itmCwAVCPSKPjkVt+jMaVm2U1pn8XdkWL5ZtA@mail.gmail.com>
References: <1489084978067-5795205.post@n5.nabble.com> <CAGB5yNmGwv+D+itmCwAVCPSKPjkVt+jMaVm2U1pn8XdkWL5ZtA@mail.gmail.com>
Subject: Re: camel-jpa and PersistenceException
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I opened a JIRA an attached a patch  CAMEL-11197
<https://issues.apache.org/jira/browse/CAMEL-11197>  

I couldn't come up with a way to unit test this change without introducing
integration tests with various connection pool providers but I am using this
patch in my project already.  No more problems with lost database connection



--
View this message in context: http://camel.465427.n5.nabble.com/camel-jpa-and-PersistenceException-tp5795205p5798255.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65404-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 25 12:59:22 2017
Return-Path: <users-return-65404-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9EB5018578
	for <apmail-camel-users-archive@www.apache.org>; Tue, 25 Apr 2017 12:59:22 +0000 (UTC)
Received: (qmail 11643 invoked by uid 500); 25 Apr 2017 12:59:22 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 11575 invoked by uid 500); 25 Apr 2017 12:59:20 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 11553 invoked by uid 99); 25 Apr 2017 12:59:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Apr 2017 12:59:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id D3CDDC01DB
	for <users@camel.apache.org>; Tue, 25 Apr 2017 12:59:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id BYO7CCbYvvPc for <users@camel.apache.org>;
	Tue, 25 Apr 2017 12:59:18 +0000 (UTC)
Received: from mail-qk0-f182.google.com (mail-qk0-f182.google.com [209.85.220.182])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id D79705F5F8
	for <users@camel.apache.org>; Tue, 25 Apr 2017 12:59:17 +0000 (UTC)
Received: by mail-qk0-f182.google.com with SMTP id u75so46091390qka.3
        for <users@camel.apache.org>; Tue, 25 Apr 2017 05:59:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=Sowdw5M01NTtIT3NhsR6tKfn4cFdlvL4KPgnFyQ+6b0=;
        b=p/382O4ynDwISQEtklobEGNKISpsI8Jya8cVLqWTSdGVJCqce0XIEwLoTuxIS2ZeZD
         U5B80/VBFDxxD0tx+YeTFodoJYEV7uAlyn6qDtncQ4Ce3ul5DrWdsA83M1KJMM+Rct2W
         HqdTuDNcqIHXKMU+A58bqWtJJwO8kRD/W6x0CtC42UzQQGVyh7ZsxfEzDj4u6ffqw1Dr
         mKj12ryd0oCs5DVQrcA1eFkILCbdwUAzBrNKsJAe3dHsYYbBSOQnpPDqVmGVs2Ful9EX
         xMd0IyTeuqKDCykfJJsG1F3ga2xYmUkdB6epEYFsOVpq5sQ590mcbTBUPXtR0EEpdXZ/
         0Jyw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=Sowdw5M01NTtIT3NhsR6tKfn4cFdlvL4KPgnFyQ+6b0=;
        b=FF8+mOPNFFXMmlEh7JgmuKQZzxrCRMGymqe/yv18bEWMTxJ8izC1mUGDvZEJlo3lvr
         HgCyq1A0VjlE++ke+09urbDphHv+RddoqRFizb0d1rWnK/wDnC/51PY4HXNHzxK1zOhe
         HYRYUeo8c/XvLucC7K6fA4mQeoZXSwm0x9PJsoODvH6ttJObsm9u1fRX750n8/ZcMsIT
         rII/ePMqoQxNvPj8kaBwOw5dzz2Bby5f/EMgcyLSuwc1YAYFgyA/7Uz3funTisT6/EBp
         OCsckLu68HsBna/VO1ipt90RMDtCyiqWy+mn4Nb99JBEbeO/zrvGH6PYx4lmEO1IuOWB
         xrgQ==
X-Gm-Message-State: AN3rC/7ATfgi/D5makoma7zb2Ro7F9rYFyai8QH/xe/XF+/PUd8jrCKU
	rzjJfCR/uscpcfseHt/hJAMqNXQPr4sK
X-Received: by 10.55.72.143 with SMTP id v137mr7275263qka.222.1493125157434;
 Tue, 25 Apr 2017 05:59:17 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.12.179.215 with HTTP; Tue, 25 Apr 2017 05:59:17 -0700 (PDT)
From: Mark Nuttall <mknuttall@gmail.com>
Date: Tue, 25 Apr 2017 08:59:17 -0400
Message-ID: <CAMhV9p642CaoSsGPkUT0GusyN7Au1qWcZwzaD69tnyzgxQ0VtA@mail.gmail.com>
Subject: AWS S3 and Minio (or other S3 emulator)
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a114a82309d39ff054dfd4ab9

--001a114a82309d39ff054dfd4ab9
Content-Type: text/plain; charset=UTF-8

Does anyone have experience using Camel with an AWS S3 "emulator". I don't
currently have access to AWS S3 so i am trying to use Minio (Minio.io) to
develop with until I can get the real S3. I have not been successful
getting it to work. I have tried creating the AmazonS3Client myself but am
running into a myriad of errors.  I've tried a few different things. I did
have to drop back to a previous version of Minio because of a known bug
with it and the  Amazon Java API.

If you have used one, what did you use and how did you get the AWS S3
component to work with it?

Thanks!
Mark

--001a114a82309d39ff054dfd4ab9--

From users-return-65405-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 25 14:22:26 2017
Return-Path: <users-return-65405-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7439A188CD
	for <apmail-camel-users-archive@www.apache.org>; Tue, 25 Apr 2017 14:22:26 +0000 (UTC)
Received: (qmail 6455 invoked by uid 500); 25 Apr 2017 14:22:26 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 6392 invoked by uid 500); 25 Apr 2017 14:22:24 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 87611 invoked by uid 99); 25 Apr 2017 14:10:47 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.737
X-Spam-Level: ***
X-Spam-Status: No, score=3.737 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Date: Tue, 25 Apr 2017 07:10:44 -0700 (MST)
From: andcrow <andcrow25@gmail.com>
To: users@camel.apache.org
Message-ID: <1493129444364-5798257.post@n5.nabble.com>
Subject: Audit Database with Apache Camel
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Still in this battle, because the *"WINTER IS COMING"*... lol hehehe

Does Apache Camel have any component that can perform auditing on a
database? Or audit records that will be sent to a web service using a JSON
file?



--
View this message in context: http://camel.465427.n5.nabble.com/Audit-Database-with-Apache-Camel-tp5798257.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65406-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 25 14:22:40 2017
Return-Path: <users-return-65406-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1987C188D6
	for <apmail-camel-users-archive@www.apache.org>; Tue, 25 Apr 2017 14:22:40 +0000 (UTC)
Received: (qmail 7516 invoked by uid 500); 25 Apr 2017 14:22:34 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 7472 invoked by uid 500); 25 Apr 2017 14:22:34 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 3322 invoked by uid 99); 25 Apr 2017 14:19:49 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.737
X-Spam-Level: ***
X-Spam-Status: No, score=3.737 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Date: Tue, 25 Apr 2017 07:19:46 -0700 (MST)
From: andcrow <andcrow25@gmail.com>
To: users@camel.apache.org
Message-ID: <1493129986428-5798258.post@n5.nabble.com>
In-Reply-To: <CA+wbgs2xS=LT+Ay9dzbV+qRd76WTPbtZ049x6CNUCX05e5G8aA@mail.gmail.com>
References: <1492005997292-5797508.post@n5.nabble.com> <1492447513299-5797770.post@n5.nabble.com> <CA+wbgs1zLBw0E657fkB3o=gHHVPmxSu9ozauK0nbPg=BG4t89A@mail.gmail.com> <1492451365998-5797772.post@n5.nabble.com> <CA+wbgs2xS=LT+Ay9dzbV+qRd76WTPbtZ049x6CNUCX05e5G8aA@mail.gmail.com>
Subject: Re: Using Split with JSON File
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Does Apache Camel have any component that can perform auditing on a database?
Or audit records that will be sent to a web service using a JSON file?



--
View this message in context: http://camel.465427.n5.nabble.com/Using-Split-with-JSON-File-tp5797508p5798258.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65407-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 25 15:33:21 2017
Return-Path: <users-return-65407-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A6DEE18C78
	for <apmail-camel-users-archive@www.apache.org>; Tue, 25 Apr 2017 15:33:21 +0000 (UTC)
Received: (qmail 72285 invoked by uid 500); 25 Apr 2017 15:33:21 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 72238 invoked by uid 500); 25 Apr 2017 15:33:21 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 72221 invoked by uid 99); 25 Apr 2017 15:33:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Apr 2017 15:33:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 852FDD4D06
	for <users@camel.apache.org>; Tue, 25 Apr 2017 15:33:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.189
X-Spam-Level: ****
X-Spam-Status: No, score=4.189 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FORGED_YAHOO_RCVD=1.022,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id wdeVQ6f41kJC for <users@camel.apache.org>;
	Tue, 25 Apr 2017 15:33:18 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id DAE6660CF6
	for <users@camel.apache.org>; Tue, 25 Apr 2017 15:33:17 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 5126A3CA52639
	for <users@camel.apache.org>; Tue, 25 Apr 2017 08:33:17 -0700 (MST)
Date: Tue, 25 Apr 2017 08:33:17 -0700 (MST)
From: Ryan T <bratnmw@yahoo.com>
To: users@camel.apache.org
Message-ID: <1493134397328-5798261.post@n5.nabble.com>
In-Reply-To: <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com>
References: <1490738690185-5796669.post@n5.nabble.com> <CA+wbgs0O0gqi6WuLZfk48a0fxL4gcZrbwTP=3qs5ULJLsPt3qw@mail.gmail.com> <1490822278842-5796719.post@n5.nabble.com> <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com>
Subject: Re: Help diagnosing camel exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Sorry it took me so long to get back.  I wanted to add some more logging to
try to be more complete in defining my problem.  Below is the code:



Below here is the logs of what I am getting:
Error:


success:


In the error case I am confused to as why it skipped several nodes of the
route.  I expected that once it handled the exception it would continue to
process the rest of the nodes.  I mean the whole point of putting all the
extra logging nodes into the route was to attempt to identify the actual
node having the timeout.  But I am no closer to solving this.

Thanks for any help you might be able to provide.



--
View this message in context: http://camel.465427.n5.nabble.com/Help-diagnosing-camel-exception-tp5796669p5798261.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65408-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 25 19:23:44 2017
Return-Path: <users-return-65408-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 62A9119A6C
	for <apmail-camel-users-archive@www.apache.org>; Tue, 25 Apr 2017 19:23:44 +0000 (UTC)
Received: (qmail 78471 invoked by uid 500); 25 Apr 2017 19:23:43 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 78424 invoked by uid 500); 25 Apr 2017 19:23:43 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 78413 invoked by uid 99); 25 Apr 2017 19:23:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Apr 2017 19:23:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 43172C1309
	for <users@camel.apache.org>; Tue, 25 Apr 2017 19:23:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.487
X-Spam-Level: ***
X-Spam-Status: No, score=3.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Gt1ZOXQE6OkD for <users@camel.apache.org>;
	Tue, 25 Apr 2017 19:23:41 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 622E75F306
	for <users@camel.apache.org>; Tue, 25 Apr 2017 19:23:41 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 1DB7B3CAF6CC8
	for <users@camel.apache.org>; Tue, 25 Apr 2017 12:23:40 -0700 (MST)
Date: Tue, 25 Apr 2017 12:23:40 -0700 (MST)
From: urwithsumit <sumit.kushwaha@gmail.com>
To: users@camel.apache.org
Message-ID: <1493148220096-5798262.post@n5.nabble.com>
Subject: Camel HTTP: I/O exception (java.net.SocketException) caught when
 processing request: Too many open files
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,
I have a rest API exposed using camel Jetty. The api makes call to another
API to fetch some data.
Intermittently, we are getting exception "I/O exception
(java.net.SocketException) caught when processing request: Too many open
files". The number of connections is well below the default Unix uLimit of
1024. I am using Camel 2.18.2. Any pointers to solve this problem? 

2017-04-25T09:19:11,341  INFO [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpMethodDirector: Retrying request
2017-04-25T09:19:11,341 DEBUG [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpConnection: Open connection to XXXXXXX
2017-04-25T09:19:11,341 DEBUG [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpMethodDirector: Closing the connection.
2017-04-25T09:19:11,341  INFO [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpMethodDirector: I/O exception
(java.net.SocketException) caught when processing request: Too many open
files
2017-04-25T09:19:11,341  INFO [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpMethodDirector: Retrying request
2017-04-25T09:19:11,341 DEBUG [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpConnection: Open connection to
p1dn-id-vs:8080
2017-04-25T09:19:11,341 DEBUG [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpMethodDirector: Closing the connection.
2017-04-25T09:19:11,341  INFO [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpMethodDirector: I/O exception
(java.net.SocketException) caught when processing request: Too many open
files
2017-04-25T09:19:11,342  INFO [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpMethodDirector: Retrying request
2017-04-25T09:19:11,342 DEBUG [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpConnection: Open connection to XXXXXXX
2017-04-25T09:19:11,342 DEBUG [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpMethodDirector: Closing the connection.
2017-04-25T09:19:11,342 DEBUG [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpMethodDirector: Method retry handler
returned false. Automatic recovery will not be attempted
2017-04-25T09:19:11,342 DEBUG [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.HttpConnection: Releasing connection back to
connection manager.
2017-04-25T09:19:11,342 DEBUG [qtp1005845925-25 - /check_dnc_media]
org.apache.commons.httpclient.MultiThreadedHttpConnectionManager: Freeing
connection, hostConfig=HostConfiguration[host=http: XXXXXX


Route definition: 
<camel:route id="dnc_webget_route">
			<from uri="jetty:{{dnc.dmz.service.address}}/check_dnc_media" />

			<camel:removeHeaders pattern="CamelHttp*" />
			<camel:setHeader headerName="CamelHttpMethod">
				<camel:constant>GET</camel:constant>
			</camel:setHeader>
			<camel:setHeader headerName="Content-Type">
				<camel:constant>application/json</camel:constant>
			</camel:setHeader>

			<camel:enrich>
				<camel:simple>
					{{dnc.api.url}}?throwExceptionOnFailure=false
				</camel:simple>
			</camel:enrich>

			<camel:unmarshal ref="succ_resp" />
			<camel:process ref="dncResponseProcessor" />
			<camel:process ref="webgetResponseProcessor" />
			<camel:onException id="camel_OnException">
				<camel:exception>java.net.ConnectException</camel:exception>
				<camel:exception>java.lang.Throwable</camel:exception>
				<camel:handled>
					<constant>true</constant>
				</camel:handled>
				<camel:process ref="webGetExceptionProcessor"
id="webGetExceptionProcessor" />
			</camel:onException>
		</camel:route>



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-HTTP-I-O-exception-java-net-SocketException-caught-when-processing-request-Too-many-open-files-tp5798262.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65409-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 25 19:59:48 2017
Return-Path: <users-return-65409-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B5FC819BAA
	for <apmail-camel-users-archive@www.apache.org>; Tue, 25 Apr 2017 19:59:48 +0000 (UTC)
Received: (qmail 83239 invoked by uid 500); 25 Apr 2017 19:59:48 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 83187 invoked by uid 500); 25 Apr 2017 19:59:48 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 83174 invoked by uid 99); 25 Apr 2017 19:59:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Apr 2017 19:59:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 67A591B0382
	for <users@camel.apache.org>; Tue, 25 Apr 2017 19:59:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.794
X-Spam-Level: *
X-Spam-Status: No, score=1.794 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RCVD_IN_SORBS_SPAM=0.5, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key)
	header.d=list-zurowski-org.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Fx0QWNrlNPRs for <users@camel.apache.org>;
	Tue, 25 Apr 2017 19:59:44 +0000 (UTC)
Received: from mail-qk0-f174.google.com (mail-qk0-f174.google.com [209.85.220.174])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 8D9B25FBFA
	for <users@camel.apache.org>; Tue, 25 Apr 2017 19:59:44 +0000 (UTC)
Received: by mail-qk0-f174.google.com with SMTP id y63so125396562qkd.1
        for <users@camel.apache.org>; Tue, 25 Apr 2017 12:59:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=list-zurowski-org.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=tA54DyNR9znbUJxmtexJjDGgv40+3RCg7Yq8D4TXXOE=;
        b=OyWaSGQ3Jlm0X4a4UBW6UUJVRI0cXMIkrRhl96+IeFKdebVmoKmnlMn1zI0Za5m26Y
         0xt3NvNkzVqtJp0Vr+UgV7bT3WdrNTcaRANDkh5wUsGFsVkNZiwQjXz3mqLj9W7Bhiq+
         m2+prj3uoZ1Yb2Ha8dz2R+9sC7NVLz/1eK3uZRp87Q/yEQqmWD1jstG1i2Nh4PlPE9mL
         MMz3oOd3KOutIOVbotxTEupG0lp+tSqx3LtqgAKvl0TegpXN0S+NLWQ22iKXgOeKuHGS
         mtFth60qXPghOR3CxyLY5dXu375m1eV2kgT91bvk8zqxRSlLTXz6Bto3jpJGrUjK1NEq
         OGHg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=tA54DyNR9znbUJxmtexJjDGgv40+3RCg7Yq8D4TXXOE=;
        b=ulO1h5Ej1jxAipUkNSV8yKp4OFcubGQy9LGCtLlS2/rFWNRsWO3eT3XXGjRTuNyyBg
         2Y5fbHmP84KFRmoo8iLFBF+qX1erf6sH4LlPsQXZSN4AUy1Y/VY5jsRRSAI4RDBSkS3l
         yA/rotQTdKVLi2IQzD/US+t64LUNCc1KJu0VhYxgqqSWF1/US51XEiviSipgDLmeGFEn
         Y7fcqOoI1dO8fkWOtwMRnRMQ/n652AVX5kDfc+jHyKq/HmYrfgQkSYyAHTvyanaI+OgJ
         NjOy6AORH18RiUF++dwHnMI+YBsZnplLVhaTVWe/5z7VxfAPIqtfwILhVtrg+wazSGK4
         wp0g==
X-Gm-Message-State: AN3rC/5zKMhhLaGBez+RjbPk2MSVJIbGbzkaeNoTWT0GWQTgz+Zh/4GD
	s9KLr9JQ07IyjUhLW3jTA2TDNpQxKxeA
X-Received: by 10.55.90.2 with SMTP id o2mr34400277qkb.251.1493150383887; Tue,
 25 Apr 2017 12:59:43 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.140.95.14 with HTTP; Tue, 25 Apr 2017 12:59:03 -0700 (PDT)
X-Originating-IP: [79.194.111.245]
In-Reply-To: <1493049895912-5798199.post@n5.nabble.com>
References: <1492578616894-5797871.post@n5.nabble.com> <CA+wbgs09A4uxitoqjZPEYfUyVOwPJLMSm69ivi3DOkFd-kiYGA@mail.gmail.com>
 <1493049895912-5798199.post@n5.nabble.com>
From: Gregor Zurowski <gregor@list.zurowski.org>
Date: Tue, 25 Apr 2017 21:59:03 +0200
Message-ID: <CADL1oArVc1GFYuZL+Hx+7BkB+Pz2Rj_pQBqB0LpvZ1mcjbDM7g@mail.gmail.com>
Subject: Re: Parsing issue with unmarshal and bindy.csv with double quotes and
 commas in a single field
To: users@camel.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Sadiq,

I also believe this is a bug.  I ran into the exact same issue
recently, but did not have the time to further look into this.  It
would be great if you could file a bug in JIRA
(https://issues.apache.org/jira/browse/CAMEL) and attach a failing
unit test with your use case.

As a temporary alternative, you can use the Camel CSV component
(http://camel.apache.org/csv.html) which should work with your data.

Thanks,
Gregor

On Mon, Apr 24, 2017 at 6:04 PM, sadiq <sadiq.manji@sap.com> wrote:
> Hi souciance and Onder,
>
> Thanks for your reply.
>
> In a CSV, a field can be encapsulated by double quotes in case there are
> commas within the field that should not split the field.
>
> So the following should be just 3 fields:
> 345,"1971-79 Fan Blade 19-1/2, 7 Blade",Available
>
> And Bindy handles this scenario.
>
> The issue is that the second field also has a double quote (to represent
> inches) that needs to be escaped (escaping a double quote in CSV requires 2
> double quotes) in order to be stored as a double quote:
> 345,"1971-79 Fan Blade 19-1/2""",Available
>
> Bindy also handles this scenario.
>
> However, when both an escaped double quote and a comma are present within a
> double quote wrapped field, this is when the parsing breaks:
> 345,"1971-79 Fan Blade 19-1/2"", 7 Blade",Available
>
> This is what I believe to be a bug.
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Parsing-issue-with-unmarshal-and-bindy-csv-with-double-quotes-and-commas-in-a-single-field-tp5797871p5798199.html
> Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65410-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 25 20:08:33 2017
Return-Path: <users-return-65410-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3371719C30
	for <apmail-camel-users-archive@www.apache.org>; Tue, 25 Apr 2017 20:08:33 +0000 (UTC)
Received: (qmail 16325 invoked by uid 500); 25 Apr 2017 20:08:32 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 16273 invoked by uid 500); 25 Apr 2017 20:08:32 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 16261 invoked by uid 99); 25 Apr 2017 20:08:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Apr 2017 20:08:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id F27391B0386
	for <users@camel.apache.org>; Tue, 25 Apr 2017 20:08:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id eG_cXg3qLFuQ for <users@camel.apache.org>;
	Tue, 25 Apr 2017 20:08:29 +0000 (UTC)
Received: from mail-lf0-f47.google.com (mail-lf0-f47.google.com [209.85.215.47])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 241875FC84
	for <users@camel.apache.org>; Tue, 25 Apr 2017 20:08:29 +0000 (UTC)
Received: by mail-lf0-f47.google.com with SMTP id 88so96978887lfr.0
        for <users@camel.apache.org>; Tue, 25 Apr 2017 13:08:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=tZxR5ADR/f1zFqMBMmIBudsiyWEqIiWWmrPV4CR/xLE=;
        b=VMR/aSu4o3uCkQFqO9Ls8P+da3ElLh0/pz0GGWJL5MtKf+ERcGCw3qnPZdLiZZAPDq
         p4FyYJ/D12nyfHA1ZDCo6pX99U1U8Pkjs0lkVWA55OoOi4pn4qRPvBn5h3+GlOxt4GOB
         1WEAKWTR+YzdJMhBvnb0WxEJ+H8QzRRmJgiw6qJefZ3vU+Dl0Dtiz8Wew4zlYJ9SdG0t
         jrC6F+ZncZE32iJJHlkFtm2wXylcNeqnD2cuhiIVrqNmKWkZAjDyniZx/0+lGoM9kBWR
         +bJYgnylWLBZZYhdt31DBcEP9/DcuClb9UbTh6TIMxHKNT2yLq6uP8Cd9GVe6hbPh9HS
         8Wqg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=tZxR5ADR/f1zFqMBMmIBudsiyWEqIiWWmrPV4CR/xLE=;
        b=n2IPy3OxEVFMtZ66ZnHR47va/JHZQFvmOBJ/NdaBAnLFZQgcuKwXyLYqbO0Z0OrJh0
         I90XSZHAzrFZJhSQhUAvgREoYIqmwappmAJbcuK+oZeE28oCaKHVLCvyYIXhjB4T913/
         wUAUbyeXRvn857i91WyRh8Naa+oCrDbzuePou4HUVR0Zwpny1B9GAQPZ38YTDnx5YY/2
         HffTco0E418BO3OInT5khul//gaDJnHPfq9ted7lqSR1XQdlRFOSKNDnwUguvyHmIF5P
         NGwbQPfWRRUp106+yr+d0HVj+yoTpF6X0s4P/2gYBtW3b+wBj/USRbsenG+2CNYS3rNS
         maOw==
X-Gm-Message-State: AN3rC/7KNw3qXdwbCpi9d3MXRDl9+8w+37Y35N4mg3HtHmcvRX2RiHjZ
	UsbWG2OUBaA03OXIlrVQICosDxDXHg==
X-Received: by 10.25.100.5 with SMTP id y5mr10860082lfb.58.1493150907713; Tue,
 25 Apr 2017 13:08:27 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.25.19.213 with HTTP; Tue, 25 Apr 2017 13:08:06 -0700 (PDT)
From: Moshe Recanati <re.moshe@gmail.com>
Date: Tue, 25 Apr 2017 23:08:06 +0300
Message-ID: <CA+hKCHOJXUngtXcrnSRF4RuGbAAEooW-BK4Vc3iyoyGox815fQ@mail.gmail.com>
Subject: Using stream resequencer with Custom comparator
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=f403045e994e7352c7054e0349f0

--f403045e994e7352c7054e0349f0
Content-Type: text/plain; charset=UTF-8

Hi,
I'm using stream resequencer with custom comparator.
I'm having issue that some of the elements compared return 0 as they are
equal in terms of sorting but different in content level.
This cause a situation that these elements not pushed to the consumer.
I tried to add timestamp to the elements and take this as the compare in
case it's equal but than the queue entered into endless loop.
Are you familiar with this situation? Anything that I can do to solve it?

I know there is batch option of resequencer however I don't know how to
implement custom comparator for this use case. Can you help with this?

Below you can find short snipplet from my code:

Thank you in advance,
Moshe


*Configure*
*context.addComponent("activemq",*
*
ActiveMQComponent.activeMQComponent("vm://localhost?broker.persistent=false"));*
* context.addRoutes(new RouteBuilder() {*
* @Override*
* public void configure() throws Exception {*
* // START SNIPPET: e1*
* from("activemq:queue:test.queue")*

*
.resequence(header("seqno")).stream().timeout(50000).capacity(10).comparator(comparator)*
* // END SNIPPET: e1*
* }*
* });*

*Comperator*
*public int compare(Exchange arg0, Exchange arg1) {*

* ICM icmA = (ICM) arg0.getIn().getBody();*
* ICM icmB = (ICM) arg1.getIn().getBody();*

* List<ICM> icmsA;*
* List<ICM> icmsB;*
* if (icmRepository != null) {*
* icmsA =
icmRepository.findByProspectIDAndIcmStatus(icmA.getProspect().get_id(), 1);*
* icmsB =
icmRepository.findByProspectIDAndIcmStatus(icmB.getProspect().get_id(), 1);*
* }*
* else*
* {*
* icmsA = new ArrayList<ICM>();*
* icmsA.add(icmA);*
* icmsB = new ArrayList<ICM>();*
* icmsB.add(icmB);*
* }*
* int icmATime = (int) (icmA.getTimeStamp() / 1000);*
* int icmBTime = (int) (icmB.getTimeStamp() / 1000) + 1;*
* int ICMA = calculateValue(icmsA)/* * 10000 + icmATime */;*
* int ICMB = calculateValue(icmsB)/* * 10000 + icmBTime */;*

* int compare = ICMB - ICMA;*

* /**
* * if (compare == 0 && icmA != icmB) { compare = (int) i++; }*
* */*

* System.out.println("^^^^^^^^comparing messages " + icmA + " .... " + icmB
+ " result= ICMA - " + ICMA*
* + " ICMB - " + ICMB + " total - " + compare);*
* return compare;*
*}*

--f403045e994e7352c7054e0349f0--

From users-return-65411-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 25 20:51:35 2017
Return-Path: <users-return-65411-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D483E19ED3
	for <apmail-camel-users-archive@www.apache.org>; Tue, 25 Apr 2017 20:51:35 +0000 (UTC)
Received: (qmail 10768 invoked by uid 500); 25 Apr 2017 20:51:35 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 10699 invoked by uid 500); 25 Apr 2017 20:51:33 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 10658 invoked by uid 99); 25 Apr 2017 20:51:33 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Apr 2017 20:51:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 0B7ACC1A2C
	for <users@camel.apache.org>; Tue, 25 Apr 2017 20:51:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.487
X-Spam-Level: ***
X-Spam-Status: No, score=3.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 9sKO1svLGKNE for <users@camel.apache.org>;
	Tue, 25 Apr 2017 20:51:31 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id EE6F15FB86
	for <users@camel.apache.org>; Tue, 25 Apr 2017 20:51:30 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 2DEC53CB3D23C
	for <users@camel.apache.org>; Tue, 25 Apr 2017 13:51:30 -0700 (MST)
Date: Tue, 25 Apr 2017 13:51:30 -0700 (MST)
From: imranrazakhan <imranrazakhan@gmail.com>
To: users@camel.apache.org
Message-ID: <1493153490183-5798274.post@n5.nabble.com>
Subject: Unable to convert value
 org.mybatis.spring.SqlSessionFactoryBean@3de15b24 to type
 org.apache.ibatis.session.SqlSessionFactory
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

I am configuring Apache Camel MyBatis route in Jboss Fuse, but getting error

"Unable to convert value org.mybatis.spring.SqlSessionFactoryBean@3de15b24
to type org.apache.ibatis.session.SqlSessionFactory"

I verified only camel-mybatis is installed in jboss, it look like it still
expecting old ibatis

My Config:
<bean id="sqlSessionFactory"
class="org.mybatis.spring.SqlSessionFactoryBean">
        <property name="dataSource" ref="mySqlDS"/>
        <property name="configLocation" ref="mybatisConfig"/>
        <property name="mapperLocations">
        	<array value-type="org.springframework.core.io.Resource">
        	<bean class="org.springframework.core.io.ClassPathResource">
        		<argument value="xyz.xml" />
        	</bean>
        	</array>
       	</property>
    </bean>

    <bean id="mybatis"
class="org.apache.camel.component.mybatis.MyBatisComponent">
        <property name="sqlSessionFactory" ref="sqlSessionFactory"/>
    </bean>





--
View this message in context: http://camel.465427.n5.nabble.com/Unable-to-convert-value-org-mybatis-spring-SqlSessionFactoryBean-3de15b24-to-type-org-apache-ibatis-y-tp5798274.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65412-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Tue Apr 25 23:40:08 2017
Return-Path: <users-return-65412-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 428ED188C7
	for <apmail-camel-users-archive@www.apache.org>; Tue, 25 Apr 2017 23:40:08 +0000 (UTC)
Received: (qmail 67920 invoked by uid 500); 25 Apr 2017 23:40:07 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 67870 invoked by uid 500); 25 Apr 2017 23:40:07 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 67858 invoked by uid 99); 25 Apr 2017 23:40:07 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Apr 2017 23:40:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A5135CEA0E
	for <users@camel.apache.org>; Tue, 25 Apr 2017 23:40:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.917
X-Spam-Level:
X-Spam-Status: No, score=0.917 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id kwq8mBMFIkm0 for <users@camel.apache.org>;
	Tue, 25 Apr 2017 23:40:04 +0000 (UTC)
Received: from mail-qk0-f172.google.com (mail-qk0-f172.google.com [209.85.220.172])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id EAA2F5FAC9
	for <users@camel.apache.org>; Tue, 25 Apr 2017 23:40:03 +0000 (UTC)
Received: by mail-qk0-f172.google.com with SMTP id h123so73513507qke.0
        for <users@camel.apache.org>; Tue, 25 Apr 2017 16:40:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=lZlsHEtxcHwNrW2tog6WjJII95masvbo6MO2GXHjJf4=;
        b=kGZYyBUBjOFjWzZU7R/SfJJAn9SmEecT24SFFXWGpMBOOvsTLW4zIknj5oZaUZBkU3
         s3mjMo8x9YzUl43WwNa6DK3Pbo/zp+6bf/rlXXhAsWCk4OsOKQ1RSOeS4K/MIt9lesb5
         XXA6we8OjRan4SL9Am1HsudXpgTXEmM50suYUoX0MfuCl6LVquQeXTSnOMUjYkDNxP/u
         hCcuZJRqNdHxm7z9G+AjC03kDlJA6/82l6DM5gDpjYUuTuJ9yfiQgf/tn2a3XqzeEtnG
         A+idUiFQyv6tk6zUq8K7l7FSoX5rO6jQMd+/LwZFQS6k6Sznl+HG7YThTgDk5ZUZPlCI
         7iGA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=lZlsHEtxcHwNrW2tog6WjJII95masvbo6MO2GXHjJf4=;
        b=MolK1ufu7oIZjFz6sPFwISnl2jRaD30vo7GAAgbeX+39yXD0+FleFeFh/1jThYwNUl
         gakabb+TnAnFZzHHd8Z0l7/uB4+fOBqx1UVXKjF3AP4b/W90MBZVPOZ7caaM3lR7J44l
         E19qiOgv8DG0llpbQDnWksP2edmc+mSOR4hSGdCaDgw9Ty28rI4RfegNLVEIAnfZypZ2
         eCTtiG0JPcLsS44rP4qJQBGUPnHM3g4MG5hiXdD6/LTawZgtOFGn1tKRjxq6L+S13Kxb
         mRow92fcDFFM2VBsnXxetUc7zsAc+6ImiWds4C4dSKU/7Fj70YiJK8ZQvD1tSFrppV+F
         pZ8A==
X-Gm-Message-State: AN3rC/5AalkM0CfKE98DjptEqjSsIbIRW6cwIhxJviKzfdXtSpMrLqND
	taGa/T6mHqtve7hEFoRHSaOwZWPnDkAl
X-Received: by 10.55.160.214 with SMTP id j205mr16595472qke.119.1493163602861;
 Tue, 25 Apr 2017 16:40:02 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.12.179.215 with HTTP; Tue, 25 Apr 2017 16:40:02 -0700 (PDT)
In-Reply-To: <1493129444364-5798257.post@n5.nabble.com>
References: <1493129444364-5798257.post@n5.nabble.com>
From: Mark Nuttall <mknuttall@gmail.com>
Date: Tue, 25 Apr 2017 19:40:02 -0400
Message-ID: <CAMhV9p4Jr-FfU5O1WZdPLL8pJ3gnxKu0PrB5mP-qZcSAN8F2dA@mail.gmail.com>
Subject: Re: Audit Database with Apache Camel
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a114fa5f423e571054e063edb

--001a114fa5f423e571054e063edb
Content-Type: text/plain; charset=UTF-8

If you use  Hibernate (or Spring JPA with Hibernate (as the provider) with
Camel there is Hibernate Envers for RDBMS. Spring also provides "auditing"
for web calls too. I don't spend any time with anything else so I am not
sure but I have not run across anything.

On Tue, Apr 25, 2017 at 10:10 AM, andcrow <andcrow25@gmail.com> wrote:

> Still in this battle, because the *"WINTER IS COMING"*... lol hehehe
>
> Does Apache Camel have any component that can perform auditing on a
> database? Or audit records that will be sent to a web service using a JSON
> file?
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.
> com/Audit-Database-with-Apache-Camel-tp5798257.html
> Sent from the Camel - Users mailing list archive at Nabble.com.
>

--001a114fa5f423e571054e063edb--

From users-return-65413-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 00:41:23 2017
Return-Path: <users-return-65413-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8B2B618C49
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 00:41:23 +0000 (UTC)
Received: (qmail 82968 invoked by uid 500); 26 Apr 2017 00:41:22 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 82914 invoked by uid 500); 26 Apr 2017 00:41:22 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 82903 invoked by uid 99); 26 Apr 2017 00:41:21 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 00:41:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 63D56188C43
	for <users@camel.apache.org>; Wed, 26 Apr 2017 00:41:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.233
X-Spam-Level: **
X-Spam-Status: No, score=2.233 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_FAIL=0.919,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id EdPOH5jpEoju for <users@camel.apache.org>;
	Wed, 26 Apr 2017 00:41:17 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 04D585FC57
	for <users@camel.apache.org>; Wed, 26 Apr 2017 00:41:17 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 58A033CBE19C3
	for <users@camel.apache.org>; Tue, 25 Apr 2017 17:41:15 -0700 (MST)
Date: Tue, 25 Apr 2017 17:41:15 -0700 (MST)
From: sadiq <sadiq.manji@sap.com>
To: users@camel.apache.org
Message-ID: <1493167275299-5798278.post@n5.nabble.com>
In-Reply-To: <CADL1oArVc1GFYuZL+Hx+7BkB+Pz2Rj_pQBqB0LpvZ1mcjbDM7g@mail.gmail.com>
References: <1492578616894-5797871.post@n5.nabble.com> <CA+wbgs09A4uxitoqjZPEYfUyVOwPJLMSm69ivi3DOkFd-kiYGA@mail.gmail.com> <1493049895912-5798199.post@n5.nabble.com> <CADL1oArVc1GFYuZL+Hx+7BkB+Pz2Rj_pQBqB0LpvZ1mcjbDM7g@mail.gmail.com>
Subject: Re: Parsing issue with unmarshal and bindy.csv with double quotes
 and commas in a single field
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi Gregor,

I'd be happy to do so; however, I have not created a unit test before in
order to be able to attach one.

Can you share an example and I can try to create it?

Thanks!
Sadiq



--
View this message in context: http://camel.465427.n5.nabble.com/Parsing-issue-with-unmarshal-and-bindy-csv-with-double-quotes-and-commas-in-a-single-field-tp5797871p5798278.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65414-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 04:18:34 2017
Return-Path: <users-return-65414-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1E54D194B4
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 04:18:34 +0000 (UTC)
Received: (qmail 81104 invoked by uid 500); 26 Apr 2017 04:18:33 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 81043 invoked by uid 500); 26 Apr 2017 04:18:33 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 81031 invoked by uid 99); 26 Apr 2017 04:18:33 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 04:18:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id CEC62C18AA
	for <users@camel.apache.org>; Wed, 26 Apr 2017 04:18:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.584
X-Spam-Level:
X-Spam-Status: No, score=-1.584 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RMd_SMCXdnic for <users@camel.apache.org>;
	Wed, 26 Apr 2017 04:18:31 +0000 (UTC)
Received: from mail-pf0-f170.google.com (mail-pf0-f170.google.com [209.85.192.170])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 88C7A5FBE5
	for <users@camel.apache.org>; Wed, 26 Apr 2017 04:18:30 +0000 (UTC)
Received: by mail-pf0-f170.google.com with SMTP id v14so32253109pfd.2
        for <users@camel.apache.org>; Tue, 25 Apr 2017 21:18:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-language:content-transfer-encoding;
        bh=BJ08WFFPNzVV4t8N5TeiSc47Jqv9GFcU22pJ/P0Isa0=;
        b=Ud3JlcThkNwrCepLlT1yo5SJ8VB025VgY3k4eS3R+VLpB7271GXslxP3eXlgEl3jjb
         6OMWb5IhHZIdAF07s531JGJfahhj3AUahhk8oYXzJMbA9zQ9/8O7rYpySNpUDtrR5jeE
         PtWc4/uOunRdmSDBosFsuX0w1wFqJgQSXmTWgUQM9G/wl+VYTGONhtxOLa/mbxeQ35cW
         Bqo9Q84bXcWKFyeasX4Ss4D48elYqZxonRPj+V5IDef56OqZa/2qvbNhN47mYLql+3V2
         8pXimTK7qU7vk5YGyme8xw8Gx44wdd/BOfDQieT/YStjGyZJySQ+/RlIKm2EmPzxkIW0
         936w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-language
         :content-transfer-encoding;
        bh=BJ08WFFPNzVV4t8N5TeiSc47Jqv9GFcU22pJ/P0Isa0=;
        b=LeJ8vGRoIXt9tJB4UpgdnZWkmClJfs0NTQjXKCvT2rNJeKR6NZKcvqjuhK6hmgiRsG
         7Bubp14zUbCY5CK7yt2uZO6BAqDUlM6hi7rbFOuksrNrATOqDG30pM4U+0qvNqHCEQMA
         ZlhZ3XNaPqB0TTpCaiPhXbL1LXl1yfKHraNnSXEhmQ8+IIh4EKC2EgEna1KmDqLQF2od
         e3JsgByPyi4RdvlLvMcnNNi0uWtNmwDVL/xRnbG5NxThE1wFn2C0Yz4QABU/ISQeQLvx
         e2fnL8mfrfE89dKh3uKO2Za6brlOuwNsKbWad8h552DeC9/a4AazbBXcSm0oSYfvCEn3
         T/6g==
X-Gm-Message-State: AN3rC/6UT7uP6QOnsARGDqTVWB8F+gPf1pkZQB14r8t5Xo0zBePu9amK
	/67O+cqlLkE0C09c
X-Received: by 10.99.106.5 with SMTP id f5mr12447008pgc.66.1493180308790;
        Tue, 25 Apr 2017 21:18:28 -0700 (PDT)
Received: from [192.168.12.56] (p539221-ipngn6101funabasi.chiba.ocn.ne.jp. [219.160.150.221])
        by smtp.googlemail.com with ESMTPSA id l7sm39191248pgn.10.2017.04.25.21.18.27
        for <users@camel.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 25 Apr 2017 21:18:28 -0700 (PDT)
Subject: Re: Camel HTTP: I/O exception (java.net.SocketException) caught when
 processing request: Too many open files
To: users@camel.apache.org
References: <1493148220096-5798262.post@n5.nabble.com>
From: Tomohisa Igarashi <tm.igarashi@gmail.com>
Message-ID: <ce19c59c-148a-5c9d-781f-c810dfc1d36f@gmail.com>
Date: Wed, 26 Apr 2017 13:18:26 +0900
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101
 Thunderbird/52.0
MIME-Version: 1.0
In-Reply-To: <1493148220096-5798262.post@n5.nabble.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Language: en-US
Content-Transfer-Encoding: 7bit

Hi,

I would increase nofile (ulimit -n) and see if it works.

And the first thing I always do after clean install is to put 65535 as a nofile and noproc limit in /etc/security/limits.conf:
# I'm on Fedora

Thanks,
Tomo


On 04/26/2017 04:23 AM, urwithsumit wrote:
> Hi,
> I have a rest API exposed using camel Jetty. The api makes call to another
> API to fetch some data.
> Intermittently, we are getting exception "I/O exception
> (java.net.SocketException) caught when processing request: Too many open
> files". The number of connections is well below the default Unix uLimit of
> 1024. I am using Camel 2.18.2. Any pointers to solve this problem?
> 
> 2017-04-25T09:19:11,341  INFO [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpMethodDirector: Retrying request
> 2017-04-25T09:19:11,341 DEBUG [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpConnection: Open connection to XXXXXXX
> 2017-04-25T09:19:11,341 DEBUG [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpMethodDirector: Closing the connection.
> 2017-04-25T09:19:11,341  INFO [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpMethodDirector: I/O exception
> (java.net.SocketException) caught when processing request: Too many open
> files
> 2017-04-25T09:19:11,341  INFO [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpMethodDirector: Retrying request
> 2017-04-25T09:19:11,341 DEBUG [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpConnection: Open connection to
> p1dn-id-vs:8080
> 2017-04-25T09:19:11,341 DEBUG [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpMethodDirector: Closing the connection.
> 2017-04-25T09:19:11,341  INFO [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpMethodDirector: I/O exception
> (java.net.SocketException) caught when processing request: Too many open
> files
> 2017-04-25T09:19:11,342  INFO [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpMethodDirector: Retrying request
> 2017-04-25T09:19:11,342 DEBUG [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpConnection: Open connection to XXXXXXX
> 2017-04-25T09:19:11,342 DEBUG [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpMethodDirector: Closing the connection.
> 2017-04-25T09:19:11,342 DEBUG [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpMethodDirector: Method retry handler
> returned false. Automatic recovery will not be attempted
> 2017-04-25T09:19:11,342 DEBUG [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.HttpConnection: Releasing connection back to
> connection manager.
> 2017-04-25T09:19:11,342 DEBUG [qtp1005845925-25 - /check_dnc_media]
> org.apache.commons.httpclient.MultiThreadedHttpConnectionManager: Freeing
> connection, hostConfig=HostConfiguration[host=http: XXXXXX
> 
> 
> Route definition:
> <camel:route id="dnc_webget_route">
> 			<from uri="jetty:{{dnc.dmz.service.address}}/check_dnc_media" />
> 
> 			<camel:removeHeaders pattern="CamelHttp*" />
> 			<camel:setHeader headerName="CamelHttpMethod">
> 				<camel:constant>GET</camel:constant>
> 			</camel:setHeader>
> 			<camel:setHeader headerName="Content-Type">
> 				<camel:constant>application/json</camel:constant>
> 			</camel:setHeader>
> 
> 			<camel:enrich>
> 				<camel:simple>
> 					{{dnc.api.url}}?throwExceptionOnFailure=false
> 				</camel:simple>
> 			</camel:enrich>
> 
> 			<camel:unmarshal ref="succ_resp" />
> 			<camel:process ref="dncResponseProcessor" />
> 			<camel:process ref="webgetResponseProcessor" />
> 			<camel:onException id="camel_OnException">
> 				<camel:exception>java.net.ConnectException</camel:exception>
> 				<camel:exception>java.lang.Throwable</camel:exception>
> 				<camel:handled>
> 					<constant>true</constant>
> 				</camel:handled>
> 				<camel:process ref="webGetExceptionProcessor"
> id="webGetExceptionProcessor" />
> 			</camel:onException>
> 		</camel:route>
> 
> 
> 
> --
> View this message in context: http://camel.465427.n5.nabble.com/Camel-HTTP-I-O-exception-java-net-SocketException-caught-when-processing-request-Too-many-open-files-tp5798262.html
> Sent from the Camel - Users mailing list archive at Nabble.com.
> 

From users-return-65415-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 04:19:27 2017
Return-Path: <users-return-65415-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA961194B8
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 04:19:27 +0000 (UTC)
Received: (qmail 82295 invoked by uid 500); 26 Apr 2017 04:19:27 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 82243 invoked by uid 500); 26 Apr 2017 04:19:27 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 82231 invoked by uid 99); 26 Apr 2017 04:19:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 04:19:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B446FC17FD
	for <users@camel.apache.org>; Wed, 26 Apr 2017 04:19:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.084
X-Spam-Level:
X-Spam-Status: No, score=-1.084 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id MGAJ0EBDFMM6 for <users@camel.apache.org>;
	Wed, 26 Apr 2017 04:19:26 +0000 (UTC)
Received: from mail-pg0-f43.google.com (mail-pg0-f43.google.com [74.125.83.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id A5F475F20C
	for <users@camel.apache.org>; Wed, 26 Apr 2017 04:19:25 +0000 (UTC)
Received: by mail-pg0-f43.google.com with SMTP id v1so26337215pgv.1
        for <users@camel.apache.org>; Tue, 25 Apr 2017 21:19:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-language:content-transfer-encoding;
        bh=QQ4S4wuDLD0h1CLgIy07tbDVlH0uzNPEIvcWQwUJPYY=;
        b=Tm03TW9BxELoEUWcylDHDJVNuUmZqDVVqW1zgHNmd4vk0sq6rlWpPNAefO6/NeG9Qx
         q92hAqKxcvIN5Dlauz8ofGWSl6wmw17eHe0eev4wWi6scRs0lirxfaf3Q/9FRKbwC6fi
         baE8MuxUG/xzV/phNhNP0GQldkxRMNyL91vn1XmdniKGZ/eSX+pRcYWZ51q6Qi52Q3+J
         dB3nAVKNoVdheEjaLYonZ8fA23S4prv/zhPmHyhXfaYoirp3hxzb8ENSm5t2eTbjmHuu
         LzK22tyWlR6Lgo2ch7jl2ftS07xeX+rbCjV7ES5FGK+3+oWKQdT6k/xT9BOjONP6KFAB
         +j9Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-language
         :content-transfer-encoding;
        bh=QQ4S4wuDLD0h1CLgIy07tbDVlH0uzNPEIvcWQwUJPYY=;
        b=XdkIEG8EfPyKo2x2+6Qtew9KMgtw4uy81voMcTwSUaZmXfLozM2lxfuGjexd3Wcter
         /+nB6Spu5GqhyQyRAtAUIo0huB2l92ihS68YzasiKxbfCxqFlMv6yEWTXKjNYCd5h9Qg
         mPYJaokim2qWLjbUPaA2+yQeN+ldX1OoJtbfJejcpP+pUgZRT/MwGFcXsICq8/vys5Rx
         KLKRK1SwRa5JmT8o3VxfUvhp3P9PtlDNbDuyPY4p/YFhS1fbmZSRPCbq0P5rUsXmQ1QQ
         Ex/CWyIbcT83oDySXiU8cdnCnpKlcPMa3O45edb/G2Yp/Cjqt/HpY2Gg7Cn6ynRfK5lO
         yEcQ==
X-Gm-Message-State: AN3rC/6ScIRzh7YXERYqXvnQPKl/SPk9lhwdZnJTHN//dDwpvii2Wwfu
	M+Z8Iu/fwY5Z4CNw
X-Received: by 10.99.99.2 with SMTP id x2mr29643699pgb.46.1493180359105;
        Tue, 25 Apr 2017 21:19:19 -0700 (PDT)
Received: from [192.168.12.56] (p539221-ipngn6101funabasi.chiba.ocn.ne.jp. [219.160.150.221])
        by smtp.googlemail.com with ESMTPSA id m3sm39289365pgn.30.2017.04.25.21.19.17
        for <users@camel.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 25 Apr 2017 21:19:18 -0700 (PDT)
Subject: Re: Unable to convert value
 org.mybatis.spring.SqlSessionFactoryBean@3de15b24 to type
 org.apache.ibatis.session.SqlSessionFactory
To: users@camel.apache.org
References: <1493153490183-5798274.post@n5.nabble.com>
From: Tomohisa Igarashi <tm.igarashi@gmail.com>
Message-ID: <ee20e15d-ab3d-fa5c-3e0b-ae1590840119@gmail.com>
Date: Wed, 26 Apr 2017 13:19:16 +0900
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101
 Thunderbird/52.0
MIME-Version: 1.0
In-Reply-To: <1493153490183-5798274.post@n5.nabble.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Language: en-US
Content-Transfer-Encoding: 7bit

Hi,

You need to ask Red Hat support about Red Hat product.

BTW found a related topic
http://camel.465427.n5.nabble.com/blueprint-myBatis-transactions-td5764629.html

Thanks,
Tomo


On 04/26/2017 05:51 AM, imranrazakhan wrote:
> Hi,
> 
> I am configuring Apache Camel MyBatis route in Jboss Fuse, but getting error
> 
> "Unable to convert value org.mybatis.spring.SqlSessionFactoryBean@3de15b24
> to type org.apache.ibatis.session.SqlSessionFactory"
> 
> I verified only camel-mybatis is installed in jboss, it look like it still
> expecting old ibatis
> 
> My Config:
> <bean id="sqlSessionFactory"
> class="org.mybatis.spring.SqlSessionFactoryBean">
>          <property name="dataSource" ref="mySqlDS"/>
>          <property name="configLocation" ref="mybatisConfig"/>
>          <property name="mapperLocations">
>          	<array value-type="org.springframework.core.io.Resource">
>          	<bean class="org.springframework.core.io.ClassPathResource">
>          		<argument value="xyz.xml" />
>          	</bean>
>          	</array>
>         	</property>
>      </bean>
> 
>      <bean id="mybatis"
> class="org.apache.camel.component.mybatis.MyBatisComponent">
>          <property name="sqlSessionFactory" ref="sqlSessionFactory"/>
>      </bean>
> 
> 
> 
> 
> 
> --
> View this message in context: http://camel.465427.n5.nabble.com/Unable-to-convert-value-org-mybatis-spring-SqlSessionFactoryBean-3de15b24-to-type-org-apache-ibatis-y-tp5798274.html
> Sent from the Camel - Users mailing list archive at Nabble.com.
> 

From users-return-65416-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 06:59:08 2017
Return-Path: <users-return-65416-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7BA8919937
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 06:59:08 +0000 (UTC)
Received: (qmail 96353 invoked by uid 500); 26 Apr 2017 06:59:08 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 96305 invoked by uid 500); 26 Apr 2017 06:59:08 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 74207 invoked by uid 99); 25 Apr 2017 23:44:39 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.314
X-Spam-Level: **
X-Spam-Status: No, score=2.314 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Date: Tue, 25 Apr 2017 16:44:37 -0700 (MST)
From: Tim Jones <tim.jones@mccarthy.co.nz>
To: users@camel.apache.org
Message-ID: <1493163877483-5798277.post@n5.nabble.com>
Subject: Spring Remoting with JMS >V2.16 issue with binding to correct
 method
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

We use Spring remoting with JMS (Camel V2.15.4) to proxy our calls between
Swing clients and a Karaf server. From 2.16.x there appears to be an issue
with binding to the correct method. This can fairly easily be reproduced by
modifying the examples in spring-example-spring-jms and adding an additional
method to the Multiplier interface and implemented Treble class e.g. int
multiplyAgain(int originalNumber); The  CamelClientRemoting client and
SpringJmsClientRemotingServerTest test fail. It seems that there is an issue
introduced after 2.16 (I also tested against 2.18.3) perhaps in the binding
logic. Can anyone confirm whether they have experienced the same issue?



--
View this message in context: http://camel.465427.n5.nabble.com/Spring-Remoting-with-JMS-V2-16-issue-with-binding-to-correct-method-tp5798277.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65417-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 07:00:47 2017
Return-Path: <users-return-65417-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 586F51994E
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 07:00:47 +0000 (UTC)
Received: (qmail 2565 invoked by uid 500); 26 Apr 2017 07:00:46 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 2521 invoked by uid 500); 26 Apr 2017 07:00:46 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 81237 invoked by uid 99); 26 Apr 2017 05:41:13 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Tue, 25 Apr 2017 22:41:10 -0700 (MST)
From: "srinivas.indali" <srini.indali@gmail.com>
To: users@camel.apache.org
Message-ID: <1493185270056-5798288.post@n5.nabble.com>
Subject: After Camel 2.16, absolute paths will be invalid
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi All,

We are currently using Camle 2.12.3, we have been used absolute paths in the
code base, now we are upgrading to camel 2.16.3, because of absolute paths
converting to relative paths in Camel 2.16.3 we are facing issues, is there
any way that we can force camel to use absolute paths. or any quick work
around.

Thanks and Regards,
Srinivas.

 



--
View this message in context: http://camel.465427.n5.nabble.com/After-Camel-2-16-absolute-paths-will-be-invalid-tp5798288.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65418-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 07:01:59 2017
Return-Path: <users-return-65418-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A450719954
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 07:01:59 +0000 (UTC)
Received: (qmail 6105 invoked by uid 500); 26 Apr 2017 07:01:59 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 6060 invoked by uid 500); 26 Apr 2017 07:01:59 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 25882 invoked by uid 99); 26 Apr 2017 06:16:13 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.736
X-Spam-Level: ***
X-Spam-Status: No, score=3.736 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FREEMAIL_ENVFROM_END_DIGIT=0.25,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Date: Tue, 25 Apr 2017 23:16:11 -0700 (MST)
From: Arunit <arunit79@gmail.com>
To: users@camel.apache.org
Message-ID: <1493187371341-5798289.post@n5.nabble.com>
In-Reply-To: <1380646327629-5740706.post@n5.nabble.com>
References: <1380646327629-5740706.post@n5.nabble.com>
Subject: Re: Camel + myBatis Issue
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

hi everyone,
                  using mybatis component  for read xml file to insert in
mysql. I dono any idea but clearly understood the flow of mybatis but 
facing problem. any body guide ME



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-myBatis-Issue-tp5740706p5798289.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65419-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 07:18:42 2017
Return-Path: <users-return-65419-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F1FD019A40
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 07:18:42 +0000 (UTC)
Received: (qmail 49271 invoked by uid 500); 26 Apr 2017 07:18:42 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 49227 invoked by uid 500); 26 Apr 2017 07:18:42 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 49215 invoked by uid 99); 26 Apr 2017 07:18:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 07:18:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 885B7C4556
	for <users@camel.apache.org>; Wed, 26 Apr 2017 07:18:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.293
X-Spam-Level: *
X-Spam-Status: No, score=1.293 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key)
	header.d=list-zurowski-org.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id c0q8o6ThRLIz for <users@camel.apache.org>;
	Wed, 26 Apr 2017 07:18:38 +0000 (UTC)
Received: from mail-qt0-f173.google.com (mail-qt0-f173.google.com [209.85.216.173])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 4AA1261206
	for <users@camel.apache.org>; Wed, 26 Apr 2017 07:06:45 +0000 (UTC)
Received: by mail-qt0-f173.google.com with SMTP id g60so159199346qtd.3
        for <users@camel.apache.org>; Wed, 26 Apr 2017 00:06:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=list-zurowski-org.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=KXwYu4/FPznkBTb3ypnAGIIFPqO/aIrQunk2D5WKjVQ=;
        b=WEEcMCHT9arWQIJ2sqvvFrFx59bOJqBtfs8bWo25ns0k7f3f9KHV+8sjW3zaN4MLht
         SKRbp6pqgFXapOHlQW5Aponu6rVE8/3DVG2HlyPNvByFe5oYQnsUgyuvAqSm278PxP5X
         m7WQfFXN+vqNw2foHo+Ug9oj5NAKv0OsBh5SmqcXGxBvd5URtcF4y/TTHze0R/89ci5r
         yx/wzzdCNCFbncHHz4lTcntnGfwvKKnqZqe0RCTkA1wnv+gfyhfBkE9qlTqVQwIYL8Bc
         5FnGdxfnoOq28XB30izxCs4kTATDluoCfx2Bou0oFKaim53CTKNJbpAi0z3J/g1wjZLu
         /qSg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=KXwYu4/FPznkBTb3ypnAGIIFPqO/aIrQunk2D5WKjVQ=;
        b=fk8p1Lomdeu33tmIbV6ef1O/pElGCTY56GNSTTKzbgQ83GxrfBmlC47lBo69RjJfe4
         ky4cPadXL73F3yjGWIqGb2zlnxURe++OlQ9xdUzNDXRGrxCD1KuY385d9iv455GRvbFc
         fzd3X4GLLiGMbnyqhOR/vRkij6byW7TxKEvK/kmsDps4C7oP/LFN7+3ZMpNtz6AqkS58
         01y+x8CHQhNKYjHLPMpfLnFWdb9TNAHHL8SYP1TiicFo1xPf1fjp7yDppM9y2cGj6xSb
         bU4QtcvK6qs7y2Z9IxeXJelYQ+X5em7Uj1c5B+8W2bprNP+0vgrZJ2AwsMmOBO/VqFMe
         ujQA==
X-Gm-Message-State: AN3rC/6G17IB3YVbFMG6n/zOhIFj+7GGqdWSETTZY2vnBh3pl3ccMDp6
	OHNuFEDqDci1y0bpFx6rD7cGUuYN/s97
X-Received: by 10.200.45.122 with SMTP id o55mr35120046qta.203.1493190404661;
 Wed, 26 Apr 2017 00:06:44 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.140.95.14 with HTTP; Wed, 26 Apr 2017 00:06:04 -0700 (PDT)
X-Originating-IP: [193.110.103.43]
In-Reply-To: <1493167275299-5798278.post@n5.nabble.com>
References: <1492578616894-5797871.post@n5.nabble.com> <CA+wbgs09A4uxitoqjZPEYfUyVOwPJLMSm69ivi3DOkFd-kiYGA@mail.gmail.com>
 <1493049895912-5798199.post@n5.nabble.com> <CADL1oArVc1GFYuZL+Hx+7BkB+Pz2Rj_pQBqB0LpvZ1mcjbDM7g@mail.gmail.com>
 <1493167275299-5798278.post@n5.nabble.com>
From: Gregor Zurowski <gregor@list.zurowski.org>
Date: Wed, 26 Apr 2017 09:06:04 +0200
Message-ID: <CADL1oAr5OHO9a7+PnEoH+R5Uj2TfN2wk11va8uUB+wyi=N6M1g@mail.gmail.com>
Subject: Re: Parsing issue with unmarshal and bindy.csv with double quotes and
 commas in a single field
To: users@camel.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Sadiq,

A unit test would be ideal, so it can be included in the test suite
when the issue is addressed.  Take a look at the other tests that
already exist for camel-bindy:
https://github.com/apache/camel/tree/master/components/camel-bindy/src/test

If you have problems with coming up with a formal unit test, attaching
some code that demonstrates the issue should be sufficient.

Thanks,
Gregor


On Wed, Apr 26, 2017 at 2:41 AM, sadiq <sadiq.manji@sap.com> wrote:
> Hi Gregor,
>
> I'd be happy to do so; however, I have not created a unit test before in
> order to be able to attach one.
>
> Can you share an example and I can try to create it?
>
> Thanks!
> Sadiq
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Parsing-issue-with-unmarshal-and-bindy-csv-with-double-quotes-and-commas-in-a-single-field-tp5797871p5798278.html
> Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65420-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 07:19:37 2017
Return-Path: <users-return-65420-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 38AAF19A4E
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 07:19:37 +0000 (UTC)
Received: (qmail 53006 invoked by uid 500); 26 Apr 2017 07:19:36 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 52954 invoked by uid 500); 26 Apr 2017 07:19:36 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 52942 invoked by uid 99); 26 Apr 2017 07:19:36 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 07:19:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id EA157D16F0
	for <users@camel.apache.org>; Wed, 26 Apr 2017 07:19:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.692
X-Spam-Level: *
X-Spam-Status: No, score=1.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id KoYQBUBvtsvw for <users@camel.apache.org>;
	Wed, 26 Apr 2017 07:19:35 +0000 (UTC)
Received: from mail-qt0-f169.google.com (mail-qt0-f169.google.com [209.85.216.169])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 8BA2E5FB38
	for <users@camel.apache.org>; Wed, 26 Apr 2017 07:19:34 +0000 (UTC)
Received: by mail-qt0-f169.google.com with SMTP id g60so159381100qtd.3
        for <users@camel.apache.org>; Wed, 26 Apr 2017 00:19:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=7E32wh4EbsDsQOPbUsQxR1jKNnIORXkQLpRPMhxkd9k=;
        b=UlEZyAme4yKlHs1vzubIwFkU1brav2uuYB5SQA7VhCYM+yh3/vn0otnc4vpFCLw0h4
         6WS9TkjaNQ3u6It/YEH+pvKl6scX7G0TlXyTajfarZnzA5K4fQRGEWJVU/TpOgHZbIjG
         6iypn2Bb0DPY/cbAFpz/WVDCbRZr9xOcZcXKBjryp93JkHMxqizBM3sBzhTOwWoqT48h
         10sN+FEYSgjHft4Fn+pQdj0OvzDwZ1FNi5QMSzuodixSBa6D6362Fi59IXC+2QI8cqhV
         1pjW+ziMhdy5yd76TQFDQMw94eb4xSqARu37SgNFnMjYJnxb/CznGjMGALkTOzH6ixHC
         3WIA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=7E32wh4EbsDsQOPbUsQxR1jKNnIORXkQLpRPMhxkd9k=;
        b=g6OlgGqk+s7DHEDoq3WIgCmTx/Dy9eYxtBK54K6trxztHfBL/KWY3y4MtR4qO+mEVe
         aSBRCD2Zy84ESU5zZLwfZvp8j8h4FhO8fK3HxpYecF3F/08Slv6TcNiyltN6LW1XQUxp
         EZVhR8Zui93oA4oy7oJ1o/2FJEno2j0o5Q39lyWZwaW3JiiLI2J8YQKEnXAS3VI4TRQw
         odfXndAqvGVMD0XrS85ukx42JrNUf16xlwdNWBdOhNSySM72cIhhDARLCEW/L/umHI/i
         MK96XPL92TxGoRK2VpRoURI2AFUctSJi883/ekc+oS9OKVoV2k+VrX4SlIdrdBwmvzpK
         NjNg==
X-Gm-Message-State: AN3rC/48ag5+fXzOIA7mgu8t+7J1tgbD9PNa6KSQGcxUV/DPitrEA7Sf
	KR4HoeLmUO6WO7URTozsBWY5i0gb9ggP
X-Received: by 10.200.4.140 with SMTP id s12mr37142933qtg.35.1493191173364;
 Wed, 26 Apr 2017 00:19:33 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 26 Apr 2017 00:19:12 -0700 (PDT)
In-Reply-To: <1493163877483-5798277.post@n5.nabble.com>
References: <1493163877483-5798277.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 26 Apr 2017 09:19:12 +0200
Message-ID: <CAGB5yNnAzMmkG3GMp9kdtoZU9qTXTYBa5UjERHJZpcXQspnRNQ@mail.gmail.com>
Subject: Re: Spring Remoting with JMS >V2.16 issue with binding to correct method
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

See the release notes and the docs, there is some options you need to
turn on / off to have old behavior

On Wed, Apr 26, 2017 at 1:44 AM, Tim Jones <tim.jones@mccarthy.co.nz> wrote:
> We use Spring remoting with JMS (Camel V2.15.4) to proxy our calls between
> Swing clients and a Karaf server. From 2.16.x there appears to be an issue
> with binding to the correct method. This can fairly easily be reproduced by
> modifying the examples in spring-example-spring-jms and adding an additional
> method to the Multiplier interface and implemented Treble class e.g. int
> multiplyAgain(int originalNumber); The  CamelClientRemoting client and
> SpringJmsClientRemotingServerTest test fail. It seems that there is an issue
> introduced after 2.16 (I also tested against 2.18.3) perhaps in the binding
> logic. Can anyone confirm whether they have experienced the same issue?
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Spring-Remoting-with-JMS-V2-16-issue-with-binding-to-correct-method-tp5798277.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65421-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 09:59:29 2017
Return-Path: <users-return-65421-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7040418184
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 09:59:29 +0000 (UTC)
Received: (qmail 98329 invoked by uid 500); 26 Apr 2017 09:59:28 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 98284 invoked by uid 500); 26 Apr 2017 09:59:28 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 98273 invoked by uid 99); 26 Apr 2017 09:59:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 09:59:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 6FBFDC0787
	for <users@camel.apache.org>; Wed, 26 Apr 2017 09:59:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id aXWNhRW36hgg for <users@camel.apache.org>;
	Wed, 26 Apr 2017 09:59:25 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id CA6895F405
	for <users@camel.apache.org>; Wed, 26 Apr 2017 09:59:24 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 224A93CD77716
	for <users@camel.apache.org>; Wed, 26 Apr 2017 02:59:24 -0700 (MST)
Date: Wed, 26 Apr 2017 02:59:24 -0700 (MST)
From: gelawlor <ger.lawlor@gmail.com>
To: users@camel.apache.org
Message-ID: <1493200764130-5798307.post@n5.nabble.com>
Subject: Camel context NULL in derived class
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

I am implementing a Camel based connector service to ActiveMQ and the class
outline looks as follows:

public class ActiveMQCamelRouterService {
	
	private CamelContext camelContext;
    private ProducerTemplate camelTemplate;
	

	public ActiveMQCamelRouterService()
	{
		try 
		{
			CamelContext camelContext = new DefaultCamelContext();
		   	ActiveMQComponent queue =
ActiveMQComponent.activeMQComponent("tcp://localhost:61616?broker.persistent=false");
	        queue.setBrokerURL("tcp://localhost:61616");
	        camelContext.addComponent("activemq", queue); 
	        camelTemplate = camelContext.createProducerTemplate();       
	 }
		catch(...)
		{
		}
	}
	
    public void process(SOAPEnvelope req, SOAPEnvelope resp) throws
Exception {
		try
		{
			Node requestNode = getMessageNode(req);
			if(requestNode!=null)
	    	        {
				final String routeSource = "direct:activemq";
				final String routeDestination = "activemq:queue:testqueue";

				if( camelContext != null )
				{
					camelContext.addRoutes(new RouteBuilder() {		    
			            public void configure() throws Exception {
			                from(routeSource).to(routeDestination);
			            }
			        });

	            	camelContext.start();

	            	//need to understand how to shape message with headers to
activemq through camel
	            	camelTemplate.sendBody(routeSource, "This is a test message
from Camel");
            	}

	    	}
		}
		catch(...)
}

What I have noticed is that the Camel context is initialized in the
constructor but is NULL when the process method is called. I have tested
this code instantiating other objects in the constructor and can see they
are valid in the process method. Do you know if this is a known issue or
design feature of Camel ? Would this happen if somehow I got the mix of jars
(Camel, Camel-ActiveMQ and Spring) matched up incorrectly? 

Thanks,
Ger.



--
View this message in context: http://camel.465427.n5.nabble.com/Camel-context-NULL-in-derived-class-tp5798307.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65422-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 10:03:07 2017
Return-Path: <users-return-65422-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D5357181A6
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 10:03:06 +0000 (UTC)
Received: (qmail 5590 invoked by uid 500); 26 Apr 2017 10:03:06 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 5538 invoked by uid 500); 26 Apr 2017 10:03:06 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 5454 invoked by uid 99); 26 Apr 2017 10:03:06 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 10:03:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A1C11188C49
	for <users@camel.apache.org>; Wed, 26 Apr 2017 10:03:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.692
X-Spam-Level: *
X-Spam-Status: No, score=1.692 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id B7P2RA3LGqct for <users@camel.apache.org>;
	Wed, 26 Apr 2017 10:03:02 +0000 (UTC)
Received: from mail-qt0-f170.google.com (mail-qt0-f170.google.com [209.85.216.170])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id A15FB5FAFA
	for <users@camel.apache.org>; Wed, 26 Apr 2017 10:03:02 +0000 (UTC)
Received: by mail-qt0-f170.google.com with SMTP id y33so161634932qta.2
        for <users@camel.apache.org>; Wed, 26 Apr 2017 03:03:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=nKw/ZIRH2ccJDWLJ+pPGvUuW9LfGoyI3PbVQfyQx0fw=;
        b=IIKHZzUUV/AO+uWvUyhv7VfRepsoguH1AhOrIKJ+lp8rK1jUgMSc8z8l7D/ASMEBcn
         RcAFFvQGhXGUSrUI7/32JWLz9RwiBQg/z57LemLDr3lYo+uw/MRKznQcHfabYxn4e06L
         k61KdIY6rNkmV4MX4/KGiJQrX1PGPoFtg+8Zry3TmFZqvgYVF086MOoVobM1nUVMzCRT
         GTX61+S9b0isC6BU/R9dEvkkPyCnGUUZWCLogHgaSOzc0e3MwOrdvh7VqbOBk8R57tvX
         eQXqCeNdUX2DBx9zqaMuyw27P8TodW2ahS53fvJdAtakRY7Z7Ndaca4YLDQleLItgdDi
         ynGQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=nKw/ZIRH2ccJDWLJ+pPGvUuW9LfGoyI3PbVQfyQx0fw=;
        b=JXGDE4Dt1VSnm3AhxZJAya35oLSVwYDfDY2fyiKd5lOXlAZqco18E42f3lZ/qvDwzu
         4B/4XwlA2pULjz9QjyrWguefSu/odBGyYgQp7eiRb0dOtyKnwQ/IuLGtsKYvBwJ139bj
         ZNWsVm9U9EOIC3UbymuU+yNKmJKAdZa6HiM75mR5ZoJZ+R9H4hjHQATWc79s8fNZcrq8
         0Ry0yjpkWeqHBcv6AVs52JRfMUW0G5wXs1oKV9dOVexNvbwW4p9DrJnQmw8/0vV+78Yp
         CcBdjYyTd7ldG65xhOSAlRLNEnkTl8Nl0rAaz4gCoEEGXk7b9YsRNG0BsIkUimlFb9Bt
         B3uQ==
X-Gm-Message-State: AN3rC/7hJjlOwjS6gJ4Ed+KjcSZ4uQCUdfO+AnA9HK2Zv9W8T5qCt1WW
	EGV9SZ/tSB0lOAnqAmMIShYbGeahrLWz8yI=
X-Received: by 10.237.41.199 with SMTP id o65mr38732753qtd.239.1493200975868;
 Wed, 26 Apr 2017 03:02:55 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 26 Apr 2017 03:02:35 -0700 (PDT)
In-Reply-To: <1493200764130-5798307.post@n5.nabble.com>
References: <1493200764130-5798307.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 26 Apr 2017 12:02:35 +0200
Message-ID: <CAGB5yN=A=7S+93z7_YB7m3=yoQd0K3SAXJDoGct9pcqRhgi4Dg@mail.gmail.com>
Subject: Re: Camel context NULL in derived class
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi

That is because the ctr is creating a local instance, eg

 CamelContext camelContext = new DefaultCamelContext();

should be

 camelContext = new DefaultCamelContext();

On Wed, Apr 26, 2017 at 11:59 AM, gelawlor <ger.lawlor@gmail.com> wrote:
> Hi,
>
> I am implementing a Camel based connector service to ActiveMQ and the class
> outline looks as follows:
>
> public class ActiveMQCamelRouterService {
>
>         private CamelContext camelContext;
>     private ProducerTemplate camelTemplate;
>
>
>         public ActiveMQCamelRouterService()
>         {
>                 try
>                 {
>                         CamelContext camelContext = new DefaultCamelContext();
>                         ActiveMQComponent queue =
> ActiveMQComponent.activeMQComponent("tcp://localhost:61616?broker.persistent=false");
>                 queue.setBrokerURL("tcp://localhost:61616");
>                 camelContext.addComponent("activemq", queue);
>                 camelTemplate = camelContext.createProducerTemplate();
>          }
>                 catch(...)
>                 {
>                 }
>         }
>
>     public void process(SOAPEnvelope req, SOAPEnvelope resp) throws
> Exception {
>                 try
>                 {
>                         Node requestNode = getMessageNode(req);
>                         if(requestNode!=null)
>                         {
>                                 final String routeSource = "direct:activemq";
>                                 final String routeDestination = "activemq:queue:testqueue";
>
>                                 if( camelContext != null )
>                                 {
>                                         camelContext.addRoutes(new RouteBuilder() {
>                                     public void configure() throws Exception {
>                                         from(routeSource).to(routeDestination);
>                                     }
>                                 });
>
>                         camelContext.start();
>
>                         //need to understand how to shape message with headers to
> activemq through camel
>                         camelTemplate.sendBody(routeSource, "This is a test message
> from Camel");
>                 }
>
>                 }
>                 }
>                 catch(...)
> }
>
> What I have noticed is that the Camel context is initialized in the
> constructor but is NULL when the process method is called. I have tested
> this code instantiating other objects in the constructor and can see they
> are valid in the process method. Do you know if this is a known issue or
> design feature of Camel ? Would this happen if somehow I got the mix of jars
> (Camel, Camel-ActiveMQ and Spring) matched up incorrectly?
>
> Thanks,
> Ger.
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Camel-context-NULL-in-derived-class-tp5798307.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65423-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 10:08:26 2017
Return-Path: <users-return-65423-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 91096181E3
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 10:08:26 +0000 (UTC)
Received: (qmail 19887 invoked by uid 500); 26 Apr 2017 10:08:26 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 19841 invoked by uid 500); 26 Apr 2017 10:08:25 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 19830 invoked by uid 99); 26 Apr 2017 10:08:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 10:08:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A6938C0787
	for <users@camel.apache.org>; Wed, 26 Apr 2017 10:08:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.486
X-Spam-Level: *****
X-Spam-Status: No, score=5.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 9pGgzo7RQwtT for <users@camel.apache.org>;
	Wed, 26 Apr 2017 10:08:22 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id E243F5F3FF
	for <users@camel.apache.org>; Wed, 26 Apr 2017 10:08:21 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 6B1903CD7F35E
	for <users@camel.apache.org>; Wed, 26 Apr 2017 03:08:21 -0700 (MST)
Date: Wed, 26 Apr 2017 03:08:21 -0700 (MST)
From: gelawlor <ger.lawlor@gmail.com>
To: users@camel.apache.org
Message-ID: <CAMW-qPB_-hCJu=kfV_4d9m7Dt03SuPLKuSrrVzgnhoVpVo0wmQ@mail.gmail.com>
In-Reply-To: <CAGB5yN=A=7S+93z7_YB7m3=yoQd0K3SAXJDoGct9pcqRhgi4Dg@mail.gmail.com>
References: <1493200764130-5798307.post@n5.nabble.com> <CAGB5yN=A=7S+93z7_YB7m3=yoQd0K3SAXJDoGct9pcqRhgi4Dg@mail.gmail.com>
Subject: Re: Camel context NULL in derived class
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_71681_1404343608.1493201301428"

------=_Part_71681_1404343608.1493201301428
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Of course. Thanks for the prompt response. I cannot believe I let something
so obvious slip through.

On Wed, Apr 26, 2017 at 11:03 AM, Claus Ibsen-2 [via Camel] <
ml+s465427n5798308h71@n5.nabble.com> wrote:

> Hi
>
> That is because the ctr is creating a local instance, eg
>
>  CamelContext camelContext = new DefaultCamelContext();
>
> should be
>
>  camelContext = new DefaultCamelContext();
>
> On Wed, Apr 26, 2017 at 11:59 AM, gelawlor <[hidden email]
> <http:///user/SendEmail.jtp?type=node&node=5798308&i=0>> wrote:
>
> > Hi,
> >
> > I am implementing a Camel based connector service to ActiveMQ and the
> class
> > outline looks as follows:
> >
> > public class ActiveMQCamelRouterService {
> >
> >         private CamelContext camelContext;
> >     private ProducerTemplate camelTemplate;
> >
> >
> >         public ActiveMQCamelRouterService()
> >         {
> >                 try
> >                 {
> >                         CamelContext camelContext = new
> DefaultCamelContext();
> >                         ActiveMQComponent queue =
> > ActiveMQComponent.activeMQComponent("tcp://localhost:61616?broker.persistent=false");
>
> >                 queue.setBrokerURL("tcp://localhost:61616");
> >                 camelContext.addComponent("activemq", queue);
> >                 camelTemplate = camelContext.createProducerTemplate();
> >          }
> >                 catch(...)
> >                 {
> >                 }
> >         }
> >
> >     public void process(SOAPEnvelope req, SOAPEnvelope resp) throws
> > Exception {
> >                 try
> >                 {
> >                         Node requestNode = getMessageNode(req);
> >                         if(requestNode!=null)
> >                         {
> >                                 final String routeSource =
> "direct:activemq";
> >                                 final String routeDestination =
> "activemq:queue:testqueue";
> >
> >                                 if( camelContext != null )
> >                                 {
> >                                         camelContext.addRoutes(new
> RouteBuilder() {
> >                                     public void configure() throws
> Exception {
> >                                         from(routeSource).to(routeDestination);
>
> >                                     }
> >                                 });
> >
> >                         camelContext.start();
> >
> >                         //need to understand how to shape message with
> headers to
> > activemq through camel
> >                         camelTemplate.sendBody(routeSource, "This is a
> test message
> > from Camel");
> >                 }
> >
> >                 }
> >                 }
> >                 catch(...)
> > }
> >
> > What I have noticed is that the Camel context is initialized in the
> > constructor but is NULL when the process method is called. I have tested
> > this code instantiating other objects in the constructor and can see
> they
> > are valid in the process method. Do you know if this is a known issue or
> > design feature of Camel ? Would this happen if somehow I got the mix of
> jars
> > (Camel, Camel-ActiveMQ and Spring) matched up incorrectly?
> >
> > Thanks,
> > Ger.
> >
> >
> >
> > --
> > View this message in context: http://camel.465427.n5.nabble.
> com/Camel-context-NULL-in-derived-class-tp5798307.html
> > Sent from the Camel - Users mailing list archive at Nabble.com.
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Camel-context-NULL-in-derived-class-
> tp5798307p5798308.html
> To unsubscribe from Camel context NULL in derived class, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=5798307&code=Z2VyLmxhd2xvckBnbWFpbC5jb218NTc5ODMwN3wxMjgxNjExMjA0>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Camel-context-NULL-in-derived-class-tp5798307p5798309.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_71681_1404343608.1493201301428--

From users-return-65424-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 12:39:13 2017
Return-Path: <users-return-65424-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4910D187A7
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 12:39:13 +0000 (UTC)
Received: (qmail 88114 invoked by uid 500); 26 Apr 2017 12:39:12 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 88070 invoked by uid 500); 26 Apr 2017 12:39:12 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 72264 invoked by uid 99); 26 Apr 2017 12:33:06 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Wed, 26 Apr 2017 05:33:02 -0700 (MST)
From: "ayache.k" <ayache.khettar@gmail.com>
To: users@camel.apache.org
Message-ID: <1493209982537-5798321.post@n5.nabble.com>
Subject: XMLSecurity not generating
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi

I am using Camel XML security component to sign an xml using the following
setup:

<recipientList>
               
<simple>xmlsecurity:sign://enveloped?keyAccessor=#keyAccessor&amp;parentLocalName=FragmentsToBeHashed&amp;signatureAlgorithm=http://www.w3.org/2000/09/xmldsig#rsa-sha1&amp;digestAlgorithm=http://www.w3.org/2000/09/xmldsig#sha1&amp;addKeyInfoReference=false&amp;canonicalizationMethod=C14n</simple>
 </recipientList>

The signature produced - see below - does not include the X509Certificate
element. This is needed for the verifier client to extract the publicKey. Is
there a way of telling the xml security component to include this? It is not
obvious from the compoent doc page.

Kind regards,

Ayache


<?xml version="1.0" encoding="UTF-8"?>
<ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#"
Id="_d0540f2b-661e-4fd7-b3d0-03f5f2ae5afe">
   <ds:SignedInfo>
      <ds:CanonicalizationMethod
Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315" />
      <ds:SignatureMethod
Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1" />
      <ds:Reference URI="">
         <ds:Transforms>
            <ds:Transform
Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature" />
            <ds:Transform
Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315" />
         </ds:Transforms>
         <ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"
/>
         <ds:DigestValue>ND6UKUHRSxgGFqDCchmYxlO/H1k=</ds:DigestValue>
      </ds:Reference>
   </ds:SignedInfo>
  
<ds:SignatureValue>JiG1VlPOywLKDXhzvsanjSEAYHCvwNSTYqWIWHC2qNtvqZSc+j9fh1yLlqh7zKDnQ8u74aWDSKERT6KC2aqECDCF3jY16B1r9T7HgpRP0LH42845MdOe8xamNy91Oi7rE614a9CzXNy0smhUKvIxGxj1D0iCkqVHyhITuOIyjLuzcHCIBAegBoy7LE+rp3pLc6k3UX7YSXeC/1ZQz1AxU9qJakP5GxI3sYPfK7qz0IFU6quLx7UVTl7Iv/iKm6RKOlIuiGbD8KczBpH5kHXg6zrs4P0g06SbLUE7s7RNNZ6uMDZeVIR6SMPPrnYOd5+Zig/rbysDnYCGgo1uSL73gg==</ds:SignatureValue>
   <ds:KeyInfo Id="_2a65b9fa-04c5-4d31-b656-6f950d6e4d04">
      <ds:X509Data>
         <ds:X509IssuerSerial>
            <ds:X509IssuerName>CN=rootCA, OU=vision, O=INPS, L=London,
ST=Greater London, C=UK</ds:X509IssuerName>
            <ds:X509SerialNumber>13213122219353237285</ds:X509SerialNumber>
         </ds:X509IssuerSerial>
      </ds:X509Data>
   </ds:KeyInfo>
</ds:Signature>



--
View this message in context: http://camel.465427.n5.nabble.com/XMLSecurity-not-generating-tp5798321.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65425-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 12:47:10 2017
Return-Path: <users-return-65425-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 099F7187E9
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 12:47:10 +0000 (UTC)
Received: (qmail 336 invoked by uid 500); 26 Apr 2017 12:47:09 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 295 invoked by uid 500); 26 Apr 2017 12:47:09 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 278 invoked by uid 99); 26 Apr 2017 12:47:09 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 12:47:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C50571A7B54
	for <users@camel.apache.org>; Wed, 26 Apr 2017 12:47:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.001
X-Spam-Level: *****
X-Spam-Status: No, score=5.001 tagged_above=-999 required=6.31
	tests=[DATE_IN_FUTURE_12_24=2.489, DKIM_SIGNED=0.1, DKIM_VALID=-0.1,
	DKIM_VALID_AU=-0.1, HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7,
	SPF_PASS=-0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=icloud.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 789XprZckKJ2 for <users@camel.apache.org>;
	Wed, 26 Apr 2017 12:47:06 +0000 (UTC)
Received: from pv33p36im-asmtp002.me.com (pv33p36im-asmtp002.me.com [17.142.213.63])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 4C57F5FB3D
	for <users@camel.apache.org>; Wed, 26 Apr 2017 12:47:05 +0000 (UTC)
Received: from process-dkim-sign-daemon.pv33p36im-asmtp002.me.com by
 pv33p36im-asmtp002.me.com
 (Oracle Communications Messaging Server 7.0.5.38.0 64bit (built Feb 26 2016))
 id <0OP000F00OKK9700@pv33p36im-asmtp002.me.com> for users@camel.apache.org;
 Wed, 26 Apr 2017 12:46:58 +0000 (GMT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=icloud.com;	s=4d515a;
 t=1493210818;	bh=e1qUoSvFFPXEz2Opj2moNvbsLI0VE60UnWpyrE5F6Tw=;
	h=From:Content-type:MIME-version:Subject:Date:To:Message-id;
	b=OYwgTiuhpoMZ9eK8dX5cs0oanjinERzHgQhKyEyNYSoqnAphIoaMQSrsw11hoGaWw
 vERD0xZYss+f1e11wRmrBuJzsrNm2upRSdY4+qf33FZi9MuhBm+m52yYH1Bz47yesv
 Ixfqtn5dGHPBhQGx3eNPgDhpn9LjqgQVVdrokyQyQR4URF9p37gNiEJQYuHqpivsjy
 KHE3vZqNWR9QUlcbcxYNOcuVrgHTC8zwXO9sdWpaQuUylGnTJDJdz8qdbdgZb1jikW
 YFTSUOIXQSQW0J3awier+0kOMdBC42hXVLp+ehrKjGKhgeObZuR9I1U/0tqIgnc5KS
 D5lNT7zofIlQg==
Received: from icloud.com ([127.0.0.1]) by pv33p36im-asmtp002.me.com
 (Oracle Communications Messaging Server 7.0.5.38.0 64bit (built Feb 26 2016))
 with ESMTPSA id <0OP0001KLOU31Y40@pv33p36im-asmtp002.me.com> for
 users@camel.apache.org; Wed, 26 Apr 2017 12:46:58 +0000 (GMT)
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:,,
 definitions=2017-04-26_09:,, signatures=0
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0
 clxscore=1034 suspectscore=15 malwarescore=0 phishscore=0 adultscore=0
 bulkscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.0.1-1701120000 definitions=main-1704260228
From: Trilok Agrawal <agarwal.trilok@icloud.com>
Content-type: multipart/alternative;
 boundary="Apple-Mail=_2587A1F5-58A4-44E0-BC06-9D9A40AC188E"
MIME-version: 1.0 (Mac OS X Mail 10.3 \(3273\))
Subject: Re: XMLSecurity not generating
Date: Wed, 26 Apr 2017 18:16:13 -0700
References: <1493209982537-5798321.post@n5.nabble.com>
To: users@camel.apache.org
In-reply-to: <1493209982537-5798321.post@n5.nabble.com>
Message-id: <7B8E5148-F369-4CDE-96B0-A1F34C9B796E@icloud.com>
X-Mailer: Apple Mail (2.3273)

--Apple-Mail=_2587A1F5-58A4-44E0-BC06-9D9A40AC188E
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii

Yes, you should choose BST_DIRECT_REFERENCE

Take a look at =
http://coheigea.blogspot.in/2013/03/signature-and-encryption-key.html =
<http://coheigea.blogspot.in/2013/03/signature-and-encryption-key.html>

T.K

> On 26-Apr-2017, at 5:33 AM, ayache.k <ayache.khettar@gmail.com> wrote:
>=20
> Hi
>=20
> I am using Camel XML security component to sign an xml using the =
following
> setup:
>=20
> <recipientList>
>=20
> =
<simple>xmlsecurity:sign://enveloped?keyAccessor=3D#keyAccessor&amp;parent=
LocalName=3DFragmentsToBeHashed&amp;signatureAlgorithm=3Dhttp://www.w3.org=
/2000/09/xmldsig#rsa-sha1&amp;digestAlgorithm=3Dhttp://www.w3.org/2000/09/=
xmldsig#sha1&amp;addKeyInfoReference=3Dfalse&amp;canonicalizationMethod=3D=
C14n</simple>
> </recipientList>
>=20
> The signature produced - see below - does not include the =
X509Certificate
> element. This is needed for the verifier client to extract the =
publicKey. Is
> there a way of telling the xml security component to include this? It =
is not
> obvious from the compoent doc page.
>=20
> Kind regards,
>=20
> Ayache
>=20
>=20
> <?xml version=3D"1.0" encoding=3D"UTF-8"?>
> <ds:Signature xmlns:ds=3D"http://www.w3.org/2000/09/xmldsig#"
> Id=3D"_d0540f2b-661e-4fd7-b3d0-03f5f2ae5afe">
>   <ds:SignedInfo>
>      <ds:CanonicalizationMethod
> Algorithm=3D"http://www.w3.org/TR/2001/REC-xml-c14n-20010315" />
>      <ds:SignatureMethod
> Algorithm=3D"http://www.w3.org/2000/09/xmldsig#rsa-sha1" />
>      <ds:Reference URI=3D"">
>         <ds:Transforms>
>            <ds:Transform
> Algorithm=3D"http://www.w3.org/2000/09/xmldsig#enveloped-signature" />
>            <ds:Transform
> Algorithm=3D"http://www.w3.org/TR/2001/REC-xml-c14n-20010315" />
>         </ds:Transforms>
>         <ds:DigestMethod =
Algorithm=3D"http://www.w3.org/2000/09/xmldsig#sha1"
> />
>         <ds:DigestValue>ND6UKUHRSxgGFqDCchmYxlO/H1k=3D</ds:DigestValue>
>      </ds:Reference>
>   </ds:SignedInfo>
>=20
> =
<ds:SignatureValue>JiG1VlPOywLKDXhzvsanjSEAYHCvwNSTYqWIWHC2qNtvqZSc+j9fh1y=
Llqh7zKDnQ8u74aWDSKERT6KC2aqECDCF3jY16B1r9T7HgpRP0LH42845MdOe8xamNy91Oi7rE=
614a9CzXNy0smhUKvIxGxj1D0iCkqVHyhITuOIyjLuzcHCIBAegBoy7LE+rp3pLc6k3UX7YSXe=
C/1ZQz1AxU9qJakP5GxI3sYPfK7qz0IFU6quLx7UVTl7Iv/iKm6RKOlIuiGbD8KczBpH5kHXg6=
zrs4P0g06SbLUE7s7RNNZ6uMDZeVIR6SMPPrnYOd5+Zig/rbysDnYCGgo1uSL73gg=3D=3D</d=
s:SignatureValue>
>   <ds:KeyInfo Id=3D"_2a65b9fa-04c5-4d31-b656-6f950d6e4d04">
>      <ds:X509Data>
>         <ds:X509IssuerSerial>
>            <ds:X509IssuerName>CN=3DrootCA, OU=3Dvision, O=3DINPS, =
L=3DLondon,
> ST=3DGreater London, C=3DUK</ds:X509IssuerName>
>            =
<ds:X509SerialNumber>13213122219353237285</ds:X509SerialNumber>
>         </ds:X509IssuerSerial>
>      </ds:X509Data>
>   </ds:KeyInfo>
> </ds:Signature>
>=20
>=20
>=20
> --
> View this message in context: =
http://camel.465427.n5.nabble.com/XMLSecurity-not-generating-tp5798321.htm=
l
> Sent from the Camel - Users mailing list archive at Nabble.com.


--Apple-Mail=_2587A1F5-58A4-44E0-BC06-9D9A40AC188E--

From users-return-65426-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 13:02:24 2017
Return-Path: <users-return-65426-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A3DB188B0
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 13:02:24 +0000 (UTC)
Received: (qmail 48018 invoked by uid 500); 26 Apr 2017 13:02:22 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 47973 invoked by uid 500); 26 Apr 2017 13:02:22 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 47961 invoked by uid 99); 26 Apr 2017 13:02:22 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 13:02:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E3F63C0787
	for <users@camel.apache.org>; Wed, 26 Apr 2017 13:02:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.416
X-Spam-Level:
X-Spam-Status: No, score=0.416 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	SPF_PASS=-0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 5HWcelZyxB9C for <users@camel.apache.org>;
	Wed, 26 Apr 2017 13:02:20 +0000 (UTC)
Received: from mail-wr0-f180.google.com (mail-wr0-f180.google.com [209.85.128.180])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 615BA5F5F9
	for <users@camel.apache.org>; Wed, 26 Apr 2017 13:02:20 +0000 (UTC)
Received: by mail-wr0-f180.google.com with SMTP id l9so23016284wre.1
        for <users@camel.apache.org>; Wed, 26 Apr 2017 06:02:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to;
        bh=jMZgceYKF8W3sw6SxHPY47XCU4cD28tMmmph2HSAQag=;
        b=Y7kV6fIwnoT2Y6BDjiq7+APjL9AzMhTWvS5ShJ1fjl5QTGQj8r3zxmqkthB/qlsZnX
         6IvQoIKqeVbWMuSQDmj/EEAp23XSnnWjNymD/fPlRcp1E5yHTxJ8BpExUPpEcWjxUsF/
         5iuM8A5+gO1V5kiizc4rfWcS4AcHpCj6u+sL42l7FeAztB9uGcJiqcZxcdcB2hG/1yan
         fJnrgqBWxQC66hdNTc7R7ocYQtcQLsYirVPUzcXt7S+UFcp61AGbhSgyKfj8p5F05hNM
         dGlZI2oYiWQ6IcwxutOnwVfGUMhX5xHupvA1Rj5Et4ajOQKOKAuRneG3FRdjmBO71b+g
         j7dw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to;
        bh=jMZgceYKF8W3sw6SxHPY47XCU4cD28tMmmph2HSAQag=;
        b=KgRCGnXE1KhOn2c7BQa89JAllfPfvrFoXRCH19NCOK4KPiGmPXzzvv39EwDaW9d1Bh
         0hw2fx4KoJTxtbc/DfFEWtkIS+2vNL+Wx/MQPkSgL+xnELRKMsKAQknCRkJLr7eniWVj
         dooCSE2fFLI2c2Dwn1bp+PzhNuTAhQwuHWp2ThLZZAaMaLDkK4rda85rrZlWE3yYMUaa
         b0Yr5dUVpCo9baIdR4aJj6b8H2eQI/KDWfMR2p8qIYRILySffxJ5u0QGNU6Azrvb2/qN
         hqcr+Qeum9WP87zZusZ9Hfu0G1oX3iQkXtrht+fOfGcrxe8leHsWZYgNdaZuxUb548Dt
         Mfaw==
X-Gm-Message-State: AN3rC/7FOjiLWxUN2jAUmQXI/YJ19M+pUFR2BWJW7Mn84VHrKH543Xky
	13xAeO9TxMTHY2TMLgYWxtvOd8s+H0T5
X-Received: by 10.223.165.138 with SMTP id g10mr15165319wrc.19.1493211739863;
 Wed, 26 Apr 2017 06:02:19 -0700 (PDT)
MIME-Version: 1.0
References: <1493185270056-5798288.post@n5.nabble.com>
In-Reply-To: <1493185270056-5798288.post@n5.nabble.com>
From: Jim Pirkle <jim.pirkle@gmail.com>
Date: Wed, 26 Apr 2017 13:02:08 +0000
Message-ID: <CAHgYEh9SXx4cjgqdAZZdjAGkduViQFtfYRMsqCiu8bs4zGPzBQ@mail.gmail.com>
Subject: Re: After Camel 2.16, absolute paths will be invalid
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c1cd99e5440c1054e1173c1

--94eb2c1cd99e5440c1054e1173c1
Content-Type: text/plain; charset=UTF-8

Work around:

Navigate from default directory up to the root, then to desired directory.
Ugly, but it works for me:
     sftp://servername/../../dir/subdir/


On Wed, Apr 26, 2017 at 3:00 AM srinivas.indali <srini.indali@gmail.com>
wrote:

> Hi All,
>
> We are currently using Camle 2.12.3, we have been used absolute paths in
> the
> code base, now we are upgrading to camel 2.16.3, because of absolute paths
> converting to relative paths in Camel 2.16.3 we are facing issues, is there
> any way that we can force camel to use absolute paths. or any quick work
> around.
>
> Thanks and Regards,
> Srinivas.
>
>
>
>
>
> --
> View this message in context:
> http://camel.465427.n5.nabble.com/After-Camel-2-16-absolute-paths-will-be-invalid-tp5798288.html
> Sent from the Camel - Users mailing list archive at Nabble.com.
>

--94eb2c1cd99e5440c1054e1173c1--

From users-return-65427-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 13:37:51 2017
Return-Path: <users-return-65427-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B184718B46
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 13:37:51 +0000 (UTC)
Received: (qmail 51098 invoked by uid 500); 26 Apr 2017 13:37:51 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 51052 invoked by uid 500); 26 Apr 2017 13:37:51 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 36678 invoked by uid 99); 26 Apr 2017 13:33:24 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Wed, 26 Apr 2017 06:33:21 -0700 (MST)
From: Bernard Ligny <bernard.ligny@gmail.com>
To: users@camel.apache.org
Message-ID: <1493213601903-5798327.post@n5.nabble.com>
Subject: Body lost with intra-context calls using direct-vm component
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am busy with the refactoring of a mono-context Camel application into a
multi-context one.
In order to allow cross-contexts direct calls (and to avoid the replacement
of numerous existing "direct:" uris), I did the following (that is to say:
"direct" alias now uses DirectVmComponent instead of DirectComponent)

	
	
This is working fine...
However, by doing this, I noticed this (very very strange) behaviour.

When calling (with "direct" alias but using direct-vm component) a sub-route
of the SAME context, the exchange body is lost when exiting the sub-route.

*Example*:

	
	
When run, the stdout is:



=> we can see the body is populated when exiting the sub-route, and suddenly
becomes empty when returned back to the calling route.

NB: Yes stream caching is enabled (to read body many times) + I did a stream
to string conversion (convertBodyToString)

As soon as I comment the "@Produces" section (to use DirectComponent and no
more DirectVmComponent),
the route behave as expected.



Am I doing something wrong, or should I create a JIRA issue about it ?



--
View this message in context: http://camel.465427.n5.nabble.com/Body-lost-with-intra-context-calls-using-direct-vm-component-tp5798327.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65428-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 13:48:37 2017
Return-Path: <users-return-65428-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0157418B9C
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 13:48:37 +0000 (UTC)
Received: (qmail 76142 invoked by uid 500); 26 Apr 2017 13:46:29 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 69895 invoked by uid 500); 26 Apr 2017 13:46:24 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 66871 invoked by uid 500); 26 Apr 2017 13:46:21 -0000
Delivered-To: apmail-users-all@apache.org
Received: (qmail 66865 invoked by uid 99); 26 Apr 2017 13:46:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 13:46:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1FD66188BC1
	for <users-all@apache.org>; Wed, 26 Apr 2017 13:46:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.48
X-Spam-Level:
X-Spam-Status: No, score=0.48 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RCVD_IN_SORBS_SPAM=0.5] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rcbowen-com.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 1bDw4tVn4C_w for <users-all@apache.org>;
	Wed, 26 Apr 2017 13:46:16 +0000 (UTC)
Received: from mail-qt0-f172.google.com (mail-qt0-f172.google.com [209.85.216.172])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 80E445F659
	for <users-all@apache.org>; Wed, 26 Apr 2017 13:46:16 +0000 (UTC)
Received: by mail-qt0-f172.google.com with SMTP id y33so729665qta.2
        for <users-all@apache.org>; Wed, 26 Apr 2017 06:46:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rcbowen-com.20150623.gappssmtp.com; s=20150623;
        h=to:reply-to:from:subject:message-id:date:user-agent:mime-version;
        bh=AnhXphNMnnm+qUCTqx+Y2Lo9XCuBQPnJg1khDWLyVP4=;
        b=ZsobXcuBPcG8mdrdZN6qT/1n8LhEN9eFyP0O7HPBrXGJhk0QfY7+TdUMm3Qy95Cc+H
         qHmHtkm2HQliNs3A2KTN5FV+dolCcLZy4PzC0GSVLauSVl+mBOpP1aCufhNrZiyKA2Rz
         OuQUFFyfNjc7LHXdViZy2eDQg6UiT6WO5JeR6n2Td6/28RI9cecs41w8iu281PhU9eDl
         dtzOIimYCB80DGsxkLLFbbyBL06brvt2S1DSKJSuk+Dd0Q8zOxHqV7YvCUvuQkjp+Pjq
         oUvsY28gCyKg5J7HvPBr614RcIMXmz6/i55bbbk6I8nnZgykDjftFe3hhjO/stA8w80h
         Kixg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:to:reply-to:from:subject:message-id:date
         :user-agent:mime-version;
        bh=AnhXphNMnnm+qUCTqx+Y2Lo9XCuBQPnJg1khDWLyVP4=;
        b=rFpDnrMNWsXjwkruIXOqOSrYUU3pL2XVUCquKlBvvFph/SxR2mV84m9waR2sVuVox0
         kAV+T2lGSzTdm4lYnxAmA1Mo0cYHDRlpMggsvF20Plx0jp5F9MDLwhMA+xYjZV3n/PKH
         vSvAN9JweaecH7KsfXSVlKAV1IiehVSjzByfJVxU5Mah4sHQsip+ZLWIZRtKlaTQ7Acx
         ewW6xc3p3F+KhmNeKbn3FhfJSV9YOcLOlmWSh5pFwS6Y2UCnYvmeAvnI/3E1mFIiOK8y
         tE9N/dKHIYDTqPjF1pn4ZFbL6Nz07uqmPq7LcJkAbA/CPpuRTpE8PUtVjCAtQr2or/ot
         eRIQ==
X-Gm-Message-State: AN3rC/71P0/Vrg/JTSqe2AzH90x6LZjYdDh7AnNmChS3KZVfbxOAEhBm
	Uv1kW45s9nZ302l9
X-Received: by 10.237.58.70 with SMTP id n64mr40701369qte.196.1493214375214;
        Wed, 26 Apr 2017 06:46:15 -0700 (PDT)
Received: from [192.168.0.176] (cpe-192-180-213-35.kya.res.rr.com. [192.180.213.35])
        by smtp.googlemail.com with ESMTPSA id v64sm207632qkg.38.2017.04.26.06.46.13
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 26 Apr 2017 06:46:14 -0700 (PDT)
To: Rich Bowen <rbowen@apache.org>
Reply-To: apachecon-discuss@apache.org
From: Rich Bowen <rbowen@rcbowen.com>
Subject: Last chance: ApacheCon is just three weeks away
Message-ID: <e2f5db8d-de1d-7df9-2066-1e7b5e09f874@rcbowen.com>
Date: Wed, 26 Apr 2017 09:46:12 -0400
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101
 Thunderbird/52.0
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha256;
 protocol="application/pgp-signature";
 boundary="XjMfNKbbPpf9e7vKnel9ERgJc2qLgIG0B"

--XjMfNKbbPpf9e7vKnel9ERgJc2qLgIG0B
Content-Type: multipart/mixed; boundary="FOusKfjNdeLK3UikuLNUu2TIeVOUt59BD";
 protected-headers="v1"
From: Rich Bowen <rbowen@rcbowen.com>
Reply-To: apachecon-discuss@apache.org
To: Rich Bowen <rbowen@apache.org>
Message-ID: <e2f5db8d-de1d-7df9-2066-1e7b5e09f874@rcbowen.com>
Subject: Last chance: ApacheCon is just three weeks away

--FOusKfjNdeLK3UikuLNUu2TIeVOUt59BD
Content-Type: text/plain; charset=utf-8
Content-Language: en-US
Content-Transfer-Encoding: quoted-printable

ApacheCon is just three weeks away, in Miami, Florida, May 15th - 18th.
http://apachecon.com/

There's still time to register and attend. ApacheCon is the best place
to find out about tomorrow's software, today.

ApacheCon is the official convention of The Apache Software Foundation,
and includes the co-located events:
  * Apache: Big Data
  * Apache: IoT
  * TomcatCon
  * FlexJS Summit
  * Cloudstack Collaboration Conference
  * BarCampApache
  * ApacheCon Lightning Talks

And there's dozens of opportunities to meet your fellow Apache
enthusiasts, both from your project, and from the other 200+ projects at
the Apache Software Foundation.

Register here:
http://events.linuxfoundation.org/events/apachecon-north-america/attend/r=
egister-

More information here: http://apachecon.com/

Follow us and learn more about ApacheCon:
  * Twitter: @ApacheCon
  * Discussion mailing list:
https://lists.apache.org/list.html?apachecon-discuss@apache.org
  * Podcasts and speaker interviews: http://feathercast.apache.org/
  * IRC: #apachecon on the https://freenode.net/

We look forward to seeing you in Miami!

--=20
Rich Bowen - VP Conferences, The Apache Software Foundation
http://apachecon.com/
@apachecon


--FOusKfjNdeLK3UikuLNUu2TIeVOUt59BD--

--XjMfNKbbPpf9e7vKnel9ERgJc2qLgIG0B
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iQIcBAEBCAAGBQJZAKSkAAoJEHhwUUeLEqujEuIP/jXWAucs5q9PuFIOlgRc3AuM
QML8KZtdxAXqxMnPFsYwBL865ti/PZkRX8EMtnWhVzvvet7PHetHM/AatYdTXetX
BLELX5DuFdzgslQr10tY5ePBdZl0jZxJ3sujsRgxNY1qPa2y/4NccdGmrUHur5SW
2ipeCIsZtqY23gcz1M6+xm5qYOkZcYK+UM/Lb71jJKeaXLl0D3tsR+BpnVaol6dK
597ZoU5jZL7nFrlgpjhUQh5CdYzCm0ZleCUFKrChCvJXOJqZIFzywJHdFveI/vl3
pwp98CdcopzK482KZj4kdNKcMzZ2Urnnn+RKbolwlGoQytz+Hq3eyWCnECR5qX9K
V1os+C9z6bzlBvgm6SooynF5t7tUKSyF2XftrtOIOeagnbnoxaCF0fajyfBBCnKq
0AC0D5q3PLZVzNyKH9lbh3OWNZWuYK3RFxQ8OpTUdJD9dogjk0YGjhu4qAJ3N0Dm
8zlfU6ZUPXRbg5F/68PWso4GJEcVZln7upvbBIMnTef+G0hvxRRCFhXXhnCwCp8W
/3G0UP6xJNE9xrFDbLJIX6obuRlR/W7J+fU+WjI5qnzyqKBvluPENA33cc9NunZg
NReeZxQ0fMpMBgWpluufavBRiMYHt05ThJQYWG1iTQSo6cD6omliiuML4M1YLi1j
7Kiq8B19m1uKnuxb8alR
=6zV2
-----END PGP SIGNATURE-----

--XjMfNKbbPpf9e7vKnel9ERgJc2qLgIG0B--

From users-return-65429-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 15:31:34 2017
Return-Path: <users-return-65429-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9A2B419260
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 15:31:34 +0000 (UTC)
Received: (qmail 16656 invoked by uid 500); 26 Apr 2017 15:31:34 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 16595 invoked by uid 500); 26 Apr 2017 15:31:34 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 16573 invoked by uid 99); 26 Apr 2017 15:31:33 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 15:31:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 6F008C0DB2
	for <users@camel.apache.org>; Wed, 26 Apr 2017 15:31:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.313
X-Spam-Level: **
X-Spam-Status: No, score=2.313 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 3dIVKWlGjh35 for <users@camel.apache.org>;
	Wed, 26 Apr 2017 15:31:32 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 1D3A55F3FF
	for <users@camel.apache.org>; Wed, 26 Apr 2017 15:31:32 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 634683CE6B3C5
	for <users@camel.apache.org>; Wed, 26 Apr 2017 08:31:31 -0700 (MST)
Date: Wed, 26 Apr 2017 08:31:31 -0700 (MST)
From: $Georges$ <georges@berscheid.lu>
To: users@camel.apache.org
Message-ID: <1493220691386-5798333.post@n5.nabble.com>
Subject: Usage of mapHttpMessageHeaders
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

After updating to Camel 2.18, I've wanted to use the mapHttpMessageHeaders
endpoint parameter of my http4 endpoint (http://camel.apache.org/http4.html)
to replace my headerFilterStrategy that prevents leaking Camel headers into
HTTP headers (and causing HTTP error 400 in some cases).

However, it seems that even setting mapHttpMessageHeaders=true on my
endpoint definition, does not remove Camel headers from HTTP headers.

After looking at
org.apache.camel.component.http4.HttpProducer.process(Exchange exchange), it
appears that Camel headers are added to the HTTP headers regardless of the
mapHttpMessageHeaders setting.

Did I get something wrong? What does this setting do?

Thanks a lot,
Georges



--
View this message in context: http://camel.465427.n5.nabble.com/Usage-of-mapHttpMessageHeaders-tp5798333.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65430-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 15:42:32 2017
Return-Path: <users-return-65430-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1C442192DD
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 15:42:32 +0000 (UTC)
Received: (qmail 53792 invoked by uid 500); 26 Apr 2017 15:42:31 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 53748 invoked by uid 500); 26 Apr 2017 15:42:31 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 53736 invoked by uid 99); 26 Apr 2017 15:42:31 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 15:42:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C6A81C0DB2
	for <users@camel.apache.org>; Wed, 26 Apr 2017 15:42:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.693
X-Spam-Level: *
X-Spam-Status: No, score=1.693 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=regvart.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id hL7ce7q4rrUo for <users@camel.apache.org>;
	Wed, 26 Apr 2017 15:42:27 +0000 (UTC)
Received: from mail-wm0-f50.google.com (mail-wm0-f50.google.com [74.125.82.50])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 0E87F5F405
	for <users@camel.apache.org>; Wed, 26 Apr 2017 15:42:26 +0000 (UTC)
Received: by mail-wm0-f50.google.com with SMTP id w64so54638009wma.0
        for <users@camel.apache.org>; Wed, 26 Apr 2017 08:42:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=regvart.com; s=google;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=v3lanmJWgmu8CMmZXrHesLBD27UjZr3Gen6+/Y0Nd0w=;
        b=h3yCj7FLCq9aN7EI6Rw6FfU06m+K+44T8eRvBZl/v6Txw5leoptwPEeRtxPzTrqQ4R
         5Tw5D7rnK7mscMEB3Ji9fwVQqdaaIfFwKnuQ5A1DiTPEH2RcBId6Uzc8AF5XPRI9bxyy
         q94WIYObnk9nwD1u8A6U4NEh4jktGpvq6XEGk=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=v3lanmJWgmu8CMmZXrHesLBD27UjZr3Gen6+/Y0Nd0w=;
        b=FrIh6RZclXljtw3wTkwbSCmVeAD57/T1q8VCLsloLeD7EjzpsQ5FdwUEmfHds6i6BC
         pRxK6Amx3ihtO+WBYoBAUfH9hv6qbCs84wMuDuG8xgVzFb/JqAzbsyB2hz+ommy84248
         NvIgcDXgO0HBzFy/nfG4RbbtOld6nzIlklpkkmk4Qv5aLm8aukTMwFoN/IMRfYb3FfXn
         tyYKekqmorzIc/66IpmqV38Mlts1ATaRF5gKZc0me5vc8036fDx3hQPOCZO9CwTQI/KN
         ZtNCe6cWD0ak8OSaj/aQoUFWf9QYgB5F2IBJUhKx0fiuKqf3zsL2c8NtGbk2f5Lz5oxz
         YjaQ==
X-Gm-Message-State: AN3rC/6rPYyyWDaImyPLTWQfeusS3MCwpkU1dWaDm4ETnxi+6WZ3fOX8
	xMw451h0DZz77EMYKHQsJlz3KTVxnYJjpLg=
X-Received: by 10.80.151.5 with SMTP id c5mr1414148edb.30.1493221346451; Wed,
 26 Apr 2017 08:42:26 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.80.131.101 with HTTP; Wed, 26 Apr 2017 08:42:06 -0700 (PDT)
In-Reply-To: <1493031301603-5798182.post@n5.nabble.com>
References: <1493031301603-5798182.post@n5.nabble.com>
From: Zoran Regvart <zoran@regvart.com>
Date: Wed, 26 Apr 2017 17:42:06 +0200
Message-ID: <CABD_Zr85Dzh4kg9r+KMrO7K4LV31=e4d_scy6w1FcW1YRHKyHA@mail.gmail.com>
Subject: Re: Guidance to choose "future proof" http consumer/producer components
To: users@camel.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Sebastian,
speaking from my experience, the reasoning behind the decision to
deprecate Jetty producer has to do with the amount of work needed keep
up with Jetty changes.

As an illustration take a look at the number of upgrade Jetty issues
on the Camel JIRA[1]. Some of those issues were upgrades of minor
Jetty versions that introduced braking changes in public API.

I think that going forward you can rely on HTTP Components v4 (http4
component) as it has a proven track record and we can easily keep up
with any changes there. Not to mention that it's a Apache Foundation
project so within our garden.

Undertow producer is not par with features of http4 producer at the
moment, but will be of significance once it has matured a bit more.

zoran

[1] https://issues.apache.org/jira/browse/CAMEL-2402?jql=project%20%3D%20CAMEL%20AND%20text%20~%20%22upgrade%20jetty%22

On Mon, Apr 24, 2017 at 12:55 PM, sbrandt2 <sb.list@posteo.net> wrote:
> With the jetty producer surprisingly being deprecated recently via
> CAMEL-10998 I (and probably a lot of other users) are now in the situation
> having to plan the migration to another http producer.
> I'd also like to avoid being in the same situation again in some months
> having to migrate again.
>
> Given the choice of available http related components, I'd like to ask Camel
> developers for guidance on which http component(s) will be the "main" long
> time supported http stack for Camel.
>
> For producer endpoints, the choice would probably be between: http4,
> netty4-http, undertow
> For consumer endpoints: jetty, netty4-http, undertow
>
> I'm aware of the dynamics of open source projects, but given the importance
> of actively developed and supported http producer/consumer endpoints for an
> integration framework I believe an answer is valuable to Camel users.
>
> Also, to assess the urgency of a migration away from jetty producer
> endpoint, it would be helpful to know if there are serious issues with it.
> The description in CAMEL-10998 is a bit vague and I didn't find any
> discussion about the deprecation on the dev forum.
>
> Thank you!
> Sebastian
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/Guidance-to-choose-future-proof-http-consumer-producer-components-tp5798182.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Zoran Regvart

From users-return-65431-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 16:58:55 2017
Return-Path: <users-return-65431-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 03B121964F
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 16:58:55 +0000 (UTC)
Received: (qmail 22908 invoked by uid 500); 26 Apr 2017 16:58:54 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 22861 invoked by uid 500); 26 Apr 2017 16:58:54 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 22845 invoked by uid 99); 26 Apr 2017 16:58:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 16:58:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D9E56D55B6
	for <users@camel.apache.org>; Wed, 26 Apr 2017 16:58:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.313
X-Spam-Level: **
X-Spam-Status: No, score=2.313 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id NojpOBfMwjnM for <users@camel.apache.org>;
	Wed, 26 Apr 2017 16:58:51 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 6464B5F36C
	for <users@camel.apache.org>; Wed, 26 Apr 2017 16:58:51 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 91FE83CEA9D6F
	for <users@camel.apache.org>; Wed, 26 Apr 2017 09:58:50 -0700 (MST)
Date: Wed, 26 Apr 2017 09:58:50 -0700 (MST)
From: Gary <gary.mills@ge.com>
To: users@camel.apache.org
Message-ID: <1493225930592-5798339.post@n5.nabble.com>
Subject: camel splitter
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

hello, thanks in advance, just looking for advice with camel, pondering ideal
approach. 

I have big data files, that need to be split in to their own iostreams or
files based on a field in the inbound message. 

example: message: 
9VXI1148,2/15/2016 9:55,Hydraulic Brake Temperature,0
9VXI1148,2/15/2016 9:55,HP Feedback,262.7061768
8TI999,2/15/2016 12:36,Hydraulic Brake Temperature,0
8TI999,2/15/2016 12:36,HP Feedback,762.9597778
TE1430B,2/15/2016 12:36,Hydraulic Brake Temperature,0
TE1430B,2/15/2016 12:36,HP Feedback,5.79165554
9TI1151,2/15/2016 12:25,Hydraulic Brake Temperature,0
9TI1151,2/15/2016 12:25,HP Feedback,1952.955078
...

I need to split the message based on the first field/column in the csv. so
the output would be separate collections lists on the exchange such as

split 1 ( all records holding 9VXI1148 ) 
split 2 ( all records holding 8TI999 ) 
split 3 ( all records holding TE1430B ) 
etc... 

is there an easy approach for camel to do this? I somehow, need to get ahold
of field 1 of each record and build a collection and send it out when done.
what is an approach to get the pivot field from the message and then form
out bound collections? 

thank you



-----
Gary Lee Mills
--
View this message in context: http://camel.465427.n5.nabble.com/camel-splitter-tp5798339.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65432-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 17:01:13 2017
Return-Path: <users-return-65432-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9432F1968B
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 17:01:13 +0000 (UTC)
Received: (qmail 32058 invoked by uid 500); 26 Apr 2017 17:01:13 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 32017 invoked by uid 500); 26 Apr 2017 17:01:13 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 88084 invoked by uid 99); 26 Apr 2017 16:43:26 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Wed, 26 Apr 2017 09:43:24 -0700 (MST)
From: Bernard Ligny <bernard.ligny@gmail.com>
To: users@camel.apache.org
Message-ID: <1493225004565-5798337.post@n5.nabble.com>
In-Reply-To: <1493213601903-5798327.post@n5.nabble.com>
References: <1493213601903-5798327.post@n5.nabble.com>
Subject: Re: Body lost with intra-context calls using direct-vm component
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Surprisingly, to make it work, I had to force a In&Out pattern on the To uri
!



I guess (not checked in the Camel source) that the Exchange *copy* that was
sent to the direct-vm endpoint, inherits by default from the same
ExchangePattern as the original...which (in my case) was a InOnly one (>JMS
consumer) ??







--
View this message in context: http://camel.465427.n5.nabble.com/Body-lost-with-intra-context-calls-using-direct-vm-component-tp5798327p5798337.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65433-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 17:28:05 2017
Return-Path: <users-return-65433-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B1CEE197EF
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 17:28:05 +0000 (UTC)
Received: (qmail 4803 invoked by uid 500); 26 Apr 2017 17:28:05 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 4752 invoked by uid 500); 26 Apr 2017 17:28:05 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 4740 invoked by uid 99); 26 Apr 2017 17:28:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 17:28:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 614BE1B0BBE
	for <users@camel.apache.org>; Wed, 26 Apr 2017 17:28:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id JGHuYPJL1PaS for <users@camel.apache.org>;
	Wed, 26 Apr 2017 17:28:03 +0000 (UTC)
Received: from mail-lf0-f54.google.com (mail-lf0-f54.google.com [209.85.215.54])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 495285F5F9
	for <users@camel.apache.org>; Wed, 26 Apr 2017 17:27:58 +0000 (UTC)
Received: by mail-lf0-f54.google.com with SMTP id 75so4167755lfs.2
        for <users@camel.apache.org>; Wed, 26 Apr 2017 10:27:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=HMEsxDA1wNGdnLePBdl7bFniOYBzd9cIfMDp7zoptUE=;
        b=le79o43eYMCTWnmjZed41wxUwpMoqRJkFEWEmE6nDn5SayqxtLtOT2OcLyp2h+D9xu
         /OGIrfxziLsV0rctDx2Pnsd0x2X21lB/wwNjnfprZdG/C2O8q5wzp+h6QGzBLKEQztCa
         pO1nFcuQJkFC8Ru7JSX07tmWp6VNBRI/WBezHaLxEAj2Y+eZ5i5Z4+JuZwhDyvPOLhRK
         pcHOaa5ufzdNdJtoLsBV6qWdXML3OSqCntKpy0sP0vKXtvRwUoFrHxk94VMHGGK73goL
         oiUuVUsukZ+8rfKjk7PCVdMRieVbgKh92gO9Qdlw7/23Q6++EsOP9ouaXnZB8/W8bJrv
         L5Zg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=HMEsxDA1wNGdnLePBdl7bFniOYBzd9cIfMDp7zoptUE=;
        b=rsjgXiHwvXDhkY+hQTyTM0rHzDV8y+xCCu6Cc1Py+lgyA5K7Li2NpVE342RBEH8hfh
         arDZ+VkZFxwOvkruAbSo7j/q8Hfdb+9Vq/4M2k53z13x9M/wVv9Nf3XwUWmD6iewK/Ov
         HUqZ5DFEgGMKXEM6H4Aa+oaH9J35gyF5Cv/Hp7wNwuNGzdHxuI7YFb6xMS6rhiuYxa/B
         gzqo970TBO06wG89gxlKwN5LKpzx+XOi+5e9Ok4MIzwJK3ir0mZ0qJZoQ+7Rf/gH+gvg
         pekDWl/kYO01e9XlqMjiqXnirBrtNTFyJrsDT9PGh5wSUxd8jium41T4YbuO2qZZ8ooB
         lkXQ==
X-Gm-Message-State: AN3rC/6tEZww8C8/gep4veJQTH11EO2//I/55EDXye46k6PJtT9cti2h
	Xd5cck4oLw6j5JJIdWUfUnsjktco3A==
X-Received: by 10.25.168.5 with SMTP id r5mr340346lfe.85.1493227677482; Wed,
 26 Apr 2017 10:27:57 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.25.19.213 with HTTP; Wed, 26 Apr 2017 10:27:36 -0700 (PDT)
From: Moshe Recanati <re.moshe@gmail.com>
Date: Wed, 26 Apr 2017 20:27:36 +0300
Message-ID: <CA+hKCHPPq3K6=5EaCn_XAszKKhopVhcBA27oq8G7zT6+wtdsiQ@mail.gmail.com>
Subject: Prioritize messages based on custom rules
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a11401a144905bb054e1529b8

--001a11401a144905bb054e1529b8
Content-Type: text/plain; charset=UTF-8

Hi,
I would like to use Camel with resequencer in order prioritize two Java
Objects based on custom rules.
I thought about using stream and custom comparator however in most cases
the objects are equal so Camel is ignoring them.

Do you have an alternative to such requirement? Can I use batch processing
and custom comparator?
Any other ideas?
This is crucial for me, without this ability I'll need to find other
solution.

Thank you in advance,
Moshe

--001a11401a144905bb054e1529b8--

From users-return-65434-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 17:36:17 2017
Return-Path: <users-return-65434-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 288A01986F
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 17:36:17 +0000 (UTC)
Received: (qmail 33790 invoked by uid 500); 26 Apr 2017 17:36:16 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 33742 invoked by uid 500); 26 Apr 2017 17:36:16 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 33726 invoked by uid 99); 26 Apr 2017 17:36:16 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 17:36:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C7342D560A
	for <users@camel.apache.org>; Wed, 26 Apr 2017 17:36:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.321
X-Spam-Level:
X-Spam-Status: No, score=-0.321 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id r5Z97NV-zloi for <users@camel.apache.org>;
	Wed, 26 Apr 2017 17:36:13 +0000 (UTC)
Received: from mail-qt0-f182.google.com (mail-qt0-f182.google.com [209.85.216.182])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 6AD335F3FF
	for <users@camel.apache.org>; Wed, 26 Apr 2017 17:36:13 +0000 (UTC)
Received: by mail-qt0-f182.google.com with SMTP id m36so6846119qtb.0
        for <users@camel.apache.org>; Wed, 26 Apr 2017 10:36:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=8agitqckwUH1bEnzMJy8oOvDcaXuO5hQJzQ/2Zs9tWU=;
        b=cmyEcT+capJNeleSCk+kHAO+6lIxtc/6K2XV5gfczZOImY1eubEe3X6qtfMUbU6s7J
         4uPXshVd2aYD2S1TSmEw34RFSvHfKpero17VJh3lJgzy3SwSOMZaFoYq8GLY7uZ1HiYA
         kz9y6rrJNreLBOFDDdpPvpeOi0d6hm6FAZA8gnsMSa+NSFuTwaVk9vHEHxE5X7Ut4c8Z
         5pb/qtsUEAiMy+Vypww8YgV7W4+aENBJa52v9gbzgol4/ATTndMmZpYYSKA6YY6Sx8b+
         i8ylBz70TAjLAhoqnQT64puSSMvyzd635MTdlUtaM6HzsTg0iy95az0D/2RG7tLRQRTZ
         JDUA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=8agitqckwUH1bEnzMJy8oOvDcaXuO5hQJzQ/2Zs9tWU=;
        b=PDhGt3fjzBQXzNvAkXSwKfalUY+Kw1KliUxYZkBGSzONUxW9hdWaza2TFf3Bk+16cB
         PB3rq5G70AUwwosG63+oXQ5/8kR4k+HINyD2Aqc9JYxAzeOSEilAgEKqtQMqbwSYoKku
         NPVeJKIUHcoUXX37C9LEeuwCbM4eH36SnZmIMas/WLh7a70pOYw/jn0Qdt5UhT6NhWOl
         HcpzmvSwPpPwvqo33imHrHncVm1Mw/87FRrRZmphztpw4BvJ0P2N7BG4cDvg9awR72bw
         z5twAbGcJ/7N50hbtXYovma0PAcGCZRJBwcxfduY0F9K89l7phvFXY1eDkCRk8QOKvyD
         VzsQ==
X-Gm-Message-State: AN3rC/5+Bpgs4q+Z78j/cGy1L7ltAB+OWjqElLUhxQ/glQRHpUjC94G7
	u2LrzuBYgWE0Zb7NVggvNB+g4O9GrYz2
X-Received: by 10.200.4.140 with SMTP id s12mr1013759qtg.35.1493228172314;
 Wed, 26 Apr 2017 10:36:12 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 26 Apr 2017 10:35:51 -0700 (PDT)
In-Reply-To: <CA+hKCHPPq3K6=5EaCn_XAszKKhopVhcBA27oq8G7zT6+wtdsiQ@mail.gmail.com>
References: <CA+hKCHPPq3K6=5EaCn_XAszKKhopVhcBA27oq8G7zT6+wtdsiQ@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 26 Apr 2017 19:35:51 +0200
Message-ID: <CAGB5yNnu5tKED-R8S5YWTBUrOM-vMtXog3UpcjuiEyAEEYZfbw@mail.gmail.com>
Subject: Re: Prioritize messages based on custom rules
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Can you now assign an unique sequence number that can order them correctly

So that the sequence number are truely unique, also when you say two
objects are equal.

eg try to forget about CAmel and think about what logic you need to
re-order the message in the correct order, eg what the sequence number
should be for each element.

And when you have that then you can use that to assign truely unique
sequence numbers, that the Camel sequencer EIP uses.

On Wed, Apr 26, 2017 at 7:27 PM, Moshe Recanati <re.moshe@gmail.com> wrote:
> Hi,
> I would like to use Camel with resequencer in order prioritize two Java
> Objects based on custom rules.
> I thought about using stream and custom comparator however in most cases
> the objects are equal so Camel is ignoring them.
>
> Do you have an alternative to such requirement? Can I use batch processing
> and custom comparator?
> Any other ideas?
> This is crucial for me, without this ability I'll need to find other
> solution.
>
> Thank you in advance,
> Moshe



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65435-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 17:38:42 2017
Return-Path: <users-return-65435-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 862FF198C6
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 17:38:42 +0000 (UTC)
Received: (qmail 41390 invoked by uid 500); 26 Apr 2017 17:38:42 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 41339 invoked by uid 500); 26 Apr 2017 17:38:42 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 41320 invoked by uid 99); 26 Apr 2017 17:38:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 17:38:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5A1F71B0BC5
	for <users@camel.apache.org>; Wed, 26 Apr 2017 17:38:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.084
X-Spam-Level:
X-Spam-Status: No, score=-1.084 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 9c1gCZjHLJE6 for <users@camel.apache.org>;
	Wed, 26 Apr 2017 17:38:39 +0000 (UTC)
Received: from mail-qk0-f176.google.com (mail-qk0-f176.google.com [209.85.220.176])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 3FAB75F1BA
	for <users@camel.apache.org>; Wed, 26 Apr 2017 17:38:39 +0000 (UTC)
Received: by mail-qk0-f176.google.com with SMTP id f76so7207548qke.2
        for <users@camel.apache.org>; Wed, 26 Apr 2017 10:38:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=li+k5Sqe5RCCq2H4hEAXnNxqFdraFJWFqcegq+9xQuI=;
        b=g5jtI68MN2/qHbw2t4E7pk8tAxI579+Ftk5yQmDffydKlyOgOEXi4FbAG/aojHeYU4
         kT/5EF+MtxG+9H2Tj6l39ye85TzateX8aCFkY87Si7OMz6S9jcPsX6Bh3wF6WcKBmVNG
         aEnffkdhQh4SGYZfG9BTGKOfottAdwUcxYPxPNUZze8tdOiLrnbTLmYWB0nwRT/5fYx+
         cb1ykAT/z6JrDTHOcfXu90VGM7ZXNeMgwcvky9w3LxB39sQ0ZxO14sSQKR1Z7W1EJMWZ
         2qQNt7DwF6DL3rj5mQ+zcP641//DXKSuI+wSvfUN4NTdEj76sYhkbB3BJ07+THlyHXen
         XiOg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=li+k5Sqe5RCCq2H4hEAXnNxqFdraFJWFqcegq+9xQuI=;
        b=Z+F+EB9da111w2FFnzA6pjHZ7aC9MuaGcL3MtYRDjtAlAi8nnB372UtNB5JTqvPB8R
         UaktT47+Eo68a0s0qb668DJm8EGNQ3+fTY+MV8tUOGs3jPO+g5nlPpSwwa8bcc0EEfgj
         vYqDm0U0a0INL3Q8BId30sKZQA9YycuV1caORyuOkz9J3kCixNAoI/8vDXFf+iWpFaSl
         8uDATh+E/6+9/yGmRNez0+LwqqTTEmgrMogKxh7BXarcXVYoMtZJKEYZ55Vx41yHc46a
         WzBZ46zSiLplYaIiCSzujAJTbFUjz7KcNCIJ8UgYBpPHYDWv8j8U3NvLdT80SBwwYR9B
         Zwcg==
X-Gm-Message-State: AN3rC/7mbRWC0mpUMf9sx04VT+RfSC5dFc1Tq4Qimn6Zcl+71KnWo4Gk
	2Z/6VnLOxhttdqWzyIGjuxAvLOMWKEq/
X-Received: by 10.55.54.202 with SMTP id d193mr1048575qka.160.1493228318633;
 Wed, 26 Apr 2017 10:38:38 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Wed, 26 Apr 2017 10:38:18 -0700 (PDT)
In-Reply-To: <CABD_Zr85Dzh4kg9r+KMrO7K4LV31=e4d_scy6w1FcW1YRHKyHA@mail.gmail.com>
References: <1493031301603-5798182.post@n5.nabble.com> <CABD_Zr85Dzh4kg9r+KMrO7K4LV31=e4d_scy6w1FcW1YRHKyHA@mail.gmail.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Wed, 26 Apr 2017 19:38:18 +0200
Message-ID: <CAGB5yNkYUvg1wGNAN27JPxfJbzv4uMd8aZ5O6eJceHDCAXW5zA@mail.gmail.com>
Subject: Re: Guidance to choose "future proof" http consumer/producer components
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

Jetty is known and best used for their HTTP Server.
Not their http client which are "not so good" and not really a high
priority of that company of Jetty.

The jetty consumer is not deprecated, its only the producer (using Camel lingo).



On Wed, Apr 26, 2017 at 5:42 PM, Zoran Regvart <zoran@regvart.com> wrote:
> Hi Sebastian,
> speaking from my experience, the reasoning behind the decision to
> deprecate Jetty producer has to do with the amount of work needed keep
> up with Jetty changes.
>
> As an illustration take a look at the number of upgrade Jetty issues
> on the Camel JIRA[1]. Some of those issues were upgrades of minor
> Jetty versions that introduced braking changes in public API.
>
> I think that going forward you can rely on HTTP Components v4 (http4
> component) as it has a proven track record and we can easily keep up
> with any changes there. Not to mention that it's a Apache Foundation
> project so within our garden.
>
> Undertow producer is not par with features of http4 producer at the
> moment, but will be of significance once it has matured a bit more.
>
> zoran
>
> [1] https://issues.apache.org/jira/browse/CAMEL-2402?jql=project%20%3D%20CAMEL%20AND%20text%20~%20%22upgrade%20jetty%22
>
> On Mon, Apr 24, 2017 at 12:55 PM, sbrandt2 <sb.list@posteo.net> wrote:
>> With the jetty producer surprisingly being deprecated recently via
>> CAMEL-10998 I (and probably a lot of other users) are now in the situation
>> having to plan the migration to another http producer.
>> I'd also like to avoid being in the same situation again in some months
>> having to migrate again.
>>
>> Given the choice of available http related components, I'd like to ask Camel
>> developers for guidance on which http component(s) will be the "main" long
>> time supported http stack for Camel.
>>
>> For producer endpoints, the choice would probably be between: http4,
>> netty4-http, undertow
>> For consumer endpoints: jetty, netty4-http, undertow
>>
>> I'm aware of the dynamics of open source projects, but given the importance
>> of actively developed and supported http producer/consumer endpoints for an
>> integration framework I believe an answer is valuable to Camel users.
>>
>> Also, to assess the urgency of a migration away from jetty producer
>> endpoint, it would be helpful to know if there are serious issues with it.
>> The description in CAMEL-10998 is a bit vague and I didn't find any
>> discussion about the deprecation on the dev forum.
>>
>> Thank you!
>> Sebastian
>>
>>
>>
>> --
>> View this message in context: http://camel.465427.n5.nabble.com/Guidance-to-choose-future-proof-http-consumer-producer-components-tp5798182.html
>> Sent from the Camel - Users mailing list archive at Nabble.com.
>
>
>
> --
> Zoran Regvart



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65436-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 17:40:41 2017
Return-Path: <users-return-65436-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BE2A5198E0
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 17:40:41 +0000 (UTC)
Received: (qmail 46698 invoked by uid 500); 26 Apr 2017 17:40:41 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 46650 invoked by uid 500); 26 Apr 2017 17:40:41 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 46633 invoked by uid 99); 26 Apr 2017 17:40:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 17:40:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 876B9C0DB2
	for <users@camel.apache.org>; Wed, 26 Apr 2017 17:40:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id cVyErsk2cNv9 for <users@camel.apache.org>;
	Wed, 26 Apr 2017 17:40:39 +0000 (UTC)
Received: from mail-lf0-f46.google.com (mail-lf0-f46.google.com [209.85.215.46])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id E563F5F36B
	for <users@camel.apache.org>; Wed, 26 Apr 2017 17:40:38 +0000 (UTC)
Received: by mail-lf0-f46.google.com with SMTP id 88so4431390lfr.0
        for <users@camel.apache.org>; Wed, 26 Apr 2017 10:40:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=vdmW/3boigSbWnVkm8iHTNDde+8r6NW0LNNPxz5pJCE=;
        b=bIoAl18erwcD+UiuwXN8TVCMKqN6KqfVZf3zAnEI1DfZQK3gGQxCUB7hNmHzNhhwKp
         9CsrbcqhpaqYHR9yWzZnHyeVY3UzwTk41q2rjXGNnj9Zmt50bcHbL/5RZY+KepeszUb2
         U1DmEgyexm5SkSQzkvTk/h3ZRifs2I0wfk6B8DS4UEOWOkJ2yhEEdNUjpopfuoM/RQRB
         EvqqfVS/CEbpGRI7YouFyr+Ipk3Mut3Py2vKE5Atq35uLwENKdAJNLRaFQfB6U6iLlrE
         cj6OSGFzNxGtbp2VCj68KGxI7/AqMMqUy960L3z7P3TvMOG9oWqZswDA9AM14vBAAOIm
         V/zQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=vdmW/3boigSbWnVkm8iHTNDde+8r6NW0LNNPxz5pJCE=;
        b=ZpaHKWaRc9CDnqfxi9dzp2CCfikYbmHYL1BwS27sb6NneMmg1tLo9xuHpJK8eYSk3N
         poyM+yX1pMFRjZlzhGiO/P22iNpq+1qjwufUHcumnYkbL105QEGupGfioRNLzx0FAKuU
         TLFiuESbeucIjBYN+yFz1xbOeMO4pZkNwjFm1Z9jdBNa2EknZrds3fusinHK5QK1zrjC
         AELoCYC2ChhgGXLqSuxkwj9J6xDVCbfSFQubRaUFlTmIjxhEGy5polwa6Cxf1LF8t9o8
         MvfZe/FwpPtCROob4VJVqA4S7tKDFloNcucU8rMZjDpJfN35rilLzXTqbkSMwc9mXDwX
         WmDw==
X-Gm-Message-State: AN3rC/4o2v7eWTARRRarY4QC/u32oHAXvijQCIkiWtv1N5D+3b4qVe9D
	C1gzbcKL56ukX3k9kciq5E5wZ3zP1g==
X-Received: by 10.25.168.5 with SMTP id r5mr361979lfe.85.1493228437473; Wed,
 26 Apr 2017 10:40:37 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.25.19.213 with HTTP; Wed, 26 Apr 2017 10:40:16 -0700 (PDT)
In-Reply-To: <CAGB5yNnu5tKED-R8S5YWTBUrOM-vMtXog3UpcjuiEyAEEYZfbw@mail.gmail.com>
References: <CA+hKCHPPq3K6=5EaCn_XAszKKhopVhcBA27oq8G7zT6+wtdsiQ@mail.gmail.com>
 <CAGB5yNnu5tKED-R8S5YWTBUrOM-vMtXog3UpcjuiEyAEEYZfbw@mail.gmail.com>
From: Moshe Recanati <re.moshe@gmail.com>
Date: Wed, 26 Apr 2017 20:40:16 +0300
Message-ID: <CA+hKCHNXb9R5FNnnNusNZLF61PgvEQhb+uzJC+aYtH57aFG=yQ@mail.gmail.com>
Subject: Re: Prioritize messages based on custom rules
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a11401a14958d84054e15566d

--001a11401a14958d84054e15566d
Content-Type: text/plain; charset=UTF-8

Hi Claus,
Thank you.
I tried adding timestamp or enumerator for this sake (as less significant
 'value' of the object), however from some reason once I did it Camel
entered into endless loop with the comperator and duplicates the messages.

Moshe


On Wed, Apr 26, 2017 at 8:35 PM, Claus Ibsen <claus.ibsen@gmail.com> wrote:

> Can you now assign an unique sequence number that can order them correctly
>
> So that the sequence number are truely unique, also when you say two
> objects are equal.
>
> eg try to forget about CAmel and think about what logic you need to
> re-order the message in the correct order, eg what the sequence number
> should be for each element.
>
> And when you have that then you can use that to assign truely unique
> sequence numbers, that the Camel sequencer EIP uses.
>
> On Wed, Apr 26, 2017 at 7:27 PM, Moshe Recanati <re.moshe@gmail.com>
> wrote:
> > Hi,
> > I would like to use Camel with resequencer in order prioritize two Java
> > Objects based on custom rules.
> > I thought about using stream and custom comparator however in most cases
> > the objects are equal so Camel is ignoring them.
> >
> > Do you have an alternative to such requirement? Can I use batch
> processing
> > and custom comparator?
> > Any other ideas?
> > This is crucial for me, without this ability I'll need to find other
> > solution.
> >
> > Thank you in advance,
> > Moshe
>
>
>
> --
> Claus Ibsen
> -----------------
> http://davsclaus.com @davsclaus
> Camel in Action 2: https://www.manning.com/ibsen2
>

--001a11401a14958d84054e15566d--

From users-return-65437-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 18:14:48 2017
Return-Path: <users-return-65437-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AE05119ADE
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 18:14:48 +0000 (UTC)
Received: (qmail 40132 invoked by uid 500); 26 Apr 2017 18:14:48 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 40085 invoked by uid 500); 26 Apr 2017 18:14:48 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 40066 invoked by uid 99); 26 Apr 2017 18:14:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 18:14:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 83375C1AEA
	for <users@camel.apache.org>; Wed, 26 Apr 2017 18:14:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.486
X-Spam-Level: *****
X-Spam-Status: No, score=5.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id c3od8POu2GGM for <users@camel.apache.org>;
	Wed, 26 Apr 2017 18:14:45 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 8DB515F306
	for <users@camel.apache.org>; Wed, 26 Apr 2017 18:14:44 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 036A93CEE0CA9
	for <users@camel.apache.org>; Wed, 26 Apr 2017 11:14:44 -0700 (MST)
Date: Wed, 26 Apr 2017 11:14:44 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs1pnGYus_+8dV9gTqNujjvSMF5rJDtFWCqBsHa_k=5xxA@mail.gmail.com>
In-Reply-To: <1493225930592-5798339.post@n5.nabble.com>
References: <1493225930592-5798339.post@n5.nabble.com>
Subject: Re: camel splitter
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_101388_1047075667.1493230484009"

------=_Part_101388_1047075667.1493230484009
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Since it seems your file has a well defined structure, why not map it to
bindy or csv dataformat first.

Then you will have a list of rows which you can filter out in some way.

But do you know in advance how many type of collections you are interested
in?

On Wed, Apr 26, 2017 at 6:58 PM, Gary [via Camel] <
ml+s465427n5798339h72@n5.nabble.com> wrote:

> hello, thanks in advance, just looking for advice with camel, pondering
> ideal approach.
>
> I have big data files, that need to be split in to their own iostreams or
> files based on a field in the inbound message.
>
> example: message:
> 9VXI1148,2/15/2016 9:55,Hydraulic Brake Temperature,0
> 9VXI1148,2/15/2016 9:55,HP Feedback,262.7061768 <(262)%20706-1768>
> 8TI999,2/15/2016 12:36,Hydraulic Brake Temperature,0
> 8TI999,2/15/2016 12:36,HP Feedback,762.9597778 <(762)%20959-7778>
> TE1430B,2/15/2016 12:36,Hydraulic Brake Temperature,0
> TE1430B,2/15/2016 12:36,HP Feedback,5.79165554
> 9TI1151,2/15/2016 12:25,Hydraulic Brake Temperature,0
> 9TI1151,2/15/2016 12:25,HP Feedback,1952.955078
> ...
>
> I need to split the message based on the first field/column in the csv. so
> the output would be separate collections lists on the exchange such as
>
> split 1 ( all records holding 9VXI1148 )
> split 2 ( all records holding 8TI999 )
> split 3 ( all records holding TE1430B )
> etc...
>
> is there an easy approach for camel to do this? I somehow, need to get
> ahold of field 1 of each record and build a collection and send it out when
> done. what is an approach to get the pivot field from the message and then
> form out bound collections?
>
> thank you
> Gary Lee Mills
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/camel-splitter-tp5798339.html
> To start a new topic under Camel - Users, email ml+s465427n465428h31@n5.
> nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/camel-splitter-tp5798339p5798358.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_101388_1047075667.1493230484009--

From users-return-65438-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 20:08:45 2017
Return-Path: <users-return-65438-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D5CA118085
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 20:08:45 +0000 (UTC)
Received: (qmail 65008 invoked by uid 500); 26 Apr 2017 20:08:45 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 64960 invoked by uid 500); 26 Apr 2017 20:08:45 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 64948 invoked by uid 99); 26 Apr 2017 20:08:45 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 20:08:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C9F96C0FCA
	for <users@camel.apache.org>; Wed, 26 Apr 2017 20:08:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.813
X-Spam-Level: **
X-Spam-Status: No, score=2.813 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=0.5,
	RCVD_IN_DNSWL_NONE=-0.0001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id O2QxngOedZUQ for <users@camel.apache.org>;
	Wed, 26 Apr 2017 20:08:44 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id F013B5FCAC
	for <users@camel.apache.org>; Wed, 26 Apr 2017 20:08:43 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 740E23CF37577
	for <users@camel.apache.org>; Wed, 26 Apr 2017 13:08:43 -0700 (MST)
Date: Wed, 26 Apr 2017 13:08:43 -0700 (MST)
From: Gary <gary.mills@ge.com>
To: users@camel.apache.org
Message-ID: <1493237323470-5798362.post@n5.nabble.com>
In-Reply-To: <CA+wbgs1pnGYus_+8dV9gTqNujjvSMF5rJDtFWCqBsHa_k=5xxA@mail.gmail.com>
References: <1493225930592-5798339.post@n5.nabble.com> <CA+wbgs1pnGYus_+8dV9gTqNujjvSMF5rJDtFWCqBsHa_k=5xxA@mail.gmail.com>
Subject: Re: camel splitter
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

hi, and thanks !

But do you know in advance how many type of collections you are interested
in?

No. each customers data packets will be different. and the asset or the
first column/field is a reference to the asset. it will always be dynamic
and variable. 



-----
Gary Lee Mills
--
View this message in context: http://camel.465427.n5.nabble.com/camel-splitter-tp5798339p5798362.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65439-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 20:27:09 2017
Return-Path: <users-return-65439-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 990EA1814B
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 20:27:09 +0000 (UTC)
Received: (qmail 3057 invoked by uid 500); 26 Apr 2017 20:27:08 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 2988 invoked by uid 500); 26 Apr 2017 20:27:08 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 95897 invoked by uid 99); 26 Apr 2017 20:25:05 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Wed, 26 Apr 2017 13:25:03 -0700 (MST)
From: "ayache.k" <ayache.khettar@gmail.com>
To: users@camel.apache.org
Message-ID: <1493238303801-5798363.post@n5.nabble.com>
In-Reply-To: <7B8E5148-F369-4CDE-96B0-A1F34C9B796E@icloud.com>
References: <1493209982537-5798321.post@n5.nabble.com> <7B8E5148-F369-4CDE-96B0-A1F34C9B796E@icloud.com>
Subject: Re: XMLSecurity not generating
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks for your reply. My query is around Camel XML security component. I
wanted to know if it is possible to generate the *X509Certificate* element
in the *Signature* element - see below example.
Of course I can use Java API/Bouncycastle to generate, but that's last
resort.

 <Signature xmlns="http://www.w3.org/2000/09/xmldsig#">
  <SignedInfo>
   <CanonicalizationMethod
    Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/>
   <SignatureMethod
    Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/>
   <Reference URI="">
    <Transforms>
     <Transform
      Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/>
    </Transforms>
    <DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
    <DigestValue>tVicGh6V+8cHbVYFIU91o5+L3OQ=</DigestValue>
   </Reference>
  </SignedInfo>
  <SignatureValue>
   dJDHiGQMaKN8iPuWApAL57eVnxz2BQtyujwfPSgE7HyKoxYtoRB97ocxZ
   8ZU440wHtE39ZwRGIjvwor3WfURxnIgnI1CChMXXwoGpHH//Zc0z4ejaz
   DuCNEq4Mm4OUVTiEVuwcWAOMkfDHaM82awYQiOGcwMbZe38UX0oPJ2DOE=
  </SignatureValue>
  <KeyInfo>
   <X509Data>
    <X509SubjectName>
     CN=My Name,O=Test Certificates Inc.,C=US
    </X509SubjectName>
    <X509Certificate>
     MIIB9zCCAWCgAwIBAgIERZwdkzANBgkqhkiG9w0BAQUFADBAMQswCQYD
     VQQGEwJVUzEfMB0GA1UEChMWVGVzdCBDZXJ0aWZpY2F0ZXMgSW5jLjEQ
     MA4GA1UEAxMHTXkgTmFtZTAeFw0wNzAxMDMyMTE4MTFaFw0zMTA4MjUy
     ...
    </X509Certificate>
   </X509Data>
  </KeyInfo>
 </Signature>



--
View this message in context: http://camel.465427.n5.nabble.com/XMLSecurity-not-generating-tp5798321p5798363.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65440-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 20:52:11 2017
Return-Path: <users-return-65440-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 61F131823E
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 20:52:11 +0000 (UTC)
Received: (qmail 57024 invoked by uid 500); 26 Apr 2017 20:52:10 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 56978 invoked by uid 500); 26 Apr 2017 20:52:10 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 45251 invoked by uid 99); 26 Apr 2017 20:45:38 -0000
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.313
X-Spam-Level: **
X-Spam-Status: No, score=2.313 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	URI_HEX=1.313] autolearn=disabled
Date: Wed, 26 Apr 2017 13:45:33 -0700 (MST)
From: Tim Jones <tim.jones@mccarthy.co.nz>
To: users@camel.apache.org
Message-ID: <1493239533495-5798364.post@n5.nabble.com>
In-Reply-To: <CAGB5yNnAzMmkG3GMp9kdtoZU9qTXTYBa5UjERHJZpcXQspnRNQ@mail.gmail.com>
References: <1493163877483-5798277.post@n5.nabble.com> <CAGB5yNnAzMmkG3GMp9kdtoZU9qTXTYBa5UjERHJZpcXQspnRNQ@mail.gmail.com>
Subject: Re: Spring Remoting with JMS >V2.16 issue with binding to correct
 method
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks Claus.

for others in the dark the change needed to enable the Spring Remoting
example to work >2.16.x (effected by CAMEL-5402) with multiple methods is to
camel-client-remoting.xml adding binding="false" as follows

    <camel:proxy
      id="multiplierProxy"
      binding="false"
      serviceInterface="org.apache.camel.example.server.Multiplier"
      serviceUrl="jms:queue:numbers"/>



--
View this message in context: http://camel.465427.n5.nabble.com/Spring-Remoting-with-JMS-V2-16-issue-with-binding-to-correct-method-tp5798277p5798364.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65441-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 21:41:04 2017
Return-Path: <users-return-65441-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 10D3418558
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 21:41:04 +0000 (UTC)
Received: (qmail 78457 invoked by uid 500); 26 Apr 2017 21:41:03 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 78411 invoked by uid 500); 26 Apr 2017 21:41:03 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 78400 invoked by uid 99); 26 Apr 2017 21:41:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 21:41:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E80D8188C40
	for <users@camel.apache.org>; Wed, 26 Apr 2017 21:41:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.313
X-Spam-Level: **
X-Spam-Status: No, score=2.313 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id rc1pXpY1vi85 for <users@camel.apache.org>;
	Wed, 26 Apr 2017 21:41:02 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id D890E5F177
	for <users@camel.apache.org>; Wed, 26 Apr 2017 21:41:01 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 821CD3CF760E7
	for <users@camel.apache.org>; Wed, 26 Apr 2017 14:41:01 -0700 (MST)
Date: Wed, 26 Apr 2017 14:41:01 -0700 (MST)
From: Gary <gary.mills@ge.com>
To: users@camel.apache.org
Message-ID: <1493242861527-5798365.post@n5.nabble.com>
In-Reply-To: <1493237323470-5798362.post@n5.nabble.com>
References: <1493225930592-5798339.post@n5.nabble.com> <CA+wbgs1pnGYus_+8dV9gTqNujjvSMF5rJDtFWCqBsHa_k=5xxA@mail.gmail.com> <1493237323470-5798362.post@n5.nabble.com>
Subject: Re: camel splitter
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I'm thinking about something like this, first get the tokens from the message
body, then split them based on this list of tokens. psuedo code: using beans
in the route for split.
what do you think on this, was hoping for a cleaner approach. thanks!

public class AssetSplitterBean {

	    public List<String> splitBody(String body, Exchange exchange) {	
	    	
	        List<String> serviceRecords = new ArrayList<String>();
	        
	        List<String> tokens =
(List<String>)exchange.getProperty("splitTokens");
	        for ( String token : tokens ){
	        	String[] records = body.split(token);
	        	for (String record : records) {
		            serviceRecords.add(record);
		        }
	        }
	        return serviceRecords;
	    }

    public Object initSplitTokens(Exchange exchange) {
    	exchange.setProperty("splitTokens", new ArrayList<String>());
        return exchange.getIn().getBody();
    }

    public Object addToken(Exchange exchange) {
    	
    	String payload = exchange.getIn().getBody(String.class);
		
    	Scanner sc = new Scanner(payload).useDelimiter("\r\n|\n");
		while(sc.hasNextLine()){
			String line = sc.nextLine();
			String[] aa = line.split(",");
			List<String> tokens = (List<String>)exchange.getProperty("splitTokens");
			if ( !tokens.contains(aa[0]) ){
				((List<String>)exchange.getProperty("splitTokens")).add(aa[0]);
			}			
		} sc.close();
        
        return null;
    }
   
} 



-----
Gary Lee Mills
--
View this message in context: http://camel.465427.n5.nabble.com/camel-splitter-tp5798339p5798365.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65442-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 22:30:34 2017
Return-Path: <users-return-65442-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ABFC8186DB
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 22:30:34 +0000 (UTC)
Received: (qmail 59885 invoked by uid 500); 26 Apr 2017 22:30:34 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 59837 invoked by uid 500); 26 Apr 2017 22:30:34 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 59825 invoked by uid 99); 26 Apr 2017 22:30:33 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 22:30:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 89A06C17B0
	for <users@camel.apache.org>; Wed, 26 Apr 2017 22:30:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.486
X-Spam-Level: *****
X-Spam-Status: No, score=5.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id hxvpyx0UJjGk for <users@camel.apache.org>;
	Wed, 26 Apr 2017 22:30:31 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 0C88B5F405
	for <users@camel.apache.org>; Wed, 26 Apr 2017 22:30:31 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 9AB0C3CF9D2DE
	for <users@camel.apache.org>; Wed, 26 Apr 2017 15:30:29 -0700 (MST)
Date: Wed, 26 Apr 2017 15:30:29 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs0WDWn=QprO4S6Vcby1uZfe7eToMfKrbib00c_pBNbs7w@mail.gmail.com>
In-Reply-To: <1493242861527-5798365.post@n5.nabble.com>
References: <1493225930592-5798339.post@n5.nabble.com> <CA+wbgs1pnGYus_+8dV9gTqNujjvSMF5rJDtFWCqBsHa_k=5xxA@mail.gmail.com> <1493237323470-5798362.post@n5.nabble.com> <1493242861527-5798365.post@n5.nabble.com>
Subject: Re: camel splitter
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_108288_1679895142.1493245829629"

------=_Part_108288_1679895142.1493245829629
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

That could work for sure.

But would an alternative solution be to read the body and store the records
in a multimap structure (google guava's multimap).

For instance:

Split by new line
   Extract the first column separated by a comma
   Search in multimap if the key exist
       if key exist save the line as a value to that key
       if key is not found create a new entry with the column as key and
line as value

I guess it depends on how big the structure will grow. But yeah, could work
as an alternative.

Best
Souciance

On Wed, Apr 26, 2017 at 11:41 PM, Gary [via Camel] <
ml+s465427n5798365h78@n5.nabble.com> wrote:

> I'm thinking about something like this, first get the tokens from the
> message body, then split them based on this list of tokens. psuedo code:
> using beans in the route for split.
> what do you think on this, was hoping for a cleaner approach. thanks!
>
> public class AssetSplitterBean {
>
>             public List<String> splitBody(String body, Exchange exchange)
> {
>
>                 List<String> serviceRecords = new ArrayList<String>();
>
>                 List<String> tokens = (List<String>)exchange.getProperty("splitTokens");
>
>                 for ( String token : tokens ){
>                 String[] records = body.split(token);
>                 for (String record : records) {
>                             serviceRecords.add(record);
>                         }
>                 }
>                 return serviceRecords;
>             }
>
>     public Object initSplitTokens(Exchange exchange) {
>     exchange.setProperty("splitTokens", new ArrayList<String>());
>         return exchange.getIn().getBody();
>     }
>
>     public Object addToken(Exchange exchange) {
>
>     String payload = exchange.getIn().getBody(String.class);
>
>     Scanner sc = new Scanner(payload).useDelimiter("\r\n|\n");
>                 while(sc.hasNextLine()){
>                         String line = sc.nextLine();
>                         String[] aa = line.split(",");
>                         List<String> tokens = (List<String>)exchange.getProperty("splitTokens");
>
>                         if ( !tokens.contains(aa[0]) ){
>                                 ((List<String>)exchange.
> getProperty("splitTokens")).add(aa[0]);
>                         }
>                 } sc.close();
>
>         return null;
>     }
>
> }
> Gary Lee Mills
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/camel-splitter-tp5798339p5798365.html
> To start a new topic under Camel - Users, email ml+s465427n465428h31@n5.
> nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/camel-splitter-tp5798339p5798366.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_108288_1679895142.1493245829629--

From users-return-65443-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Wed Apr 26 23:08:18 2017
Return-Path: <users-return-65443-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 552A11893F
	for <apmail-camel-users-archive@www.apache.org>; Wed, 26 Apr 2017 23:08:18 +0000 (UTC)
Received: (qmail 32722 invoked by uid 500); 26 Apr 2017 23:08:17 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 32671 invoked by uid 500); 26 Apr 2017 23:08:17 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 32660 invoked by uid 99); 26 Apr 2017 23:08:17 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Apr 2017 23:08:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 359DB188BC1
	for <users@camel.apache.org>; Wed, 26 Apr 2017 23:08:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.188
X-Spam-Level: ****
X-Spam-Status: No, score=4.188 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FORGED_YAHOO_RCVD=1.022,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id iGk4Oacob2lN for <users@camel.apache.org>;
	Wed, 26 Apr 2017 23:08:15 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id A3E6B5FAC9
	for <users@camel.apache.org>; Wed, 26 Apr 2017 23:08:13 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 8705E3CFB4B65
	for <users@camel.apache.org>; Wed, 26 Apr 2017 16:08:12 -0700 (MST)
Date: Wed, 26 Apr 2017 16:08:12 -0700 (MST)
From: Ryan T <bratnmw@yahoo.com>
To: users@camel.apache.org
Message-ID: <1493248092547-5798367.post@n5.nabble.com>
In-Reply-To: <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com>
References: <1490738690185-5796669.post@n5.nabble.com> <CA+wbgs0O0gqi6WuLZfk48a0fxL4gcZrbwTP=3qs5ULJLsPt3qw@mail.gmail.com> <1490822278842-5796719.post@n5.nabble.com> <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com>
Subject: Re: Help diagnosing camel exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

More code that might help in diagnosing the issue.  What do you think could
be happening?





--
View this message in context: http://camel.465427.n5.nabble.com/Help-diagnosing-camel-exception-tp5796669p5798367.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65444-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 06:26:31 2017
Return-Path: <users-return-65444-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4404E197E8
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 06:26:31 +0000 (UTC)
Received: (qmail 19740 invoked by uid 500); 27 Apr 2017 06:26:30 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 19688 invoked by uid 500); 27 Apr 2017 06:26:30 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 19677 invoked by uid 99); 27 Apr 2017 06:26:30 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 06:26:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D0284188C47
	for <users@camel.apache.org>; Thu, 27 Apr 2017 06:26:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.487
X-Spam-Level: ***
X-Spam-Status: No, score=3.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id QLBZt2YdV1Kr for <users@camel.apache.org>;
	Thu, 27 Apr 2017 06:26:28 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 5FEE65F297
	for <users@camel.apache.org>; Thu, 27 Apr 2017 06:26:27 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 978863D0F4D6B
	for <users@camel.apache.org>; Wed, 26 Apr 2017 23:26:26 -0700 (MST)
Date: Wed, 26 Apr 2017 23:26:26 -0700 (MST)
From: "jan.schjoenning" <jan.schjoenning@gmail.com>
To: users@camel.apache.org
Message-ID: <1493274386579-5798372.post@n5.nabble.com>
Subject: header message show different values in log statements
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Given following route :

		from("direct:TranslateEpgData")
		.routeId("TranslateEpgData")
		.setHeader("xxx", constant("xxx"))
		   .to("log:?showAll=true&multiline=true")
		   .log("serviceId = ${header.serviceId}, scheduleStart =
${header.scheduleStart}, scheduleEnd = ${header.scheduleEnd}, originId =
${header.originId}")  
		   .to("log:?showAll=true&multiline=true")
		   .to("xslt:whatson_to_tvanytime.xsl")
		   .log("${body}");

1. log of ${header.serviceId} =
serviceId=com.sun.org.apache.xml.internal.dtm.ref.DTMNodeList@7e5afaa6

2. log of ${header.serviceId} = TV2ZULU

3. log of ${header.serviceId} =
serviceId=com.sun.org.apache.xml.internal.dtm.ref.DTMNodeList@7e5afaa6

As flow states no changes between , why do i have this difference ?


actual Output:
[main] INFO  - Exchange[
, Id: ID-mac161892-local-54873-1493272656658-1-6
, ExchangePattern: InOnly
, Properties: {CamelAggregationStrategy={Splitter[on: XPath:
//tva:ServiceInformation to:
Channel[Multicast[[Channel[sendTo(Endpoint[direct://step2])]]]] aggregate:
null]=UseOriginalAggregationStrategy}, CamelBatchComplete=true,
CamelBatchIndex=0, CamelBatchSize=1,
CamelCorrelationId=ID-mac161892-local-54873-1493272656658-1-4,
CamelCreatedTimestamp=Thu Apr 27 07:57:37 CEST 2017,
CamelFileExchangeFile=RemoteFile[TV2ZULU.xml],
CamelMessageHistory=[DefaultMessageHistory[routeId=MEnrichWithTV2Channels,
node=multicast1], DefaultMessageHistory[routeId=MEnrichWithTV2Channels,
node=to6], DefaultMessageHistory[routeId=MEnrichWithEpgData,
node=setHeader9], DefaultMessageHistory[routeId=MEnrichWithEpgData,
node=setHeader10], DefaultMessageHistory[routeId=MEnrichWithEpgData,
node=log11], DefaultMessageHistory[routeId=MEnrichWithEpgData, node=log12],
DefaultMessageHistory[routeId=MEnrichWithEpgData, node=to7],
DefaultMessageHistory[routeId=EnrichWithEpgData, node=log1],
DefaultMessageHistory[routeId=EnrichWithEpgData, node=log2],
DefaultMessageHistory[routeId=EnrichWithEpgData, node=pollEnrich1],
DefaultMessageHistory[routeId=EnrichWithEpgData, node=log3],
DefaultMessageHistory[routeId=MEnrichWithEpgData, node=to8],
DefaultMessageHistory[routeId=MTranslateEpgData, node=log13],
DefaultMessageHistory[routeId=MTranslateEpgData, node=log14],
DefaultMessageHistory[routeId=MTranslateEpgData, node=log15],
DefaultMessageHistory[routeId=MTranslateEpgData, node=log16],
DefaultMessageHistory[routeId=MTranslateEpgData, node=to9],
DefaultMessageHistory[routeId=TranslateEpgData, node=setHeader1],
DefaultMessageHistory[routeId=TranslateEpgData, node=to1]],
CamelMulticastComplete=true, CamelMulticastIndex=0, CamelSplitComplete=true,
CamelSplitIndex=0, CamelSplitSize=1,
CamelStreamCacheUnitOfWork=DefaultUnitOfWork,
CamelToEndpoint=log://?multiline=true&showAll=true}
, Headers: {breadcrumbId=ID-mac161892-local-54873-1493272656658-1-1,
channelId=com.sun.org.apache.xml.internal.dtm.ref.DTMNodeList@483f6d77,
originId=Whatson, scheduleDate=2017-04-27, scheduleEnd=2017-04-28 06:00:00,
scheduleStart=2017-04-27 06:00:00,
serviceId=com.sun.org.apache.xml.internal.dtm.ref.DTMNodeList@7e5afaa6,
xxx=xxx}
, BodyType: org.apache.camel.component.file.remote.RemoteFile
, Body: [Body is file based: RemoteFile[TV2ZULU.xml]]
, Out: null: 
]
[main] INFO TranslateEpgData - serviceId = TV2ZULU, scheduleStart =
2017-04-27 06:00:00, scheduleEnd = 2017-04-28 06:00:00, originId = Whatson
[main] INFO  - Exchange[
, Id: ID-mac161892-local-54873-1493272656658-1-6
, ExchangePattern: InOnly
, Properties: {CamelAggregationStrategy={Splitter[on: XPath:
//tva:ServiceInformation to:
Channel[Multicast[[Channel[sendTo(Endpoint[direct://step2])]]]] aggregate:
null]=UseOriginalAggregationStrategy}, CamelBatchComplete=true,
CamelBatchIndex=0, CamelBatchSize=1,
CamelCorrelationId=ID-mac161892-local-54873-1493272656658-1-4,
CamelCreatedTimestamp=Thu Apr 27 07:57:37 CEST 2017,
CamelFileExchangeFile=RemoteFile[TV2ZULU.xml],
CamelMessageHistory=[DefaultMessageHistory[routeId=MEnrichWithTV2Channels,
node=multicast1], DefaultMessageHistory[routeId=MEnrichWithTV2Channels,
node=to6], DefaultMessageHistory[routeId=MEnrichWithEpgData,
node=setHeader9], DefaultMessageHistory[routeId=MEnrichWithEpgData,
node=setHeader10], DefaultMessageHistory[routeId=MEnrichWithEpgData,
node=log11], DefaultMessageHistory[routeId=MEnrichWithEpgData, node=log12],
DefaultMessageHistory[routeId=MEnrichWithEpgData, node=to7],
DefaultMessageHistory[routeId=EnrichWithEpgData, node=log1],
DefaultMessageHistory[routeId=EnrichWithEpgData, node=log2],
DefaultMessageHistory[routeId=EnrichWithEpgData, node=pollEnrich1],
DefaultMessageHistory[routeId=EnrichWithEpgData, node=log3],
DefaultMessageHistory[routeId=MEnrichWithEpgData, node=to8],
DefaultMessageHistory[routeId=MTranslateEpgData, node=log13],
DefaultMessageHistory[routeId=MTranslateEpgData, node=log14],
DefaultMessageHistory[routeId=MTranslateEpgData, node=log15],
DefaultMessageHistory[routeId=MTranslateEpgData, node=log16],
DefaultMessageHistory[routeId=MTranslateEpgData, node=to9],
DefaultMessageHistory[routeId=TranslateEpgData, node=setHeader1],
DefaultMessageHistory[routeId=TranslateEpgData, node=to1],
DefaultMessageHistory[routeId=TranslateEpgData, node=log4],
DefaultMessageHistory[routeId=TranslateEpgData, node=to2]],
CamelMulticastComplete=true, CamelMulticastIndex=0, CamelSplitComplete=true,
CamelSplitIndex=0, CamelSplitSize=1,
CamelStreamCacheUnitOfWork=DefaultUnitOfWork,
CamelToEndpoint=log://?multiline=true&showAll=true}
, Headers: {breadcrumbId=ID-mac161892-local-54873-1493272656658-1-1,
channelId=com.sun.org.apache.xml.internal.dtm.ref.DTMNodeList@483f6d77,
originId=Whatson, scheduleDate=2017-04-27, scheduleEnd=2017-04-28 06:00:00,
scheduleStart=2017-04-27 06:00:00,
serviceId=com.sun.org.apache.xml.internal.dtm.ref.DTMNodeList@7e5afaa6,
xxx=xxx}
, BodyType: org.apache.camel.component.file.remote.RemoteFile
, Body: [Body is file based: RemoteFile[TV2ZULU.xml]]
, Out: null: 
]



--
View this message in context: http://camel.465427.n5.nabble.com/header-message-show-different-values-in-log-statements-tp5798372.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65445-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 11:12:16 2017
Return-Path: <users-return-65445-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2EED1833F
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 11:12:16 +0000 (UTC)
Received: (qmail 36606 invoked by uid 500); 27 Apr 2017 11:12:11 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 36557 invoked by uid 500); 27 Apr 2017 11:12:11 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 36545 invoked by uid 99); 27 Apr 2017 11:12:11 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 11:12:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C994BC02C4
	for <users@camel.apache.org>; Thu, 27 Apr 2017 11:12:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.487
X-Spam-Level: *****
X-Spam-Status: No, score=5.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id PR34V7LbWBhn for <users@camel.apache.org>;
	Thu, 27 Apr 2017 11:12:09 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 7C9385FC7E
	for <users@camel.apache.org>; Thu, 27 Apr 2017 11:12:09 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 133743D1C7F85
	for <users@camel.apache.org>; Thu, 27 Apr 2017 04:12:08 -0700 (MST)
Date: Thu, 27 Apr 2017 04:12:08 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs1N7UAdQSAqn9LPa04+wfsb3VTQUseqD4aNNyM0Vviq5Q@mail.gmail.com>
In-Reply-To: <1493248092547-5798367.post@n5.nabble.com>
References: <1490738690185-5796669.post@n5.nabble.com> <CA+wbgs0O0gqi6WuLZfk48a0fxL4gcZrbwTP=3qs5ULJLsPt3qw@mail.gmail.com> <1490822278842-5796719.post@n5.nabble.com> <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com> <1493248092547-5798367.post@n5.nabble.com>
Subject: Re: Help diagnosing camel exception
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_117711_918218895.1493291528074"

------=_Part_117711_918218895.1493291528074
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello,

Not the easiest route to follow ;) But basically the log seems to say that
you are doing a synchronous action over some protocol and waiting for a
response. You fail to get the response within 30000 milliseconds so you get
a timeout exception. I suspect it is in the bean(iJobService) based on the
logs but can't confirm. Do you do any calls to third party systems in that
bean?

Best
Souciance

On Thu, Apr 27, 2017 at 1:08 AM, Ryan T [via Camel] <
ml+s465427n5798367h40@n5.nabble.com> wrote:

> More code that might help in diagnosing the issue.  What do you think
> could be happening?
>
> public class TimeOutErrorProcessor implements Processor {
>
> 	private static final Logger LOGGER = LogManager.getLogger(TimeOutErrorProcessor.class.getName());
>
> 	public TimeOutErrorProcessor() {
> 		// Empty Constructor
> 	}
>
> 	@Override
> 	public void process(Exchange exchange) throws Exception {
>
> 		LOGGER.debug("Begin:TimeOutErrorProcessor");
> 		String trackingId = "";
>
> 		final List<DeviceInformation> timeOutList = (List<DeviceInformation>) exchange.getProperty(IConstant.TIMEOUT_DEVICE_LIST);
> 		final DeviceInformation deviceInformation = (DeviceInformation) exchange.getIn().getBody();
> 		trackingId = "[" + deviceInformation.getNetSuiteId() + "] - ";
> 		printTimeoutDetails(exchange, trackingId);
> 		LOGGER.warn(trackingId + " NetSuite Id of timeOut Device is................" + deviceInformation.getNetSuiteId());
>
> 		timeOutList.add(deviceInformation);
> 		exchange.setProperty(IConstant.TIMEOUT_DEVICE_LIST, timeOutList);
> 		
> 		LOGGER.debug("End:TimeOutErrorProcessor");
> 	}
>
> 	private static void printTimeoutDetails(Exchange exchange, String midwayId) {
> 		LOGGER.warn(midwayId + " Id");
> 		LOGGER.warn(midwayId + " CamelFailureRouteId: " + exchange.getProperty("CamelFailureRouteId"));
> 		LOGGER.warn(midwayId + " CamelFailureEndpoint: " + exchange.getProperty("CamelFailureEndpoint"));
> 		RouteContext routeContext = (exchange.getUnitOfWork() == null || exchange.getUnitOfWork().getRouteContext() == null) ? null : exchange.getUnitOfWork().getRouteContext();
> 		String routeId =  routeContext != null ? exchange.getUnitOfWork().getRouteContext().getRoute().getId() : "Unknown";
> 		LOGGER.warn(midwayId + " RouteId: " + routeId);
> 		final ExchangeTimedOutException ex = (ExchangeTimedOutException) exchange.getProperty(Exchange.EXCEPTION_CAUGHT);
> 		if (ex != null) {
> 			LOGGER.warn(midwayId + " Error: " + ex.getMessage(), ex);
> 		}
> 		LOGGER.warn(midwayId + " TimeOut exception occurred................" + exchange.getIn().getBody().toString());
> 	}
> }
>
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Help-diagnosing-camel-
> exception-tp5796669p5798367.html
> To start a new topic under Camel - Users, email ml+s465427n465428h31@n5.
> nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Help-diagnosing-camel-exception-tp5796669p5798401.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_117711_918218895.1493291528074--

From users-return-65446-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 11:15:48 2017
Return-Path: <users-return-65446-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 02A0918358
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 11:15:48 +0000 (UTC)
Received: (qmail 49787 invoked by uid 500); 27 Apr 2017 11:15:46 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 49745 invoked by uid 500); 27 Apr 2017 11:15:46 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 49734 invoked by uid 99); 27 Apr 2017 11:15:46 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 11:15:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E5A36C074C
	for <users@camel.apache.org>; Thu, 27 Apr 2017 11:15:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.314
X-Spam-Level: **
X-Spam-Status: No, score=2.314 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 0IapAlTjB42S for <users@camel.apache.org>;
	Thu, 27 Apr 2017 11:15:44 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 167C95FC1C
	for <users@camel.apache.org>; Thu, 27 Apr 2017 11:15:43 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 98C9E3D1C8053
	for <users@camel.apache.org>; Thu, 27 Apr 2017 04:15:43 -0700 (MST)
Date: Thu, 27 Apr 2017 04:15:43 -0700 (MST)
From: owain <owain@integration.technology>
To: users@camel.apache.org
Message-ID: <1493291743620-5798402.post@n5.nabble.com>
Subject: 2.18.3 - Rest DSL MockEndpoint - second unit test weaveByToUri
 fails with "no output which matches: direct:RouteB in the Route(getRoute)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I have discovered an issue when I run multiple tests on a route using
weaveByToUri on the same endpoint.  I have it replicated in my sample app.
https://github.com/owain68/camel-spring-boot-examples

It looks as though the .replace() replaces the endpoint for the whole test
class, not just the individual test.  
Each test passes individually but mockTestOneNotFound() fails when both are
run together.  If I comment out the weaveByToUri in mockTestOneNotFound()
then both tests pass when run together.

Is this something to do with the routes being generated by Rest DSL and then
not being regenerated for each test?  I can't think of anything else.

The route is. RestRoute

@Override
public void configure() throws Exception {

rest("/")
.get("{body}")
.id("getRoute")
.produces("application/json")
.to("direct:RouteB");
}

and the test class is: RestMockTests

@RunWith(CamelSpringBootRunner.class)
@MockEndpoints
@UseAdviceWith
@SpringBootTest(classes =
mydomain.springbootcamel.SpringBootCamelExamples.class, webEnvironment =
SpringBootTest.WebEnvironment.RANDOM_PORT)
public class RestMockTests {

@Autowired
private CamelContext camelContext;

@Autowired
private TestRestTemplate restTemplate;

@Test
public void mockTestOneNotFound() throws Exception {

camelContext.getRouteDefinition("getRoute")
.adviceWith(camelContext, new AdviceWithRouteBuilder() {
@Override
public void configure() throws Exception {
// send the outgoing message to mock
weaveByToUri("direct:RouteB").replace().inOut("mock:routeB");
}
});

camelContext.start();
MockEndpoint mockOut = camelContext.getEndpoint("mock:routeB",
MockEndpoint.class);
mockOut.expectedMessageCount(0);
ResponseEntity<String> response = restTemplate.getForEntity("/dummy",
String.class);
mockOut.assertIsSatisfied();
assertThat(response.getStatusCode()).isEqualTo(HttpStatus.NOT_FOUND);
}

@Test
public void mockTestTwoFound() throws Exception {

camelContext.getRouteDefinition("getRoute")
.adviceWith(camelContext, new AdviceWithRouteBuilder() {
@Override
public void configure() throws Exception {
// send the outgoing message to mock
weaveByToUri("direct:RouteB").replace().inOut("mock:routeB");
}
});

camelContext.start();
MockEndpoint mockOut = camelContext.getEndpoint("mock:routeB",
MockEndpoint.class);
mockOut.expectedMessageCount(1);
ResponseEntity<String> response =
restTemplate.getForEntity("/api/something", String.class);
mockOut.assertIsSatisfied();
assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);
}
}

The error on the second test is:

https://gist.github.com/owain68/58aa626ac4a17db3ce47dce21e7c12ab

java.lang.IllegalArgumentException: There are no outputs which matches:
direct:RouteB in the route:
Route(getRoute)[[From[rest:get:/:{body}?routeId=getRoute&produces=application%2Fjson]]
-> [RestBinding, pipeline -> [[To[mock:routeB]]]]]

at org.apache.camel.builder.AdviceWithTasks$1.task(AdviceWithTasks.java:194)
at
org.apache.camel.model.RouteDefinition.adviceWith(RouteDefinition.java:280)
at
org.apache.camel.model.RouteDefinition.adviceWith(RouteDefinition.java:215)
at
mydomain.springbootcamel.RestMockTests.mockTestOneNotFound(RestMockTests.java:33)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:498)
at
org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
at
org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
at
org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
at
org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
at
org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
at
org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
at
org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
at
org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
at
org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at
org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
at
org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at
org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
at
com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
at
com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)
at
com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)



--
View this message in context: http://camel.465427.n5.nabble.com/2-18-3-Rest-DSL-MockEndpoint-second-unit-test-weaveByToUri-fails-with-no-output-which-matches-direct-tp5798402.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65447-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 11:35:48 2017
Return-Path: <users-return-65447-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 37CB418400
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 11:35:48 +0000 (UTC)
Received: (qmail 5148 invoked by uid 500); 27 Apr 2017 11:35:47 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 5097 invoked by uid 500); 27 Apr 2017 11:35:47 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 5079 invoked by uid 99); 27 Apr 2017 11:35:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 11:35:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id EB2671B05E9
	for <users@camel.apache.org>; Thu, 27 Apr 2017 11:35:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.693
X-Spam-Level: ***
X-Spam-Status: No, score=3.693 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=googlemail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Iv2TrHHOPsnf for <users@camel.apache.org>;
	Thu, 27 Apr 2017 11:35:44 +0000 (UTC)
Received: from mail-qk0-f177.google.com (mail-qk0-f177.google.com [209.85.220.177])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 716EA5FC7E
	for <users@camel.apache.org>; Thu, 27 Apr 2017 11:35:44 +0000 (UTC)
Received: by mail-qk0-f177.google.com with SMTP id f76so24490596qke.2
        for <users@camel.apache.org>; Thu, 27 Apr 2017 04:35:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=xsP0E1+G1tvvzQsyubt9ZaXFE6YtFLBKR4idRXyzL5U=;
        b=M06mmKBil3xySOV/0iO7vMzeQEePKcf1urNiuB9qKNZZgbp5TCAAy7ExZy4fwcL/Di
         6c5lnVavTN7qIBlKI/+1XB9CVECYdod4Qa57EZphc0Vr9L+VduzaPeuETROTEK8Jt9ji
         ACjPdbFmMcIVqwbfsBBiUzbYHrNHJeWz7RacA4J9JNUSmYCheitT0CUiC3627MLkwATm
         r+VlNXpFCqfHx8eCezXPDzBgHjrcRdnDD0ImkXjE8gQ0S+tYDtx4xOwoAIbiX5AD5neW
         rVFEeqvcn056bUmvX5ziHe2aTgvb9K7p+bre+0rTOJkLcIc59RYhVGEg7xVfHl4TIiWP
         klKQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=xsP0E1+G1tvvzQsyubt9ZaXFE6YtFLBKR4idRXyzL5U=;
        b=JTrfNqkG42hG5SEemXSl0AE1IF/cEu1qH4EiVPAbNRzqN3G6V2dqf+guYtQjGA1MU3
         kYdpFB+/JxlnfzUUwfLp8Zqc58NmDnima/XLmlpqfLIqpP3Y/zbYCtjpybRKDkw5dwZ2
         QS3aIwHBuyVn24qqZOHGxLvpIFZOJMiJxlAVxzXopD8IEnCcF+NG1a3Buu8g9xMBtBA4
         OddZgJT9xeXk/qW5ka6PweS2RXuqmEnnyP8KD8M5Y45i1zR8v2J0qYjpIA/VwrSEHGHR
         Sa1K/3Qr0rn7hIireoPuwhBrlwgf2qOYs0ij3NqUWiMj12bcxKA9EUpD9UgnJubpyBRr
         R7zg==
X-Gm-Message-State: AN3rC/5zF+RN6TN4lhNCjXjgg9BzyyFhDUtUmtjrpEc1ncae6I9omNRn
	A40r7F3YqZmuJIc2LQ2TBBXUbiPaamPp
X-Received: by 10.55.25.159 with SMTP id 31mr4260829qkz.183.1493292943987;
 Thu, 27 Apr 2017 04:35:43 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.140.33.139 with HTTP; Thu, 27 Apr 2017 04:35:43 -0700 (PDT)
In-Reply-To: <1493238303801-5798363.post@n5.nabble.com>
References: <1493209982537-5798321.post@n5.nabble.com> <7B8E5148-F369-4CDE-96B0-A1F34C9B796E@icloud.com>
 <1493238303801-5798363.post@n5.nabble.com>
From: Franz Paul Forsthofer <emc2fpf@googlemail.com>
Date: Thu, 27 Apr 2017 13:35:43 +0200
Message-ID: <CAGvJFufVtWurwtTv-3yyGF0Dqmh2M3ORZA4Jr+-VyaiC1bqYfQ@mail.gmail.com>
Subject: Re: XMLSecurity not generating
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a1147f0b278d807054e245b1d

--001a1147f0b278d807054e245b1d
Content-Type: text/plain; charset=UTF-8

Hello Ayache,

you can do this by implementing your own KeyAccessor. The KeyAccessor
interface
https://github.com/apache/camel/blob/master/components/camel-xmlsecurity/src/main/java/org/apache/camel/component/xmlsecurity/api/KeyAccessor.java
contains the method

KeyInfo getKeyInfo(Message message, Node messageBody, KeyInfoFactory
keyInfoFactory) throws Exception;

which returns the KeyInfo element. An example implementation is given by

https://github.com/apache/camel/blob/master/components/camel-xmlsecurity/src/main/java/org/apache/camel/component/xmlsecurity/api/DefaultKeyAccessor.java

which returns the total certificate chain. So you have to adapt this
example to your needs.

Best Regards Franz

On Wed, Apr 26, 2017 at 10:25 PM, ayache.k <ayache.khettar@gmail.com> wrote:

> Thanks for your reply. My query is around Camel XML security component. I
> wanted to know if it is possible to generate the *X509Certificate* element
> in the *Signature* element - see below example.
> Of course I can use Java API/Bouncycastle to generate, but that's last
> resort.
>
>  <Signature xmlns="http://www.w3.org/2000/09/xmldsig#">
>   <SignedInfo>
>    <CanonicalizationMethod
>     Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/>
>    <SignatureMethod
>     Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/>
>    <Reference URI="">
>     <Transforms>
>      <Transform
>       Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/>
>     </Transforms>
>     <DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
>     <DigestValue>tVicGh6V+8cHbVYFIU91o5+L3OQ=</DigestValue>
>    </Reference>
>   </SignedInfo>
>   <SignatureValue>
>    dJDHiGQMaKN8iPuWApAL57eVnxz2BQtyujwfPSgE7HyKoxYtoRB97ocxZ
>    8ZU440wHtE39ZwRGIjvwor3WfURxnIgnI1CChMXXwoGpHH//Zc0z4ejaz
>    DuCNEq4Mm4OUVTiEVuwcWAOMkfDHaM82awYQiOGcwMbZe38UX0oPJ2DOE=
>   </SignatureValue>
>   <KeyInfo>
>    <X509Data>
>     <X509SubjectName>
>      CN=My Name,O=Test Certificates Inc.,C=US
>     </X509SubjectName>
>     <X509Certificate>
>      MIIB9zCCAWCgAwIBAgIERZwdkzANBgkqhkiG9w0BAQUFADBAMQswCQYD
>      VQQGEwJVUzEfMB0GA1UEChMWVGVzdCBDZXJ0aWZpY2F0ZXMgSW5jLjEQ
>      MA4GA1UEAxMHTXkgTmFtZTAeFw0wNzAxMDMyMTE4MTFaFw0zMTA4MjUy
>      ...
>     </X509Certificate>
>    </X509Data>
>   </KeyInfo>
>  </Signature>
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.
> com/XMLSecurity-not-generating-tp5798321p5798363.html
> Sent from the Camel - Users mailing list archive at Nabble.com.
>

--001a1147f0b278d807054e245b1d--

From users-return-65448-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 13:18:58 2017
Return-Path: <users-return-65448-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 478F81899B
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 13:18:58 +0000 (UTC)
Received: (qmail 75968 invoked by uid 500); 27 Apr 2017 13:18:57 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 75919 invoked by uid 500); 27 Apr 2017 13:18:57 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 75908 invoked by uid 99); 27 Apr 2017 13:18:57 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 13:18:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 32D06C3B4C
	for <users@camel.apache.org>; Thu, 27 Apr 2017 13:18:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.286
X-Spam-Level: **
X-Spam-Status: No, score=2.286 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 4TihRLIk6nRK for <users@camel.apache.org>;
	Thu, 27 Apr 2017 13:18:55 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 752D35FAC9
	for <users@camel.apache.org>; Thu, 27 Apr 2017 13:18:54 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id DB8D03D225B8D
	for <users@camel.apache.org>; Thu, 27 Apr 2017 06:18:53 -0700 (MST)
Date: Thu, 27 Apr 2017 06:18:53 -0700 (MST)
From: sbrandt2 <sb.list@posteo.net>
To: users@camel.apache.org
Message-ID: <1493299133882-5798412.post@n5.nabble.com>
In-Reply-To: <CAGB5yNkYUvg1wGNAN27JPxfJbzv4uMd8aZ5O6eJceHDCAXW5zA@mail.gmail.com>
References: <1493031301603-5798182.post@n5.nabble.com> <CABD_Zr85Dzh4kg9r+KMrO7K4LV31=e4d_scy6w1FcW1YRHKyHA@mail.gmail.com> <CAGB5yNkYUvg1wGNAN27JPxfJbzv4uMd8aZ5O6eJceHDCAXW5zA@mail.gmail.com>
Subject: Re: Guidance to choose "future proof" http consumer/producer
 components
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thank you Zoran and Claus!

To sum it up, the recommendation is: use http4 component for http producer
endpoints (to(...)) and jetty component for http consumer endpoints
(from(...)).
Possibly re-evaluate when undertow component has matured.



--
View this message in context: http://camel.465427.n5.nabble.com/Guidance-to-choose-future-proof-http-consumer-producer-components-tp5798182p5798412.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65449-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 13:35:55 2017
Return-Path: <users-return-65449-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D44018A4B
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 13:35:55 +0000 (UTC)
Received: (qmail 21418 invoked by uid 500); 27 Apr 2017 13:35:54 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 21373 invoked by uid 500); 27 Apr 2017 13:35:54 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 21352 invoked by uid 99); 27 Apr 2017 13:35:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 13:35:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id F0D6B188C35
	for <users@camel.apache.org>; Thu, 27 Apr 2017 13:35:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.487
X-Spam-Level: *****
X-Spam-Status: No, score=5.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 8jO3nR57phNc for <users@camel.apache.org>;
	Thu, 27 Apr 2017 13:35:53 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id A5BF15F1BA
	for <users@camel.apache.org>; Thu, 27 Apr 2017 13:35:52 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 3B34D3D22D975
	for <users@camel.apache.org>; Thu, 27 Apr 2017 06:35:52 -0700 (MST)
Date: Thu, 27 Apr 2017 06:35:52 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs3-whFNReZTK8pTPS7PAS9=w-59R37u+9neV6H_ZjCz+A@mail.gmail.com>
In-Reply-To: <1493299133882-5798412.post@n5.nabble.com>
References: <1493031301603-5798182.post@n5.nabble.com> <CABD_Zr85Dzh4kg9r+KMrO7K4LV31=e4d_scy6w1FcW1YRHKyHA@mail.gmail.com> <CAGB5yNkYUvg1wGNAN27JPxfJbzv4uMd8aZ5O6eJceHDCAXW5zA@mail.gmail.com> <1493299133882-5798412.post@n5.nabble.com>
Subject: Re: Guidance to choose "future proof" http consumer/producer
 components
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_120138_107788711.1493300152236"

------=_Part_120138_107788711.1493300152236
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

Do you guys have any comments on the netty component for http? Will it
continue or will it also soon be deprecated?

Thanks
Souciance

On Thu, Apr 27, 2017 at 3:18 PM, sbrandt2 [via Camel] <
ml+s465427n5798412h35@n5.nabble.com> wrote:

> Thank you Zoran and Claus!
>
> To sum it up, the recommendation is: use http4 component for http producer
> endpoints (to(...)) and jetty component for http consumer endpoints
> (from(...)).
> Possibly re-evaluate when undertow component has matured.
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Guidance-to-choose-future-
> proof-http-consumer-producer-components-tp5798182p5798412.html
> To start a new topic under Camel - Users, email ml+s465427n465428h31@n5.
> nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Guidance-to-choose-future-proof-http-consumer-producer-components-tp5798182p5798414.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_120138_107788711.1493300152236--

From users-return-65450-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 13:56:52 2017
Return-Path: <users-return-65450-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7699918B72
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 13:56:52 +0000 (UTC)
Received: (qmail 88092 invoked by uid 500); 27 Apr 2017 13:56:51 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 88039 invoked by uid 500); 27 Apr 2017 13:56:51 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 88027 invoked by uid 99); 27 Apr 2017 13:56:51 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 13:56:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id AF9DCD615A
	for <users@camel.apache.org>; Thu, 27 Apr 2017 13:56:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.814
X-Spam-Level: **
X-Spam-Status: No, score=2.814 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=0.5,
	RCVD_IN_DNSWL_NONE=-0.0001, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 8vAoRCPK9QPA for <users@camel.apache.org>;
	Thu, 27 Apr 2017 13:56:50 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id C3E655FC4A
	for <users@camel.apache.org>; Thu, 27 Apr 2017 13:56:49 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 5FB3C3D23D502
	for <users@camel.apache.org>; Thu, 27 Apr 2017 06:56:49 -0700 (MST)
Date: Thu, 27 Apr 2017 06:56:49 -0700 (MST)
From: Gary <gary.mills@ge.com>
To: users@camel.apache.org
Message-ID: <1493301409386-5798416.post@n5.nabble.com>
In-Reply-To: <CA+wbgs0WDWn=QprO4S6Vcby1uZfe7eToMfKrbib00c_pBNbs7w@mail.gmail.com>
References: <1493225930592-5798339.post@n5.nabble.com> <CA+wbgs1pnGYus_+8dV9gTqNujjvSMF5rJDtFWCqBsHa_k=5xxA@mail.gmail.com> <1493237323470-5798362.post@n5.nabble.com> <1493242861527-5798365.post@n5.nabble.com> <CA+wbgs0WDWn=QprO4S6Vcby1uZfe7eToMfKrbib00c_pBNbs7w@mail.gmail.com>
Subject: Re: camel splitter
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

thank you very much for the idea, I will try that. I like it more than my
approach. I will let you know. 

thanks so much again!





-----
Gary Lee Mills
--
View this message in context: http://camel.465427.n5.nabble.com/camel-splitter-tp5798339p5798416.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65451-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 14:36:59 2017
Return-Path: <users-return-65451-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 846E618E01
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 14:36:59 +0000 (UTC)
Received: (qmail 16040 invoked by uid 500); 27 Apr 2017 14:36:59 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 15992 invoked by uid 500); 27 Apr 2017 14:36:59 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 1423 invoked by uid 99); 27 Apr 2017 14:32:51 -0000
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.487
X-Spam-Level: ***
X-Spam-Status: No, score=3.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Date: Thu, 27 Apr 2017 07:32:49 -0700 (MST)
From: "ayache.k" <ayache.khettar@gmail.com>
To: users@camel.apache.org
Message-ID: <1493303569636-5798419.post@n5.nabble.com>
In-Reply-To: <CAGvJFufVtWurwtTv-3yyGF0Dqmh2M3ORZA4Jr+-VyaiC1bqYfQ@mail.gmail.com>
References: <1493209982537-5798321.post@n5.nabble.com> <7B8E5148-F369-4CDE-96B0-A1F34C9B796E@icloud.com> <1493238303801-5798363.post@n5.nabble.com> <CAGvJFufVtWurwtTv-3yyGF0Dqmh2M3ORZA4Jr+-VyaiC1bqYfQ@mail.gmail.com>
Subject: Re: XMLSecurity not generating
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Many thanks Franz, that's what I've implemented yesterday and I was going to
come back here to update the post and you beat me.





--
View this message in context: http://camel.465427.n5.nabble.com/XMLSecurity-not-generating-tp5798321p5798419.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65452-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 14:53:10 2017
Return-Path: <users-return-65452-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3107318EDA
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 14:53:10 +0000 (UTC)
Received: (qmail 68495 invoked by uid 500); 27 Apr 2017 14:53:09 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 68413 invoked by uid 500); 27 Apr 2017 14:53:09 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 68387 invoked by uid 99); 27 Apr 2017 14:53:08 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 14:53:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 623C71B0DC7
	for <users@camel.apache.org>; Thu, 27 Apr 2017 14:53:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.7
X-Spam-Level:
X-Spam-Status: No, score=-0.7 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id pUR-J_qhJg1E for <users@camel.apache.org>;
	Thu, 27 Apr 2017 14:53:05 +0000 (UTC)
Received: from mshgw-mx06.msh.de (mshgw-mx06.msh.de [212.4.227.209])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 4638F5FC4A
	for <users@camel.apache.org>; Thu, 27 Apr 2017 14:53:05 +0000 (UTC)
Received: from mshemail.intern.msh.de (mshems02.intern.msh.de [10.51.0.204])
	by mshgw-mx06.msh.de (Postfix) with ESMTP id ED07B3808C
	for <users@camel.apache.org>; Thu, 27 Apr 2017 16:52:57 +0200 (CEST)
Received: from svexhc01.ad.sv.intern (svexhc01.intern.msh.de [10.59.130.30])
	by mshemail.intern.msh.de (Postfix) with ESMTP id D111D43C017
	for <users@camel.apache.org>; Thu, 27 Apr 2017 16:52:57 +0200 (CEST)
Received: from SVEXMB03.ad.sv.intern ([fe80::6046:e7ba:6cfb:8edc]) by
 svexhc01.ad.sv.intern ([fe80::4c96:d712:7c3d:c871%15]) with mapi id
 14.03.0294.000; Thu, 27 Apr 2017 16:52:57 +0200
From: "Huber, Christian" <christian.huber@sueddeutsche.de>
To: "users@camel.apache.org" <users@camel.apache.org>
Subject: Camel 2.18.1 Jetty UrlRewrite does not return cookies from original
 response
Thread-Topic: Camel 2.18.1 Jetty UrlRewrite does not return cookies from
 original response
Thread-Index: AQHSv2X1usjVAdkuyE6mDjpB2aeLYQ==
Date: Thu, 27 Apr 2017 14:52:56 +0000
Message-ID: <D527D267.809D%christian.huber@sueddeutsche.de>
Accept-Language: de-DE, en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.59.184.74]
x-exclaimer-md-config: 0d3bf374-0778-46c6-9026-52ecc3af82b2
Content-Type: text/plain; charset="Windows-1252"
Content-ID: <943CE2B636C2A248A38C947D184294D9@ad.sv.intern>
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Hi all,

we are just upgrading one of our applications which also uses Camel for
routing purposes. We also decided to upgrade the Camel version and went
from 2.11.x to 2.18.1.

We now discovered that when routing to the following endpoint 'to
uri=3D"jetty:$gui/polopoly/?bridgeEndpoint=3Dtrue&amp;urlRewrite=3D#simpleG=
uiUrlR
ewriter&amp;throwExceptionOnFailure=3Dfalse=8C that the response does not
contain the cookies set by the backend. If we call the the backend
directly all cookies are there.

This did work in the earlier versions, so now we wonder what we have to
change in our configuration to get it working again. We found a note on
https://camel.apache.org/jetty.html about a cookieHandler property, which
sounds as it might be what we need. But according to the documentation
this is only available in 2.19 and so far we could not find an example
about how to use it.

So we would be very grateful if you could point us to the right direction
on what could be missing in our configuration. If needed I can provide
more details on our config.

Thanks
Christian


--=20
Christian Huber
Software-Architekt
=20
S=FCddeutsche Zeitung Digitale Medien GmbH
Hultschiner Str. 8
DE 81677 M=FCnchen
=20
Tel.:  +49 89 21 83-9481
E-Mail: christian.huber@sz.de
www.sz.de <http://www.sueddeutsche.de/>
=20
Sitz der Gesellschaft: M=FCnchen
Eingetragen beim Amtsgericht M=FCnchen unter: HRB 129987
Gesch=E4ftsf=FChrer: Johannes Vogel, Stefan Hilscher
USt-IdNr.: DE 206361881


From users-return-65453-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 15:45:12 2017
Return-Path: <users-return-65453-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 164BE1922B
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 15:45:12 +0000 (UTC)
Received: (qmail 65556 invoked by uid 500); 27 Apr 2017 15:45:11 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 65510 invoked by uid 500); 27 Apr 2017 15:45:11 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 2670 invoked by uid 99); 27 Apr 2017 15:23:23 -0000
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.233
X-Spam-Level: **
X-Spam-Status: No, score=2.233 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_NONE=-0.0001, SPF_FAIL=0.919,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Date: Thu, 27 Apr 2017 08:23:21 -0700 (MST)
From: sma <sma@etcc.com>
To: users@camel.apache.org
Message-ID: <1493306601713-5798423.post@n5.nabble.com>
Subject: camel-kafka offset commit
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

I have a question about offset commit, if auto commit is off, then it does a
batch commit, my question is in this case, ss a message considered consumed
after reading from the topic or after the whole processing is done?

Thanks
Shannon



--
View this message in context: http://camel.465427.n5.nabble.com/camel-kafka-offset-commit-tp5798423.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65454-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 16:54:06 2017
Return-Path: <users-return-65454-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 88DF019626
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 16:54:06 +0000 (UTC)
Received: (qmail 99809 invoked by uid 500); 27 Apr 2017 16:54:06 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 99759 invoked by uid 500); 27 Apr 2017 16:54:06 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 99710 invoked by uid 99); 27 Apr 2017 16:54:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 16:54:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7960B1813ED
	for <users@camel.apache.org>; Thu, 27 Apr 2017 16:54:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.189
X-Spam-Level: ****
X-Spam-Status: No, score=4.189 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FORGED_YAHOO_RCVD=1.022,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id XNa_W2n5_8lX for <users@camel.apache.org>;
	Thu, 27 Apr 2017 16:54:02 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 303545F4EE
	for <users@camel.apache.org>; Thu, 27 Apr 2017 16:54:02 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 97D203D2BB4F4
	for <users@camel.apache.org>; Thu, 27 Apr 2017 09:54:01 -0700 (MST)
Date: Thu, 27 Apr 2017 09:54:01 -0700 (MST)
From: Ryan T <bratnmw@yahoo.com>
To: users@camel.apache.org
Message-ID: <1493312041616-5798424.post@n5.nabble.com>
In-Reply-To: <CA+wbgs1N7UAdQSAqn9LPa04+wfsb3VTQUseqD4aNNyM0Vviq5Q@mail.gmail.com>
References: <1490738690185-5796669.post@n5.nabble.com> <CA+wbgs0O0gqi6WuLZfk48a0fxL4gcZrbwTP=3qs5ULJLsPt3qw@mail.gmail.com> <1490822278842-5796719.post@n5.nabble.com> <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com> <1493248092547-5798367.post@n5.nabble.com> <CA+wbgs1N7UAdQSAqn9LPa04+wfsb3VTQUseqD4aNNyM0Vviq5Q@mail.gmail.com>
Subject: Re: Help diagnosing camel exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

In the bean:jobService it may go on to hit a mongo instance.  But I'm not
sure where in the logs it led you to think it was there except that you
looked at the initial logs in the original message.  Those logs could be a
little confusing I'm sure as the original authors of the code did some
interesting routes.  I've attempted to simplify them somewhat so the
original error logs may not reflect the current code.  I would if you have
time concentrate on the reply messages that I sent most recently instead. 
Sorry if it confused you.  I tried to comment in the code what things are
doing so I did not have to send you the whole code base.  The important
thing to look at now would be the recent logs I messaged along with the
code.  The TimeOutErrorProcessor is implementing some of your suggestions
for the logs that is why I included it.  I sent you two routes, but the
second one is the most interesting as that is where the time out occurs. See
"//start of problem area".  I am just not sure which node.  I'm leaning that
it is the call externally, but since it never prints some of the log entries
I am not sure.  See success log example vs failure log example.  You will
see that some of the log entries that should be printing out are not and are
skipped, but then when it gets to the "saveDeviceUsageHistory' it starts
logging again.  There are stop and end log entries inside of every
Processor/Bean node entry so that I can see when it is starting and ending a
node.  You can see this by looking at the successful log.

Sorry for the novel,  I hope you can help me.  And thanks for your time.



--
View this message in context: http://camel.465427.n5.nabble.com/Help-diagnosing-camel-exception-tp5796669p5798424.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65455-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 16:56:01 2017
Return-Path: <users-return-65455-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 468D619655
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 16:56:01 +0000 (UTC)
Received: (qmail 7527 invoked by uid 500); 27 Apr 2017 16:56:00 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 7480 invoked by uid 500); 27 Apr 2017 16:56:00 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 7466 invoked by uid 99); 27 Apr 2017 16:56:00 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 16:56:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0446E1814DF
	for <users@camel.apache.org>; Thu, 27 Apr 2017 16:56:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.679
X-Spam-Level: **
X-Spam-Status: No, score=2.679 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_REPLY=1, HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 5ssqp78oWF1f for <users@camel.apache.org>;
	Thu, 27 Apr 2017 16:55:58 +0000 (UTC)
Received: from mail-it0-f53.google.com (mail-it0-f53.google.com [209.85.214.53])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id B787B5FC4A
	for <users@camel.apache.org>; Thu, 27 Apr 2017 16:55:57 +0000 (UTC)
Received: by mail-it0-f53.google.com with SMTP id x188so16679268itb.0
        for <users@camel.apache.org>; Thu, 27 Apr 2017 09:55:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=pC5fiFrsiTOpdaAt10TBqmxF113vpPg8m4gDArCP1dg=;
        b=cK3qXAMbnCX+Dy0j8M2rj6B+7pUiGZjhsLlsVmsqRTtKSNgtVTN+yVXh7UtvqQhjdq
         o+z1zAbKH0rRUsxIU5GUhoHYPCZGSjqYWU/phCOaPMPCvvMH8/XUGsUA9Ti2ll7z+Stu
         u0Lb40C6GftQZ1WwcVvwOyvZx9I5T+2i1RlKOVi1kZ1BWbuAv3NlEHxK6rZ5I8kCDkMp
         +GlNmPFB1I9zgnlEio1HzgcPeIECa2KcJ9C362qlxTRfwWr93rLHiUFIjTEI9yHy6ZfD
         Gh1uxRj8ffe7hPOO2kEare5f496Z1jvrbYoEASUKLmbn2ei0Nt28xy/Z8yJXnxAcJCSj
         JweA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=pC5fiFrsiTOpdaAt10TBqmxF113vpPg8m4gDArCP1dg=;
        b=RYuiwVQJneiXHLRuCQpgJXtzViNmtmBFsPLQN9wmLeQNXGzI4F3UxqOBbnFtMmP564
         22+lQbeEB5ePAm/0dso9XZFiZ7Y9nIVSm00DfPsP0/gXBXNH4MlEMu/lsaxh9KnLY3Ca
         TRxjYD7QTS45ClcYGvWWfQf/IofL/dcUCSpcNnMP6jXqEd2sPmDFKt7o9tf18Ystpj6G
         iFDkx3KsHtWgsaJUts5Kc8J0rPHKid5LMPkRep9vsrCvR+MXV85QOqt5bPC71OHz/FBp
         IG+PoYBHf/t97T+NoaMVb8L/HdKaSee9oyjjptgPFfw7/PuUAepHxJPVmMZyOQM0PdXp
         FnqA==
X-Gm-Message-State: AN3rC/5LIquOqXpHUeZrFNOuxttn7l5mWJLOInv8sTyI2aGsRKzmZfkd
	5RudqdIY4gGw5VMyqBLjGoglySehQFf9cCs=
X-Received: by 10.36.18.194 with SMTP id 185mr1207604itp.107.1493312155531;
 Thu, 27 Apr 2017 09:55:55 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.79.35.150 with HTTP; Thu, 27 Apr 2017 09:55:55 -0700 (PDT)
In-Reply-To: <1493274386579-5798372.post@n5.nabble.com>
References: <1493274386579-5798372.post@n5.nabble.com>
From: Doug Douglass <douglass.doug@gmail.com>
Date: Thu, 27 Apr 2017 09:55:55 -0700
Message-ID: <CAFRBt-Q7yLvZYL_sC8RN-+NokTF4LbCo05jQ4S=GbgVLENY_LQ@mail.gmail.com>
Subject: Re: header message show different values in log statements
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a11448de691cde9054e28d491

--001a11448de691cde9054e28d491
Content-Type: text/plain; charset=UTF-8

On Wed, Apr 26, 2017 at 11:26 PM, jan.schjoenning <jan.schjoenning@gmail.com
> wrote:

> Given following route :
>
>                 from("direct:TranslateEpgData")
>                 .routeId("TranslateEpgData")
>                 .setHeader("xxx", constant("xxx"))
>                    .to("log:?showAll=true&multiline=true")
>                    .log("serviceId = ${header.serviceId}, scheduleStart =
> ${header.scheduleStart}, scheduleEnd = ${header.scheduleEnd}, originId =
> ${header.originId}")
>                    .to("log:?showAll=true&multiline=true")
>                    .to("xslt:whatson_to_tvanytime.xsl")
>                    .log("${body}");
>
> 1. log of ${header.serviceId} =
> serviceId=com.sun.org.apache.xml.internal.dtm.ref.DTMNodeList@7e5afaa6
>
> 2. log of ${header.serviceId} = TV2ZULU
>
> 3. log of ${header.serviceId} =
> serviceId=com.sun.org.apache.xml.internal.dtm.ref.DTMNodeList@7e5afaa6
>
> As flow states no changes between , why do i have this difference ?
>
>
Because .to("log:...") uses the Log Component[1] while .log("...") uses the
Log EIP[2], which uses the Simple language[3].

If you want .to("log:?showAll=true&multiline=true") to show the content of
the XML nodelist as .log("serviceId = ${header.serviceId}...") does, then
you should specify the result type when setting the header[4].

I've been caught by this before and have learned to always provide a result
type when using xpath expressions.

Hope that helps,
Doug

[1] http://camel.apache.org/log.html
[2] http://camel.apache.org/logeip.html
[3] http://camel.apache.org/simple.html
[4] http://camel.apache.org/simple.html#Simple-SettingtheResultType

--001a11448de691cde9054e28d491--

From users-return-65456-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 17:08:44 2017
Return-Path: <users-return-65456-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1DD3F19773
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 17:08:44 +0000 (UTC)
Received: (qmail 46046 invoked by uid 500); 27 Apr 2017 17:08:43 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 45994 invoked by uid 500); 27 Apr 2017 17:08:43 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 45953 invoked by uid 99); 27 Apr 2017 17:08:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 17:08:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 732DC1858C8
	for <users@camel.apache.org>; Thu, 27 Apr 2017 17:08:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.487
X-Spam-Level: *****
X-Spam-Status: No, score=5.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 01UGoLrRkiBy for <users@camel.apache.org>;
	Thu, 27 Apr 2017 17:08:40 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id B132D5F177
	for <users@camel.apache.org>; Thu, 27 Apr 2017 17:08:40 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 729F13D2CADA5
	for <users@camel.apache.org>; Thu, 27 Apr 2017 10:08:39 -0700 (MST)
Date: Thu, 27 Apr 2017 10:08:39 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs3WN23MTRrGDoWsAPrKs-LYVudhzrNGiTKQ_ZpMAUHGiQ@mail.gmail.com>
In-Reply-To: <1493312041616-5798424.post@n5.nabble.com>
References: <1490738690185-5796669.post@n5.nabble.com> <CA+wbgs0O0gqi6WuLZfk48a0fxL4gcZrbwTP=3qs5ULJLsPt3qw@mail.gmail.com> <1490822278842-5796719.post@n5.nabble.com> <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com> <1493248092547-5798367.post@n5.nabble.com> <CA+wbgs1N7UAdQSAqn9LPa04+wfsb3VTQUseqD4aNNyM0Vviq5Q@mail.gmail.com> <1493312041616-5798424.post@n5.nabble.com>
Subject: Re: Help diagnosing camel exception
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_125107_1382548699.1493312919184"

------=_Part_125107_1382548699.1493312919184
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Just a quick thing, couldn't you disable all the routes and beans first and
then enable them one by one to pinpoint which one is the culprit?

Den 27 apr. 2017 6:54 em skrev "Ryan T [via Camel]" <
ml+s465427n5798424h7@n5.nabble.com>:

In the bean:jobService it may go on to hit a mongo instance.  But I'm not
sure where in the logs it led you to think it was there except that you
looked at the initial logs in the original message.  Those logs could be a
little confusing I'm sure as the original authors of the code did some
interesting routes.  I've attempted to simplify them somewhat so the
original error logs may not reflect the current code.  I would if you have
time concentrate on the reply messages that I sent most recently instead.
Sorry if it confused you.  I tried to comment in the code what things are
doing so I did not have to send you the whole code base.  The important
thing to look at now would be the recent logs I messaged along with the
code.  The TimeOutErrorProcessor is implementing some of your suggestions
for the logs that is why I included it.  I sent you two routes, but the
second one is the most interesting as that is where the time out occurs.
See "//start of problem area".  I am just not sure which node.  I'm leaning
that it is the call externally, but since it never prints some of the log
entries I am not sure.  See success log example vs failure log example.
You will see that some of the log entries that should be printing out are
not and are skipped, but then when it gets to the "saveDeviceUsageHistory'
it starts logging again.  There are stop and end log entries inside of
every Processor/Bean node entry so that I can see when it is starting and
ending a node.  You can see this by looking at the successful log.

Sorry for the novel,  I hope you can help me.  And thanks for your time.

------------------------------
If you reply to this email, your message will be added to the discussion
below:
http://camel.465427.n5.nabble.com/Help-diagnosing-camel-
exception-tp5796669p5798424.html
To start a new topic under Camel - Users, email ml+s465427n465428h31@n5.
nabble.com
To unsubscribe from Camel - Users, click here
<http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
.
NAML
<http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>




--
View this message in context: http://camel.465427.n5.nabble.com/Help-diagnosing-camel-exception-tp5796669p5798426.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_125107_1382548699.1493312919184--

From users-return-65457-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 17:26:31 2017
Return-Path: <users-return-65457-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 41E44198D6
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 17:26:31 +0000 (UTC)
Received: (qmail 600 invoked by uid 500); 27 Apr 2017 17:26:30 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 554 invoked by uid 500); 27 Apr 2017 17:26:30 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 541 invoked by uid 99); 27 Apr 2017 17:26:30 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 17:26:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1A7ACD62A0
	for <users@camel.apache.org>; Thu, 27 Apr 2017 17:26:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.487
X-Spam-Level: ***
X-Spam-Status: No, score=3.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001,
	URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id YznyIPkoIcQN for <users@camel.apache.org>;
	Thu, 27 Apr 2017 17:26:29 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 200CC5F405
	for <users@camel.apache.org>; Thu, 27 Apr 2017 17:26:29 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 51DB63D2D9064
	for <users@camel.apache.org>; Thu, 27 Apr 2017 10:26:28 -0700 (MST)
Date: Thu, 27 Apr 2017 10:26:28 -0700 (MST)
From: "jan.schjoenning" <jan.schjoenning@gmail.com>
To: users@camel.apache.org
Message-ID: <1493313988329-5798427.post@n5.nabble.com>
In-Reply-To: <CAFRBt-Q7yLvZYL_sC8RN-+NokTF4LbCo05jQ4S=GbgVLENY_LQ@mail.gmail.com>
References: <1493274386579-5798372.post@n5.nabble.com> <CAFRBt-Q7yLvZYL_sC8RN-+NokTF4LbCo05jQ4S=GbgVLENY_LQ@mail.gmail.com>
Subject: Re: header message show different values in log statements
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks Doug !

Fine explanation - and make sense.

Reason for having log was to find out why parameters transfer to xslt  were
"wrong"- so they will be removed from solution.

Regards 

Jan



--
View this message in context: http://camel.465427.n5.nabble.com/header-message-show-different-values-in-log-statements-tp5798372p5798427.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65458-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 17:59:16 2017
Return-Path: <users-return-65458-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1AC4C19AB8
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 17:59:16 +0000 (UTC)
Received: (qmail 750 invoked by uid 500); 27 Apr 2017 17:59:15 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 700 invoked by uid 500); 27 Apr 2017 17:59:15 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 689 invoked by uid 99); 27 Apr 2017 17:59:15 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 17:59:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 02BE6C074C
	for <users@camel.apache.org>; Thu, 27 Apr 2017 17:59:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.189
X-Spam-Level: ****
X-Spam-Status: No, score=4.189 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FORGED_YAHOO_RCVD=1.022,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id d_SrLV8rOYMU for <users@camel.apache.org>;
	Thu, 27 Apr 2017 17:59:13 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 5C71F5FC1C
	for <users@camel.apache.org>; Thu, 27 Apr 2017 17:59:13 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id AD6E03D2F1DC5
	for <users@camel.apache.org>; Thu, 27 Apr 2017 10:59:12 -0700 (MST)
Date: Thu, 27 Apr 2017 10:59:12 -0700 (MST)
From: Ryan T <bratnmw@yahoo.com>
To: users@camel.apache.org
Message-ID: <1493315952701-5798428.post@n5.nabble.com>
In-Reply-To: <CA+wbgs3WN23MTRrGDoWsAPrKs-LYVudhzrNGiTKQ_ZpMAUHGiQ@mail.gmail.com>
References: <1490738690185-5796669.post@n5.nabble.com> <CA+wbgs0O0gqi6WuLZfk48a0fxL4gcZrbwTP=3qs5ULJLsPt3qw@mail.gmail.com> <1490822278842-5796719.post@n5.nabble.com> <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com> <1493248092547-5798367.post@n5.nabble.com> <CA+wbgs1N7UAdQSAqn9LPa04+wfsb3VTQUseqD4aNNyM0Vviq5Q@mail.gmail.com> <1493312041616-5798424.post@n5.nabble.com> <CA+wbgs3WN23MTRrGDoWsAPrKs-LYVudhzrNGiTKQ_ZpMAUHGiQ@mail.gmail.com>
Subject: Re: Help diagnosing camel exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

That would be ideal, but I it is really hard to reproduce.  Out of say 60000
records processed.  I "sometimes" get the timeout.  Everytime I run it in my
local dev environment it seems to succeed.  When it does fail in my dev
environment, I usually have to add more logging as I learn more.  I'm
basically trying to prove that it is a network or connectivity issue and
eliminate the code as the problem, but if I cannot pin point the exact node
there is the doubt that it could be happening in the serializer or a
database call to mongo or in the cxf code that does the rest call.  My gut
says that it is a connectivity issue, but how do you explain to management
that the problem is between Amazon, and Verizon, Kore(T-Mobile), or ATT. 
They are more inclined to say it is the code base.  Because of this being
more reproducible in a production environment, it makes it really hard to
just start removing node to find the problem.  It is however an interesting
thought and I will look into maybe making a pseudo route that can mimic
pieces in the route, specifically the places I think it might be happening.

On a side note:  I forgot to give you the actual exception in the log as
part of the log post message to this board.  Included below:





--
View this message in context: http://camel.465427.n5.nabble.com/Help-diagnosing-camel-exception-tp5796669p5798428.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65459-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 18:23:27 2017
Return-Path: <users-return-65459-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5681C19D50
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 18:23:27 +0000 (UTC)
Received: (qmail 80506 invoked by uid 500); 27 Apr 2017 18:23:26 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 80452 invoked by uid 500); 27 Apr 2017 18:23:26 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 80440 invoked by uid 99); 27 Apr 2017 18:23:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 18:23:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 0FD701A7B1C
	for <users@camel.apache.org>; Thu, 27 Apr 2017 18:23:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.693
X-Spam-Level: ***
X-Spam-Status: No, score=3.693 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001, URI_HEX=1.313] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id en5-0sDmYwao for <users@camel.apache.org>;
	Thu, 27 Apr 2017 18:23:24 +0000 (UTC)
Received: from mail-it0-f45.google.com (mail-it0-f45.google.com [209.85.214.45])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 1EF8B5F405
	for <users@camel.apache.org>; Thu, 27 Apr 2017 18:23:24 +0000 (UTC)
Received: by mail-it0-f45.google.com with SMTP id 70so19591839ita.0
        for <users@camel.apache.org>; Thu, 27 Apr 2017 11:23:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=asdifr59oJRBTu6fDFH/NJFMZgHNHUb/YMzM40ytOUo=;
        b=EZ5Ebv7MqULKdLN6wmyDmK+XjdQqC2+3es16O0L66xf8haNYMXfF5/kvjRU1s7WHgj
         nVlaWwJT99y/VXheOTpUbOQ3J1i+fop9MXFsYbRNvM9R05dttEuKcM99CreTavCnVpnn
         oUzBKCikFFqQ3mKjbELB/VdkbgN+b+Jvvt1MQ1jajTcl6Fq4wTsssv5ruc+kxCt1l51g
         Z9fTO14BiGZjsPWWYEoH+nV9G6r27Nuu9ynOzICQGpxwCU13xumnrMUVo+xTmxzma8Wp
         08x68vbeQqgF1dQwB1h6bcnOEcyCOEjRzolxwnuURM44BlNtkA69pp9PhyhM5LJeVqto
         D5cQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=asdifr59oJRBTu6fDFH/NJFMZgHNHUb/YMzM40ytOUo=;
        b=VSZVBE/HTAVaDT50P05M+UDlqhivQzYP83aSe1gqoIc6wym4Ppg5NLttRhaEHNQCXT
         K8bMtEbwrholNqI+CiUMDuW8ul4jQdEzfGDnypdiz2A+GcOSPiEj7S02p1qjWXLzG0wZ
         1f46j3MHZlOyWtSF3DH+1t2+IyzkF8nQ+Kn0Jc9S1743bTrjqaUh4ai2lz2DEd2hHMQF
         cAmoieA7u1FiCzlpjuO50egZrOwMCZBBW5C0rpnaLitTnKjdtIdLh0NkyRIRJc5jX30b
         fU3DIjL9JQTasXsUlDy5cfO2c1D3aTZyF5r9mck5PT2k3SJgZJhybcKYAVzGraMD2mDO
         RVgQ==
X-Gm-Message-State: AN3rC/6ZLJlgIpsg2qn3xzLC45eTPb9aL1xJiU+ImPqVUkQ1bvT2L/pO
	8FQWA/hX8D5JMhb5uunDuznkZGVjc95t
X-Received: by 10.202.5.195 with SMTP id 186mr3117169oif.59.1493317402698;
 Thu, 27 Apr 2017 11:23:22 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.182.27.176 with HTTP; Thu, 27 Apr 2017 11:22:42 -0700 (PDT)
In-Reply-To: <1493315952701-5798428.post@n5.nabble.com>
References: <1490738690185-5796669.post@n5.nabble.com> <CA+wbgs0O0gqi6WuLZfk48a0fxL4gcZrbwTP=3qs5ULJLsPt3qw@mail.gmail.com>
 <1490822278842-5796719.post@n5.nabble.com> <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com>
 <1493248092547-5798367.post@n5.nabble.com> <CA+wbgs1N7UAdQSAqn9LPa04+wfsb3VTQUseqD4aNNyM0Vviq5Q@mail.gmail.com>
 <1493312041616-5798424.post@n5.nabble.com> <CA+wbgs3WN23MTRrGDoWsAPrKs-LYVudhzrNGiTKQ_ZpMAUHGiQ@mail.gmail.com>
 <1493315952701-5798428.post@n5.nabble.com>
From: Paul Gale <paul.n.gale@gmail.com>
Date: Thu, 27 Apr 2017 14:22:42 -0400
Message-ID: <CAJ5znhtYCAZPH9PqmbER8gWSL1HANpZ_sm7era0ebrgm8z6k2A@mail.gmail.com>
Subject: Re: Help diagnosing camel exception
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c18d24e532f7d054e2a0d46

--94eb2c18d24e532f7d054e2a0d46
Content-Type: text/plain; charset=UTF-8

Hi Ryan,

It seems to be that you'd be better off breaking up some of those routes;
they seem very large and monolithic. Prefer composed routes instead, each
with discrete error handlers. Currently you're looking for a fault through
a large slice of functionality. The use of the doCatch clauses is alluding
to the fact that these routes need to be broken up. With a larger number of
smaller composed routes it will bring greater focus to your error
detection/handling. Same concept behind keeping regular method sizes small.

Can you explain why some of the individual processor nodes in each route
have processing times in the order of an hour or more!?

Also, give each node in the processing chain of a route a discrete ID.
Makes it a lot easier to map, rather than figuring out what 'choice43' is!

How are you testing these routes? What unit tests do you have for these
routes?

Thanks,
Paul

On Thu, Apr 27, 2017 at 1:59 PM, Ryan T <bratnmw@yahoo.com> wrote:

> That would be ideal, but I it is really hard to reproduce.  Out of say
> 60000
> records processed.  I "sometimes" get the timeout.  Everytime I run it in
> my
> local dev environment it seems to succeed.  When it does fail in my dev
> environment, I usually have to add more logging as I learn more.  I'm
> basically trying to prove that it is a network or connectivity issue and
> eliminate the code as the problem, but if I cannot pin point the exact node
> there is the doubt that it could be happening in the serializer or a
> database call to mongo or in the cxf code that does the rest call.  My gut
> says that it is a connectivity issue, but how do you explain to management
> that the problem is between Amazon, and Verizon, Kore(T-Mobile), or ATT.
> They are more inclined to say it is the code base.  Because of this being
> more reproducible in a production environment, it makes it really hard to
> just start removing node to find the problem.  It is however an interesting
> thought and I will look into maybe making a pseudo route that can mimic
> pieces in the route, specifically the places I think it might be happening.
>
> On a side note:  I forgot to give you the actual exception in the log as
> part of the log post message to this board.  Included below:
>
>
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.
> com/Help-diagnosing-camel-exception-tp5796669p5798428.html
> Sent from the Camel - Users mailing list archive at Nabble.com.
>

--94eb2c18d24e532f7d054e2a0d46--

From users-return-65460-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 19:52:29 2017
Return-Path: <users-return-65460-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 66F97193F2
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 19:52:29 +0000 (UTC)
Received: (qmail 70829 invoked by uid 500); 27 Apr 2017 19:52:29 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 70785 invoked by uid 500); 27 Apr 2017 19:52:28 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 70773 invoked by uid 99); 27 Apr 2017 19:52:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 19:52:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7AEEDC04DE
	for <users@camel.apache.org>; Thu, 27 Apr 2017 19:52:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.487
X-Spam-Level: *****
X-Spam-Status: No, score=5.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 0M0n7n7VoS2v for <users@camel.apache.org>;
	Thu, 27 Apr 2017 19:52:25 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 686675F485
	for <users@camel.apache.org>; Thu, 27 Apr 2017 19:52:24 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id E313E3D3400CA
	for <users@camel.apache.org>; Thu, 27 Apr 2017 12:52:23 -0700 (MST)
Date: Thu, 27 Apr 2017 12:52:23 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs2gFSLEfNd-VvDNZnnKf6N1f3NnQ60PoUf0814Jvd1xeQ@mail.gmail.com>
In-Reply-To: <CAJ5znhtYCAZPH9PqmbER8gWSL1HANpZ_sm7era0ebrgm8z6k2A@mail.gmail.com>
References: <1490738690185-5796669.post@n5.nabble.com> <CA+wbgs0O0gqi6WuLZfk48a0fxL4gcZrbwTP=3qs5ULJLsPt3qw@mail.gmail.com> <1490822278842-5796719.post@n5.nabble.com> <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com> <1493248092547-5798367.post@n5.nabble.com> <CA+wbgs1N7UAdQSAqn9LPa04+wfsb3VTQUseqD4aNNyM0Vviq5Q@mail.gmail.com> <1493312041616-5798424.post@n5.nabble.com> <CA+wbgs3WN23MTRrGDoWsAPrKs-LYVudhzrNGiTKQ_ZpMAUHGiQ@mail.gmail.com> <1493315952701-5798428.post@n5.nabble.com> <CAJ5znhtYCAZPH9PqmbER8gWSL1HANpZ_sm7era0ebrgm8z6k2A@mail.gmail.com>
Subject: Re: Help diagnosing camel exception
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_127954_1374007297.1493322743924"

------=_Part_127954_1374007297.1493322743924
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi Ryan

I agree with Paul. It is quit hard to troubleshoot those complicated
routes. It would be easier if you can break them into smaller and more
independent routes which can be tested easier.

I would also enable this class which is the AuditEventNotifier which will
give more detailed information about each step that is being executed.
http://camel.apache.org/eventnotifier-to-log-details-about-all-sent-exchanges.html

Essentially I think a call to MongoDB or some other third party system is
taking more than the allowed timeout value. Either increase the timeout and
see if the problem goes away or perhaps it could be worth run some sort of
a load test using JMeter to trigger those timeouts and then see exactly
which record is causing this happen.

Best
Souciance

<https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
Virusfritt.
www.avast.com
<https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
<#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>

On Thu, Apr 27, 2017 at 8:23 PM, Paul Gale [via Camel] <
ml+s465427n5798429h62@n5.nabble.com> wrote:

> Hi Ryan,
>
> It seems to be that you'd be better off breaking up some of those routes;
> they seem very large and monolithic. Prefer composed routes instead, each
> with discrete error handlers. Currently you're looking for a fault through
> a large slice of functionality. The use of the doCatch clauses is alluding
> to the fact that these routes need to be broken up. With a larger number
> of
> smaller composed routes it will bring greater focus to your error
> detection/handling. Same concept behind keeping regular method sizes
> small.
>
> Can you explain why some of the individual processor nodes in each route
> have processing times in the order of an hour or more!?
>
> Also, give each node in the processing chain of a route a discrete ID.
> Makes it a lot easier to map, rather than figuring out what 'choice43' is!
>
> How are you testing these routes? What unit tests do you have for these
> routes?
>
> Thanks,
> Paul
>
> On Thu, Apr 27, 2017 at 1:59 PM, Ryan T <[hidden email]
> <http:///user/SendEmail.jtp?type=node&node=5798429&i=0>> wrote:
>
> > That would be ideal, but I it is really hard to reproduce.  Out of say
> > 60000
> > records processed.  I "sometimes" get the timeout.  Everytime I run it
> in
> > my
> > local dev environment it seems to succeed.  When it does fail in my dev
> > environment, I usually have to add more logging as I learn more.  I'm
> > basically trying to prove that it is a network or connectivity issue and
> > eliminate the code as the problem, but if I cannot pin point the exact
> node
> > there is the doubt that it could be happening in the serializer or a
> > database call to mongo or in the cxf code that does the rest call.  My
> gut
> > says that it is a connectivity issue, but how do you explain to
> management
> > that the problem is between Amazon, and Verizon, Kore(T-Mobile), or ATT.
> > They are more inclined to say it is the code base.  Because of this
> being
> > more reproducible in a production environment, it makes it really hard
> to
> > just start removing node to find the problem.  It is however an
> interesting
> > thought and I will look into maybe making a pseudo route that can mimic
> > pieces in the route, specifically the places I think it might be
> happening.
> >
> > On a side note:  I forgot to give you the actual exception in the log as
> > part of the log post message to this board.  Included below:
> >
> >
> >
> >
> >
> > --
> > View this message in context: http://camel.465427.n5.nabble.
> > com/Help-diagnosing-camel-exception-tp5796669p5798428.html
> > Sent from the Camel - Users mailing list archive at Nabble.com.
> >
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Help-diagnosing-camel-
> exception-tp5796669p5798429.html
> To start a new topic under Camel - Users, email ml+s465427n465428h31@n5.
> nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Help-diagnosing-camel-exception-tp5796669p5798436.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_127954_1374007297.1493322743924--

From users-return-65461-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 20:01:06 2017
Return-Path: <users-return-65461-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D49D19478
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 20:01:06 +0000 (UTC)
Received: (qmail 91858 invoked by uid 500); 27 Apr 2017 20:01:06 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 91820 invoked by uid 500); 27 Apr 2017 20:01:06 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 91809 invoked by uid 99); 27 Apr 2017 20:01:05 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 20:01:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 64072188AA5
	for <users@camel.apache.org>; Thu, 27 Apr 2017 20:01:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.189
X-Spam-Level: ****
X-Spam-Status: No, score=4.189 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FORGED_YAHOO_RCVD=1.022,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 99pPBfZ8EG8w for <users@camel.apache.org>;
	Thu, 27 Apr 2017 20:01:03 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id B466A5FAC9
	for <users@camel.apache.org>; Thu, 27 Apr 2017 20:01:02 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 1C70E3D347E1B
	for <users@camel.apache.org>; Thu, 27 Apr 2017 13:01:02 -0700 (MST)
Date: Thu, 27 Apr 2017 13:01:02 -0700 (MST)
From: Ryan T <bratnmw@yahoo.com>
To: users@camel.apache.org
Message-ID: <1493323262110-5798451.post@n5.nabble.com>
In-Reply-To: <CAJ5znhtYCAZPH9PqmbER8gWSL1HANpZ_sm7era0ebrgm8z6k2A@mail.gmail.com>
References: <1490738690185-5796669.post@n5.nabble.com> <CA+wbgs0O0gqi6WuLZfk48a0fxL4gcZrbwTP=3qs5ULJLsPt3qw@mail.gmail.com> <1490822278842-5796719.post@n5.nabble.com> <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com> <1493248092547-5798367.post@n5.nabble.com> <CA+wbgs1N7UAdQSAqn9LPa04+wfsb3VTQUseqD4aNNyM0Vviq5Q@mail.gmail.com> <1493312041616-5798424.post@n5.nabble.com> <CA+wbgs3WN23MTRrGDoWsAPrKs-LYVudhzrNGiTKQ_ZpMAUHGiQ@mail.gmail.com> <1493315952701-5798428.post@n5.nabble.com> <CAJ5znhtYCAZPH9PqmbER8gWSL1HANpZ_sm7era0ebrgm8z6k2A@mail.gmail.com>
Subject: Re: Help diagnosing camel exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

> Can you explain why some of the individual processor nodes in each route 
> have processing times in the order of an hour or more!?

The route is a batch job process that is triggered by a Quartz2 or API get
call.  The base route can take anywhere from 2 minutes to run in the case of
ATT because we only have 200 devices.  But for Verizon we have 50000 devices
and that can take around 2 hours to run.

> How are you testing these routes? What unit tests do you have for these 
> routes?

We have some Scala tests that unit test the individual Processors passing in
a Mocked exchange object.  As for the beans they mostly are services to
interact with a Mongodb store.  Not much processing actually happens in
them.  I inherited this code and I have slowly been refactoring it to be
less monolithic, but that takes time.  I have created some tests, not in
this area with the timeouts, that test whole routes Mocking the external
payloads that are received.  They are on the more simpler routes.   But
doing these test can be difficult because of how monolithic these routes
are.

> Also, give each node in the processing chain of a route a discrete ID. 
> Makes it a lot easier to map, rather than figuring out what 'choice43' is!

Agreed this would help.  I will implement them right away.   The problem is,
to get the verbose logging, I have to tell camel that the exceptions are not
handled and if I do that then the whole batch stops when an exception
happens.  I need a way of printing the verbose logging, like in the original
ticket message, but without stopping the world when they happen.  Do you
know how to do that?

Thanks for your help.



--
View this message in context: http://camel.465427.n5.nabble.com/Help-diagnosing-camel-exception-tp5796669p5798451.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65462-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 20:05:03 2017
Return-Path: <users-return-65462-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 60E9A19508
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 20:05:03 +0000 (UTC)
Received: (qmail 5975 invoked by uid 500); 27 Apr 2017 20:05:02 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 5930 invoked by uid 500); 27 Apr 2017 20:05:02 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 5919 invoked by uid 99); 27 Apr 2017 20:05:02 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 20:05:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3F2DDC04DE
	for <users@camel.apache.org>; Thu, 27 Apr 2017 20:05:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.487
X-Spam-Level: *****
X-Spam-Status: No, score=5.487 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, HTML_MESSAGE=2,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id PA2Aq-TlZIsf for <users@camel.apache.org>;
	Thu, 27 Apr 2017 20:05:00 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 1D9985F36C
	for <users@camel.apache.org>; Thu, 27 Apr 2017 20:05:00 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 99CE23D347F93
	for <users@camel.apache.org>; Thu, 27 Apr 2017 13:04:59 -0700 (MST)
Date: Thu, 27 Apr 2017 13:04:59 -0700 (MST)
From: souciance <souciance.eqdam.rashti@gmail.com>
To: users@camel.apache.org
Message-ID: <CA+wbgs1b4HtwqBBe8KqC=FBm-CEUSYCna4ROZqb8qaq18Bgw_Q@mail.gmail.com>
In-Reply-To: <1493323262110-5798451.post@n5.nabble.com>
References: <CA+wbgs0O0gqi6WuLZfk48a0fxL4gcZrbwTP=3qs5ULJLsPt3qw@mail.gmail.com> <1490822278842-5796719.post@n5.nabble.com> <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com> <1493248092547-5798367.post@n5.nabble.com> <CA+wbgs1N7UAdQSAqn9LPa04+wfsb3VTQUseqD4aNNyM0Vviq5Q@mail.gmail.com> <1493312041616-5798424.post@n5.nabble.com> <CA+wbgs3WN23MTRrGDoWsAPrKs-LYVudhzrNGiTKQ_ZpMAUHGiQ@mail.gmail.com> <1493315952701-5798428.post@n5.nabble.com> <CAJ5znhtYCAZPH9PqmbER8gWSL1HANpZ_sm7era0ebrgm8z6k2A@mail.gmail.com> <1493323262110-5798451.post@n5.nabble.com>
Subject: Re: Help diagnosing camel exception
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_129401_1629654347.1493323499625"

------=_Part_129401_1629654347.1493323499625
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Couldn't you use an OnException for logging and then continue? This way,
the processing doesn't step because of one error.

OnException().continued(true).to("seda:LogErrors");

<https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
Virusfritt.
www.avast.com
<https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
<#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>

On Thu, Apr 27, 2017 at 10:01 PM, Ryan T [via Camel] <
ml+s465427n5798451h44@n5.nabble.com> wrote:

> > Can you explain why some of the individual processor nodes in each route
> > have processing times in the order of an hour or more!?
>
> The route is a batch job process that is triggered by a Quartz2 or API get
> call.  The base route can take anywhere from 2 minutes to run in the case
> of ATT because we only have 200 devices.  But for Verizon we have 50000
> devices and that can take around 2 hours to run.
>
> > How are you testing these routes? What unit tests do you have for these
> > routes?
>
> We have some Scala tests that unit test the individual Processors passing
> in a Mocked exchange object.  As for the beans they mostly are services to
> interact with a Mongodb store.  Not much processing actually happens in
> them.  I inherited this code and I have slowly been refactoring it to be
> less monolithic, but that takes time.  I have created some tests, not in
> this area with the timeouts, that test whole routes Mocking the external
> payloads that are received.  They are on the more simpler routes.   But
> doing these test can be difficult because of how monolithic these routes
> are.
>
> > Also, give each node in the processing chain of a route a discrete ID.
> > Makes it a lot easier to map, rather than figuring out what 'choice43'
> is!
>
> Agreed this would help.  I will implement them right away.   The problem
> is, to get the verbose logging, I have to tell camel that the exceptions
> are not handled and if I do that then the whole batch stops when an
> exception happens.  I need a way of printing the verbose logging, like in
> the original ticket message, but without stopping the world when they
> happen.  Do you know how to do that?
>
> Thanks for your help.
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
> http://camel.465427.n5.nabble.com/Help-diagnosing-camel-
> exception-tp5796669p5798451.html
> To start a new topic under Camel - Users, email ml+s465427n465428h31@n5.
> nabble.com
> To unsubscribe from Camel - Users, click here
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=465428&code=c291Y2lhbmNlLmVxZGFtLnJhc2h0aUBnbWFpbC5jb218NDY1NDI4fDE1MzI5MTE2NTY=>
> .
> NAML
> <http://camel.465427.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://camel.465427.n5.nabble.com/Help-diagnosing-camel-exception-tp5796669p5798460.html
Sent from the Camel - Users mailing list archive at Nabble.com.
------=_Part_129401_1629654347.1493323499625--

From users-return-65463-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 20:20:38 2017
Return-Path: <users-return-65463-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D01CE196EF
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 20:20:38 +0000 (UTC)
Received: (qmail 69536 invoked by uid 500); 27 Apr 2017 20:20:21 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 69502 invoked by uid 500); 27 Apr 2017 20:20:21 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 69286 invoked by uid 99); 27 Apr 2017 20:20:21 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 20:20:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A6692180A5A
	for <users@camel.apache.org>; Thu, 27 Apr 2017 20:20:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.189
X-Spam-Level: ****
X-Spam-Status: No, score=4.189 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FORGED_YAHOO_RCVD=1.022,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id K8KlEFLjy8d9 for <users@camel.apache.org>;
	Thu, 27 Apr 2017 20:20:18 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 19DF45FCC9
	for <users@camel.apache.org>; Thu, 27 Apr 2017 20:20:18 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id AE69F3D35786A
	for <users@camel.apache.org>; Thu, 27 Apr 2017 13:20:17 -0700 (MST)
Date: Thu, 27 Apr 2017 13:20:17 -0700 (MST)
From: Ryan T <bratnmw@yahoo.com>
To: users@camel.apache.org
Message-ID: <1493324417709-5798467.post@n5.nabble.com>
In-Reply-To: <CA+wbgs2gFSLEfNd-VvDNZnnKf6N1f3NnQ60PoUf0814Jvd1xeQ@mail.gmail.com>
References: <CA+wbgs0O0gqi6WuLZfk48a0fxL4gcZrbwTP=3qs5ULJLsPt3qw@mail.gmail.com> <1490822278842-5796719.post@n5.nabble.com> <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com> <1493248092547-5798367.post@n5.nabble.com> <CA+wbgs1N7UAdQSAqn9LPa04+wfsb3VTQUseqD4aNNyM0Vviq5Q@mail.gmail.com> <1493312041616-5798424.post@n5.nabble.com> <CA+wbgs3WN23MTRrGDoWsAPrKs-LYVudhzrNGiTKQ_ZpMAUHGiQ@mail.gmail.com> <1493315952701-5798428.post@n5.nabble.com> <CAJ5znhtYCAZPH9PqmbER8gWSL1HANpZ_sm7era0ebrgm8z6k2A@mail.gmail.com> <CA+wbgs2gFSLEfNd-VvDNZnnKf6N1f3NnQ60PoUf0814Jvd1xeQ@mail.gmail.com>
Subject: Re: Help diagnosing camel exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I thought about increasing the timeout limit, but the timings do not suggest
that would be the best way to handle the issue.  The reason I say that is
because the timings on 99% are with in 2 seconds.  Fact is the only time i
see them go above 2 seconds is when these timeouts occur.  This suggests to
me that it is an external pause of some sort or maybe a GC happens. 
Although the GC does not quite make sense either because other processes do
not pause at the same time from what I can see.  I have had these timeouts
happen on single API calls too.  Not just the batch jobs.  It sure smells of
network issues to me.  I want to eliminate the carriers(ATT, Verizon, etc)
as it happens regardless of carrier API I am hitting.  If I were to narrow
down to what things it could be, I would say it is either network issues, a
problem in CXF(Camel), or a problem in the marshalling
JacksonXML/Json(Camel).



--
View this message in context: http://camel.465427.n5.nabble.com/Help-diagnosing-camel-exception-tp5796669p5798467.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65464-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 20:29:51 2017
Return-Path: <users-return-65464-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D0481197C1
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 20:29:51 +0000 (UTC)
Received: (qmail 4733 invoked by uid 500); 27 Apr 2017 20:29:51 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 4685 invoked by uid 500); 27 Apr 2017 20:29:51 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 4674 invoked by uid 99); 27 Apr 2017 20:29:51 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 20:29:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C3001D652A
	for <users@camel.apache.org>; Thu, 27 Apr 2017 20:29:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.189
X-Spam-Level: ****
X-Spam-Status: No, score=4.189 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FORGED_YAHOO_RCVD=1.022,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id iXALTyOAl9yu for <users@camel.apache.org>;
	Thu, 27 Apr 2017 20:29:50 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id B8AD660CF5
	for <users@camel.apache.org>; Thu, 27 Apr 2017 20:29:49 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 4BC0E3D35F554
	for <users@camel.apache.org>; Thu, 27 Apr 2017 13:29:48 -0700 (MST)
Date: Thu, 27 Apr 2017 13:29:48 -0700 (MST)
From: Ryan T <bratnmw@yahoo.com>
To: users@camel.apache.org
Message-ID: <1493324988304-5798468.post@n5.nabble.com>
In-Reply-To: <CA+wbgs1b4HtwqBBe8KqC=FBm-CEUSYCna4ROZqb8qaq18Bgw_Q@mail.gmail.com>
References: <1490822278842-5796719.post@n5.nabble.com> <CA+wbgs0Td9O+8vowsx-D5OKK8Ass-6GSTYPFR4R+ehuKfOFNWA@mail.gmail.com> <1493248092547-5798367.post@n5.nabble.com> <CA+wbgs1N7UAdQSAqn9LPa04+wfsb3VTQUseqD4aNNyM0Vviq5Q@mail.gmail.com> <1493312041616-5798424.post@n5.nabble.com> <CA+wbgs3WN23MTRrGDoWsAPrKs-LYVudhzrNGiTKQ_ZpMAUHGiQ@mail.gmail.com> <1493315952701-5798428.post@n5.nabble.com> <CAJ5znhtYCAZPH9PqmbER8gWSL1HANpZ_sm7era0ebrgm8z6k2A@mail.gmail.com> <1493323262110-5798451.post@n5.nabble.com> <CA+wbgs1b4HtwqBBe8KqC=FBm-CEUSYCna4ROZqb8qaq18Bgw_Q@mail.gmail.com>
Subject: Re: Help diagnosing camel exception
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I actually do have that.  If you look at the code the try catch only catches:
CxfOperationException.class,
UnknownHostException.class,
ConnectException.class,
SocketTimeoutException.class,
NoRouteToHostException.class,
Fault.class

When the TimeoutException happens it does not go into this portion of the
route. 
 
It is going into this portion of code which is why I included both routes as
this is in the parent route.



Do you think that the error message might be more plain and/or helpful if I
moved this onException into the seda routes?  Is the fact that the
onException is in the parent route hiding important information do you
think?



--
View this message in context: http://camel.465427.n5.nabble.com/Help-diagnosing-camel-exception-tp5796669p5798468.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65465-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 20:51:37 2017
Return-Path: <users-return-65465-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E03719940
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 20:51:37 +0000 (UTC)
Received: (qmail 63668 invoked by uid 500); 27 Apr 2017 20:51:26 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 63629 invoked by uid 500); 27 Apr 2017 20:51:26 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 63370 invoked by uid 99); 27 Apr 2017 20:51:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 20:51:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 68E64C04DE
	for <users@camel.apache.org>; Thu, 27 Apr 2017 20:51:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.189
X-Spam-Level: ****
X-Spam-Status: No, score=4.189 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, FORGED_YAHOO_RCVD=1.022,
	NML_ADSP_CUSTOM_MED=1.2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id bW8SdiikZz8z for <users@camel.apache.org>;
	Thu, 27 Apr 2017 20:51:23 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 00B955F36C
	for <users@camel.apache.org>; Thu, 27 Apr 2017 20:51:22 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 387C83D36F548
	for <users@camel.apache.org>; Thu, 27 Apr 2017 13:51:11 -0700 (MST)
Date: Thu, 27 Apr 2017 13:51:11 -0700 (MST)
From: Ryan T <bratnmw@yahoo.com>
To: users@camel.apache.org
Message-ID: <1493326271225-5798470.post@n5.nabble.com>
Subject: Understanding onExceptionOccurred
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

What is the difference between the following:



and 





--
View this message in context: http://camel.465427.n5.nabble.com/Understanding-onExceptionOccurred-tp5798470.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65466-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 21:28:34 2017
Return-Path: <users-return-65466-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF0B619AE1
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 21:28:34 +0000 (UTC)
Received: (qmail 44472 invoked by uid 500); 27 Apr 2017 21:28:29 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 44424 invoked by uid 500); 27 Apr 2017 21:28:29 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 44412 invoked by uid 99); 27 Apr 2017 21:28:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 21:28:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id BB01DCD794
	for <users@camel.apache.org>; Thu, 27 Apr 2017 21:28:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.598
X-Spam-Level:
X-Spam-Status: No, score=-1.598 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-2.796,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=yahoo.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id T-JlMMDK7foQ for <users@camel.apache.org>;
	Thu, 27 Apr 2017 21:28:27 +0000 (UTC)
Received: from nm4-vm6.bullet.mail.gq1.yahoo.com (nm4-vm6.bullet.mail.gq1.yahoo.com [98.136.218.165])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id B98755FB5C
	for <users@camel.apache.org>; Thu, 27 Apr 2017 21:28:26 +0000 (UTC)
Received: from [216.39.60.180] by nm4.bullet.mail.gq1.yahoo.com with NNFMP; 27 Apr 2017 21:28:20 -0000
Received: from [208.71.42.193] by tm16.bullet.mail.gq1.yahoo.com with NNFMP; 27 Apr 2017 21:28:20 -0000
Received: from [127.0.0.1] by smtp204.mail.gq1.yahoo.com with NNFMP; 27 Apr 2017 21:28:20 -0000
X-Yahoo-Newman-Id: 494569.55821.bm@smtp204.mail.gq1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: qteQgOAVM1kAnWNFaEf7GRxUuS6zQKZadby.SxHNtyXz2kQ
 tMPboeSi.SF_EiGyPrGaeVBpOmVSKoptrTvPCbU2o7XFgBovKVxJdw_ZXr8i
 mdJ4X7VM.KbDG8Ct.K5WOjk1dfdW8QzxSWvKD7TJffaCZA._7Fr8NflaAgKN
 DiYNr9CEW_.6an6HwX1rUoEmM.9aL4fjryvOr4zbOarlDXbmdV6Hi8ZGodL7
 cZi0gC159laHcmK1V_pEg1aNOZ2vtxXLI_SY.aegyhJPcMD6bvkxZPnfReC4
 a3f9OrbpP2H1qtu87kf8VM1JA.KWiVoKTko_3M7gQkCixPHuyEewoCiOPn9c
 QwRa73QvRowvi9P_chA3LFdErx.yzhIRoDTWK.D3f5y1.77r9V6I72B18AXI
 Tb6RNLBwRbvGzSOz8kLFW8zw1najO8ZhsukXKu7x_VnkZJfFezF5EJQBOzh6
 Lr_8DLvfaALtp2LfEint1OYPhqyWNu73AE4y.WKsbgSpzPzLWbqTfMXJQ9rB
 fTIQNNpziKcHeH2zBopord_ebu0I2r9iDqlsK9pHoVVNo3iNcxxozKQb.79U
 _7DYieYBw
X-Yahoo-SMTP: oEVgnZuswBDW.Ws33TLEzKSpRrHgEpw-
Date: Thu, 27 Apr 2017 17:28:08 -0400
Subject: Re: AWS S3 and Minio (or other S3 emulator)
Message-ID: <66b986da-09d8-4ff1-b932-6a2638586b02@yahoo.com>
In-Reply-To: <CAMhV9p642CaoSsGPkUT0GusyN7Au1qWcZwzaD69tnyzgxQ0VtA@mail.gmail.com>
References: <CAMhV9p642CaoSsGPkUT0GusyN7Au1qWcZwzaD69tnyzgxQ0VtA@mail.gmail.com>
From: dennyejose@yahoo.com.INVALID
To: users@camel.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="--_com.boxer.email_1103740721600370"

----_com.boxer.email_1103740721600370
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: base64

V2h5IGRvbid0IHUgZ28gZm9yIGEgZnJlZSB0aWVyIGFjY291bnQgYW5kIHVzZSBTMz8gSSdtIHVz
aW5nIGl0IHdpdGggY2FtZWwgYW5kIGphdmEgc2RrIC4uIHdvcmtzIHdlbGwuLgoKU2VudCBmcm9t
IG15IEN5YW5vZ2VuIHBob25lCgpPbiBBcHIgMjUsIDIwMTcgODo1OSBBTSwgTWFyayBOdXR0YWxs
IDxta251dHRhbGxAZ21haWwuY29tPiB3cm90ZToKCkRvZXMgYW55b25lIGhhdmUgZXhwZXJpZW5j
ZSB1c2luZyBDYW1lbCB3aXRoIGFuIEFXUyBTMyAiZW11bGF0b3IiLiBJIGRvbid0CmN1cnJlbnRs
eSBoYXZlIGFjY2VzcyB0byBBV1MgUzMgc28gaSBhbSB0cnlpbmcgdG8gdXNlIE1pbmlvIChNaW5p
by5pbykgdG8KZGV2ZWxvcCB3aXRoIHVudGlsIEkgY2FuIGdldCB0aGUgcmVhbCBTMy4gSSBoYXZl
IG5vdCBiZWVuIHN1Y2Nlc3NmdWwKZ2V0dGluZyBpdCB0byB3b3JrLiBJIGhhdmUgdHJpZWQgY3Jl
YXRpbmcgdGhlIEFtYXpvblMzQ2xpZW50IG15c2VsZiBidXQgYW0KcnVubmluZyBpbnRvIGEgbXly
aWFkIG9mIGVycm9ycy4gIEkndmUgdHJpZWQgYSBmZXcgZGlmZmVyZW50IHRoaW5ncy4gSSBkaWQK
aGF2ZSB0byBkcm9wIGJhY2sgdG8gYSBwcmV2aW91cyB2ZXJzaW9uIG9mIE1pbmlvIGJlY2F1c2Ug
b2YgYSBrbm93biBidWcKd2l0aCBpdCBhbmQgdGhlICBBbWF6b24gSmF2YSBBUEkuCgpJZiB5b3Ug
aGF2ZSB1c2VkIG9uZSwgd2hhdCBkaWQgeW91IHVzZSBhbmQgaG93IGRpZCB5b3UgZ2V0IHRoZSBB
V1MgUzMKY29tcG9uZW50IHRvIHdvcmsgd2l0aCBpdD8KClRoYW5rcyEKTWFyawoK
----_com.boxer.email_1103740721600370--


From users-return-65467-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 21:32:24 2017
Return-Path: <users-return-65467-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A4E8919B21
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 21:32:24 +0000 (UTC)
Received: (qmail 70533 invoked by uid 500); 27 Apr 2017 21:32:24 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 70492 invoked by uid 500); 27 Apr 2017 21:32:24 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 70469 invoked by uid 99); 27 Apr 2017 21:32:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 21:32:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 46F921889D3
	for <users@camel.apache.org>; Thu, 27 Apr 2017 21:32:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id q4VRsLrQDrsc for <users@camel.apache.org>;
	Thu, 27 Apr 2017 21:32:21 +0000 (UTC)
Received: from mail-qk0-f182.google.com (mail-qk0-f182.google.com [209.85.220.182])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 2ECD95FC4A
	for <users@camel.apache.org>; Thu, 27 Apr 2017 21:32:21 +0000 (UTC)
Received: by mail-qk0-f182.google.com with SMTP id h123so38988789qke.0
        for <users@camel.apache.org>; Thu, 27 Apr 2017 14:32:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=A2ihdM9GerW5YurIa4jO27PRz13cJStxbxydXoXzJiE=;
        b=JAyEaIUOdGomRJQ5sWheHL7wodrHhAlCwT/A6Kw8QegwVQA9jSbH7GdxyonUcGMUsE
         A0vWZdRDj7Z+aALpFVVY8Ol+DnaFitLusClBw7YVD5BgSLF5GHt/8+Vh9YFe2bY+zhsq
         4yjdmDqhQ/f9EzhGoG5IGNDgjy8tux66xO0RLMx24PlSDBBWpNIQu5h+KCbCpHTncbKw
         msAP5ROJn6I6J7/MnEZZ/T+amZwNRPezV5xPhblfKDEjCbGZrZhSwL6hmQ3AVuRCxXJT
         Y8SB7tKbcDWtVmI17jdvbROidJNvOi2WqfQ8BS/9I7VI4OJ34pQIdnWHR397UkQrmP8l
         yqCA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=A2ihdM9GerW5YurIa4jO27PRz13cJStxbxydXoXzJiE=;
        b=UwiqIejzCAKgFPYpPvzewT7Ifc/sf83BvLTcOlEcBmKC1XZaxgGkOg+U7qmHELOUWQ
         kzIhvllGk8kB7/Ulza+yDFxUfWRQZiMCExhL+50PQg/9JpK44G0KJlgFQvTte10cdIug
         ix2Yte57XGaOIRL/LvGQjIDQYeh3JtzqOOz32AxAhZkMwIXVyrWchn5zORwIX9fDPyYx
         eLsz+fgqTYucjmPFtLDw3kaB52a4xxWV2VqBLI/pm8I6g+gniYc2hEnilRXledVmI4Kp
         YNJ2F5iUWjGFiz4vrRqHHEXwAN4Ran7Q1NINT+pqvNgzhaGSqKDhYj/21SUwVMGRHEJW
         9FXA==
X-Gm-Message-State: AN3rC/4zgND4ZWAqXvySZzmbtCWn4+QRxpfsSry/T1I54+e5KP2pNFV3
	pN2qLzEQ/mA7HuIhRV67ikNCO8vPXg==
X-Received: by 10.55.137.193 with SMTP id l184mr7545042qkd.122.1493328740733;
 Thu, 27 Apr 2017 14:32:20 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.12.179.215 with HTTP; Thu, 27 Apr 2017 14:32:20 -0700 (PDT)
In-Reply-To: <66b986da-09d8-4ff1-b932-6a2638586b02@yahoo.com>
References: <CAMhV9p642CaoSsGPkUT0GusyN7Au1qWcZwzaD69tnyzgxQ0VtA@mail.gmail.com>
 <66b986da-09d8-4ff1-b932-6a2638586b02@yahoo.com>
From: Mark Nuttall <mknuttall@gmail.com>
Date: Thu, 27 Apr 2017 17:32:20 -0400
Message-ID: <CAMhV9p6U=FROAtH7wX2O96hdhno_XyWZx4owRb0s4mA-_vQbeQ@mail.gmail.com>
Subject: Re: AWS S3 and Minio (or other S3 emulator)
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c06d5641fdcfe054e2cb1b2

--94eb2c06d5641fdcfe054e2cb1b2
Content-Type: text/plain; charset=UTF-8

Thanks. I was thinking the same after looking at the free tier. It is for
work though and I didn't want my info in our environment.  I might stlll do
it.

I forged ahead with just using Minio with a processor. I might make up an
endpoint that better emulates the S3 one and put it on github.

On Thu, Apr 27, 2017 at 5:28 PM, <dennyejose@yahoo.com.invalid> wrote:

> Why don't u go for a free tier account and use S3? I'm using it with camel
> and java sdk .. works well..
>
> Sent from my Cyanogen phone
>
> On Apr 25, 2017 8:59 AM, Mark Nuttall <mknuttall@gmail.com> wrote:
>
> Does anyone have experience using Camel with an AWS S3 "emulator". I don't
> currently have access to AWS S3 so i am trying to use Minio (Minio.io) to
> develop with until I can get the real S3. I have not been successful
> getting it to work. I have tried creating the AmazonS3Client myself but am
> running into a myriad of errors.  I've tried a few different things. I did
> have to drop back to a previous version of Minio because of a known bug
> with it and the  Amazon Java API.
>
> If you have used one, what did you use and how did you get the AWS S3
> component to work with it?
>
> Thanks!
> Mark
>
>

--94eb2c06d5641fdcfe054e2cb1b2--

From users-return-65468-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Thu Apr 27 21:51:48 2017
Return-Path: <users-return-65468-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ADEAE19BEA
	for <apmail-camel-users-archive@www.apache.org>; Thu, 27 Apr 2017 21:51:48 +0000 (UTC)
Received: (qmail 11115 invoked by uid 500); 27 Apr 2017 21:51:48 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 11063 invoked by uid 500); 27 Apr 2017 21:51:48 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 11050 invoked by uid 99); 27 Apr 2017 21:51:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Apr 2017 21:51:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4B951D664D
	for <users@camel.apache.org>; Thu, 27 Apr 2017 21:51:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.898
X-Spam-Level:
X-Spam-Status: No, score=-0.898 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=yahoo.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id zJ0HihdfCAeK for <users@camel.apache.org>;
	Thu, 27 Apr 2017 21:51:43 +0000 (UTC)
Received: from nm2-vm6.bullet.mail.gq1.yahoo.com (nm2-vm6.bullet.mail.gq1.yahoo.com [98.136.218.133])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 08D0D5F177
	for <users@camel.apache.org>; Thu, 27 Apr 2017 21:51:42 +0000 (UTC)
Received: from [98.137.12.175] by nm2.bullet.mail.gq1.yahoo.com with NNFMP; 27 Apr 2017 21:51:36 -0000
Received: from [208.71.42.209] by tm14.bullet.mail.gq1.yahoo.com with NNFMP; 27 Apr 2017 21:51:36 -0000
Received: from [127.0.0.1] by smtp220.mail.gq1.yahoo.com with NNFMP; 27 Apr 2017 21:51:36 -0000
X-Yahoo-Newman-Id: 750767.59894.bm@smtp220.mail.gq1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: c_jIn1sVM1kkWSIKZ3P_F7ea25hlrBNxq2pC29tyFGtt3pn
 Yg_HEjfTuSjtKZEQSGHEDwwx46SRlowyjyGDAeh5RdRaSK3qOtt.TpyHjXfC
 SQagCHKNmeLf2r2gzlCn329kBkUmQhXTTC1OfmMFM2dvGZUbHhDHR1IYPLne
 KwrV57N7e2g04i8.uyn9OPixqdhJVJG2fZz2MTh2gXtaftRqnGGY2rC19WTa
 AqW_wknADQCe_3gHK6vMDbM03Hym5gVi175vhsAD65AuelX7JNOXBGeonDZi
 WYipWRB.EiDY58WMfpdxlPEoAQVWRk04SBvbDB0kzYm5VvimD91JVCdi2vp0
 h1sMxr974Al61GIuz88voGL_tIi9s5RnsC265E2sw_NMQ_RISq7rWmqoaCue
 lAbMI4v.pnK7MfjaLvOlNtz7D2vuQRgWvTKiInETYe6dqnbPhxNOBU992BRM
 c9cCSDIPpVbYMVrRIp2Lds07Cah0r80TheUVWolWE4wStDDuyF8CPCXk0HtS
 c75ISEMrdT6rLeleYE1VSjO0UxbnQpLz9vo9prkLveX5PZyaZVm1gdwVlutI
 RmPBZzedEBQ.F9Q--
X-Yahoo-SMTP: oEVgnZuswBDW.Ws33TLEzKSpRrHgEpw-
Date: Thu, 27 Apr 2017 17:51:23 -0400
Subject: Re: AWS S3 and Minio (or other S3 emulator)
Message-ID: <dab10a71-95f5-403e-8aef-1273d5031072@yahoo.com>
In-Reply-To: <CAMhV9p6U=FROAtH7wX2O96hdhno_XyWZx4owRb0s4mA-_vQbeQ@mail.gmail.com>
References: <CAMhV9p642CaoSsGPkUT0GusyN7Au1qWcZwzaD69tnyzgxQ0VtA@mail.gmail.com>
 <66b986da-09d8-4ff1-b932-6a2638586b02@yahoo.com>
 <CAMhV9p6U=FROAtH7wX2O96hdhno_XyWZx4owRb0s4mA-_vQbeQ@mail.gmail.com>
From: dennyejose@yahoo.com.INVALID
To: users@camel.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="--_com.boxer.email_1117368830302452"

----_com.boxer.email_1117368830302452
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: base64

SSBkb24ndCBrbm93IHlvdXIgYXBwIGFyY2hpdGVjdHVyZSBidXQgaWYgeW91IGFyZSBwbGFubmlu
ZyB0byBtb3ZlIHRoYXQgY2FtZWwgY29kZSBvbiBhd3MgaSB3aWxsIHJlY29tbWVuZCB0byBnbyB3
aXRoIGFuIGVjMiBpbnN0YW5jZSBhbmQgdGVzdCBpdCBvdXQgb24gdGhlIGZyZWUgdGllciB1c2lu
ZyBTMy4gWW91IG1heSBmaW5kIHNvbWUgaXNzdWVzIHRoYXQgeW91IGNhbiBhZGRyZXNzIGVhcmx5
IGJlZm9yZSB5b3UgbW92ZSBkZWVwCgpTZW50IGZyb20gbXkgQ3lhbm9nZW4gcGhvbmUKCk9uIEFw
ciAyNywgMjAxNyA1OjMyIFBNLCBNYXJrIE51dHRhbGwgPG1rbnV0dGFsbEBnbWFpbC5jb20+IHdy
b3RlOgoKVGhhbmtzLiBJIHdhcyB0aGlua2luZyB0aGUgc2FtZSBhZnRlciBsb29raW5nIGF0IHRo
ZSBmcmVlIHRpZXIuIEl0IGlzIGZvcgp3b3JrIHRob3VnaCBhbmQgSSBkaWRuJ3Qgd2FudCBteSBp
bmZvIGluIG91ciBlbnZpcm9ubWVudC4gIEkgbWlnaHQgc3RsbGwgZG8KaXQuCgpJIGZvcmdlZCBh
aGVhZCB3aXRoIGp1c3QgdXNpbmcgTWluaW8gd2l0aCBhIHByb2Nlc3Nvci4gSSBtaWdodCBtYWtl
IHVwIGFuCmVuZHBvaW50IHRoYXQgYmV0dGVyIGVtdWxhdGVzIHRoZSBTMyBvbmUgYW5kIHB1dCBp
dCBvbiBnaXRodWIuCgpPbiBUaHUsIEFwciAyNywgMjAxNyBhdCA1OjI4IFBNLCA8ZGVubnllam9z
ZUB5YWhvby5jb20uaW52YWxpZD4gd3JvdGU6Cgo+IFdoeSBkb24ndCB1IGdvIGZvciBhIGZyZWUg
dGllciBhY2NvdW50IGFuZCB1c2UgUzM/IEknbSB1c2luZyBpdCB3aXRoIGNhbWVsCj4gYW5kIGph
dmEgc2RrIC4uIHdvcmtzIHdlbGwuLgo+Cj4gU2VudCBmcm9tIG15IEN5YW5vZ2VuIHBob25lCj4K
PiBPbiBBcHIgMjUsIDIwMTcgODo1OSBBTSwgTWFyayBOdXR0YWxsIDxta251dHRhbGxAZ21haWwu
Y29tPiB3cm90ZToKPgo+IERvZXMgYW55b25lIGhhdmUgZXhwZXJpZW5jZSB1c2luZyBDYW1lbCB3
aXRoIGFuIEFXUyBTMyAiZW11bGF0b3IiLiBJIGRvbid0Cj4gY3VycmVudGx5IGhhdmUgYWNjZXNz
IHRvIEFXUyBTMyBzbyBpIGFtIHRyeWluZyB0byB1c2UgTWluaW8gKE1pbmlvLmlvKSB0bwo+IGRl
dmVsb3Agd2l0aCB1bnRpbCBJIGNhbiBnZXQgdGhlIHJlYWwgUzMuIEkgaGF2ZSBub3QgYmVlbiBz
dWNjZXNzZnVsCj4gZ2V0dGluZyBpdCB0byB3b3JrLiBJIGhhdmUgdHJpZWQgY3JlYXRpbmcgdGhl
IEFtYXpvblMzQ2xpZW50IG15c2VsZiBidXQgYW0KPiBydW5uaW5nIGludG8gYSBteXJpYWQgb2Yg
ZXJyb3JzLiAgSSd2ZSB0cmllZCBhIGZldyBkaWZmZXJlbnQgdGhpbmdzLiBJIGRpZAo+IGhhdmUg
dG8gZHJvcCBiYWNrIHRvIGEgcHJldmlvdXMgdmVyc2lvbiBvZiBNaW5pbyBiZWNhdXNlIG9mIGEg
a25vd24gYnVnCj4gd2l0aCBpdCBhbmQgdGhlICBBbWF6b24gSmF2YSBBUEkuCj4KPiBJZiB5b3Ug
aGF2ZSB1c2VkIG9uZSwgd2hhdCBkaWQgeW91IHVzZSBhbmQgaG93IGRpZCB5b3UgZ2V0IHRoZSBB
V1MgUzMKPiBjb21wb25lbnQgdG8gd29yayB3aXRoIGl0Pwo+Cj4gVGhhbmtzIQo+IE1hcmsKPgo+
Cgo=
----_com.boxer.email_1117368830302452--


From users-return-65469-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 28 06:14:35 2017
Return-Path: <users-return-65469-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E76BE18F7F
	for <apmail-camel-users-archive@www.apache.org>; Fri, 28 Apr 2017 06:14:35 +0000 (UTC)
Received: (qmail 48108 invoked by uid 500); 28 Apr 2017 06:14:35 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 48068 invoked by uid 500); 28 Apr 2017 06:14:35 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 48057 invoked by uid 99); 28 Apr 2017 06:14:35 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Apr 2017 06:14:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id AA59718955D
	for <users@camel.apache.org>; Fri, 28 Apr 2017 06:14:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.535
X-Spam-Level: **
X-Spam-Status: No, score=2.535 tagged_above=-999 required=6.31
	tests=[KAM_LOTSOFHASH=0.25, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_SOFTFAIL=0.972, URI_HEX=1.313] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 96v4dNTup7aM for <users@camel.apache.org>;
	Fri, 28 Apr 2017 06:14:30 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 73E7C5FB3D
	for <users@camel.apache.org>; Fri, 28 Apr 2017 06:14:29 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id BA3E73D504DC4
	for <users@camel.apache.org>; Thu, 27 Apr 2017 23:14:27 -0700 (MST)
Date: Thu, 27 Apr 2017 23:14:27 -0700 (MST)
From: Cruizer Ma <cruizer@qq.com>
To: users@camel.apache.org
Message-ID: <1493360067735-5798475.post@n5.nabble.com>
Subject: Camel_CXF - Basic Authentication - username password
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

I have tried to use Camel-CXF send a Soap message, and camel route like
this:

from("jms:queue:jms/XXXQ").recipientList(urls).aggregationStrategy(new
CustomizeStrategy()).ignoreInvalidEndpoints().parallelProcessing();

List<String> urls = new ArrayList<String>();
String url =
"cxf://http://localhost:18088/COMPANY/Client/service/?wsdlURL=http://localhost:18088/COMPANY/Client/service/?wsdl&loggingFeatureEnabled=true&serviceClass=com.company.client.ClientService&username=test&password=test";
urls.add(url);

It works well but I found the sending message without UserNameToken, the
working environment is Websphere Application Server 8.5.5 and Camel version
is 2.15.2.
So I manual created the CXFEndpoint and set userid/password like this:

from("jms:queue:jms/XXXQ").recipientList(eps).aggregationStrategy(new
CustomizeStrategy()).ignoreInvalidEndpoints().parallelProcessing();

List<Endpoint> eps = new ArrayList<Endpoint>();
CxfComponent cxfComponent = new CxfComponent(exchange.getContext());
final CxfEndpoint endpoint = (CxfEndpoint)
cxfComponent.createEndpoint("cxf://bean:configServiceEndpoint");
endpoint.setAddress("http://localhost:18088/COMPANY/Client/service/");
endpoint.setWsdlURL("http://localhost:18088/COMPANY/Client/service/?wsdl");
endpoint.setLoggingFeatureEnabled(true);
setPassword(endpoint, "test", "test");
eps.add(endpoint);

	<cxf:cxfEndpoint id="configServiceEndpoint" address="${CXFTestSupport.URL}"
		wsdlURL="${CXFTestSupport.WSDL}"
serviceClass="com.company.client.ClientService">
	</cxf:cxfEndpoint>


When testing from Test Class can receive message with UserNameToken, but
when trigger from WAS program will hung at "recipientList(eps)".

Checking Camel DEBUG log got the following info:
2017-04-27 10:06:39,858 487009 DEBUG org.apache.camel.impl.ProducerCache  -
Adding to producer cache with key:
Endpoint[http://localhost:18088/COMPANY/Client/service/] for producer:
Producer[http://localhost:18088/COMPANY/Client/service/]
2017-04-27 10:06:39,858 487009 DEBUG org.apache.camel.impl.ProducerCache  -
Adding to producer cache with key:
Endpoint[http://localhost:18088/COMPANY/Client/service/] for producer:
Producer[http://localhost:18088/COMPANY/Client/service/]
2017-04-27 10:06:39,860 487011 DEBUG
org.apache.camel.processor.MulticastProcessor  - Waiting for on-the-fly
aggregation to complete aggregating 1 responses for exchangeId:
ID-csm-dapp203-anr-psaemea-38278-1493279914232-0-5
2017-04-27 10:06:39,860 487011 DEBUG
org.apache.camel.processor.MulticastProcessor  - Waiting for on-the-fly
aggregation to complete aggregating 1 responses for exchangeId:
ID-csm-dapp203-anr-psaemea-38278-1493279914232-0-5
2017-04-27 10:06:39,860 487011 DEBUG
org.apache.camel.processor.MulticastProcessor  - Message exchange has
failed: Parallel processing failed for number 0 for exchange:
Exchange[JmsMessage[JmsMessageID:
ID:9f108705475ef5e9ce027847110a134f0000000000000001]] Exception:
java.lang.NullPointerException
2017-04-27 10:06:39,860 487011 DEBUG
org.apache.camel.processor.MulticastProcessor  - Message exchange has
failed: Parallel processing failed for number 0 for exchange:
Exchange[JmsMessage[JmsMessageID:
ID:9f108705475ef5e9ce027847110a134f0000000000000001]] Exception:
java.lang.NullPointerException
2017-04-27 10:06:39,860 487011 DEBUG
org.apache.camel.processor.MulticastProcessor  - Message exchange has
failed: Parallel processing failed for number 0 for exchange:
Exchange[JmsMessage[JmsMessageID:
ID:9f108705475ef5e9ce027847110a134f0000000000000001]] Exception:
java.lang.NullPointerException
2017-04-27 10:06:39,860 487011 DEBUG
org.apache.camel.processor.MulticastProcessor  - Message exchange has
failed: Parallel processing failed for number 0 for exchange:
Exchange[JmsMessage[JmsMessageID:
ID:9f108705475ef5e9ce027847110a134f0000000000000001]] Exception:
java.lang.NullPointerException
2017-04-27 10:06:39,860 487011 DEBUG
org.apache.camel.processor.MulticastProcessor  - Done aggregating 1
exchanges on the fly.
2017-04-27 10:06:39,860 487011 DEBUG
org.apache.camel.processor.MulticastProcessor  - Done aggregating 1
exchanges on the fly.
2017-04-27 10:06:39,860 487011 DEBUG
org.apache.camel.processor.MulticastProcessor  - Signaling we are done
aggregating on the fly for exchangeId:
ID-csm-dapp203-anr-psaemea-38278-1493279914232-0-5
2017-04-27 10:06:39,860 487011 DEBUG
org.apache.camel.processor.MulticastProcessor  - Signaling we are done
aggregating on the fly for exchangeId:
ID-csm-dapp203-anr-psaemea-38278-1493279914232-0-5
2017-04-27 10:06:39,860 487011 DEBUG
org.apache.camel.processor.MulticastProcessor  - Done parallel processing 1
exchanges
2017-04-27 10:06:39,860 487011 DEBUG
org.apache.camel.processor.MulticastProcessor  - Done parallel processing 1
exchanges
2017-04-27 10:06:39,860 487011 DEBUG org.apache.camel.processor.Pipeline  -
Message exchange has failed: so breaking out of pipeline for exchange:
Exchange[JmsMessage[JmsMessageID:
ID:9f108705475ef5e9ce027847110a134f0000000000000001]] Exception:
java.lang.NullPointerException
2017-04-27 10:06:39,860 487011 DEBUG org.apache.camel.processor.Pipeline  -
Message exchange has failed: so breaking out of pipeline for exchange:
Exchange[JmsMessage[JmsMessageID:
ID:9f108705475ef5e9ce027847110a134f0000000000000001]] Exception:
java.lang.NullPointerException
2017-04-27 10:06:39,861 487012 DEBUG org.apache.camel.processor.Pipeline  -
Message exchange has failed: so breaking out of pipeline for exchange:
Exchange[JmsMessage[JmsMessageID:
ID:9f108705475ef5e9ce027847110a134f0000000000000001]] Exception:
java.lang.NullPointerException
2017-04-27 10:06:39,861 487012 DEBUG org.apache.camel.processor.Pipeline  -
Message exchange has failed: so breaking out of pipeline for exchange:
Exchange[JmsMessage[JmsMessageID:
ID:9f108705475ef5e9ce027847110a134f0000000000000001]] Exception:
java.lang.NullPointerException
2017-04-27 10:06:39,861 487012 DEBUG org.apache.camel.processor.Pipeline  -
Message exchange has failed: so breaking out of pipeline for exchange:
Exchange[JmsMessage[JmsMessageID:
ID:9f108705475ef5e9ce027847110a134f0000000000000001]] Exception:
java.lang.NullPointerException
2017-04-27 10:06:39,861 487012 DEBUG org.apache.camel.processor.Pipeline  -
Message exchange has failed: so breaking out of pipeline for exchange:
Exchange[JmsMessage[JmsMessageID:
ID:9f108705475ef5e9ce027847110a134f0000000000000001]] Exception:
java.lang.NullPointerException
2017-04-27 10:06:39,861 487012 DEBUG org.apache.camel.processor.Pipeline  -
Message exchange has failed: so breaking out of pipeline for exchange:
Exchange[JmsMessage[JmsMessageID:
ID:9f108705475ef5e9ce027847110a134f0000000000000001]] Exception:
java.lang.NullPointerException
2017-04-27 10:06:39,861 487012 DEBUG org.apache.camel.processor.Pipeline  -
Message exchange has failed: so breaking out of pipeline for exchange:
Exchange[JmsMessage[JmsMessageID:
ID:9f108705475ef5e9ce027847110a134f0000000000000001]] Exception:
java.lang.NullPointerException
2017-04-27 10:06:39,861 487012 WARN 
org.apache.camel.component.jms.EndpointMessageListener  - Execution of JMS
message listener failed. Caused by: [org.apache.camel.RuntimeCamelException
- java.lang.NullPointerException]
org.apache.camel.RuntimeCamelException: java.lang.NullPointerException
        at
org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1619)
        at
org.apache.camel.component.jms.EndpointMessageListener$EndpointMessageListenerAsyncCallback.done(EndpointMessageListener.java:186)
        at
org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:107)
        at
org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:699)
        at
org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:637)
        at
org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:605)
        at
org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:308)
        at
org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:246)
        at
org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1144)
        at
org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1136)
        at
org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1033)
        at
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1157)
        at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:627)
        at java.lang.Thread.run(Thread.java:809)
Caused by: java.lang.NullPointerException
        at
org.apache.camel.component.cxf.CxfProducer.prepareRequest(CxfProducer.java:194)
        at
org.apache.camel.component.cxf.CxfProducer.process(CxfProducer.java:111)
        at
org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:91)
        at
org.apache.camel.builder.NoErrorHandlerBuilder$1.process(NoErrorHandlerBuilder.java:40)
        at
org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:191)
        at
org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:109)
        at
org.apache.camel.processor.MulticastProcessor.doProcessParallel(MulticastProcessor.java:798)
        at
org.apache.camel.processor.MulticastProcessor.access$200(MulticastProcessor.java:83)
        at
org.apache.camel.processor.MulticastProcessor$1.call(MulticastProcessor.java:304)
        at
org.apache.camel.processor.MulticastProcessor$1.call(MulticastProcessor.java:289)
        at java.util.concurrent.FutureTask.run(FutureTask.java:274)
        ... 3 more
2017-04-27 10:06:39,861 487012 WARN 
org.apache.camel.component.jms.EndpointMessageListener  - Execution of JMS
message listener failed. Caused by: [org.apache.camel.RuntimeCamelException
- java.lang.NullPointerException]
org.apache.camel.RuntimeCamelException: java.lang.NullPointerException
        at
org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1619)
        at
org.apache.camel.component.jms.EndpointMessageListener$EndpointMessageListenerAsyncCallback.done(EndpointMessageListener.java:186)
        at
org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:107)
        at
org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:699)
        at
org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:637)
        at
org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:605)
        at
org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:308)
        at
org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:246)
        at
org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1144)
        at
org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1136)
        at
org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1033)
        at
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1157)
        at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:627)
        at java.lang.Thread.run(Thread.java:809)
Caused by: java.lang.NullPointerException
        at
org.apache.camel.component.cxf.CxfProducer.prepareRequest(CxfProducer.java:194)
        at
org.apache.camel.component.cxf.CxfProducer.process(CxfProducer.java:111)
        at
org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:91)
        at
org.apache.camel.builder.NoErrorHandlerBuilder$1.process(NoErrorHandlerBuilder.java:40)
        at
org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:191)
        at
org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:109)
        at
org.apache.camel.processor.MulticastProcessor.doProcessParallel(MulticastProcessor.java:798)
        at
org.apache.camel.processor.MulticastProcessor.access$200(MulticastProcessor.java:83)
        at
org.apache.camel.processor.MulticastProcessor$1.call(MulticastProcessor.java:304)
        at
org.apache.camel.processor.MulticastProcessor$1.call(MulticastProcessor.java:289)
        at java.util.concurrent.FutureTask.run(FutureTask.java:274)
        ... 3 more


Could anyone can help to advise this?

Thanks & Regards
Cruizer Ma






--
View this message in context: http://camel.465427.n5.nabble.com/Camel-CXF-Basic-Authentication-username-password-tp5798475.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65470-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 28 08:45:09 2017
Return-Path: <users-return-65470-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A785F196B8
	for <apmail-camel-users-archive@www.apache.org>; Fri, 28 Apr 2017 08:45:09 +0000 (UTC)
Received: (qmail 25764 invoked by uid 500); 28 Apr 2017 08:45:09 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 25591 invoked by uid 500); 28 Apr 2017 08:45:07 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 51559 invoked by uid 99); 28 Apr 2017 07:16:22 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Fri, 28 Apr 2017 00:16:19 -0700 (MST)
From: Bernard Ligny <bernard.ligny@gmail.com>
To: users@camel.apache.org
Message-ID: <1493363779225-5798476.post@n5.nabble.com>
In-Reply-To: <1493213601903-5798327.post@n5.nabble.com>
References: <1493213601903-5798327.post@n5.nabble.com>
Subject: Re: Body lost with intra-context calls using direct-vm component
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Issue created in JIRA:
https://issues.apache.org/jira/browse/CAMEL-11217




--
View this message in context: http://camel.465427.n5.nabble.com/Body-lost-with-intra-context-calls-using-direct-vm-component-tp5798327p5798476.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65471-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 28 08:47:07 2017
Return-Path: <users-return-65471-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8F3C196C7
	for <apmail-camel-users-archive@www.apache.org>; Fri, 28 Apr 2017 08:47:07 +0000 (UTC)
Received: (qmail 28356 invoked by uid 500); 28 Apr 2017 08:47:07 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 28309 invoked by uid 500); 28 Apr 2017 08:47:07 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 28296 invoked by uid 99); 28 Apr 2017 08:47:06 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Apr 2017 08:47:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6453218828C
	for <users@camel.apache.org>; Fri, 28 Apr 2017 08:47:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id QhcUn1VSnyS8 for <users@camel.apache.org>;
	Fri, 28 Apr 2017 08:47:05 +0000 (UTC)
Received: from mail-lf0-f50.google.com (mail-lf0-f50.google.com [209.85.215.50])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 29CAC5FB2C
	for <users@camel.apache.org>; Fri, 28 Apr 2017 08:47:05 +0000 (UTC)
Received: by mail-lf0-f50.google.com with SMTP id 75so30175488lfs.2
        for <users@camel.apache.org>; Fri, 28 Apr 2017 01:47:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=wzwlhdywYWEPGtpx9zfHzkec3sfYzYlkjRX3MyCKCjY=;
        b=OaOMxOLsIsCwloRC5XZABjbvA3KHM7O/YOvJu4GE51jnDK2lO864pl6Pz2QTe44lFU
         pJy5TcDRh76R6NbjG2uQHFvUsoy11b5Dj7fmy9ObnEZkkncWzIVvxwSmh0O38nWUkSai
         VAY2MNU6IC41wlcmMXSNCjjCtWZVMvtWaJpdATBigNC/bwVABj96fVqnyK61BNnCyPr9
         orWgGXpPnRbEDUadNEjfMhwON/dL8XoH7piekPtsQVmwDGCA3UZIu2ig6JYjjKHt+Xg2
         e2tSW1Ma0W1sj/eGFdYBK8GqInYm/XJBd522ENhBDcEgSFzJLIidHvOu///nxvn6Gr88
         H6aQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=wzwlhdywYWEPGtpx9zfHzkec3sfYzYlkjRX3MyCKCjY=;
        b=GRcKDgi4phFJOGQlv1Potzm6WFwLyPm7STSKUatLbsT2zA5/LGpz4UM86BrThDMz2k
         ZfJ5IM/c4yjcB/wO+TBpsfDg9aOmPnmbElSMimRVdCQYtYCw7C1kGmD0sTdZihEVgFp7
         t85RuMvELPWRBAvG61xCeYa5RqIsLqXSulC00poN3GWFzhPzJXH5PTgdnSpmYoC9DyNv
         UPSqRPv4HUzymW8u5NuagIMXJeiM+R6UTVzm6otxC3ts8KMKkycpAhLq9tEnpWIvYLFF
         gp5MkOgIRHuQLQ4xdQDvsOcpENMNyjb5x8tVSnTAV2MFQb0g17vy4bV5Ph52hxpe3vP9
         CUkw==
X-Gm-Message-State: AN3rC/64ngCFjOjITDsINx211ZxNibxF3/BS8P2+DAR3kqmPf94feXK0
	rlsLW6RCJ4IBEm6cmSDNoZxBZrwsXEt1
X-Received: by 10.25.168.5 with SMTP id r5mr3471430lfe.85.1493369217932; Fri,
 28 Apr 2017 01:46:57 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.25.19.213 with HTTP; Fri, 28 Apr 2017 01:46:37 -0700 (PDT)
From: Moshe Recanati <re.moshe@gmail.com>
Date: Fri, 28 Apr 2017 11:46:37 +0300
Message-ID: <CA+hKCHMVr3N-OpuErn2ZsyU2rVJiZ=7yfg_kA6czcpMNSy5N6Q@mail.gmail.com>
Subject: resequencer stream comparator camel
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a11401a14c0e561054e361d4d

--001a11401a14c0e561054e361d4d
Content-Type: text/plain; charset=UTF-8

Hi,
I came to know that resequencer, stream with custom comparator requires
that the compare results will have no gap.
Since items entered and calculated dynamically I don't understand how I can
make it happen. In most cases in the calculation will have gaps.
Any other option to sort and prioritize messages based on comparator
without such limitation?
Or any logic to apply that will make sure no gaps.

Thank you,


Regards,
Moshe

--001a11401a14c0e561054e361d4d--

From users-return-65472-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 28 09:09:38 2017
Return-Path: <users-return-65472-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 43F68197BB
	for <apmail-camel-users-archive@www.apache.org>; Fri, 28 Apr 2017 09:09:38 +0000 (UTC)
Received: (qmail 71762 invoked by uid 500); 28 Apr 2017 09:09:37 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 71715 invoked by uid 500); 28 Apr 2017 09:09:37 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Delivered-To: moderator for users@camel.apache.org
Received: (qmail 57024 invoked by uid 99); 28 Apr 2017 08:59:34 -0000
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Date: Fri, 28 Apr 2017 01:59:27 -0700 (MST)
From: "prasad.dl" <prasad.dls@gmail.com>
To: users@camel.apache.org
Message-ID: <1493369967878-5798479.post@n5.nabble.com>
Subject: ProducerTemplate thread waits indefinitely when messaging system
 (Tibco EMS) was down
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am using producerTemplate.asyncCallback(., ., .) method to publish messages
to Tibco EMS. While running my application, if EMS server down then so-many
producertemplate threads as waiting and my server is creating lot of
threads.

Please help me to resolve the issue 



--
View this message in context: http://camel.465427.n5.nabble.com/ProducerTemplate-thread-waits-indefinitely-when-messaging-system-Tibco-EMS-was-down-tp5798479.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65473-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 28 09:24:09 2017
Return-Path: <users-return-65473-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B51DB198FC
	for <apmail-camel-users-archive@www.apache.org>; Fri, 28 Apr 2017 09:24:09 +0000 (UTC)
Received: (qmail 20268 invoked by uid 500); 28 Apr 2017 09:24:04 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 20217 invoked by uid 500); 28 Apr 2017 09:24:04 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 20195 invoked by uid 99); 28 Apr 2017 09:24:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Apr 2017 09:24:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 80A631AF9DE
	for <users@camel.apache.org>; Fri, 28 Apr 2017 09:24:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.084
X-Spam-Level:
X-Spam-Status: No, score=-1.084 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-2.796,
	RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001, URI_HEX=1.313]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Rb91gbJSqWSK for <users@camel.apache.org>;
	Fri, 28 Apr 2017 09:24:01 +0000 (UTC)
Received: from mail-qk0-f172.google.com (mail-qk0-f172.google.com [209.85.220.172])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 300655FC1C
	for <users@camel.apache.org>; Fri, 28 Apr 2017 09:24:01 +0000 (UTC)
Received: by mail-qk0-f172.google.com with SMTP id f76so48040479qke.2
        for <users@camel.apache.org>; Fri, 28 Apr 2017 02:24:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=kePb8YbKfklaJD38gzNfhDjR804h4PlzUH+CYYerqwg=;
        b=q4lMX9uSyaEQHjEqTP/uFb4eavvw/Z1K/+ZeC0PRXglS9+Jx9BYf3YnBPmywhLn0Q7
         GdqxEHoQ7ss73dcXjdPdcD3UCI0BmT4U/Ddh36x1kMQ1Cx4DwZzaXw3+q5jZoudeaGME
         Ww1+bnOByNM4cWS3vJnYBEqPyMidLAheXAkAKfIUXGmnjVz+G0hA2SOL/79J9F8XZGJF
         xc166yOqJVW86m0cPlRAxzH+xj659niU5hjRXAUEGNt8lWFrPOPDYaQ6ykQJcG2ei9qu
         UQw3kIs+mDeZifO9v2fREbRCus8apuouAFC0Wzqt5UaSecz2iaKmk+z1hztfdAbiyXku
         2/Sw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=kePb8YbKfklaJD38gzNfhDjR804h4PlzUH+CYYerqwg=;
        b=QcCmRfQtGfHMbAu6IFaxp8uXogEw8wEuj/aSRoRfoZcFphhq6+JdpLWqJDmfX0xpY5
         eXLoJFnhlO7zS2+mbj32zQp2vjuA4HcAtr9QlL+hzDz8Ve/Aq76Ulx+HTnxWtkwAnZjr
         uCotLs1/W+xWtpUru9L0ZmT3FVgqnW0Q2h6zWyqg851pcLQEeej6hPTzLXmG2T2LW8Id
         vnVTha974LE19e1xKemxr8v9rrUpE8WkJ7hUi3fFrvylEr+CQ9V5tkX7dRMlUq6u+cUP
         q3RzXGeL2bAhCtw1MKDPRORSY+43OT6nN/kPTNJEI06PH0rJCHgEzxDHuoF7LTU3tPmi
         Kt3w==
X-Gm-Message-State: AN3rC/7noWgj51xBLWBZz6Fi6Zjg7BG4ZRNlrKQI5yLThVs933n5nALY
	PPhENuR25uvfR/yk6vaF0nqFJvrFe/u4
X-Received: by 10.55.113.134 with SMTP id m128mr8730532qkc.258.1493371434815;
 Fri, 28 Apr 2017 02:23:54 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.50.39 with HTTP; Fri, 28 Apr 2017 02:23:34 -0700 (PDT)
In-Reply-To: <1493369967878-5798479.post@n5.nabble.com>
References: <1493369967878-5798479.post@n5.nabble.com>
From: Claus Ibsen <claus.ibsen@gmail.com>
Date: Fri, 28 Apr 2017 11:23:34 +0200
Message-ID: <CAGB5yNkjLz1Pz2pFTaPrhYtzcAbpPNc2h=aRMJViQDpqkcJzCQ@mail.gmail.com>
Subject: Re: ProducerTemplate thread waits indefinitely when messaging system
 (Tibco EMS) was down
To: "users@camel.apache.org" <users@camel.apache.org>
Content-Type: text/plain; charset=UTF-8

You likely need to configure your jms client on tibco with some kind
of timeout or fail fast or something. Look the the Tibco JMS
documentation.

On Fri, Apr 28, 2017 at 10:59 AM, prasad.dl <prasad.dls@gmail.com> wrote:
> I am using producerTemplate.asyncCallback(., ., .) method to publish messages
> to Tibco EMS. While running my application, if EMS server down then so-many
> producertemplate threads as waiting and my server is creating lot of
> threads.
>
> Please help me to resolve the issue
>
>
>
> --
> View this message in context: http://camel.465427.n5.nabble.com/ProducerTemplate-thread-waits-indefinitely-when-messaging-system-Tibco-EMS-was-down-tp5798479.html
> Sent from the Camel - Users mailing list archive at Nabble.com.



-- 
Claus Ibsen
-----------------
http://davsclaus.com @davsclaus
Camel in Action 2: https://www.manning.com/ibsen2

From users-return-65474-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 28 14:08:32 2017
Return-Path: <users-return-65474-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DC21F1947F
	for <apmail-camel-users-archive@www.apache.org>; Fri, 28 Apr 2017 14:08:32 +0000 (UTC)
Received: (qmail 59144 invoked by uid 500); 28 Apr 2017 14:08:32 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 59093 invoked by uid 500); 28 Apr 2017 14:08:32 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 59081 invoked by uid 99); 28 Apr 2017 14:08:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Apr 2017 14:08:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A7E04C031B
	for <users@camel.apache.org>; Fri, 28 Apr 2017 14:08:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.379
X-Spam-Level: **
X-Spam-Status: No, score=2.379 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RCVD_IN_SORBS_SPAM=0.5, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 7pLd2Zp5jAyc for <users@camel.apache.org>;
	Fri, 28 Apr 2017 14:08:28 +0000 (UTC)
Received: from mail-lf0-f51.google.com (mail-lf0-f51.google.com [209.85.215.51])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 95F4E5FC1C
	for <users@camel.apache.org>; Fri, 28 Apr 2017 14:08:27 +0000 (UTC)
Received: by mail-lf0-f51.google.com with SMTP id 75so34536278lfs.2
        for <users@camel.apache.org>; Fri, 28 Apr 2017 07:08:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=iSqY2IlntFZ9wTZzYlLMzAInxj3VLN+StjSyICD7zFk=;
        b=tQwsQJCxs2S/gnTZ0rwygehOP9tf28N8kId6i0AOJHIap+wr+ezIP+vqDBnTsm2Kvy
         Idy8rRqs9i/FqPcYaBLS6pdS/4qWPL6r3XEpOxa/hvducNgOv80yz7VcVd4j0316k4hG
         GpCPddlhbLeiW6+Zb4jmF0gMqfV6DN2leDoqMH2+0kKXS2GxcEofJLmjLDgtNCeF4OiY
         n74aM8ZNqsxyeTGbtCGbwnGXMPirSYChvo9OLpWtfBmLYrj8VHXltp50ZLQG3v071VwJ
         kTaewsreNn7QBXCFfcob97pNEIUxoGMLcEv1bi5gyIySw6+H8CpIlZX8vIu7pDvmtrvr
         lGNg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=iSqY2IlntFZ9wTZzYlLMzAInxj3VLN+StjSyICD7zFk=;
        b=IlMjidssGoB03i4wDqoY8FpwrtLNZdhwy/mcjvy4Edorws+Evd6SxyZvm8iZTN3Voz
         yVVjI8JlJOv7MnB+rdy8kBvN6KqkX3YhCALZVsUuTF+r+EE/rCLGfkBVVEykgE8aRKs0
         fcNsOFXq6Fx0wq3EXJVg8ZKV5nxGOSoGzgga8BRf3ud2sFQdKGDE2erVsFFk66D4W1GJ
         OSnGt+XIrvM99WXQ/MIL9JBGJuwuLprNscIzBf+7UdE2Z2qLRWlg0E6w4220q2GOYtLb
         71au8KQ9pQD0A7ccnDuo7JWNkkP689iXB4PfJzgXYulWOVKGA8z+FOR91Z4vthY1zBxV
         fyxA==
X-Gm-Message-State: AN3rC/6f3ES4BswCznITtg0vQ5MTsUUbpibB/m8QX9cHKiQg/KiI3JpV
	TMsvFiftsh9Q9CdvOBoFDi9tvCUecA==
X-Received: by 10.46.83.28 with SMTP id h28mr4409901ljb.70.1493388506127; Fri,
 28 Apr 2017 07:08:26 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.25.19.213 with HTTP; Fri, 28 Apr 2017 07:08:05 -0700 (PDT)
In-Reply-To: <CA+hKCHMVr3N-OpuErn2ZsyU2rVJiZ=7yfg_kA6czcpMNSy5N6Q@mail.gmail.com>
References: <CA+hKCHMVr3N-OpuErn2ZsyU2rVJiZ=7yfg_kA6czcpMNSy5N6Q@mail.gmail.com>
From: Moshe Recanati <re.moshe@gmail.com>
Date: Fri, 28 Apr 2017 17:08:05 +0300
Message-ID: <CA+hKCHP0Kc4oVRsdoKS_qjtivo+Ddwnu9nKbeDR9OWR5uQv80g@mail.gmail.com>
Subject: Re: resequencer stream comparator camel
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=94eb2c1cf5d26b6390054e3a9b50

--94eb2c1cf5d26b6390054e3a9b50
Content-Type: text/plain; charset=UTF-8

Hi,
Issue resolved by using batch and calculate value once entering it to queue

On Fri, Apr 28, 2017 at 11:46 AM, Moshe Recanati <re.moshe@gmail.com> wrote:

> Hi,
> I came to know that resequencer, stream with custom comparator requires
> that the compare results will have no gap.
> Since items entered and calculated dynamically I don't understand how I
> can make it happen. In most cases in the calculation will have gaps.
> Any other option to sort and prioritize messages based on comparator
> without such limitation?
> Or any logic to apply that will make sure no gaps.
>
> Thank you,
>
>
> Regards,
> Moshe
>

--94eb2c1cf5d26b6390054e3a9b50--

From users-return-65475-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 28 14:49:00 2017
Return-Path: <users-return-65475-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D5BB9196AF
	for <apmail-camel-users-archive@www.apache.org>; Fri, 28 Apr 2017 14:49:00 +0000 (UTC)
Received: (qmail 85824 invoked by uid 500); 28 Apr 2017 14:49:00 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 85775 invoked by uid 500); 28 Apr 2017 14:49:00 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 85763 invoked by uid 99); 28 Apr 2017 14:49:00 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Apr 2017 14:49:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 98C7AD6E1E
	for <users@camel.apache.org>; Fri, 28 Apr 2017 14:48:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.129
X-Spam-Level: **
X-Spam-Status: No, score=2.129 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_ENVFROM_END_DIGIT=0.25, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id hL3rqNa3-RYF for <users@camel.apache.org>;
	Fri, 28 Apr 2017 14:48:58 +0000 (UTC)
Received: from mail-wm0-f48.google.com (mail-wm0-f48.google.com [74.125.82.48])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 0D8035FC16
	for <users@camel.apache.org>; Fri, 28 Apr 2017 14:48:58 +0000 (UTC)
Received: by mail-wm0-f48.google.com with SMTP id u65so44342082wmu.1
        for <users@camel.apache.org>; Fri, 28 Apr 2017 07:48:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=oU1wHs5xsXryY9LnluQsRoHTRrrah78BbcM+EHjlYOc=;
        b=LevhXgc8a5mNIhXhCcJWHwFR3unN+TMRKl4jHno/4TcqmIG3vBeSVjNyb+GMG59Aik
         FZN4m0uj7Xdc5lxVwirXJBkmoet/Hzmk1W75vtHiRtfMr/wDP7jydDddoPTLPCaCfGw8
         P8Im57I4vYiGA5MWENyuUhqzKXPFgRLMx1xZomD6ixIVsQxoEwSsxuEJEgGAJcblwN6O
         5w0o6O0k7M3ig1T2OWbbCRxGLo6MBRDS1REn8OwrjfW6YSWzZgGxkEuAR0xr2CDu81pP
         iHldFd4XKsM210DryKIov4FfiYcpxeKwE/lMq+ftSx+pJx9ARAojG4TuZNVvRO5dARlW
         oCJg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=oU1wHs5xsXryY9LnluQsRoHTRrrah78BbcM+EHjlYOc=;
        b=pDQeQN11pZQOGUNfMiNp5lwk7JorBRyJhiSAa6rgGUjETkIs88ZIAdaFRHEGtKhTRC
         WIoJqoKEd6FAUvWz3EiyucXjIW9esj494vns/DofKXs3jfIWQRLb6XSzJApr13qeHvff
         xpUdDSgWPQQJJmn3AEyiug0/TIACCpmwDs5v1848Y6FmrnRrFtSQFBMhzX441mh4M3Fl
         XsCtD8zU7atPkN0IZy2NxDWULm/8RX8zIUm2vFHbAI/QCFl/Dn4G5ljR+tNKvEU0LIhL
         1NOAjQojkZWWD7XJXq8kn+nRkzx6NuVF0D/DK+fn7ofbbopKov7FmZgbm2gU+mRi1d1W
         QZ+A==
X-Gm-Message-State: AN3rC/48KtZ6N2Hdsb5OYFO+Kp7IgIVWYyJVT+QeT1MLBiaD4lZo7fnk
	ir6Yup89rSO4Nk9hBRFzQPztwgftNdAU43w=
X-Received: by 10.28.98.66 with SMTP id w63mr5906011wmb.33.1493390937440; Fri,
 28 Apr 2017 07:48:57 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.66.82 with HTTP; Fri, 28 Apr 2017 07:48:56 -0700 (PDT)
From: David Hoffer <dhoffer6@gmail.com>
Date: Fri, 28 Apr 2017 08:48:56 -0600
Message-ID: <CAA8BW8H6wUvG1S=Me5o7T0OMX5djVE2S5Ahsv4SM0iuJ7V_xvQ@mail.gmail.com>
Subject: How to implement DataFormat
To: users@camel.apache.org
Content-Type: multipart/alternative; boundary=001a114a511c564cab054e3b2cea

--001a114a511c564cab054e3b2cea
Content-Type: text/plain; charset=UTF-8

We have several DataFormat implementations that handle a variety of
compression algorithms.  We use these as beans in routes to
marshal/unmarshal.  Here is an example unmarshal:

where zip is our Zip DataFormat implementation bean.

<when id="obsRouter-Zip">
    <simple>${file:name} regex 'obs-.*\.zip'</simple>
    <unmarshal ref="zip"/>
    <split>
        <simple>${header.CamelGroupedExchange}</simple>
        <!-- to dynamic router -->
        <bean ref="routeManager" method="route(*)"/>
    </split>
</when>


And here is a marshall example:

<aggregate strategyRef="codacAggregator" completionSize="1000"
completionInterval="5000">
    <correlationExpression>
        <constant>true</constant>
    </correlationExpression>
    <marshal ref="zip"/>
    <setHeader headerName="CamelFileName">
        <simple>${file:name}.zip</simple>
    </setHeader>
    <to uri="bean:ingestClient"/>
</aggregate>


My question is where is it documented how Camel will call the marshal and
unmarshal methods?  For example in the following marshal method what will
Camel set in the Exchange and Object parameters?

void marshal(Exchange exchange, Object graph, OutputStream stream)
throws Exception

E.g. there has to be some convention of where Camel put all the files that
are being combined into a single zip file.  Are the files in the Exchange's
Exchange.GROUPED_EXCHANGE property?  Or are they somehow retrieved via the
Exchange's getIn()?  I'm looking at some of our existing code and its
getting from both which seems wrong.  I'm trying to write some unit tests
for our code and I need to put the files in the same place that Camel will
put them at runtime but don't see any docs on how Camel handles this.

Then regarding unmarshal its a similar questions where does Camel want me
to put the un-zipped files?  As a Exchange.GROUPED_EXCHANGE Exchange
property that has a list of Messages (where each is a file)?  Same if just
one file?  What about the unmarshal Object return value, any need to set
that?  If so to what?

Could someone point me in the right direction?

-Dave

--001a114a511c564cab054e3b2cea--

From users-return-65476-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 28 21:03:35 2017
Return-Path: <users-return-65476-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 366C519CEF
	for <apmail-camel-users-archive@www.apache.org>; Fri, 28 Apr 2017 21:03:35 +0000 (UTC)
Received: (qmail 96482 invoked by uid 500); 28 Apr 2017 21:03:34 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 96423 invoked by uid 500); 28 Apr 2017 21:03:34 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 96410 invoked by uid 99); 28 Apr 2017 21:03:34 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Apr 2017 21:03:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id F1860CDAB0
	for <users@camel.apache.org>; Fri, 28 Apr 2017 21:03:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 3BgXwNl80xIS for <users@camel.apache.org>;
	Fri, 28 Apr 2017 21:03:32 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id A32395F297
	for <users@camel.apache.org>; Fri, 28 Apr 2017 21:03:31 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id 02A2F3D7907E8
	for <users@camel.apache.org>; Fri, 28 Apr 2017 14:03:24 -0700 (MST)
Date: Fri, 28 Apr 2017 14:03:24 -0700 (MST)
From: urwithsumit <sumit.kushwaha@gmail.com>
To: users@camel.apache.org
Message-ID: <1493413404001-5798493.post@n5.nabble.com>
In-Reply-To: <ce19c59c-148a-5c9d-781f-c810dfc1d36f@gmail.com>
References: <1493148220096-5798262.post@n5.nabble.com> <ce19c59c-148a-5c9d-781f-c810dfc1d36f@gmail.com>
Subject: Re: Camel HTTP: I/O exception (java.net.SocketException) caught
 when processing request: Too many open files
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks Tomo for sharing your thoughts.

I got the problem solved by switching from Camel-Http to Camel-Http4
component.
With Http4 i was able to set the headers for closing the connections and
also a timeout period.

In case of Http, the connections were not closing and that was accounting
towards large number of open files.


Regards
Sumit




--
View this message in context: http://camel.465427.n5.nabble.com/Camel-HTTP-I-O-exception-java-net-SocketException-caught-when-processing-request-Too-many-open-files-tp5798262p5798493.html
Sent from the Camel - Users mailing list archive at Nabble.com.

From users-return-65477-apmail-camel-users-archive=camel.apache.org@camel.apache.org  Fri Apr 28 21:33:54 2017
Return-Path: <users-return-65477-apmail-camel-users-archive=camel.apache.org@camel.apache.org>
X-Original-To: apmail-camel-users-archive@www.apache.org
Delivered-To: apmail-camel-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2233019DE2
	for <apmail-camel-users-archive@www.apache.org>; Fri, 28 Apr 2017 21:33:54 +0000 (UTC)
Received: (qmail 34227 invoked by uid 500); 28 Apr 2017 21:33:53 -0000
Delivered-To: apmail-camel-users-archive@camel.apache.org
Received: (qmail 34175 invoked by uid 500); 28 Apr 2017 21:33:53 -0000
Mailing-List: contact users-help@camel.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@camel.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@camel.apache.org>
List-Post: <mailto:users@camel.apache.org>
List-Id: <users.camel.apache.org>
Reply-To: users@camel.apache.org
Delivered-To: mailing list users@camel.apache.org
Received: (qmail 34164 invoked by uid 99); 28 Apr 2017 21:33:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Apr 2017 21:33:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1DA8C188F29
	for <users@camel.apache.org>; Fri, 28 Apr 2017 21:33:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.486
X-Spam-Level: ***
X-Spam-Status: No, score=3.486 tagged_above=-999 required=6.31
	tests=[DKIM_ADSP_CUSTOM_MED=0.001, NML_ADSP_CUSTOM_MED=1.2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_SOFTFAIL=0.972, URI_HEX=1.313]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 8_JQC43WD8A6 for <users@camel.apache.org>;
	Fri, 28 Apr 2017 21:33:52 +0000 (UTC)
Received: from mwork.nabble.com (mwork.nabble.com [162.253.133.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 18B915FBB9
	for <users@camel.apache.org>; Fri, 28 Apr 2017 21:33:52 +0000 (UTC)
Received: from static.162.255.23.22.macminivault.com (unknown [162.255.23.22])
	by mwork.nabble.com (Postfix) with ESMTP id E488B3D7A7F22
	for <users@camel.apache.org>; Fri, 28 Apr 2017 14:33:48 -0700 (MST)
Date: Fri, 28 Apr 2017 14:33:48 -0700 (MST)
From: deeps26 <gadamdeepika@gmail.com>
To: users@camel.apache.org
Message-ID: <1493415228926-5798495.post@n5.nabble.com>
In-Reply-To: <AANLkTindoOxMGoO6aS3Ic8J7yonsBRIM64GrgLyMFYST@mail.gmail.com>
References: <A245C7444B7AB9498CD7C046626985A42553456032@GRFMBX706BA020.griffon.local> <AANLkTindoOxMGoO6aS3Ic8J7yonsBRIM64GrgLyMFYST@mail.gmail.com>
Subject: Re: LoadBalancing to a dynamic list of endpoints
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hey do you have an example of a bean adding dynamic endpoints for load
balancer and 
send using a producer template. 



--
View this message in context: http://camel.465427.n5.nabble.com/LoadBalancing-to-a-dynamic-list-of-endpoints-tp1705611p5798495.html
Sent from the Camel - Users mailing list archive at Nabble.com.

